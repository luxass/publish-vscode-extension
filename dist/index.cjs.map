{"version":3,"file":"index.cjs","sources":["webpack://action-publish-vscode-extension/./node_modules/.pnpm/chalk@5.3.0/node_modules/chalk/source/vendor/supports-color/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/zod@3.23.8/node_modules/zod/lib/index.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/domelementtype@2.3.0/node_modules/domelementtype/lib/esm/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/entities@4.5.0/node_modules/entities/lib/esm/decode.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/entities@4.5.0/node_modules/entities/lib/esm/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/domutils@3.1.0/node_modules/domutils/lib/esm/helpers.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/cheerio@1.0.0/node_modules/cheerio/dist/esm/utils.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/parse5@7.1.2/node_modules/parse5/dist/common/unicode.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/parse5@7.1.2/node_modules/parse5/dist/common/error-codes.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/parse5@7.1.2/node_modules/parse5/dist/common/token.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/parse5@7.1.2/node_modules/parse5/dist/common/html.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/parse5@7.1.2/node_modules/parse5/dist/tokenizer/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/parse5@7.1.2/node_modules/parse5/dist/parser/formatting-element-list.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/parse5@7.1.2/node_modules/parse5/dist/parser/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/htmlparser2@9.1.0/node_modules/htmlparser2/lib/esm/Tokenizer.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/cheerio@1.0.0/node_modules/cheerio/dist/esm/parse.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/cheerio@1.0.0/node_modules/cheerio/dist/esm/load.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/encoding-sniffer@0.2.0/node_modules/encoding-sniffer/dist/esm/sniffer.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/encoding-sniffer@0.2.0/node_modules/encoding-sniffer/dist/esm/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/chalk@5.3.0/node_modules/chalk/source/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/entities@4.5.0/node_modules/entities/lib/esm/decode_codepoint.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/domutils@3.1.0/node_modules/domutils/lib/esm/querying.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/domutils@3.1.0/node_modules/domutils/lib/esm/stringify.js","webpack://action-publish-vscode-extension/./src/vsce/version-bump.ts","webpack://action-publish-vscode-extension/./node_modules/.pnpm/cheerio@1.0.0/node_modules/cheerio/dist/esm/options.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/domhandler@5.0.3/node_modules/domhandler/lib/esm/node.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/domhandler@5.0.3/node_modules/domhandler/lib/esm/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/entities@4.5.0/node_modules/entities/lib/esm/generated/decode-data-html.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/entities@4.5.0/node_modules/entities/lib/esm/generated/decode-data-xml.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/entities@4.5.0/node_modules/entities/lib/esm/escape.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/dom-serializer@2.0.0/node_modules/dom-serializer/lib/esm/foreignNames.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/dom-serializer@2.0.0/node_modules/dom-serializer/lib/esm/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/domutils@3.1.0/node_modules/domutils/lib/esm/traversal.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/domutils@3.1.0/node_modules/domutils/lib/esm/manipulation.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/domutils@3.1.0/node_modules/domutils/lib/esm/legacy.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/domutils@3.1.0/node_modules/domutils/lib/esm/feeds.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/cheerio@1.0.0/node_modules/cheerio/dist/esm/static.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/cheerio@1.0.0/node_modules/cheerio/dist/esm/api/attributes.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/css-select@5.1.0/node_modules/css-select/lib/esm/sort.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/css-select@5.1.0/node_modules/css-select/lib/esm/attributes.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/nth-check@2.1.1/node_modules/nth-check/lib/esm/parse.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/nth-check@2.1.1/node_modules/nth-check/lib/esm/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/nth-check@2.1.1/node_modules/nth-check/lib/esm/compile.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/css-select@5.1.0/node_modules/css-select/lib/esm/pseudo-selectors/filters.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/css-select@5.1.0/node_modules/css-select/lib/esm/pseudo-selectors/pseudos.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/css-select@5.1.0/node_modules/css-select/lib/esm/pseudo-selectors/aliases.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/css-select@5.1.0/node_modules/css-select/lib/esm/pseudo-selectors/subselects.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/css-select@5.1.0/node_modules/css-select/lib/esm/general.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/css-select@5.1.0/node_modules/css-select/lib/esm/compile.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/css-select@5.1.0/node_modules/css-select/lib/esm/pseudo-selectors/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/css-select@5.1.0/node_modules/css-select/lib/esm/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/cheerio-select@2.1.0/node_modules/cheerio-select/lib/esm/positionals.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/cheerio-select@2.1.0/node_modules/cheerio-select/lib/esm/helpers.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/cheerio-select@2.1.0/node_modules/cheerio-select/lib/esm/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/cheerio@1.0.0/node_modules/cheerio/dist/esm/api/traversing.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/cheerio@1.0.0/node_modules/cheerio/dist/esm/api/manipulation.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/cheerio@1.0.0/node_modules/cheerio/dist/esm/api/css.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/cheerio@1.0.0/node_modules/cheerio/dist/esm/api/forms.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/cheerio@1.0.0/node_modules/cheerio/dist/esm/api/extract.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/cheerio@1.0.0/node_modules/cheerio/dist/esm/cheerio.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/parse5@7.1.2/node_modules/parse5/dist/tokenizer/preprocessor.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/parse5@7.1.2/node_modules/parse5/dist/parser/open-element-stack.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/parse5@7.1.2/node_modules/parse5/dist/tree-adapters/default.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/parse5@7.1.2/node_modules/parse5/dist/common/doctype.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/parse5@7.1.2/node_modules/parse5/dist/common/foreign-content.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/parse5@7.1.2/node_modules/parse5/dist/serializer/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/parse5-htmlparser2-tree-adapter@7.0.0/node_modules/parse5-htmlparser2-tree-adapter/dist/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/cheerio@1.0.0/node_modules/cheerio/dist/esm/parsers/parse5-adapter.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/htmlparser2@9.1.0/node_modules/htmlparser2/lib/esm/Parser.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/cheerio@1.0.0/node_modules/cheerio/dist/esm/load-parse.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/parse5@7.1.2/node_modules/parse5/dist/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/htmlparser2@9.1.0/node_modules/htmlparser2/lib/esm/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/mdurl@2.0.0/node_modules/mdurl/lib/decode.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/mdurl@2.0.0/node_modules/mdurl/lib/encode.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/mdurl@2.0.0/node_modules/mdurl/lib/format.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/mdurl@2.0.0/node_modules/mdurl/lib/parse.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/uc.micro@2.1.0/node_modules/uc.micro/categories/P/regex.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/uc.micro@2.1.0/node_modules/uc.micro/categories/S/regex.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/uc.micro@2.1.0/node_modules/uc.micro/properties/Any/regex.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/uc.micro@2.1.0/node_modules/uc.micro/categories/Cc/regex.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/uc.micro@2.1.0/node_modules/uc.micro/categories/Cf/regex.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/uc.micro@2.1.0/node_modules/uc.micro/categories/Z/regex.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/common/utils.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/helpers/parse_link_label.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/helpers/parse_link_destination.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/helpers/parse_link_title.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/renderer.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/ruler.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/token.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_core/state_core.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_core/normalize.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_core/replacements.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_core/smartquotes.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/parser_core.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_core/block.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_core/inline.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_core/linkify.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_core/text_join.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_block/state_block.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_block/table.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_block/list.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/common/html_re.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_block/html_block.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/parser_block.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_block/code.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_block/fence.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_block/blockquote.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_block/hr.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_block/reference.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_block/heading.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_block/lheading.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_block/paragraph.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_inline/state_inline.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_inline/linkify.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_inline/escape.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_inline/strikethrough.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_inline/emphasis.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_inline/autolink.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_inline/entity.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_inline/balance_pairs.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/parser_inline.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_inline/text.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_inline/newline.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_inline/backticks.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_inline/link.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_inline/image.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_inline/html_inline.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/rules_inline/fragments_join.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/linkify-it@5.0.0/node_modules/linkify-it/index.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/linkify-it@5.0.0/node_modules/linkify-it/lib/re.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/index.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/presets/default.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/presets/zero.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/markdown-it@14.1.0/node_modules/markdown-it/lib/presets/commonmark.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/pathe@1.1.2/node_modules/pathe/dist/shared/pathe.ff20891b.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/chalk@5.3.0/node_modules/chalk/source/vendor/ansi-styles/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/chalk@5.3.0/node_modules/chalk/source/utilities.js","webpack://action-publish-vscode-extension/./src/vsce/util.ts","webpack://action-publish-vscode-extension/./src/vsce/package.ts","webpack://action-publish-vscode-extension/./src/vsix.ts","webpack://action-publish-vscode-extension/./src/index.ts","webpack://action-publish-vscode-extension/../actions-kit/dist/index.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@actions+core@1.11.1/node_modules/@actions/core/lib/command.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@actions+core@1.11.1/node_modules/@actions/core/lib/core.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@actions+core@1.11.1/node_modules/@actions/core/lib/file-command.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@actions+core@1.11.1/node_modules/@actions/core/lib/oidc-utils.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@actions+core@1.11.1/node_modules/@actions/core/lib/path-utils.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@actions+core@1.11.1/node_modules/@actions/core/lib/platform.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@actions+core@1.11.1/node_modules/@actions/core/lib/summary.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@actions+core@1.11.1/node_modules/@actions/core/lib/utils.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@actions+exec@1.1.1/node_modules/@actions/exec/lib/exec.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@actions+exec@1.1.1/node_modules/@actions/exec/lib/toolrunner.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@actions+http-client@2.1.0/node_modules/@actions/http-client/lib/auth.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@actions+http-client@2.1.0/node_modules/@actions/http-client/lib/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@actions+http-client@2.1.0/node_modules/@actions/http-client/lib/proxy.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@actions+io@1.1.3/node_modules/@actions/io/lib/io-util.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@actions+io@1.1.3/node_modules/@actions/io/lib/io.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+logger@1.1.2/node_modules/@azure/logger/dist/esm/debug.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+logger@1.1.2/node_modules/@azure/logger/dist/esm/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-client@1.9.2/node_modules/@azure/core-client/dist/esm/httpClientCache.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/msal/nodeFlows/msalPlugins.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/visualStudioCodeCredential.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/constants.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/logger/Logger.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/regionalAuthority.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-util@1.9.0/node_modules/@azure/core-util/dist/esm/uuidUtils.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-util@1.9.0/node_modules/@azure/core-util/dist/esm/checkEnvironment.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+logger@1.1.2/node_modules/@azure/logger/dist/esm/log.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/util/logging.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/util/tenantIdUtils.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/errors.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/util/processMultiTenantRequest.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/pipeline.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/log.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+abort-controller@2.1.2/node_modules/@azure/abort-controller/dist/esm/AbortError.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-util@1.9.0/node_modules/@azure/core-util/dist/esm/object.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-util@1.9.0/node_modules/@azure/core-util/dist/esm/error.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-util@1.9.0/node_modules/@azure/core-util/dist/esm/bytesEncoding.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/util/sanitizer.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/policies/redirectPolicy.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/constants.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/util/userAgent.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/util/userAgentPlatform.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/policies/userAgentPolicy.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/tslib@2.6.2/node_modules/tslib/tslib.es6.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/util/typeGuards.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/util/file.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/util/concat.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/policies/multipartPolicy.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/util/helpers.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/retryStrategies/throttlingRetryStrategy.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/policies/retryPolicy.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/httpHeaders.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/policies/formDataPolicy.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/policies/proxyPolicy.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-tracing@1.1.2/node_modules/@azure/core-tracing/dist/esm/tracingContext.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-tracing@1.1.2/node_modules/@azure/core-tracing/dist/esm/state.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-tracing@1.1.2/node_modules/@azure/core-tracing/dist/esm/instrumenter.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-tracing@1.1.2/node_modules/@azure/core-tracing/dist/esm/tracingClient.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/util/inspect.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/restError.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/nodeHttpClient.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/pipelineRequest.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/util/tokenCycler.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/policies/bearerTokenAuthenticationPolicy.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-client@1.9.2/node_modules/@azure/core-client/dist/esm/serializer.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-client@1.9.2/node_modules/@azure/core-client/dist/esm/state.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-client@1.9.2/node_modules/@azure/core-client/dist/esm/operationHelpers.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-client@1.9.2/node_modules/@azure/core-client/dist/esm/deserializationPolicy.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-client@1.9.2/node_modules/@azure/core-client/dist/esm/interfaceHelpers.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-client@1.9.2/node_modules/@azure/core-client/dist/esm/utils.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-client@1.9.2/node_modules/@azure/core-client/dist/esm/urlHelpers.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-client@1.9.2/node_modules/@azure/core-client/dist/esm/log.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-client@1.9.2/node_modules/@azure/core-client/dist/esm/serviceClient.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-client@1.9.2/node_modules/@azure/core-client/dist/esm/pipeline.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/createPipelineFromOptions.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/policies/tlsPolicy.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/policies/decompressResponsePolicy.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/policies/setClientRequestIdPolicy.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/policies/defaultRetryPolicy.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/retryStrategies/exponentialRetryStrategy.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-util@1.9.0/node_modules/@azure/core-util/dist/esm/random.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/policies/tracingPolicy.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-rest-pipeline@1.16.0/node_modules/@azure/core-rest-pipeline/dist/esm/policies/logPolicy.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-client@1.9.2/node_modules/@azure/core-client/dist/esm/serializationPolicy.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-client@1.9.2/node_modules/@azure/core-client/dist/esm/interfaces.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+abort-controller@1.1.0/node_modules/@azure/abort-controller/dist-esm/src/AbortSignal.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+abort-controller@1.1.0/node_modules/@azure/abort-controller/dist-esm/src/AbortController.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/util/tracing.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/managedIdentityCredential/constants.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/managedIdentityCredential/utils.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/client/identityClient.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/util/identityTokenEndpoint.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/plugins/consumer.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/utils/Constants.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/utils/Constants.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/error/AuthErrorCodes.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/error/AuthError.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/error/ServerError.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/authority/AuthorityType.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/error/ClientConfigurationErrorCodes.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/error/ClientConfigurationError.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/utils/StringUtils.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/utils/UrlUtils.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/url/UrlString.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/authority/AuthorityMetadata.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/authority/ProtocolMode.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/authority/AuthorityOptions.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/authority/RegionDiscovery.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/account/AuthToken.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/utils/TimeUtils.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/cache/utils/CacheHelpers.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/authority/Authority.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/authority/OpenIdConfigResponse.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/authority/CloudInstanceDiscoveryResponse.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/authority/CloudInstanceDiscoveryErrorResponse.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/crypto/ICrypto.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/packageMetadata.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/request/ScopeSet.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/account/ClientInfo.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/account/AccountInfo.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/account/TokenClaims.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/cache/entities/AccountEntity.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/error/CacheErrorCodes.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/error/CacheError.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/cache/CacheManager.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/config/ClientConfiguration.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/network/ThrottlingUtils.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/network/NetworkManager.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/account/CcsCredential.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/constants/AADServerParamKeys.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/request/RequestValidator.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/request/RequestParameterBuilder.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/authority/AuthorityFactory.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/client/BaseClient.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/error/InteractionRequiredAuthErrorCodes.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/error/InteractionRequiredAuthError.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/cache/entities/CacheRecord.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/utils/ProtocolUtils.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/crypto/PopTokenGenerator.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/cache/persistence/TokenCacheContext.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/response/ResponseHandler.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/utils/ClientAssertionUtils.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/client/AuthorizationCodeClient.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/client/RefreshTokenClient.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/client/SilentFlowClient.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-common@14.10.0/node_modules/@azure/msal-common/dist/telemetry/server/ServerTelemetryManager.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/utils/NetworkUtils.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/network/HttpClient.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/error/ManagedIdentityErrorCodes.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/error/ManagedIdentityError.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/config/Configuration.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-node/rng.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-node/regex.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-node/stringify.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-node/validate.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-node/v4.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/crypto/GuidGenerator.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/utils/EncodingUtils.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/crypto/HashUtils.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/crypto/PkceGenerator.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/crypto/CryptoProvider.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/cache/serializer/Deserializer.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/cache/serializer/Serializer.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/cache/NodeStorage.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/cache/TokenCache.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/client/ClientAssertion.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/packageMetadata.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/error/NodeAuthError.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/client/UsernamePasswordClient.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/client/ClientApplication.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/network/LoopbackClient.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/client/DeviceCodeClient.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/client/PublicClientApplication.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/client/ClientCredentialClient.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/client/OnBehalfOfClient.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/client/ConfidentialClientApplication.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+msal-node@2.8.0/node_modules/@azure/msal-node/dist/client/ManagedIdentitySources/BaseManagedIdentitySource.mjs","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/managedIdentityCredential/appServiceMsi2017.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/managedIdentityCredential/appServiceMsi2019.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/managedIdentityCredential/arcMsi.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/managedIdentityCredential/cloudShellMsi.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/managedIdentityCredential/fabricMsi.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/msal/utils.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/managedIdentityCredential/imdsMsi.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-util@1.9.0/node_modules/@azure/core-util/dist/esm/delay.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+core-util@1.9.0/node_modules/@azure/core-util/dist/esm/createAbortablePromise.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/msal/nodeFlows/msalClient.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/clientAssertionCredential.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/workloadIdentityCredential.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/managedIdentityCredential/tokenExchangeMsi.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/managedIdentityCredential/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/util/scopeUtils.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/azureCliCredential.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/azureDeveloperCliCredential.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/util/processUtils.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/azurePowerShellCredential.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/chainedTokenCredential.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/clientCertificateCredential.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/clientSecretCredential.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/msal/nodeFlows/msalNodeCommon.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/msal/nodeFlows/msalUsernamePassword.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/usernamePasswordCredential.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/environmentCredential.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/defaultAzureCredential.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/msal/nodeFlows/msalOpenBrowser.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/interactiveBrowserCredential.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/msal/nodeFlows/msalDeviceCode.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/deviceCodeCredential.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/msal/nodeFlows/msalAuthorizationCode.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/authorizationCodeCredential.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/msal/nodeFlows/msalClientCertificate.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/msal/nodeFlows/msalOnBehalfOf.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/credentials/onBehalfOfCredential.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/tokenProvider.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@azure+identity@4.2.0/node_modules/@azure/identity/dist-esm/src/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@gwhitney+detect-indent@7.0.1/node_modules/@gwhitney/detect-indent/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+catalogs.config@0.1.1/node_modules/@pnpm/catalogs.config/lib/getCatalogsFromWorkspaceManifest.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+catalogs.config@0.1.1/node_modules/@pnpm/catalogs.config/lib/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+catalogs.protocol-parser@0.1.0/node_modules/@pnpm/catalogs.protocol-parser/lib/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+catalogs.protocol-parser@0.1.0/node_modules/@pnpm/catalogs.protocol-parser/lib/parseCatalogProtocol.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+catalogs.resolver@0.1.1/node_modules/@pnpm/catalogs.resolver/lib/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+catalogs.resolver@0.1.1/node_modules/@pnpm/catalogs.resolver/lib/matchCatalogResolveResult.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+catalogs.resolver@0.1.1/node_modules/@pnpm/catalogs.resolver/lib/resolveFromCatalog.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+cli-meta@6.2.2/node_modules/@pnpm/cli-meta/lib/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+cli-utils@4.0.6_@pnpm+logger@5.2.0/node_modules/@pnpm/cli-utils/lib/getConfig.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+cli-utils@4.0.6_@pnpm+logger@5.2.0/node_modules/@pnpm/cli-utils/lib/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+cli-utils@4.0.6_@pnpm+logger@5.2.0/node_modules/@pnpm/cli-utils/lib/packageIsInstallable.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+cli-utils@4.0.6_@pnpm+logger@5.2.0/node_modules/@pnpm/cli-utils/lib/readDepNameCompletions.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+cli-utils@4.0.6_@pnpm+logger@5.2.0/node_modules/@pnpm/cli-utils/lib/readProjectManifest.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+cli-utils@4.0.6_@pnpm+logger@5.2.0/node_modules/@pnpm/cli-utils/lib/recursiveSummary.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+cli-utils@4.0.6_@pnpm+logger@5.2.0/node_modules/@pnpm/cli-utils/lib/style.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+config.env-replace@1.1.0/node_modules/@pnpm/config.env-replace/dist/env-replace.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+config.env-replace@1.1.0/node_modules/@pnpm/config.env-replace/dist/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+config.env-replace@3.0.0/node_modules/@pnpm/config.env-replace/dist/env-replace.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+config.env-replace@3.0.0/node_modules/@pnpm/config.env-replace/dist/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+config@21.8.4_@pnpm+logger@5.2.0/node_modules/@pnpm/config/lib/auth.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+config@21.8.4_@pnpm+logger@5.2.0/node_modules/@pnpm/config/lib/checkGlobalBinDir.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+config@21.8.4_@pnpm+logger@5.2.0/node_modules/@pnpm/config/lib/concurrency.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+config@21.8.4_@pnpm+logger@5.2.0/node_modules/@pnpm/config/lib/dirs.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+config@21.8.4_@pnpm+logger@5.2.0/node_modules/@pnpm/config/lib/getNetworkConfigs.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+config@21.8.4_@pnpm+logger@5.2.0/node_modules/@pnpm/config/lib/getOptionsFromRootManifest.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+config@21.8.4_@pnpm+logger@5.2.0/node_modules/@pnpm/config/lib/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+config@21.8.4_@pnpm+logger@5.2.0/node_modules/@pnpm/config/lib/inheritPickedConfig.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+config@21.8.4_@pnpm+logger@5.2.0/node_modules/@pnpm/config/lib/readLocalConfig.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+config@21.8.4_@pnpm+logger@5.2.0/node_modules/@pnpm/config/lib/types.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+constants@9.0.0/node_modules/@pnpm/constants/lib/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+core-loggers@10.0.7_@pnpm+logger@5.2.0/node_modules/@pnpm/core-loggers/lib/all.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+core-loggers@10.0.7_@pnpm+logger@5.2.0/node_modules/@pnpm/core-loggers/lib/contextLogger.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+core-loggers@10.0.7_@pnpm+logger@5.2.0/node_modules/@pnpm/core-loggers/lib/deprecationLogger.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+core-loggers@10.0.7_@pnpm+logger@5.2.0/node_modules/@pnpm/core-loggers/lib/executionTimeLogger.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+core-loggers@10.0.7_@pnpm+logger@5.2.0/node_modules/@pnpm/core-loggers/lib/fetchingProgressLogger.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+core-loggers@10.0.7_@pnpm+logger@5.2.0/node_modules/@pnpm/core-loggers/lib/hookLogger.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+core-loggers@10.0.7_@pnpm+logger@5.2.0/node_modules/@pnpm/core-loggers/lib/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+core-loggers@10.0.7_@pnpm+logger@5.2.0/node_modules/@pnpm/core-loggers/lib/installCheckLogger.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+core-loggers@10.0.7_@pnpm+logger@5.2.0/node_modules/@pnpm/core-loggers/lib/lifecycleLogger.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+core-loggers@10.0.7_@pnpm+logger@5.2.0/node_modules/@pnpm/core-loggers/lib/linkLogger.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+core-loggers@10.0.7_@pnpm+logger@5.2.0/node_modules/@pnpm/core-loggers/lib/packageImportMethodLogger.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+core-loggers@10.0.7_@pnpm+logger@5.2.0/node_modules/@pnpm/core-loggers/lib/packageManifestLogger.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+core-loggers@10.0.7_@pnpm+logger@5.2.0/node_modules/@pnpm/core-loggers/lib/peerDependencyIssues.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+core-loggers@10.0.7_@pnpm+logger@5.2.0/node_modules/@pnpm/core-loggers/lib/progressLogger.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+core-loggers@10.0.7_@pnpm+logger@5.2.0/node_modules/@pnpm/core-loggers/lib/registryLogger.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+core-loggers@10.0.7_@pnpm+logger@5.2.0/node_modules/@pnpm/core-loggers/lib/removalLogger.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+core-loggers@10.0.7_@pnpm+logger@5.2.0/node_modules/@pnpm/core-loggers/lib/requestRetryLogger.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+core-loggers@10.0.7_@pnpm+logger@5.2.0/node_modules/@pnpm/core-loggers/lib/rootLogger.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+core-loggers@10.0.7_@pnpm+logger@5.2.0/node_modules/@pnpm/core-loggers/lib/scopeLogger.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+core-loggers@10.0.7_@pnpm+logger@5.2.0/node_modules/@pnpm/core-loggers/lib/skippedOptionalDependencyLogger.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+core-loggers@10.0.7_@pnpm+logger@5.2.0/node_modules/@pnpm/core-loggers/lib/stageLogger.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+core-loggers@10.0.7_@pnpm+logger@5.2.0/node_modules/@pnpm/core-loggers/lib/statsLogger.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+core-loggers@10.0.7_@pnpm+logger@5.2.0/node_modules/@pnpm/core-loggers/lib/summaryLogger.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+core-loggers@10.0.7_@pnpm+logger@5.2.0/node_modules/@pnpm/core-loggers/lib/updateCheckLogger.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+crypto.base32-hash@3.0.0/node_modules/@pnpm/crypto.base32-hash/lib/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+dedupe.issues-renderer@2.0.0/node_modules/@pnpm/dedupe.issues-renderer/lib/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+default-reporter@14.0.3_@pnpm+logger@5.2.0/node_modules/@pnpm/default-reporter/lib/constants.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+default-reporter@14.0.3_@pnpm+logger@5.2.0/node_modules/@pnpm/default-reporter/lib/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+default-reporter@14.0.3_@pnpm+logger@5.2.0/node_modules/@pnpm/default-reporter/lib/mergeOutputs.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+default-reporter@14.0.3_@pnpm+logger@5.2.0/node_modules/@pnpm/default-reporter/lib/reportError.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+default-reporter@14.0.3_@pnpm+logger@5.2.0/node_modules/@pnpm/default-reporter/lib/reporterForClient/index.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+default-reporter@14.0.3_@pnpm+logger@5.2.0/node_modules/@pnpm/default-reporter/lib/reporterForClient/outputConstants.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+default-reporter@14.0.3_@pnpm+logger@5.2.0/node_modules/@pnpm/default-reporter/lib/reporterForClient/pkgsDiff.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+default-reporter@14.0.3_@pnpm+logger@5.2.0/node_modules/@pnpm/default-reporter/lib/reporterForClient/reportBigTarballsProgress.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+default-reporter@14.0.3_@pnpm+logger@5.2.0/node_modules/@pnpm/default-reporter/lib/reporterForClient/reportContext.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+default-reporter@14.0.3_@pnpm+logger@5.2.0/node_modules/@pnpm/default-reporter/lib/reporterForClient/reportDeprecations.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+default-reporter@14.0.3_@pnpm+logger@5.2.0/node_modules/@pnpm/default-reporter/lib/reporterForClient/reportExecutionTime.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+default-reporter@14.0.3_@pnpm+logger@5.2.0/node_modules/@pnpm/default-reporter/lib/reporterForClient/reportHooks.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+default-reporter@14.0.3_@pnpm+logger@5.2.0/node_modules/@pnpm/default-reporter/lib/reporterForClient/reportInstallChecks.js","webpack://action-publish-vscode-extension/./node_modules/.pnpm/@pnpm+default-reporter@14.0.3_@pnpm+logger@5.2.0/node_modules/@pnpm/default-reporter/lib/reporterForClient/reportLifecycleScripts.js"],"sourcesContent":["import process from 'node:process';\nimport os from 'node:os';\nimport tty from 'node:tty';\n\n// From: https://github.com/sindresorhus/has-flag/blob/main/index.js\n/// function hasFlag(flag, argv = globalThis.Deno?.args ?? process.argv) {\nfunction hasFlag(flag, argv = globalThis.Deno ? globalThis.Deno.args : process.argv) {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n}\n\nconst {env} = process;\n\nlet flagForceColor;\nif (\n\thasFlag('no-color')\n\t|| hasFlag('no-colors')\n\t|| hasFlag('color=false')\n\t|| hasFlag('color=never')\n) {\n\tflagForceColor = 0;\n} else if (\n\thasFlag('color')\n\t|| hasFlag('colors')\n\t|| hasFlag('color=true')\n\t|| hasFlag('color=always')\n) {\n\tflagForceColor = 1;\n}\n\nfunction envForceColor() {\n\tif ('FORCE_COLOR' in env) {\n\t\tif (env.FORCE_COLOR === 'true') {\n\t\t\treturn 1;\n\t\t}\n\n\t\tif (env.FORCE_COLOR === 'false') {\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn env.FORCE_COLOR.length === 0 ? 1 : Math.min(Number.parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3,\n\t};\n}\n\nfunction _supportsColor(haveStream, {streamIsTTY, sniffFlags = true} = {}) {\n\tconst noFlagForceColor = envForceColor();\n\tif (noFlagForceColor !== undefined) {\n\t\tflagForceColor = noFlagForceColor;\n\t}\n\n\tconst forceColor = sniffFlags ? flagForceColor : noFlagForceColor;\n\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (sniffFlags) {\n\t\tif (hasFlag('color=16m')\n\t\t\t|| hasFlag('color=full')\n\t\t\t|| hasFlag('color=truecolor')) {\n\t\t\treturn 3;\n\t\t}\n\n\t\tif (hasFlag('color=256')) {\n\t\t\treturn 2;\n\t\t}\n\t}\n\n\t// Check for Azure DevOps pipelines.\n\t// Has to be above the `!streamIsTTY` check.\n\tif ('TF_BUILD' in env && 'AGENT_NAME' in env) {\n\t\treturn 1;\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10\n\t\t\t&& Number(osRelease[2]) >= 10_586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14_931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif ('GITHUB_ACTIONS' in env || 'GITEA_ACTIONS' in env) {\n\t\t\treturn 3;\n\t\t}\n\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'BUILDKITE', 'DRONE'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif (env.TERM === 'xterm-kitty') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = Number.parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app': {\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\t}\n\n\t\t\tcase 'Apple_Terminal': {\n\t\t\t\treturn 2;\n\t\t\t}\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nexport function createSupportsColor(stream, options = {}) {\n\tconst level = _supportsColor(stream, {\n\t\tstreamIsTTY: stream && stream.isTTY,\n\t\t...options,\n\t});\n\n\treturn translateLevel(level);\n}\n\nconst supportsColor = {\n\tstdout: createSupportsColor({isTTY: tty.isatty(1)}),\n\tstderr: createSupportsColor({isTTY: tty.isatty(2)}),\n};\n\nexport default supportsColor;\n","var util;\n(function (util) {\n    util.assertEqual = (val) => val;\n    function assertIs(_arg) { }\n    util.assertIs = assertIs;\n    function assertNever(_x) {\n        throw new Error();\n    }\n    util.assertNever = assertNever;\n    util.arrayToEnum = (items) => {\n        const obj = {};\n        for (const item of items) {\n            obj[item] = item;\n        }\n        return obj;\n    };\n    util.getValidEnumValues = (obj) => {\n        const validKeys = util.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== \"number\");\n        const filtered = {};\n        for (const k of validKeys) {\n            filtered[k] = obj[k];\n        }\n        return util.objectValues(filtered);\n    };\n    util.objectValues = (obj) => {\n        return util.objectKeys(obj).map(function (e) {\n            return obj[e];\n        });\n    };\n    util.objectKeys = typeof Object.keys === \"function\" // eslint-disable-line ban/ban\n        ? (obj) => Object.keys(obj) // eslint-disable-line ban/ban\n        : (object) => {\n            const keys = [];\n            for (const key in object) {\n                if (Object.prototype.hasOwnProperty.call(object, key)) {\n                    keys.push(key);\n                }\n            }\n            return keys;\n        };\n    util.find = (arr, checker) => {\n        for (const item of arr) {\n            if (checker(item))\n                return item;\n        }\n        return undefined;\n    };\n    util.isInteger = typeof Number.isInteger === \"function\"\n        ? (val) => Number.isInteger(val) // eslint-disable-line ban/ban\n        : (val) => typeof val === \"number\" && isFinite(val) && Math.floor(val) === val;\n    function joinValues(array, separator = \" | \") {\n        return array\n            .map((val) => (typeof val === \"string\" ? `'${val}'` : val))\n            .join(separator);\n    }\n    util.joinValues = joinValues;\n    util.jsonStringifyReplacer = (_, value) => {\n        if (typeof value === \"bigint\") {\n            return value.toString();\n        }\n        return value;\n    };\n})(util || (util = {}));\nvar objectUtil;\n(function (objectUtil) {\n    objectUtil.mergeShapes = (first, second) => {\n        return {\n            ...first,\n            ...second, // second overwrites first\n        };\n    };\n})(objectUtil || (objectUtil = {}));\nconst ZodParsedType = util.arrayToEnum([\n    \"string\",\n    \"nan\",\n    \"number\",\n    \"integer\",\n    \"float\",\n    \"boolean\",\n    \"date\",\n    \"bigint\",\n    \"symbol\",\n    \"function\",\n    \"undefined\",\n    \"null\",\n    \"array\",\n    \"object\",\n    \"unknown\",\n    \"promise\",\n    \"void\",\n    \"never\",\n    \"map\",\n    \"set\",\n]);\nconst getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return ZodParsedType.undefined;\n        case \"string\":\n            return ZodParsedType.string;\n        case \"number\":\n            return isNaN(data) ? ZodParsedType.nan : ZodParsedType.number;\n        case \"boolean\":\n            return ZodParsedType.boolean;\n        case \"function\":\n            return ZodParsedType.function;\n        case \"bigint\":\n            return ZodParsedType.bigint;\n        case \"symbol\":\n            return ZodParsedType.symbol;\n        case \"object\":\n            if (Array.isArray(data)) {\n                return ZodParsedType.array;\n            }\n            if (data === null) {\n                return ZodParsedType.null;\n            }\n            if (data.then &&\n                typeof data.then === \"function\" &&\n                data.catch &&\n                typeof data.catch === \"function\") {\n                return ZodParsedType.promise;\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return ZodParsedType.map;\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return ZodParsedType.set;\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return ZodParsedType.date;\n            }\n            return ZodParsedType.object;\n        default:\n            return ZodParsedType.unknown;\n    }\n};\n\nconst ZodIssueCode = util.arrayToEnum([\n    \"invalid_type\",\n    \"invalid_literal\",\n    \"custom\",\n    \"invalid_union\",\n    \"invalid_union_discriminator\",\n    \"invalid_enum_value\",\n    \"unrecognized_keys\",\n    \"invalid_arguments\",\n    \"invalid_return_type\",\n    \"invalid_date\",\n    \"invalid_string\",\n    \"too_small\",\n    \"too_big\",\n    \"invalid_intersection_types\",\n    \"not_multiple_of\",\n    \"not_finite\",\n]);\nconst quotelessJson = (obj) => {\n    const json = JSON.stringify(obj, null, 2);\n    return json.replace(/\"([^\"]+)\":/g, \"$1:\");\n};\nclass ZodError extends Error {\n    constructor(issues) {\n        super();\n        this.issues = [];\n        this.addIssue = (sub) => {\n            this.issues = [...this.issues, sub];\n        };\n        this.addIssues = (subs = []) => {\n            this.issues = [...this.issues, ...subs];\n        };\n        const actualProto = new.target.prototype;\n        if (Object.setPrototypeOf) {\n            // eslint-disable-next-line ban/ban\n            Object.setPrototypeOf(this, actualProto);\n        }\n        else {\n            this.__proto__ = actualProto;\n        }\n        this.name = \"ZodError\";\n        this.issues = issues;\n    }\n    get errors() {\n        return this.issues;\n    }\n    format(_mapper) {\n        const mapper = _mapper ||\n            function (issue) {\n                return issue.message;\n            };\n        const fieldErrors = { _errors: [] };\n        const processError = (error) => {\n            for (const issue of error.issues) {\n                if (issue.code === \"invalid_union\") {\n                    issue.unionErrors.map(processError);\n                }\n                else if (issue.code === \"invalid_return_type\") {\n                    processError(issue.returnTypeError);\n                }\n                else if (issue.code === \"invalid_arguments\") {\n                    processError(issue.argumentsError);\n                }\n                else if (issue.path.length === 0) {\n                    fieldErrors._errors.push(mapper(issue));\n                }\n                else {\n                    let curr = fieldErrors;\n                    let i = 0;\n                    while (i < issue.path.length) {\n                        const el = issue.path[i];\n                        const terminal = i === issue.path.length - 1;\n                        if (!terminal) {\n                            curr[el] = curr[el] || { _errors: [] };\n                            // if (typeof el === \"string\") {\n                            //   curr[el] = curr[el] || { _errors: [] };\n                            // } else if (typeof el === \"number\") {\n                            //   const errorArray: any = [];\n                            //   errorArray._errors = [];\n                            //   curr[el] = curr[el] || errorArray;\n                            // }\n                        }\n                        else {\n                            curr[el] = curr[el] || { _errors: [] };\n                            curr[el]._errors.push(mapper(issue));\n                        }\n                        curr = curr[el];\n                        i++;\n                    }\n                }\n            }\n        };\n        processError(this);\n        return fieldErrors;\n    }\n    static assert(value) {\n        if (!(value instanceof ZodError)) {\n            throw new Error(`Not a ZodError: ${value}`);\n        }\n    }\n    toString() {\n        return this.message;\n    }\n    get message() {\n        return JSON.stringify(this.issues, util.jsonStringifyReplacer, 2);\n    }\n    get isEmpty() {\n        return this.issues.length === 0;\n    }\n    flatten(mapper = (issue) => issue.message) {\n        const fieldErrors = {};\n        const formErrors = [];\n        for (const sub of this.issues) {\n            if (sub.path.length > 0) {\n                fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];\n                fieldErrors[sub.path[0]].push(mapper(sub));\n            }\n            else {\n                formErrors.push(mapper(sub));\n            }\n        }\n        return { formErrors, fieldErrors };\n    }\n    get formErrors() {\n        return this.flatten();\n    }\n}\nZodError.create = (issues) => {\n    const error = new ZodError(issues);\n    return error;\n};\n\nconst errorMap = (issue, _ctx) => {\n    let message;\n    switch (issue.code) {\n        case ZodIssueCode.invalid_type:\n            if (issue.received === ZodParsedType.undefined) {\n                message = \"Required\";\n            }\n            else {\n                message = `Expected ${issue.expected}, received ${issue.received}`;\n            }\n            break;\n        case ZodIssueCode.invalid_literal:\n            message = `Invalid literal value, expected ${JSON.stringify(issue.expected, util.jsonStringifyReplacer)}`;\n            break;\n        case ZodIssueCode.unrecognized_keys:\n            message = `Unrecognized key(s) in object: ${util.joinValues(issue.keys, \", \")}`;\n            break;\n        case ZodIssueCode.invalid_union:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_union_discriminator:\n            message = `Invalid discriminator value. Expected ${util.joinValues(issue.options)}`;\n            break;\n        case ZodIssueCode.invalid_enum_value:\n            message = `Invalid enum value. Expected ${util.joinValues(issue.options)}, received '${issue.received}'`;\n            break;\n        case ZodIssueCode.invalid_arguments:\n            message = `Invalid function arguments`;\n            break;\n        case ZodIssueCode.invalid_return_type:\n            message = `Invalid function return type`;\n            break;\n        case ZodIssueCode.invalid_date:\n            message = `Invalid date`;\n            break;\n        case ZodIssueCode.invalid_string:\n            if (typeof issue.validation === \"object\") {\n                if (\"includes\" in issue.validation) {\n                    message = `Invalid input: must include \"${issue.validation.includes}\"`;\n                    if (typeof issue.validation.position === \"number\") {\n                        message = `${message} at one or more positions greater than or equal to ${issue.validation.position}`;\n                    }\n                }\n                else if (\"startsWith\" in issue.validation) {\n                    message = `Invalid input: must start with \"${issue.validation.startsWith}\"`;\n                }\n                else if (\"endsWith\" in issue.validation) {\n                    message = `Invalid input: must end with \"${issue.validation.endsWith}\"`;\n                }\n                else {\n                    util.assertNever(issue.validation);\n                }\n            }\n            else if (issue.validation !== \"regex\") {\n                message = `Invalid ${issue.validation}`;\n            }\n            else {\n                message = \"Invalid\";\n            }\n            break;\n        case ZodIssueCode.too_small:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `more than`} ${issue.minimum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `over`} ${issue.minimum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact\n                    ? `exactly equal to `\n                    : issue.inclusive\n                        ? `greater than or equal to `\n                        : `greater than `}${issue.minimum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact\n                    ? `exactly equal to `\n                    : issue.inclusive\n                        ? `greater than or equal to `\n                        : `greater than `}${new Date(Number(issue.minimum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.too_big:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `less than`} ${issue.maximum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `under`} ${issue.maximum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact\n                    ? `exactly`\n                    : issue.inclusive\n                        ? `less than or equal to`\n                        : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"bigint\")\n                message = `BigInt must be ${issue.exact\n                    ? `exactly`\n                    : issue.inclusive\n                        ? `less than or equal to`\n                        : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact\n                    ? `exactly`\n                    : issue.inclusive\n                        ? `smaller than or equal to`\n                        : `smaller than`} ${new Date(Number(issue.maximum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.custom:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_intersection_types:\n            message = `Intersection results could not be merged`;\n            break;\n        case ZodIssueCode.not_multiple_of:\n            message = `Number must be a multiple of ${issue.multipleOf}`;\n            break;\n        case ZodIssueCode.not_finite:\n            message = \"Number must be finite\";\n            break;\n        default:\n            message = _ctx.defaultError;\n            util.assertNever(issue);\n    }\n    return { message };\n};\n\nlet overrideErrorMap = errorMap;\nfunction setErrorMap(map) {\n    overrideErrorMap = map;\n}\nfunction getErrorMap() {\n    return overrideErrorMap;\n}\n\nconst makeIssue = (params) => {\n    const { data, path, errorMaps, issueData } = params;\n    const fullPath = [...path, ...(issueData.path || [])];\n    const fullIssue = {\n        ...issueData,\n        path: fullPath,\n    };\n    if (issueData.message !== undefined) {\n        return {\n            ...issueData,\n            path: fullPath,\n            message: issueData.message,\n        };\n    }\n    let errorMessage = \"\";\n    const maps = errorMaps\n        .filter((m) => !!m)\n        .slice()\n        .reverse();\n    for (const map of maps) {\n        errorMessage = map(fullIssue, { data, defaultError: errorMessage }).message;\n    }\n    return {\n        ...issueData,\n        path: fullPath,\n        message: errorMessage,\n    };\n};\nconst EMPTY_PATH = [];\nfunction addIssueToContext(ctx, issueData) {\n    const overrideMap = getErrorMap();\n    const issue = makeIssue({\n        issueData: issueData,\n        data: ctx.data,\n        path: ctx.path,\n        errorMaps: [\n            ctx.common.contextualErrorMap,\n            ctx.schemaErrorMap,\n            overrideMap,\n            overrideMap === errorMap ? undefined : errorMap, // then global default map\n        ].filter((x) => !!x),\n    });\n    ctx.common.issues.push(issue);\n}\nclass ParseStatus {\n    constructor() {\n        this.value = \"valid\";\n    }\n    dirty() {\n        if (this.value === \"valid\")\n            this.value = \"dirty\";\n    }\n    abort() {\n        if (this.value !== \"aborted\")\n            this.value = \"aborted\";\n    }\n    static mergeArray(status, results) {\n        const arrayValue = [];\n        for (const s of results) {\n            if (s.status === \"aborted\")\n                return INVALID;\n            if (s.status === \"dirty\")\n                status.dirty();\n            arrayValue.push(s.value);\n        }\n        return { status: status.value, value: arrayValue };\n    }\n    static async mergeObjectAsync(status, pairs) {\n        const syncPairs = [];\n        for (const pair of pairs) {\n            const key = await pair.key;\n            const value = await pair.value;\n            syncPairs.push({\n                key,\n                value,\n            });\n        }\n        return ParseStatus.mergeObjectSync(status, syncPairs);\n    }\n    static mergeObjectSync(status, pairs) {\n        const finalObject = {};\n        for (const pair of pairs) {\n            const { key, value } = pair;\n            if (key.status === \"aborted\")\n                return INVALID;\n            if (value.status === \"aborted\")\n                return INVALID;\n            if (key.status === \"dirty\")\n                status.dirty();\n            if (value.status === \"dirty\")\n                status.dirty();\n            if (key.value !== \"__proto__\" &&\n                (typeof value.value !== \"undefined\" || pair.alwaysSet)) {\n                finalObject[key.value] = value.value;\n            }\n        }\n        return { status: status.value, value: finalObject };\n    }\n}\nconst INVALID = Object.freeze({\n    status: \"aborted\",\n});\nconst DIRTY = (value) => ({ status: \"dirty\", value });\nconst OK = (value) => ({ status: \"valid\", value });\nconst isAborted = (x) => x.status === \"aborted\";\nconst isDirty = (x) => x.status === \"dirty\";\nconst isValid = (x) => x.status === \"valid\";\nconst isAsync = (x) => typeof Promise !== \"undefined\" && x instanceof Promise;\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nfunction __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nvar errorUtil;\n(function (errorUtil) {\n    errorUtil.errToObj = (message) => typeof message === \"string\" ? { message } : message || {};\n    errorUtil.toString = (message) => typeof message === \"string\" ? message : message === null || message === void 0 ? void 0 : message.message;\n})(errorUtil || (errorUtil = {}));\n\nvar _ZodEnum_cache, _ZodNativeEnum_cache;\nclass ParseInputLazyPath {\n    constructor(parent, value, path, key) {\n        this._cachedPath = [];\n        this.parent = parent;\n        this.data = value;\n        this._path = path;\n        this._key = key;\n    }\n    get path() {\n        if (!this._cachedPath.length) {\n            if (this._key instanceof Array) {\n                this._cachedPath.push(...this._path, ...this._key);\n            }\n            else {\n                this._cachedPath.push(...this._path, this._key);\n            }\n        }\n        return this._cachedPath;\n    }\n}\nconst handleResult = (ctx, result) => {\n    if (isValid(result)) {\n        return { success: true, data: result.value };\n    }\n    else {\n        if (!ctx.common.issues.length) {\n            throw new Error(\"Validation failed but no issues detected.\");\n        }\n        return {\n            success: false,\n            get error() {\n                if (this._error)\n                    return this._error;\n                const error = new ZodError(ctx.common.issues);\n                this._error = error;\n                return this._error;\n            },\n        };\n    }\n};\nfunction processCreateParams(params) {\n    if (!params)\n        return {};\n    const { errorMap, invalid_type_error, required_error, description } = params;\n    if (errorMap && (invalid_type_error || required_error)) {\n        throw new Error(`Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.`);\n    }\n    if (errorMap)\n        return { errorMap: errorMap, description };\n    const customMap = (iss, ctx) => {\n        var _a, _b;\n        const { message } = params;\n        if (iss.code === \"invalid_enum_value\") {\n            return { message: message !== null && message !== void 0 ? message : ctx.defaultError };\n        }\n        if (typeof ctx.data === \"undefined\") {\n            return { message: (_a = message !== null && message !== void 0 ? message : required_error) !== null && _a !== void 0 ? _a : ctx.defaultError };\n        }\n        if (iss.code !== \"invalid_type\")\n            return { message: ctx.defaultError };\n        return { message: (_b = message !== null && message !== void 0 ? message : invalid_type_error) !== null && _b !== void 0 ? _b : ctx.defaultError };\n    };\n    return { errorMap: customMap, description };\n}\nclass ZodType {\n    constructor(def) {\n        /** Alias of safeParseAsync */\n        this.spa = this.safeParseAsync;\n        this._def = def;\n        this.parse = this.parse.bind(this);\n        this.safeParse = this.safeParse.bind(this);\n        this.parseAsync = this.parseAsync.bind(this);\n        this.safeParseAsync = this.safeParseAsync.bind(this);\n        this.spa = this.spa.bind(this);\n        this.refine = this.refine.bind(this);\n        this.refinement = this.refinement.bind(this);\n        this.superRefine = this.superRefine.bind(this);\n        this.optional = this.optional.bind(this);\n        this.nullable = this.nullable.bind(this);\n        this.nullish = this.nullish.bind(this);\n        this.array = this.array.bind(this);\n        this.promise = this.promise.bind(this);\n        this.or = this.or.bind(this);\n        this.and = this.and.bind(this);\n        this.transform = this.transform.bind(this);\n        this.brand = this.brand.bind(this);\n        this.default = this.default.bind(this);\n        this.catch = this.catch.bind(this);\n        this.describe = this.describe.bind(this);\n        this.pipe = this.pipe.bind(this);\n        this.readonly = this.readonly.bind(this);\n        this.isNullable = this.isNullable.bind(this);\n        this.isOptional = this.isOptional.bind(this);\n    }\n    get description() {\n        return this._def.description;\n    }\n    _getType(input) {\n        return getParsedType(input.data);\n    }\n    _getOrReturnCtx(input, ctx) {\n        return (ctx || {\n            common: input.parent.common,\n            data: input.data,\n            parsedType: getParsedType(input.data),\n            schemaErrorMap: this._def.errorMap,\n            path: input.path,\n            parent: input.parent,\n        });\n    }\n    _processInputParams(input) {\n        return {\n            status: new ParseStatus(),\n            ctx: {\n                common: input.parent.common,\n                data: input.data,\n                parsedType: getParsedType(input.data),\n                schemaErrorMap: this._def.errorMap,\n                path: input.path,\n                parent: input.parent,\n            },\n        };\n    }\n    _parseSync(input) {\n        const result = this._parse(input);\n        if (isAsync(result)) {\n            throw new Error(\"Synchronous parse encountered promise.\");\n        }\n        return result;\n    }\n    _parseAsync(input) {\n        const result = this._parse(input);\n        return Promise.resolve(result);\n    }\n    parse(data, params) {\n        const result = this.safeParse(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    safeParse(data, params) {\n        var _a;\n        const ctx = {\n            common: {\n                issues: [],\n                async: (_a = params === null || params === void 0 ? void 0 : params.async) !== null && _a !== void 0 ? _a : false,\n                contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap,\n            },\n            path: (params === null || params === void 0 ? void 0 : params.path) || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const result = this._parseSync({ data, path: ctx.path, parent: ctx });\n        return handleResult(ctx, result);\n    }\n    async parseAsync(data, params) {\n        const result = await this.safeParseAsync(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    async safeParseAsync(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap,\n                async: true,\n            },\n            path: (params === null || params === void 0 ? void 0 : params.path) || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });\n        const result = await (isAsync(maybeAsyncResult)\n            ? maybeAsyncResult\n            : Promise.resolve(maybeAsyncResult));\n        return handleResult(ctx, result);\n    }\n    refine(check, message) {\n        const getIssueProperties = (val) => {\n            if (typeof message === \"string\" || typeof message === \"undefined\") {\n                return { message };\n            }\n            else if (typeof message === \"function\") {\n                return message(val);\n            }\n            else {\n                return message;\n            }\n        };\n        return this._refinement((val, ctx) => {\n            const result = check(val);\n            const setError = () => ctx.addIssue({\n                code: ZodIssueCode.custom,\n                ...getIssueProperties(val),\n            });\n            if (typeof Promise !== \"undefined\" && result instanceof Promise) {\n                return result.then((data) => {\n                    if (!data) {\n                        setError();\n                        return false;\n                    }\n                    else {\n                        return true;\n                    }\n                });\n            }\n            if (!result) {\n                setError();\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    refinement(check, refinementData) {\n        return this._refinement((val, ctx) => {\n            if (!check(val)) {\n                ctx.addIssue(typeof refinementData === \"function\"\n                    ? refinementData(val, ctx)\n                    : refinementData);\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    _refinement(refinement) {\n        return new ZodEffects({\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"refinement\", refinement },\n        });\n    }\n    superRefine(refinement) {\n        return this._refinement(refinement);\n    }\n    optional() {\n        return ZodOptional.create(this, this._def);\n    }\n    nullable() {\n        return ZodNullable.create(this, this._def);\n    }\n    nullish() {\n        return this.nullable().optional();\n    }\n    array() {\n        return ZodArray.create(this, this._def);\n    }\n    promise() {\n        return ZodPromise.create(this, this._def);\n    }\n    or(option) {\n        return ZodUnion.create([this, option], this._def);\n    }\n    and(incoming) {\n        return ZodIntersection.create(this, incoming, this._def);\n    }\n    transform(transform) {\n        return new ZodEffects({\n            ...processCreateParams(this._def),\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"transform\", transform },\n        });\n    }\n    default(def) {\n        const defaultValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodDefault({\n            ...processCreateParams(this._def),\n            innerType: this,\n            defaultValue: defaultValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodDefault,\n        });\n    }\n    brand() {\n        return new ZodBranded({\n            typeName: ZodFirstPartyTypeKind.ZodBranded,\n            type: this,\n            ...processCreateParams(this._def),\n        });\n    }\n    catch(def) {\n        const catchValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodCatch({\n            ...processCreateParams(this._def),\n            innerType: this,\n            catchValue: catchValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodCatch,\n        });\n    }\n    describe(description) {\n        const This = this.constructor;\n        return new This({\n            ...this._def,\n            description,\n        });\n    }\n    pipe(target) {\n        return ZodPipeline.create(this, target);\n    }\n    readonly() {\n        return ZodReadonly.create(this);\n    }\n    isOptional() {\n        return this.safeParse(undefined).success;\n    }\n    isNullable() {\n        return this.safeParse(null).success;\n    }\n}\nconst cuidRegex = /^c[^\\s-]{8,}$/i;\nconst cuid2Regex = /^[0-9a-z]+$/;\nconst ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/;\n// const uuidRegex =\n//   /^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i;\nconst uuidRegex = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i;\nconst nanoidRegex = /^[a-z0-9_-]{21}$/i;\nconst durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\n// from https://stackoverflow.com/a/46181/1550155\n// old version: too slow, didn't support unicode\n// const emailRegex = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i;\n//old email regex\n// const emailRegex = /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@((?!-)([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{1,})[^-<>()[\\].,;:\\s@\"]$/i;\n// eslint-disable-next-line\n// const emailRegex =\n//   /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\])|(\\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\\.[A-Za-z]{2,})+))$/;\n// const emailRegex =\n//   /^[a-zA-Z0-9\\.\\!\\#\\$\\%\\&\\'\\*\\+\\/\\=\\?\\^\\_\\`\\{\\|\\}\\~\\-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n// const emailRegex =\n//   /^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/i;\nconst emailRegex = /^(?!\\.)(?!.*\\.\\.)([A-Z0-9_'+\\-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i;\n// const emailRegex =\n//   /^[a-z0-9.!#$%&*+/=?^_`{|}~-]+@[a-z0-9-]+(?:\\.[a-z0-9\\-]+)*$/i;\n// from https://thekevinscott.com/emojis-in-javascript/#writing-a-regular-expression\nconst _emojiRegex = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nlet emojiRegex;\n// faster, simpler, safer\nconst ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\nconst ipv6Regex = /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;\n// https://stackoverflow.com/questions/7860392/determine-if-string-is-in-base64-using-javascript\nconst base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;\n// simple\n// const dateRegexSource = `\\\\d{4}-\\\\d{2}-\\\\d{2}`;\n// no leap year validation\n// const dateRegexSource = `\\\\d{4}-((0[13578]|10|12)-31|(0[13-9]|1[0-2])-30|(0[1-9]|1[0-2])-(0[1-9]|1\\\\d|2\\\\d))`;\n// with leap year validation\nconst dateRegexSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\nconst dateRegex = new RegExp(`^${dateRegexSource}$`);\nfunction timeRegexSource(args) {\n    // let regex = `\\\\d{2}:\\\\d{2}:\\\\d{2}`;\n    let regex = `([01]\\\\d|2[0-3]):[0-5]\\\\d:[0-5]\\\\d`;\n    if (args.precision) {\n        regex = `${regex}\\\\.\\\\d{${args.precision}}`;\n    }\n    else if (args.precision == null) {\n        regex = `${regex}(\\\\.\\\\d+)?`;\n    }\n    return regex;\n}\nfunction timeRegex(args) {\n    return new RegExp(`^${timeRegexSource(args)}$`);\n}\n// Adapted from https://stackoverflow.com/a/3143231\nfunction datetimeRegex(args) {\n    let regex = `${dateRegexSource}T${timeRegexSource(args)}`;\n    const opts = [];\n    opts.push(args.local ? `Z?` : `Z`);\n    if (args.offset)\n        opts.push(`([+-]\\\\d{2}:?\\\\d{2})`);\n    regex = `${regex}(${opts.join(\"|\")})`;\n    return new RegExp(`^${regex}$`);\n}\nfunction isValidIP(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4Regex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6Regex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nclass ZodString extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = String(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.string) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.string,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.length < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.length > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"length\") {\n                const tooBig = input.data.length > check.value;\n                const tooSmall = input.data.length < check.value;\n                if (tooBig || tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    if (tooBig) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_big,\n                            maximum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    else if (tooSmall) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_small,\n                            minimum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"email\") {\n                if (!emailRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"email\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"emoji\") {\n                if (!emojiRegex) {\n                    emojiRegex = new RegExp(_emojiRegex, \"u\");\n                }\n                if (!emojiRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"emoji\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"uuid\") {\n                if (!uuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"uuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"nanoid\") {\n                if (!nanoidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"nanoid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid\") {\n                if (!cuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid2\") {\n                if (!cuid2Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid2\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ulid\") {\n                if (!ulidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ulid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"url\") {\n                try {\n                    new URL(input.data);\n                }\n                catch (_a) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"regex\") {\n                check.regex.lastIndex = 0;\n                const testResult = check.regex.test(input.data);\n                if (!testResult) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"regex\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"trim\") {\n                input.data = input.data.trim();\n            }\n            else if (check.kind === \"includes\") {\n                if (!input.data.includes(check.value, check.position)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { includes: check.value, position: check.position },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"toLowerCase\") {\n                input.data = input.data.toLowerCase();\n            }\n            else if (check.kind === \"toUpperCase\") {\n                input.data = input.data.toUpperCase();\n            }\n            else if (check.kind === \"startsWith\") {\n                if (!input.data.startsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { startsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"endsWith\") {\n                if (!input.data.endsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { endsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"datetime\") {\n                const regex = datetimeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"datetime\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"date\") {\n                const regex = dateRegex;\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"date\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"time\") {\n                const regex = timeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"time\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"duration\") {\n                if (!durationRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"duration\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ip\") {\n                if (!isValidIP(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ip\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64\") {\n                if (!base64Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _regex(regex, validation, message) {\n        return this.refinement((data) => regex.test(data), {\n            validation,\n            code: ZodIssueCode.invalid_string,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    _addCheck(check) {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    email(message) {\n        return this._addCheck({ kind: \"email\", ...errorUtil.errToObj(message) });\n    }\n    url(message) {\n        return this._addCheck({ kind: \"url\", ...errorUtil.errToObj(message) });\n    }\n    emoji(message) {\n        return this._addCheck({ kind: \"emoji\", ...errorUtil.errToObj(message) });\n    }\n    uuid(message) {\n        return this._addCheck({ kind: \"uuid\", ...errorUtil.errToObj(message) });\n    }\n    nanoid(message) {\n        return this._addCheck({ kind: \"nanoid\", ...errorUtil.errToObj(message) });\n    }\n    cuid(message) {\n        return this._addCheck({ kind: \"cuid\", ...errorUtil.errToObj(message) });\n    }\n    cuid2(message) {\n        return this._addCheck({ kind: \"cuid2\", ...errorUtil.errToObj(message) });\n    }\n    ulid(message) {\n        return this._addCheck({ kind: \"ulid\", ...errorUtil.errToObj(message) });\n    }\n    base64(message) {\n        return this._addCheck({ kind: \"base64\", ...errorUtil.errToObj(message) });\n    }\n    ip(options) {\n        return this._addCheck({ kind: \"ip\", ...errorUtil.errToObj(options) });\n    }\n    datetime(options) {\n        var _a, _b;\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"datetime\",\n                precision: null,\n                offset: false,\n                local: false,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"datetime\",\n            precision: typeof (options === null || options === void 0 ? void 0 : options.precision) === \"undefined\" ? null : options === null || options === void 0 ? void 0 : options.precision,\n            offset: (_a = options === null || options === void 0 ? void 0 : options.offset) !== null && _a !== void 0 ? _a : false,\n            local: (_b = options === null || options === void 0 ? void 0 : options.local) !== null && _b !== void 0 ? _b : false,\n            ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message),\n        });\n    }\n    date(message) {\n        return this._addCheck({ kind: \"date\", message });\n    }\n    time(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"time\",\n                precision: null,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"time\",\n            precision: typeof (options === null || options === void 0 ? void 0 : options.precision) === \"undefined\" ? null : options === null || options === void 0 ? void 0 : options.precision,\n            ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message),\n        });\n    }\n    duration(message) {\n        return this._addCheck({ kind: \"duration\", ...errorUtil.errToObj(message) });\n    }\n    regex(regex, message) {\n        return this._addCheck({\n            kind: \"regex\",\n            regex: regex,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    includes(value, options) {\n        return this._addCheck({\n            kind: \"includes\",\n            value: value,\n            position: options === null || options === void 0 ? void 0 : options.position,\n            ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message),\n        });\n    }\n    startsWith(value, message) {\n        return this._addCheck({\n            kind: \"startsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    endsWith(value, message) {\n        return this._addCheck({\n            kind: \"endsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    min(minLength, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    max(maxLength, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    length(len, message) {\n        return this._addCheck({\n            kind: \"length\",\n            value: len,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    /**\n     * @deprecated Use z.string().min(1) instead.\n     * @see {@link ZodString.min}\n     */\n    nonempty(message) {\n        return this.min(1, errorUtil.errToObj(message));\n    }\n    trim() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"trim\" }],\n        });\n    }\n    toLowerCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toLowerCase\" }],\n        });\n    }\n    toUpperCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toUpperCase\" }],\n        });\n    }\n    get isDatetime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"datetime\");\n    }\n    get isDate() {\n        return !!this._def.checks.find((ch) => ch.kind === \"date\");\n    }\n    get isTime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"time\");\n    }\n    get isDuration() {\n        return !!this._def.checks.find((ch) => ch.kind === \"duration\");\n    }\n    get isEmail() {\n        return !!this._def.checks.find((ch) => ch.kind === \"email\");\n    }\n    get isURL() {\n        return !!this._def.checks.find((ch) => ch.kind === \"url\");\n    }\n    get isEmoji() {\n        return !!this._def.checks.find((ch) => ch.kind === \"emoji\");\n    }\n    get isUUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"uuid\");\n    }\n    get isNANOID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"nanoid\");\n    }\n    get isCUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid\");\n    }\n    get isCUID2() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid2\");\n    }\n    get isULID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ulid\");\n    }\n    get isIP() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ip\");\n    }\n    get isBase64() {\n        return !!this._def.checks.find((ch) => ch.kind === \"base64\");\n    }\n    get minLength() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxLength() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodString.create = (params) => {\n    var _a;\n    return new ZodString({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodString,\n        coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,\n        ...processCreateParams(params),\n    });\n};\n// https://stackoverflow.com/questions/3966484/why-does-modulus-operator-return-fractional-number-in-javascript/31711034#31711034\nfunction floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepDecCount = (step.toString().split(\".\")[1] || \"\").length;\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / Math.pow(10, decCount);\n}\nclass ZodNumber extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n        this.step = this.multipleOf;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Number(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.number) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.number,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"int\") {\n                if (!util.isInteger(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_type,\n                        expected: \"integer\",\n                        received: \"float\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"min\") {\n                const tooSmall = check.inclusive\n                    ? input.data < check.value\n                    : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive\n                    ? input.data > check.value\n                    : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (floatSafeRemainder(input.data, check.value) !== 0) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"finite\") {\n                if (!Number.isFinite(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_finite,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    int(message) {\n        return this._addCheck({\n            kind: \"int\",\n            message: errorUtil.toString(message),\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value: value,\n            message: errorUtil.toString(message),\n        });\n    }\n    finite(message) {\n        return this._addCheck({\n            kind: \"finite\",\n            message: errorUtil.toString(message),\n        });\n    }\n    safe(message) {\n        return this._addCheck({\n            kind: \"min\",\n            inclusive: true,\n            value: Number.MIN_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        })._addCheck({\n            kind: \"max\",\n            inclusive: true,\n            value: Number.MAX_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n    get isInt() {\n        return !!this._def.checks.find((ch) => ch.kind === \"int\" ||\n            (ch.kind === \"multipleOf\" && util.isInteger(ch.value)));\n    }\n    get isFinite() {\n        let max = null, min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"finite\" ||\n                ch.kind === \"int\" ||\n                ch.kind === \"multipleOf\") {\n                return true;\n            }\n            else if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n            else if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return Number.isFinite(min) && Number.isFinite(max);\n    }\n}\nZodNumber.create = (params) => {\n    return new ZodNumber({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodNumber,\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodBigInt extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = BigInt(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.bigint) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.bigint,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                const tooSmall = check.inclusive\n                    ? input.data < check.value\n                    : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        type: \"bigint\",\n                        minimum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive\n                    ? input.data > check.value\n                    : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        type: \"bigint\",\n                        maximum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (input.data % check.value !== BigInt(0)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodBigInt.create = (params) => {\n    var _a;\n    return new ZodBigInt({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodBigInt,\n        coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodBoolean extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Boolean(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.boolean) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.boolean,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodBoolean.create = (params) => {\n    return new ZodBoolean({\n        typeName: ZodFirstPartyTypeKind.ZodBoolean,\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodDate extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = new Date(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.date) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.date,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (isNaN(input.data.getTime())) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_date,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.getTime() < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        minimum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.getTime() > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        maximum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return {\n            status: status.value,\n            value: new Date(input.data.getTime()),\n        };\n    }\n    _addCheck(check) {\n        return new ZodDate({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    min(minDate, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    max(maxDate, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    get minDate() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min != null ? new Date(min) : null;\n    }\n    get maxDate() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max != null ? new Date(max) : null;\n    }\n}\nZodDate.create = (params) => {\n    return new ZodDate({\n        checks: [],\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        typeName: ZodFirstPartyTypeKind.ZodDate,\n        ...processCreateParams(params),\n    });\n};\nclass ZodSymbol extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.symbol) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.symbol,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodSymbol.create = (params) => {\n    return new ZodSymbol({\n        typeName: ZodFirstPartyTypeKind.ZodSymbol,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUndefined extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.undefined,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodUndefined.create = (params) => {\n    return new ZodUndefined({\n        typeName: ZodFirstPartyTypeKind.ZodUndefined,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNull extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.null) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.null,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodNull.create = (params) => {\n    return new ZodNull({\n        typeName: ZodFirstPartyTypeKind.ZodNull,\n        ...processCreateParams(params),\n    });\n};\nclass ZodAny extends ZodType {\n    constructor() {\n        super(...arguments);\n        // to prevent instances of other classes from extending ZodAny. this causes issues with catchall in ZodObject.\n        this._any = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodAny.create = (params) => {\n    return new ZodAny({\n        typeName: ZodFirstPartyTypeKind.ZodAny,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUnknown extends ZodType {\n    constructor() {\n        super(...arguments);\n        // required\n        this._unknown = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodUnknown.create = (params) => {\n    return new ZodUnknown({\n        typeName: ZodFirstPartyTypeKind.ZodUnknown,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNever extends ZodType {\n    _parse(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.never,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n}\nZodNever.create = (params) => {\n    return new ZodNever({\n        typeName: ZodFirstPartyTypeKind.ZodNever,\n        ...processCreateParams(params),\n    });\n};\nclass ZodVoid extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.void,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodVoid.create = (params) => {\n    return new ZodVoid({\n        typeName: ZodFirstPartyTypeKind.ZodVoid,\n        ...processCreateParams(params),\n    });\n};\nclass ZodArray extends ZodType {\n    _parse(input) {\n        const { ctx, status } = this._processInputParams(input);\n        const def = this._def;\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (def.exactLength !== null) {\n            const tooBig = ctx.data.length > def.exactLength.value;\n            const tooSmall = ctx.data.length < def.exactLength.value;\n            if (tooBig || tooSmall) {\n                addIssueToContext(ctx, {\n                    code: tooBig ? ZodIssueCode.too_big : ZodIssueCode.too_small,\n                    minimum: (tooSmall ? def.exactLength.value : undefined),\n                    maximum: (tooBig ? def.exactLength.value : undefined),\n                    type: \"array\",\n                    inclusive: true,\n                    exact: true,\n                    message: def.exactLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.minLength !== null) {\n            if (ctx.data.length < def.minLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxLength !== null) {\n            if (ctx.data.length > def.maxLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.all([...ctx.data].map((item, i) => {\n                return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n            })).then((result) => {\n                return ParseStatus.mergeArray(status, result);\n            });\n        }\n        const result = [...ctx.data].map((item, i) => {\n            return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n        });\n        return ParseStatus.mergeArray(status, result);\n    }\n    get element() {\n        return this._def.type;\n    }\n    min(minLength, message) {\n        return new ZodArray({\n            ...this._def,\n            minLength: { value: minLength, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxLength, message) {\n        return new ZodArray({\n            ...this._def,\n            maxLength: { value: maxLength, message: errorUtil.toString(message) },\n        });\n    }\n    length(len, message) {\n        return new ZodArray({\n            ...this._def,\n            exactLength: { value: len, message: errorUtil.toString(message) },\n        });\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodArray.create = (schema, params) => {\n    return new ZodArray({\n        type: schema,\n        minLength: null,\n        maxLength: null,\n        exactLength: null,\n        typeName: ZodFirstPartyTypeKind.ZodArray,\n        ...processCreateParams(params),\n    });\n};\nfunction deepPartialify(schema) {\n    if (schema instanceof ZodObject) {\n        const newShape = {};\n        for (const key in schema.shape) {\n            const fieldSchema = schema.shape[key];\n            newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));\n        }\n        return new ZodObject({\n            ...schema._def,\n            shape: () => newShape,\n        });\n    }\n    else if (schema instanceof ZodArray) {\n        return new ZodArray({\n            ...schema._def,\n            type: deepPartialify(schema.element),\n        });\n    }\n    else if (schema instanceof ZodOptional) {\n        return ZodOptional.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodNullable) {\n        return ZodNullable.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodTuple) {\n        return ZodTuple.create(schema.items.map((item) => deepPartialify(item)));\n    }\n    else {\n        return schema;\n    }\n}\nclass ZodObject extends ZodType {\n    constructor() {\n        super(...arguments);\n        this._cached = null;\n        /**\n         * @deprecated In most cases, this is no longer needed - unknown properties are now silently stripped.\n         * If you want to pass through unknown properties, use `.passthrough()` instead.\n         */\n        this.nonstrict = this.passthrough;\n        // extend<\n        //   Augmentation extends ZodRawShape,\n        //   NewOutput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_output\"]\n        //       : k extends keyof Output\n        //       ? Output[k]\n        //       : never;\n        //   }>,\n        //   NewInput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_input\"]\n        //       : k extends keyof Input\n        //       ? Input[k]\n        //       : never;\n        //   }>\n        // >(\n        //   augmentation: Augmentation\n        // ): ZodObject<\n        //   extendShape<T, Augmentation>,\n        //   UnknownKeys,\n        //   Catchall,\n        //   NewOutput,\n        //   NewInput\n        // > {\n        //   return new ZodObject({\n        //     ...this._def,\n        //     shape: () => ({\n        //       ...this._def.shape(),\n        //       ...augmentation,\n        //     }),\n        //   }) as any;\n        // }\n        /**\n         * @deprecated Use `.extend` instead\n         *  */\n        this.augment = this.extend;\n    }\n    _getCached() {\n        if (this._cached !== null)\n            return this._cached;\n        const shape = this._def.shape();\n        const keys = util.objectKeys(shape);\n        return (this._cached = { shape, keys });\n    }\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.object) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const { status, ctx } = this._processInputParams(input);\n        const { shape, keys: shapeKeys } = this._getCached();\n        const extraKeys = [];\n        if (!(this._def.catchall instanceof ZodNever &&\n            this._def.unknownKeys === \"strip\")) {\n            for (const key in ctx.data) {\n                if (!shapeKeys.includes(key)) {\n                    extraKeys.push(key);\n                }\n            }\n        }\n        const pairs = [];\n        for (const key of shapeKeys) {\n            const keyValidator = shape[key];\n            const value = ctx.data[key];\n            pairs.push({\n                key: { status: \"valid\", value: key },\n                value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (this._def.catchall instanceof ZodNever) {\n            const unknownKeys = this._def.unknownKeys;\n            if (unknownKeys === \"passthrough\") {\n                for (const key of extraKeys) {\n                    pairs.push({\n                        key: { status: \"valid\", value: key },\n                        value: { status: \"valid\", value: ctx.data[key] },\n                    });\n                }\n            }\n            else if (unknownKeys === \"strict\") {\n                if (extraKeys.length > 0) {\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.unrecognized_keys,\n                        keys: extraKeys,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (unknownKeys === \"strip\") ;\n            else {\n                throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);\n            }\n        }\n        else {\n            // run catchall validation\n            const catchall = this._def.catchall;\n            for (const key of extraKeys) {\n                const value = ctx.data[key];\n                pairs.push({\n                    key: { status: \"valid\", value: key },\n                    value: catchall._parse(new ParseInputLazyPath(ctx, value, ctx.path, key) //, ctx.child(key), value, getParsedType(value)\n                    ),\n                    alwaysSet: key in ctx.data,\n                });\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.resolve()\n                .then(async () => {\n                const syncPairs = [];\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    syncPairs.push({\n                        key,\n                        value,\n                        alwaysSet: pair.alwaysSet,\n                    });\n                }\n                return syncPairs;\n            })\n                .then((syncPairs) => {\n                return ParseStatus.mergeObjectSync(status, syncPairs);\n            });\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get shape() {\n        return this._def.shape();\n    }\n    strict(message) {\n        errorUtil.errToObj;\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strict\",\n            ...(message !== undefined\n                ? {\n                    errorMap: (issue, ctx) => {\n                        var _a, _b, _c, _d;\n                        const defaultError = (_c = (_b = (_a = this._def).errorMap) === null || _b === void 0 ? void 0 : _b.call(_a, issue, ctx).message) !== null && _c !== void 0 ? _c : ctx.defaultError;\n                        if (issue.code === \"unrecognized_keys\")\n                            return {\n                                message: (_d = errorUtil.errToObj(message).message) !== null && _d !== void 0 ? _d : defaultError,\n                            };\n                        return {\n                            message: defaultError,\n                        };\n                    },\n                }\n                : {}),\n        });\n    }\n    strip() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strip\",\n        });\n    }\n    passthrough() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"passthrough\",\n        });\n    }\n    // const AugmentFactory =\n    //   <Def extends ZodObjectDef>(def: Def) =>\n    //   <Augmentation extends ZodRawShape>(\n    //     augmentation: Augmentation\n    //   ): ZodObject<\n    //     extendShape<ReturnType<Def[\"shape\"]>, Augmentation>,\n    //     Def[\"unknownKeys\"],\n    //     Def[\"catchall\"]\n    //   > => {\n    //     return new ZodObject({\n    //       ...def,\n    //       shape: () => ({\n    //         ...def.shape(),\n    //         ...augmentation,\n    //       }),\n    //     }) as any;\n    //   };\n    extend(augmentation) {\n        return new ZodObject({\n            ...this._def,\n            shape: () => ({\n                ...this._def.shape(),\n                ...augmentation,\n            }),\n        });\n    }\n    /**\n     * Prior to zod@1.0.12 there was a bug in the\n     * inferred type of merged objects. Please\n     * upgrade if you are experiencing issues.\n     */\n    merge(merging) {\n        const merged = new ZodObject({\n            unknownKeys: merging._def.unknownKeys,\n            catchall: merging._def.catchall,\n            shape: () => ({\n                ...this._def.shape(),\n                ...merging._def.shape(),\n            }),\n            typeName: ZodFirstPartyTypeKind.ZodObject,\n        });\n        return merged;\n    }\n    // merge<\n    //   Incoming extends AnyZodObject,\n    //   Augmentation extends Incoming[\"shape\"],\n    //   NewOutput extends {\n    //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_output\"]\n    //       : k extends keyof Output\n    //       ? Output[k]\n    //       : never;\n    //   },\n    //   NewInput extends {\n    //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_input\"]\n    //       : k extends keyof Input\n    //       ? Input[k]\n    //       : never;\n    //   }\n    // >(\n    //   merging: Incoming\n    // ): ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"],\n    //   NewOutput,\n    //   NewInput\n    // > {\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    setKey(key, schema) {\n        return this.augment({ [key]: schema });\n    }\n    // merge<Incoming extends AnyZodObject>(\n    //   merging: Incoming\n    // ): //ZodObject<T & Incoming[\"_shape\"], UnknownKeys, Catchall> = (merging) => {\n    // ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"]\n    // > {\n    //   // const mergedShape = objectUtil.mergeShapes(\n    //   //   this._def.shape(),\n    //   //   merging._def.shape()\n    //   // );\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    catchall(index) {\n        return new ZodObject({\n            ...this._def,\n            catchall: index,\n        });\n    }\n    pick(mask) {\n        const shape = {};\n        util.objectKeys(mask).forEach((key) => {\n            if (mask[key] && this.shape[key]) {\n                shape[key] = this.shape[key];\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    omit(mask) {\n        const shape = {};\n        util.objectKeys(this.shape).forEach((key) => {\n            if (!mask[key]) {\n                shape[key] = this.shape[key];\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    /**\n     * @deprecated\n     */\n    deepPartial() {\n        return deepPartialify(this);\n    }\n    partial(mask) {\n        const newShape = {};\n        util.objectKeys(this.shape).forEach((key) => {\n            const fieldSchema = this.shape[key];\n            if (mask && !mask[key]) {\n                newShape[key] = fieldSchema;\n            }\n            else {\n                newShape[key] = fieldSchema.optional();\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    required(mask) {\n        const newShape = {};\n        util.objectKeys(this.shape).forEach((key) => {\n            if (mask && !mask[key]) {\n                newShape[key] = this.shape[key];\n            }\n            else {\n                const fieldSchema = this.shape[key];\n                let newField = fieldSchema;\n                while (newField instanceof ZodOptional) {\n                    newField = newField._def.innerType;\n                }\n                newShape[key] = newField;\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    keyof() {\n        return createZodEnum(util.objectKeys(this.shape));\n    }\n}\nZodObject.create = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.strictCreate = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strict\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.lazycreate = (shape, params) => {\n    return new ZodObject({\n        shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const options = this._def.options;\n        function handleResults(results) {\n            // return first issue-free validation if it exists\n            for (const result of results) {\n                if (result.result.status === \"valid\") {\n                    return result.result;\n                }\n            }\n            for (const result of results) {\n                if (result.result.status === \"dirty\") {\n                    // add issues from dirty option\n                    ctx.common.issues.push(...result.ctx.common.issues);\n                    return result.result;\n                }\n            }\n            // return invalid\n            const unionErrors = results.map((result) => new ZodError(result.ctx.common.issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return Promise.all(options.map(async (option) => {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                return {\n                    result: await option._parseAsync({\n                        data: ctx.data,\n                        path: ctx.path,\n                        parent: childCtx,\n                    }),\n                    ctx: childCtx,\n                };\n            })).then(handleResults);\n        }\n        else {\n            let dirty = undefined;\n            const issues = [];\n            for (const option of options) {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                const result = option._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: childCtx,\n                });\n                if (result.status === \"valid\") {\n                    return result;\n                }\n                else if (result.status === \"dirty\" && !dirty) {\n                    dirty = { result, ctx: childCtx };\n                }\n                if (childCtx.common.issues.length) {\n                    issues.push(childCtx.common.issues);\n                }\n            }\n            if (dirty) {\n                ctx.common.issues.push(...dirty.ctx.common.issues);\n                return dirty.result;\n            }\n            const unionErrors = issues.map((issues) => new ZodError(issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n    }\n    get options() {\n        return this._def.options;\n    }\n}\nZodUnion.create = (types, params) => {\n    return new ZodUnion({\n        options: types,\n        typeName: ZodFirstPartyTypeKind.ZodUnion,\n        ...processCreateParams(params),\n    });\n};\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\n//////////                                 //////////\n//////////      ZodDiscriminatedUnion      //////////\n//////////                                 //////////\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\nconst getDiscriminator = (type) => {\n    if (type instanceof ZodLazy) {\n        return getDiscriminator(type.schema);\n    }\n    else if (type instanceof ZodEffects) {\n        return getDiscriminator(type.innerType());\n    }\n    else if (type instanceof ZodLiteral) {\n        return [type.value];\n    }\n    else if (type instanceof ZodEnum) {\n        return type.options;\n    }\n    else if (type instanceof ZodNativeEnum) {\n        // eslint-disable-next-line ban/ban\n        return util.objectValues(type.enum);\n    }\n    else if (type instanceof ZodDefault) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else if (type instanceof ZodUndefined) {\n        return [undefined];\n    }\n    else if (type instanceof ZodNull) {\n        return [null];\n    }\n    else if (type instanceof ZodOptional) {\n        return [undefined, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodNullable) {\n        return [null, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodBranded) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodReadonly) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodCatch) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else {\n        return [];\n    }\n};\nclass ZodDiscriminatedUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const discriminator = this.discriminator;\n        const discriminatorValue = ctx.data[discriminator];\n        const option = this.optionsMap.get(discriminatorValue);\n        if (!option) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union_discriminator,\n                options: Array.from(this.optionsMap.keys()),\n                path: [discriminator],\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return option._parseAsync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n        else {\n            return option._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n    }\n    get discriminator() {\n        return this._def.discriminator;\n    }\n    get options() {\n        return this._def.options;\n    }\n    get optionsMap() {\n        return this._def.optionsMap;\n    }\n    /**\n     * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.\n     * However, it only allows a union of objects, all of which need to share a discriminator property. This property must\n     * have a different value for each object in the union.\n     * @param discriminator the name of the discriminator property\n     * @param types an array of object schemas\n     * @param params\n     */\n    static create(discriminator, options, params) {\n        // Get all the valid discriminator values\n        const optionsMap = new Map();\n        // try {\n        for (const type of options) {\n            const discriminatorValues = getDiscriminator(type.shape[discriminator]);\n            if (!discriminatorValues.length) {\n                throw new Error(`A discriminator value for key \\`${discriminator}\\` could not be extracted from all schema options`);\n            }\n            for (const value of discriminatorValues) {\n                if (optionsMap.has(value)) {\n                    throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);\n                }\n                optionsMap.set(value, type);\n            }\n        }\n        return new ZodDiscriminatedUnion({\n            typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,\n            discriminator,\n            options,\n            optionsMap,\n            ...processCreateParams(params),\n        });\n    }\n}\nfunction mergeValues(a, b) {\n    const aType = getParsedType(a);\n    const bType = getParsedType(b);\n    if (a === b) {\n        return { valid: true, data: a };\n    }\n    else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {\n        const bKeys = util.objectKeys(b);\n        const sharedKeys = util\n            .objectKeys(a)\n            .filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n            const sharedValue = mergeValues(a[key], b[key]);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n    }\n    else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {\n        if (a.length !== b.length) {\n            return { valid: false };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n            const itemA = a[index];\n            const itemB = b[index];\n            const sharedValue = mergeValues(itemA, itemB);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n    }\n    else if (aType === ZodParsedType.date &&\n        bType === ZodParsedType.date &&\n        +a === +b) {\n        return { valid: true, data: a };\n    }\n    else {\n        return { valid: false };\n    }\n}\nclass ZodIntersection extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const handleParsed = (parsedLeft, parsedRight) => {\n            if (isAborted(parsedLeft) || isAborted(parsedRight)) {\n                return INVALID;\n            }\n            const merged = mergeValues(parsedLeft.value, parsedRight.value);\n            if (!merged.valid) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.invalid_intersection_types,\n                });\n                return INVALID;\n            }\n            if (isDirty(parsedLeft) || isDirty(parsedRight)) {\n                status.dirty();\n            }\n            return { status: status.value, value: merged.data };\n        };\n        if (ctx.common.async) {\n            return Promise.all([\n                this._def.left._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n                this._def.right._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n            ]).then(([left, right]) => handleParsed(left, right));\n        }\n        else {\n            return handleParsed(this._def.left._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }), this._def.right._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }));\n        }\n    }\n}\nZodIntersection.create = (left, right, params) => {\n    return new ZodIntersection({\n        left: left,\n        right: right,\n        typeName: ZodFirstPartyTypeKind.ZodIntersection,\n        ...processCreateParams(params),\n    });\n};\nclass ZodTuple extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (ctx.data.length < this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_small,\n                minimum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            return INVALID;\n        }\n        const rest = this._def.rest;\n        if (!rest && ctx.data.length > this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_big,\n                maximum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            status.dirty();\n        }\n        const items = [...ctx.data]\n            .map((item, itemIndex) => {\n            const schema = this._def.items[itemIndex] || this._def.rest;\n            if (!schema)\n                return null;\n            return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));\n        })\n            .filter((x) => !!x); // filter nulls\n        if (ctx.common.async) {\n            return Promise.all(items).then((results) => {\n                return ParseStatus.mergeArray(status, results);\n            });\n        }\n        else {\n            return ParseStatus.mergeArray(status, items);\n        }\n    }\n    get items() {\n        return this._def.items;\n    }\n    rest(rest) {\n        return new ZodTuple({\n            ...this._def,\n            rest,\n        });\n    }\n}\nZodTuple.create = (schemas, params) => {\n    if (!Array.isArray(schemas)) {\n        throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");\n    }\n    return new ZodTuple({\n        items: schemas,\n        typeName: ZodFirstPartyTypeKind.ZodTuple,\n        rest: null,\n        ...processCreateParams(params),\n    });\n};\nclass ZodRecord extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const pairs = [];\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        for (const key in ctx.data) {\n            pairs.push({\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),\n                value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (ctx.common.async) {\n            return ParseStatus.mergeObjectAsync(status, pairs);\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get element() {\n        return this._def.valueType;\n    }\n    static create(first, second, third) {\n        if (second instanceof ZodType) {\n            return new ZodRecord({\n                keyType: first,\n                valueType: second,\n                typeName: ZodFirstPartyTypeKind.ZodRecord,\n                ...processCreateParams(third),\n            });\n        }\n        return new ZodRecord({\n            keyType: ZodString.create(),\n            valueType: first,\n            typeName: ZodFirstPartyTypeKind.ZodRecord,\n            ...processCreateParams(second),\n        });\n    }\n}\nclass ZodMap extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.map) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.map,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        const pairs = [...ctx.data.entries()].map(([key, value], index) => {\n            return {\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index, \"key\"])),\n                value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index, \"value\"])),\n            };\n        });\n        if (ctx.common.async) {\n            const finalMap = new Map();\n            return Promise.resolve().then(async () => {\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    if (key.status === \"aborted\" || value.status === \"aborted\") {\n                        return INVALID;\n                    }\n                    if (key.status === \"dirty\" || value.status === \"dirty\") {\n                        status.dirty();\n                    }\n                    finalMap.set(key.value, value.value);\n                }\n                return { status: status.value, value: finalMap };\n            });\n        }\n        else {\n            const finalMap = new Map();\n            for (const pair of pairs) {\n                const key = pair.key;\n                const value = pair.value;\n                if (key.status === \"aborted\" || value.status === \"aborted\") {\n                    return INVALID;\n                }\n                if (key.status === \"dirty\" || value.status === \"dirty\") {\n                    status.dirty();\n                }\n                finalMap.set(key.value, value.value);\n            }\n            return { status: status.value, value: finalMap };\n        }\n    }\n}\nZodMap.create = (keyType, valueType, params) => {\n    return new ZodMap({\n        valueType,\n        keyType,\n        typeName: ZodFirstPartyTypeKind.ZodMap,\n        ...processCreateParams(params),\n    });\n};\nclass ZodSet extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.set) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.set,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const def = this._def;\n        if (def.minSize !== null) {\n            if (ctx.data.size < def.minSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minSize.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxSize !== null) {\n            if (ctx.data.size > def.maxSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxSize.message,\n                });\n                status.dirty();\n            }\n        }\n        const valueType = this._def.valueType;\n        function finalizeSet(elements) {\n            const parsedSet = new Set();\n            for (const element of elements) {\n                if (element.status === \"aborted\")\n                    return INVALID;\n                if (element.status === \"dirty\")\n                    status.dirty();\n                parsedSet.add(element.value);\n            }\n            return { status: status.value, value: parsedSet };\n        }\n        const elements = [...ctx.data.values()].map((item, i) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i)));\n        if (ctx.common.async) {\n            return Promise.all(elements).then((elements) => finalizeSet(elements));\n        }\n        else {\n            return finalizeSet(elements);\n        }\n    }\n    min(minSize, message) {\n        return new ZodSet({\n            ...this._def,\n            minSize: { value: minSize, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxSize, message) {\n        return new ZodSet({\n            ...this._def,\n            maxSize: { value: maxSize, message: errorUtil.toString(message) },\n        });\n    }\n    size(size, message) {\n        return this.min(size, message).max(size, message);\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodSet.create = (valueType, params) => {\n    return new ZodSet({\n        valueType,\n        minSize: null,\n        maxSize: null,\n        typeName: ZodFirstPartyTypeKind.ZodSet,\n        ...processCreateParams(params),\n    });\n};\nclass ZodFunction extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.validate = this.implement;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.function) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.function,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        function makeArgsIssue(args, error) {\n            return makeIssue({\n                data: args,\n                path: ctx.path,\n                errorMaps: [\n                    ctx.common.contextualErrorMap,\n                    ctx.schemaErrorMap,\n                    getErrorMap(),\n                    errorMap,\n                ].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_arguments,\n                    argumentsError: error,\n                },\n            });\n        }\n        function makeReturnsIssue(returns, error) {\n            return makeIssue({\n                data: returns,\n                path: ctx.path,\n                errorMaps: [\n                    ctx.common.contextualErrorMap,\n                    ctx.schemaErrorMap,\n                    getErrorMap(),\n                    errorMap,\n                ].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_return_type,\n                    returnTypeError: error,\n                },\n            });\n        }\n        const params = { errorMap: ctx.common.contextualErrorMap };\n        const fn = ctx.data;\n        if (this._def.returns instanceof ZodPromise) {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(async function (...args) {\n                const error = new ZodError([]);\n                const parsedArgs = await me._def.args\n                    .parseAsync(args, params)\n                    .catch((e) => {\n                    error.addIssue(makeArgsIssue(args, e));\n                    throw error;\n                });\n                const result = await Reflect.apply(fn, this, parsedArgs);\n                const parsedReturns = await me._def.returns._def.type\n                    .parseAsync(result, params)\n                    .catch((e) => {\n                    error.addIssue(makeReturnsIssue(result, e));\n                    throw error;\n                });\n                return parsedReturns;\n            });\n        }\n        else {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(function (...args) {\n                const parsedArgs = me._def.args.safeParse(args, params);\n                if (!parsedArgs.success) {\n                    throw new ZodError([makeArgsIssue(args, parsedArgs.error)]);\n                }\n                const result = Reflect.apply(fn, this, parsedArgs.data);\n                const parsedReturns = me._def.returns.safeParse(result, params);\n                if (!parsedReturns.success) {\n                    throw new ZodError([makeReturnsIssue(result, parsedReturns.error)]);\n                }\n                return parsedReturns.data;\n            });\n        }\n    }\n    parameters() {\n        return this._def.args;\n    }\n    returnType() {\n        return this._def.returns;\n    }\n    args(...items) {\n        return new ZodFunction({\n            ...this._def,\n            args: ZodTuple.create(items).rest(ZodUnknown.create()),\n        });\n    }\n    returns(returnType) {\n        return new ZodFunction({\n            ...this._def,\n            returns: returnType,\n        });\n    }\n    implement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    strictImplement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    static create(args, returns, params) {\n        return new ZodFunction({\n            args: (args\n                ? args\n                : ZodTuple.create([]).rest(ZodUnknown.create())),\n            returns: returns || ZodUnknown.create(),\n            typeName: ZodFirstPartyTypeKind.ZodFunction,\n            ...processCreateParams(params),\n        });\n    }\n}\nclass ZodLazy extends ZodType {\n    get schema() {\n        return this._def.getter();\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const lazySchema = this._def.getter();\n        return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });\n    }\n}\nZodLazy.create = (getter, params) => {\n    return new ZodLazy({\n        getter: getter,\n        typeName: ZodFirstPartyTypeKind.ZodLazy,\n        ...processCreateParams(params),\n    });\n};\nclass ZodLiteral extends ZodType {\n    _parse(input) {\n        if (input.data !== this._def.value) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_literal,\n                expected: this._def.value,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n    get value() {\n        return this._def.value;\n    }\n}\nZodLiteral.create = (value, params) => {\n    return new ZodLiteral({\n        value: value,\n        typeName: ZodFirstPartyTypeKind.ZodLiteral,\n        ...processCreateParams(params),\n    });\n};\nfunction createZodEnum(values, params) {\n    return new ZodEnum({\n        values,\n        typeName: ZodFirstPartyTypeKind.ZodEnum,\n        ...processCreateParams(params),\n    });\n}\nclass ZodEnum extends ZodType {\n    constructor() {\n        super(...arguments);\n        _ZodEnum_cache.set(this, void 0);\n    }\n    _parse(input) {\n        if (typeof input.data !== \"string\") {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!__classPrivateFieldGet(this, _ZodEnum_cache, \"f\")) {\n            __classPrivateFieldSet(this, _ZodEnum_cache, new Set(this._def.values), \"f\");\n        }\n        if (!__classPrivateFieldGet(this, _ZodEnum_cache, \"f\").has(input.data)) {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get options() {\n        return this._def.values;\n    }\n    get enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Values() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    extract(values, newDef = this._def) {\n        return ZodEnum.create(values, {\n            ...this._def,\n            ...newDef,\n        });\n    }\n    exclude(values, newDef = this._def) {\n        return ZodEnum.create(this.options.filter((opt) => !values.includes(opt)), {\n            ...this._def,\n            ...newDef,\n        });\n    }\n}\n_ZodEnum_cache = new WeakMap();\nZodEnum.create = createZodEnum;\nclass ZodNativeEnum extends ZodType {\n    constructor() {\n        super(...arguments);\n        _ZodNativeEnum_cache.set(this, void 0);\n    }\n    _parse(input) {\n        const nativeEnumValues = util.getValidEnumValues(this._def.values);\n        const ctx = this._getOrReturnCtx(input);\n        if (ctx.parsedType !== ZodParsedType.string &&\n            ctx.parsedType !== ZodParsedType.number) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!__classPrivateFieldGet(this, _ZodNativeEnum_cache, \"f\")) {\n            __classPrivateFieldSet(this, _ZodNativeEnum_cache, new Set(util.getValidEnumValues(this._def.values)), \"f\");\n        }\n        if (!__classPrivateFieldGet(this, _ZodNativeEnum_cache, \"f\").has(input.data)) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get enum() {\n        return this._def.values;\n    }\n}\n_ZodNativeEnum_cache = new WeakMap();\nZodNativeEnum.create = (values, params) => {\n    return new ZodNativeEnum({\n        values: values,\n        typeName: ZodFirstPartyTypeKind.ZodNativeEnum,\n        ...processCreateParams(params),\n    });\n};\nclass ZodPromise extends ZodType {\n    unwrap() {\n        return this._def.type;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.promise &&\n            ctx.common.async === false) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.promise,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const promisified = ctx.parsedType === ZodParsedType.promise\n            ? ctx.data\n            : Promise.resolve(ctx.data);\n        return OK(promisified.then((data) => {\n            return this._def.type.parseAsync(data, {\n                path: ctx.path,\n                errorMap: ctx.common.contextualErrorMap,\n            });\n        }));\n    }\n}\nZodPromise.create = (schema, params) => {\n    return new ZodPromise({\n        type: schema,\n        typeName: ZodFirstPartyTypeKind.ZodPromise,\n        ...processCreateParams(params),\n    });\n};\nclass ZodEffects extends ZodType {\n    innerType() {\n        return this._def.schema;\n    }\n    sourceType() {\n        return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects\n            ? this._def.schema.sourceType()\n            : this._def.schema;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const effect = this._def.effect || null;\n        const checkCtx = {\n            addIssue: (arg) => {\n                addIssueToContext(ctx, arg);\n                if (arg.fatal) {\n                    status.abort();\n                }\n                else {\n                    status.dirty();\n                }\n            },\n            get path() {\n                return ctx.path;\n            },\n        };\n        checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);\n        if (effect.type === \"preprocess\") {\n            const processed = effect.transform(ctx.data, checkCtx);\n            if (ctx.common.async) {\n                return Promise.resolve(processed).then(async (processed) => {\n                    if (status.value === \"aborted\")\n                        return INVALID;\n                    const result = await this._def.schema._parseAsync({\n                        data: processed,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                    if (result.status === \"aborted\")\n                        return INVALID;\n                    if (result.status === \"dirty\")\n                        return DIRTY(result.value);\n                    if (status.value === \"dirty\")\n                        return DIRTY(result.value);\n                    return result;\n                });\n            }\n            else {\n                if (status.value === \"aborted\")\n                    return INVALID;\n                const result = this._def.schema._parseSync({\n                    data: processed,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (result.status === \"aborted\")\n                    return INVALID;\n                if (result.status === \"dirty\")\n                    return DIRTY(result.value);\n                if (status.value === \"dirty\")\n                    return DIRTY(result.value);\n                return result;\n            }\n        }\n        if (effect.type === \"refinement\") {\n            const executeRefinement = (acc) => {\n                const result = effect.refinement(acc, checkCtx);\n                if (ctx.common.async) {\n                    return Promise.resolve(result);\n                }\n                if (result instanceof Promise) {\n                    throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");\n                }\n                return acc;\n            };\n            if (ctx.common.async === false) {\n                const inner = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inner.status === \"aborted\")\n                    return INVALID;\n                if (inner.status === \"dirty\")\n                    status.dirty();\n                // return value is ignored\n                executeRefinement(inner.value);\n                return { status: status.value, value: inner.value };\n            }\n            else {\n                return this._def.schema\n                    ._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx })\n                    .then((inner) => {\n                    if (inner.status === \"aborted\")\n                        return INVALID;\n                    if (inner.status === \"dirty\")\n                        status.dirty();\n                    return executeRefinement(inner.value).then(() => {\n                        return { status: status.value, value: inner.value };\n                    });\n                });\n            }\n        }\n        if (effect.type === \"transform\") {\n            if (ctx.common.async === false) {\n                const base = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (!isValid(base))\n                    return base;\n                const result = effect.transform(base.value, checkCtx);\n                if (result instanceof Promise) {\n                    throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);\n                }\n                return { status: status.value, value: result };\n            }\n            else {\n                return this._def.schema\n                    ._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx })\n                    .then((base) => {\n                    if (!isValid(base))\n                        return base;\n                    return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({ status: status.value, value: result }));\n                });\n            }\n        }\n        util.assertNever(effect);\n    }\n}\nZodEffects.create = (schema, effect, params) => {\n    return new ZodEffects({\n        schema,\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        effect,\n        ...processCreateParams(params),\n    });\n};\nZodEffects.createWithPreprocess = (preprocess, schema, params) => {\n    return new ZodEffects({\n        schema,\n        effect: { type: \"preprocess\", transform: preprocess },\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        ...processCreateParams(params),\n    });\n};\nclass ZodOptional extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.undefined) {\n            return OK(undefined);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodOptional.create = (type, params) => {\n    return new ZodOptional({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodOptional,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNullable extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.null) {\n            return OK(null);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodNullable.create = (type, params) => {\n    return new ZodNullable({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodNullable,\n        ...processCreateParams(params),\n    });\n};\nclass ZodDefault extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        let data = ctx.data;\n        if (ctx.parsedType === ZodParsedType.undefined) {\n            data = this._def.defaultValue();\n        }\n        return this._def.innerType._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    removeDefault() {\n        return this._def.innerType;\n    }\n}\nZodDefault.create = (type, params) => {\n    return new ZodDefault({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodDefault,\n        defaultValue: typeof params.default === \"function\"\n            ? params.default\n            : () => params.default,\n        ...processCreateParams(params),\n    });\n};\nclass ZodCatch extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        // newCtx is used to not collect issues from inner types in ctx\n        const newCtx = {\n            ...ctx,\n            common: {\n                ...ctx.common,\n                issues: [],\n            },\n        };\n        const result = this._def.innerType._parse({\n            data: newCtx.data,\n            path: newCtx.path,\n            parent: {\n                ...newCtx,\n            },\n        });\n        if (isAsync(result)) {\n            return result.then((result) => {\n                return {\n                    status: \"valid\",\n                    value: result.status === \"valid\"\n                        ? result.value\n                        : this._def.catchValue({\n                            get error() {\n                                return new ZodError(newCtx.common.issues);\n                            },\n                            input: newCtx.data,\n                        }),\n                };\n            });\n        }\n        else {\n            return {\n                status: \"valid\",\n                value: result.status === \"valid\"\n                    ? result.value\n                    : this._def.catchValue({\n                        get error() {\n                            return new ZodError(newCtx.common.issues);\n                        },\n                        input: newCtx.data,\n                    }),\n            };\n        }\n    }\n    removeCatch() {\n        return this._def.innerType;\n    }\n}\nZodCatch.create = (type, params) => {\n    return new ZodCatch({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodCatch,\n        catchValue: typeof params.catch === \"function\" ? params.catch : () => params.catch,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNaN extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.nan) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.nan,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n}\nZodNaN.create = (params) => {\n    return new ZodNaN({\n        typeName: ZodFirstPartyTypeKind.ZodNaN,\n        ...processCreateParams(params),\n    });\n};\nconst BRAND = Symbol(\"zod_brand\");\nclass ZodBranded extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const data = ctx.data;\n        return this._def.type._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    unwrap() {\n        return this._def.type;\n    }\n}\nclass ZodPipeline extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.common.async) {\n            const handleAsync = async () => {\n                const inResult = await this._def.in._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inResult.status === \"aborted\")\n                    return INVALID;\n                if (inResult.status === \"dirty\") {\n                    status.dirty();\n                    return DIRTY(inResult.value);\n                }\n                else {\n                    return this._def.out._parseAsync({\n                        data: inResult.value,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                }\n            };\n            return handleAsync();\n        }\n        else {\n            const inResult = this._def.in._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n            if (inResult.status === \"aborted\")\n                return INVALID;\n            if (inResult.status === \"dirty\") {\n                status.dirty();\n                return {\n                    status: \"dirty\",\n                    value: inResult.value,\n                };\n            }\n            else {\n                return this._def.out._parseSync({\n                    data: inResult.value,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n            }\n        }\n    }\n    static create(a, b) {\n        return new ZodPipeline({\n            in: a,\n            out: b,\n            typeName: ZodFirstPartyTypeKind.ZodPipeline,\n        });\n    }\n}\nclass ZodReadonly extends ZodType {\n    _parse(input) {\n        const result = this._def.innerType._parse(input);\n        const freeze = (data) => {\n            if (isValid(data)) {\n                data.value = Object.freeze(data.value);\n            }\n            return data;\n        };\n        return isAsync(result)\n            ? result.then((data) => freeze(data))\n            : freeze(result);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodReadonly.create = (type, params) => {\n    return new ZodReadonly({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodReadonly,\n        ...processCreateParams(params),\n    });\n};\nfunction custom(check, params = {}, \n/**\n * @deprecated\n *\n * Pass `fatal` into the params object instead:\n *\n * ```ts\n * z.string().custom((val) => val.length > 5, { fatal: false })\n * ```\n *\n */\nfatal) {\n    if (check)\n        return ZodAny.create().superRefine((data, ctx) => {\n            var _a, _b;\n            if (!check(data)) {\n                const p = typeof params === \"function\"\n                    ? params(data)\n                    : typeof params === \"string\"\n                        ? { message: params }\n                        : params;\n                const _fatal = (_b = (_a = p.fatal) !== null && _a !== void 0 ? _a : fatal) !== null && _b !== void 0 ? _b : true;\n                const p2 = typeof p === \"string\" ? { message: p } : p;\n                ctx.addIssue({ code: \"custom\", ...p2, fatal: _fatal });\n            }\n        });\n    return ZodAny.create();\n}\nconst late = {\n    object: ZodObject.lazycreate,\n};\nvar ZodFirstPartyTypeKind;\n(function (ZodFirstPartyTypeKind) {\n    ZodFirstPartyTypeKind[\"ZodString\"] = \"ZodString\";\n    ZodFirstPartyTypeKind[\"ZodNumber\"] = \"ZodNumber\";\n    ZodFirstPartyTypeKind[\"ZodNaN\"] = \"ZodNaN\";\n    ZodFirstPartyTypeKind[\"ZodBigInt\"] = \"ZodBigInt\";\n    ZodFirstPartyTypeKind[\"ZodBoolean\"] = \"ZodBoolean\";\n    ZodFirstPartyTypeKind[\"ZodDate\"] = \"ZodDate\";\n    ZodFirstPartyTypeKind[\"ZodSymbol\"] = \"ZodSymbol\";\n    ZodFirstPartyTypeKind[\"ZodUndefined\"] = \"ZodUndefined\";\n    ZodFirstPartyTypeKind[\"ZodNull\"] = \"ZodNull\";\n    ZodFirstPartyTypeKind[\"ZodAny\"] = \"ZodAny\";\n    ZodFirstPartyTypeKind[\"ZodUnknown\"] = \"ZodUnknown\";\n    ZodFirstPartyTypeKind[\"ZodNever\"] = \"ZodNever\";\n    ZodFirstPartyTypeKind[\"ZodVoid\"] = \"ZodVoid\";\n    ZodFirstPartyTypeKind[\"ZodArray\"] = \"ZodArray\";\n    ZodFirstPartyTypeKind[\"ZodObject\"] = \"ZodObject\";\n    ZodFirstPartyTypeKind[\"ZodUnion\"] = \"ZodUnion\";\n    ZodFirstPartyTypeKind[\"ZodDiscriminatedUnion\"] = \"ZodDiscriminatedUnion\";\n    ZodFirstPartyTypeKind[\"ZodIntersection\"] = \"ZodIntersection\";\n    ZodFirstPartyTypeKind[\"ZodTuple\"] = \"ZodTuple\";\n    ZodFirstPartyTypeKind[\"ZodRecord\"] = \"ZodRecord\";\n    ZodFirstPartyTypeKind[\"ZodMap\"] = \"ZodMap\";\n    ZodFirstPartyTypeKind[\"ZodSet\"] = \"ZodSet\";\n    ZodFirstPartyTypeKind[\"ZodFunction\"] = \"ZodFunction\";\n    ZodFirstPartyTypeKind[\"ZodLazy\"] = \"ZodLazy\";\n    ZodFirstPartyTypeKind[\"ZodLiteral\"] = \"ZodLiteral\";\n    ZodFirstPartyTypeKind[\"ZodEnum\"] = \"ZodEnum\";\n    ZodFirstPartyTypeKind[\"ZodEffects\"] = \"ZodEffects\";\n    ZodFirstPartyTypeKind[\"ZodNativeEnum\"] = \"ZodNativeEnum\";\n    ZodFirstPartyTypeKind[\"ZodOptional\"] = \"ZodOptional\";\n    ZodFirstPartyTypeKind[\"ZodNullable\"] = \"ZodNullable\";\n    ZodFirstPartyTypeKind[\"ZodDefault\"] = \"ZodDefault\";\n    ZodFirstPartyTypeKind[\"ZodCatch\"] = \"ZodCatch\";\n    ZodFirstPartyTypeKind[\"ZodPromise\"] = \"ZodPromise\";\n    ZodFirstPartyTypeKind[\"ZodBranded\"] = \"ZodBranded\";\n    ZodFirstPartyTypeKind[\"ZodPipeline\"] = \"ZodPipeline\";\n    ZodFirstPartyTypeKind[\"ZodReadonly\"] = \"ZodReadonly\";\n})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));\nconst instanceOfType = (\n// const instanceOfType = <T extends new (...args: any[]) => any>(\ncls, params = {\n    message: `Input not instance of ${cls.name}`,\n}) => custom((data) => data instanceof cls, params);\nconst stringType = ZodString.create;\nconst numberType = ZodNumber.create;\nconst nanType = ZodNaN.create;\nconst bigIntType = ZodBigInt.create;\nconst booleanType = ZodBoolean.create;\nconst dateType = ZodDate.create;\nconst symbolType = ZodSymbol.create;\nconst undefinedType = ZodUndefined.create;\nconst nullType = ZodNull.create;\nconst anyType = ZodAny.create;\nconst unknownType = ZodUnknown.create;\nconst neverType = ZodNever.create;\nconst voidType = ZodVoid.create;\nconst arrayType = ZodArray.create;\nconst objectType = ZodObject.create;\nconst strictObjectType = ZodObject.strictCreate;\nconst unionType = ZodUnion.create;\nconst discriminatedUnionType = ZodDiscriminatedUnion.create;\nconst intersectionType = ZodIntersection.create;\nconst tupleType = ZodTuple.create;\nconst recordType = ZodRecord.create;\nconst mapType = ZodMap.create;\nconst setType = ZodSet.create;\nconst functionType = ZodFunction.create;\nconst lazyType = ZodLazy.create;\nconst literalType = ZodLiteral.create;\nconst enumType = ZodEnum.create;\nconst nativeEnumType = ZodNativeEnum.create;\nconst promiseType = ZodPromise.create;\nconst effectsType = ZodEffects.create;\nconst optionalType = ZodOptional.create;\nconst nullableType = ZodNullable.create;\nconst preprocessType = ZodEffects.createWithPreprocess;\nconst pipelineType = ZodPipeline.create;\nconst ostring = () => stringType().optional();\nconst onumber = () => numberType().optional();\nconst oboolean = () => booleanType().optional();\nconst coerce = {\n    string: ((arg) => ZodString.create({ ...arg, coerce: true })),\n    number: ((arg) => ZodNumber.create({ ...arg, coerce: true })),\n    boolean: ((arg) => ZodBoolean.create({\n        ...arg,\n        coerce: true,\n    })),\n    bigint: ((arg) => ZodBigInt.create({ ...arg, coerce: true })),\n    date: ((arg) => ZodDate.create({ ...arg, coerce: true })),\n};\nconst NEVER = INVALID;\n\nvar z = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    defaultErrorMap: errorMap,\n    setErrorMap: setErrorMap,\n    getErrorMap: getErrorMap,\n    makeIssue: makeIssue,\n    EMPTY_PATH: EMPTY_PATH,\n    addIssueToContext: addIssueToContext,\n    ParseStatus: ParseStatus,\n    INVALID: INVALID,\n    DIRTY: DIRTY,\n    OK: OK,\n    isAborted: isAborted,\n    isDirty: isDirty,\n    isValid: isValid,\n    isAsync: isAsync,\n    get util () { return util; },\n    get objectUtil () { return objectUtil; },\n    ZodParsedType: ZodParsedType,\n    getParsedType: getParsedType,\n    ZodType: ZodType,\n    datetimeRegex: datetimeRegex,\n    ZodString: ZodString,\n    ZodNumber: ZodNumber,\n    ZodBigInt: ZodBigInt,\n    ZodBoolean: ZodBoolean,\n    ZodDate: ZodDate,\n    ZodSymbol: ZodSymbol,\n    ZodUndefined: ZodUndefined,\n    ZodNull: ZodNull,\n    ZodAny: ZodAny,\n    ZodUnknown: ZodUnknown,\n    ZodNever: ZodNever,\n    ZodVoid: ZodVoid,\n    ZodArray: ZodArray,\n    ZodObject: ZodObject,\n    ZodUnion: ZodUnion,\n    ZodDiscriminatedUnion: ZodDiscriminatedUnion,\n    ZodIntersection: ZodIntersection,\n    ZodTuple: ZodTuple,\n    ZodRecord: ZodRecord,\n    ZodMap: ZodMap,\n    ZodSet: ZodSet,\n    ZodFunction: ZodFunction,\n    ZodLazy: ZodLazy,\n    ZodLiteral: ZodLiteral,\n    ZodEnum: ZodEnum,\n    ZodNativeEnum: ZodNativeEnum,\n    ZodPromise: ZodPromise,\n    ZodEffects: ZodEffects,\n    ZodTransformer: ZodEffects,\n    ZodOptional: ZodOptional,\n    ZodNullable: ZodNullable,\n    ZodDefault: ZodDefault,\n    ZodCatch: ZodCatch,\n    ZodNaN: ZodNaN,\n    BRAND: BRAND,\n    ZodBranded: ZodBranded,\n    ZodPipeline: ZodPipeline,\n    ZodReadonly: ZodReadonly,\n    custom: custom,\n    Schema: ZodType,\n    ZodSchema: ZodType,\n    late: late,\n    get ZodFirstPartyTypeKind () { return ZodFirstPartyTypeKind; },\n    coerce: coerce,\n    any: anyType,\n    array: arrayType,\n    bigint: bigIntType,\n    boolean: booleanType,\n    date: dateType,\n    discriminatedUnion: discriminatedUnionType,\n    effect: effectsType,\n    'enum': enumType,\n    'function': functionType,\n    'instanceof': instanceOfType,\n    intersection: intersectionType,\n    lazy: lazyType,\n    literal: literalType,\n    map: mapType,\n    nan: nanType,\n    nativeEnum: nativeEnumType,\n    never: neverType,\n    'null': nullType,\n    nullable: nullableType,\n    number: numberType,\n    object: objectType,\n    oboolean: oboolean,\n    onumber: onumber,\n    optional: optionalType,\n    ostring: ostring,\n    pipeline: pipelineType,\n    preprocess: preprocessType,\n    promise: promiseType,\n    record: recordType,\n    set: setType,\n    strictObject: strictObjectType,\n    string: stringType,\n    symbol: symbolType,\n    transformer: effectsType,\n    tuple: tupleType,\n    'undefined': undefinedType,\n    union: unionType,\n    unknown: unknownType,\n    'void': voidType,\n    NEVER: NEVER,\n    ZodIssueCode: ZodIssueCode,\n    quotelessJson: quotelessJson,\n    ZodError: ZodError\n});\n\nexport { BRAND, DIRTY, EMPTY_PATH, INVALID, NEVER, OK, ParseStatus, ZodType as Schema, ZodAny, ZodArray, ZodBigInt, ZodBoolean, ZodBranded, ZodCatch, ZodDate, ZodDefault, ZodDiscriminatedUnion, ZodEffects, ZodEnum, ZodError, ZodFirstPartyTypeKind, ZodFunction, ZodIntersection, ZodIssueCode, ZodLazy, ZodLiteral, ZodMap, ZodNaN, ZodNativeEnum, ZodNever, ZodNull, ZodNullable, ZodNumber, ZodObject, ZodOptional, ZodParsedType, ZodPipeline, ZodPromise, ZodReadonly, ZodRecord, ZodType as ZodSchema, ZodSet, ZodString, ZodSymbol, ZodEffects as ZodTransformer, ZodTuple, ZodType, ZodUndefined, ZodUnion, ZodUnknown, ZodVoid, addIssueToContext, anyType as any, arrayType as array, bigIntType as bigint, booleanType as boolean, coerce, custom, dateType as date, datetimeRegex, z as default, errorMap as defaultErrorMap, discriminatedUnionType as discriminatedUnion, effectsType as effect, enumType as enum, functionType as function, getErrorMap, getParsedType, instanceOfType as instanceof, intersectionType as intersection, isAborted, isAsync, isDirty, isValid, late, lazyType as lazy, literalType as literal, makeIssue, mapType as map, nanType as nan, nativeEnumType as nativeEnum, neverType as never, nullType as null, nullableType as nullable, numberType as number, objectType as object, objectUtil, oboolean, onumber, optionalType as optional, ostring, pipelineType as pipeline, preprocessType as preprocess, promiseType as promise, quotelessJson, recordType as record, setType as set, setErrorMap, strictObjectType as strictObject, stringType as string, symbolType as symbol, effectsType as transformer, tupleType as tuple, undefinedType as undefined, unionType as union, unknownType as unknown, util, voidType as void, z };\n","/** Types of elements found in htmlparser2's DOM */\nexport var ElementType;\n(function (ElementType) {\n    /** Type for the root element of a document */\n    ElementType[\"Root\"] = \"root\";\n    /** Type for Text */\n    ElementType[\"Text\"] = \"text\";\n    /** Type for <? ... ?> */\n    ElementType[\"Directive\"] = \"directive\";\n    /** Type for <!-- ... --> */\n    ElementType[\"Comment\"] = \"comment\";\n    /** Type for <script> tags */\n    ElementType[\"Script\"] = \"script\";\n    /** Type for <style> tags */\n    ElementType[\"Style\"] = \"style\";\n    /** Type for Any tag */\n    ElementType[\"Tag\"] = \"tag\";\n    /** Type for <![CDATA[ ... ]]> */\n    ElementType[\"CDATA\"] = \"cdata\";\n    /** Type for <!doctype ...> */\n    ElementType[\"Doctype\"] = \"doctype\";\n})(ElementType || (ElementType = {}));\n/**\n * Tests whether an element is a tag or not.\n *\n * @param elem Element to test\n */\nexport function isTag(elem) {\n    return (elem.type === ElementType.Tag ||\n        elem.type === ElementType.Script ||\n        elem.type === ElementType.Style);\n}\n// Exports for backwards compatibility\n/** Type for the root element of a document */\nexport const Root = ElementType.Root;\n/** Type for Text */\nexport const Text = ElementType.Text;\n/** Type for <? ... ?> */\nexport const Directive = ElementType.Directive;\n/** Type for <!-- ... --> */\nexport const Comment = ElementType.Comment;\n/** Type for <script> tags */\nexport const Script = ElementType.Script;\n/** Type for <style> tags */\nexport const Style = ElementType.Style;\n/** Type for Any tag */\nexport const Tag = ElementType.Tag;\n/** Type for <![CDATA[ ... ]]> */\nexport const CDATA = ElementType.CDATA;\n/** Type for <!doctype ...> */\nexport const Doctype = ElementType.Doctype;\n","import htmlDecodeTree from \"./generated/decode-data-html.js\";\nimport xmlDecodeTree from \"./generated/decode-data-xml.js\";\nimport decodeCodePoint, { replaceCodePoint, fromCodePoint, } from \"./decode_codepoint.js\";\n// Re-export for use by eg. htmlparser2\nexport { htmlDecodeTree, xmlDecodeTree, decodeCodePoint };\nexport { replaceCodePoint, fromCodePoint } from \"./decode_codepoint.js\";\nvar CharCodes;\n(function (CharCodes) {\n    CharCodes[CharCodes[\"NUM\"] = 35] = \"NUM\";\n    CharCodes[CharCodes[\"SEMI\"] = 59] = \"SEMI\";\n    CharCodes[CharCodes[\"EQUALS\"] = 61] = \"EQUALS\";\n    CharCodes[CharCodes[\"ZERO\"] = 48] = \"ZERO\";\n    CharCodes[CharCodes[\"NINE\"] = 57] = \"NINE\";\n    CharCodes[CharCodes[\"LOWER_A\"] = 97] = \"LOWER_A\";\n    CharCodes[CharCodes[\"LOWER_F\"] = 102] = \"LOWER_F\";\n    CharCodes[CharCodes[\"LOWER_X\"] = 120] = \"LOWER_X\";\n    CharCodes[CharCodes[\"LOWER_Z\"] = 122] = \"LOWER_Z\";\n    CharCodes[CharCodes[\"UPPER_A\"] = 65] = \"UPPER_A\";\n    CharCodes[CharCodes[\"UPPER_F\"] = 70] = \"UPPER_F\";\n    CharCodes[CharCodes[\"UPPER_Z\"] = 90] = \"UPPER_Z\";\n})(CharCodes || (CharCodes = {}));\n/** Bit that needs to be set to convert an upper case ASCII character to lower case */\nconst TO_LOWER_BIT = 0b100000;\nexport var BinTrieFlags;\n(function (BinTrieFlags) {\n    BinTrieFlags[BinTrieFlags[\"VALUE_LENGTH\"] = 49152] = \"VALUE_LENGTH\";\n    BinTrieFlags[BinTrieFlags[\"BRANCH_LENGTH\"] = 16256] = \"BRANCH_LENGTH\";\n    BinTrieFlags[BinTrieFlags[\"JUMP_TABLE\"] = 127] = \"JUMP_TABLE\";\n})(BinTrieFlags || (BinTrieFlags = {}));\nfunction isNumber(code) {\n    return code >= CharCodes.ZERO && code <= CharCodes.NINE;\n}\nfunction isHexadecimalCharacter(code) {\n    return ((code >= CharCodes.UPPER_A && code <= CharCodes.UPPER_F) ||\n        (code >= CharCodes.LOWER_A && code <= CharCodes.LOWER_F));\n}\nfunction isAsciiAlphaNumeric(code) {\n    return ((code >= CharCodes.UPPER_A && code <= CharCodes.UPPER_Z) ||\n        (code >= CharCodes.LOWER_A && code <= CharCodes.LOWER_Z) ||\n        isNumber(code));\n}\n/**\n * Checks if the given character is a valid end character for an entity in an attribute.\n *\n * Attribute values that aren't terminated properly aren't parsed, and shouldn't lead to a parser error.\n * See the example in https://html.spec.whatwg.org/multipage/parsing.html#named-character-reference-state\n */\nfunction isEntityInAttributeInvalidEnd(code) {\n    return code === CharCodes.EQUALS || isAsciiAlphaNumeric(code);\n}\nvar EntityDecoderState;\n(function (EntityDecoderState) {\n    EntityDecoderState[EntityDecoderState[\"EntityStart\"] = 0] = \"EntityStart\";\n    EntityDecoderState[EntityDecoderState[\"NumericStart\"] = 1] = \"NumericStart\";\n    EntityDecoderState[EntityDecoderState[\"NumericDecimal\"] = 2] = \"NumericDecimal\";\n    EntityDecoderState[EntityDecoderState[\"NumericHex\"] = 3] = \"NumericHex\";\n    EntityDecoderState[EntityDecoderState[\"NamedEntity\"] = 4] = \"NamedEntity\";\n})(EntityDecoderState || (EntityDecoderState = {}));\nexport var DecodingMode;\n(function (DecodingMode) {\n    /** Entities in text nodes that can end with any character. */\n    DecodingMode[DecodingMode[\"Legacy\"] = 0] = \"Legacy\";\n    /** Only allow entities terminated with a semicolon. */\n    DecodingMode[DecodingMode[\"Strict\"] = 1] = \"Strict\";\n    /** Entities in attributes have limitations on ending characters. */\n    DecodingMode[DecodingMode[\"Attribute\"] = 2] = \"Attribute\";\n})(DecodingMode || (DecodingMode = {}));\n/**\n * Token decoder with support of writing partial entities.\n */\nexport class EntityDecoder {\n    constructor(\n    /** The tree used to decode entities. */\n    decodeTree, \n    /**\n     * The function that is called when a codepoint is decoded.\n     *\n     * For multi-byte named entities, this will be called multiple times,\n     * with the second codepoint, and the same `consumed` value.\n     *\n     * @param codepoint The decoded codepoint.\n     * @param consumed The number of bytes consumed by the decoder.\n     */\n    emitCodePoint, \n    /** An object that is used to produce errors. */\n    errors) {\n        this.decodeTree = decodeTree;\n        this.emitCodePoint = emitCodePoint;\n        this.errors = errors;\n        /** The current state of the decoder. */\n        this.state = EntityDecoderState.EntityStart;\n        /** Characters that were consumed while parsing an entity. */\n        this.consumed = 1;\n        /**\n         * The result of the entity.\n         *\n         * Either the result index of a numeric entity, or the codepoint of a\n         * numeric entity.\n         */\n        this.result = 0;\n        /** The current index in the decode tree. */\n        this.treeIndex = 0;\n        /** The number of characters that were consumed in excess. */\n        this.excess = 1;\n        /** The mode in which the decoder is operating. */\n        this.decodeMode = DecodingMode.Strict;\n    }\n    /** Resets the instance to make it reusable. */\n    startEntity(decodeMode) {\n        this.decodeMode = decodeMode;\n        this.state = EntityDecoderState.EntityStart;\n        this.result = 0;\n        this.treeIndex = 0;\n        this.excess = 1;\n        this.consumed = 1;\n    }\n    /**\n     * Write an entity to the decoder. This can be called multiple times with partial entities.\n     * If the entity is incomplete, the decoder will return -1.\n     *\n     * Mirrors the implementation of `getDecoder`, but with the ability to stop decoding if the\n     * entity is incomplete, and resume when the next string is written.\n     *\n     * @param string The string containing the entity (or a continuation of the entity).\n     * @param offset The offset at which the entity begins. Should be 0 if this is not the first call.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    write(str, offset) {\n        switch (this.state) {\n            case EntityDecoderState.EntityStart: {\n                if (str.charCodeAt(offset) === CharCodes.NUM) {\n                    this.state = EntityDecoderState.NumericStart;\n                    this.consumed += 1;\n                    return this.stateNumericStart(str, offset + 1);\n                }\n                this.state = EntityDecoderState.NamedEntity;\n                return this.stateNamedEntity(str, offset);\n            }\n            case EntityDecoderState.NumericStart: {\n                return this.stateNumericStart(str, offset);\n            }\n            case EntityDecoderState.NumericDecimal: {\n                return this.stateNumericDecimal(str, offset);\n            }\n            case EntityDecoderState.NumericHex: {\n                return this.stateNumericHex(str, offset);\n            }\n            case EntityDecoderState.NamedEntity: {\n                return this.stateNamedEntity(str, offset);\n            }\n        }\n    }\n    /**\n     * Switches between the numeric decimal and hexadecimal states.\n     *\n     * Equivalent to the `Numeric character reference state` in the HTML spec.\n     *\n     * @param str The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNumericStart(str, offset) {\n        if (offset >= str.length) {\n            return -1;\n        }\n        if ((str.charCodeAt(offset) | TO_LOWER_BIT) === CharCodes.LOWER_X) {\n            this.state = EntityDecoderState.NumericHex;\n            this.consumed += 1;\n            return this.stateNumericHex(str, offset + 1);\n        }\n        this.state = EntityDecoderState.NumericDecimal;\n        return this.stateNumericDecimal(str, offset);\n    }\n    addToNumericResult(str, start, end, base) {\n        if (start !== end) {\n            const digitCount = end - start;\n            this.result =\n                this.result * Math.pow(base, digitCount) +\n                    parseInt(str.substr(start, digitCount), base);\n            this.consumed += digitCount;\n        }\n    }\n    /**\n     * Parses a hexadecimal numeric entity.\n     *\n     * Equivalent to the `Hexademical character reference state` in the HTML spec.\n     *\n     * @param str The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNumericHex(str, offset) {\n        const startIdx = offset;\n        while (offset < str.length) {\n            const char = str.charCodeAt(offset);\n            if (isNumber(char) || isHexadecimalCharacter(char)) {\n                offset += 1;\n            }\n            else {\n                this.addToNumericResult(str, startIdx, offset, 16);\n                return this.emitNumericEntity(char, 3);\n            }\n        }\n        this.addToNumericResult(str, startIdx, offset, 16);\n        return -1;\n    }\n    /**\n     * Parses a decimal numeric entity.\n     *\n     * Equivalent to the `Decimal character reference state` in the HTML spec.\n     *\n     * @param str The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNumericDecimal(str, offset) {\n        const startIdx = offset;\n        while (offset < str.length) {\n            const char = str.charCodeAt(offset);\n            if (isNumber(char)) {\n                offset += 1;\n            }\n            else {\n                this.addToNumericResult(str, startIdx, offset, 10);\n                return this.emitNumericEntity(char, 2);\n            }\n        }\n        this.addToNumericResult(str, startIdx, offset, 10);\n        return -1;\n    }\n    /**\n     * Validate and emit a numeric entity.\n     *\n     * Implements the logic from the `Hexademical character reference start\n     * state` and `Numeric character reference end state` in the HTML spec.\n     *\n     * @param lastCp The last code point of the entity. Used to see if the\n     *               entity was terminated with a semicolon.\n     * @param expectedLength The minimum number of characters that should be\n     *                       consumed. Used to validate that at least one digit\n     *                       was consumed.\n     * @returns The number of characters that were consumed.\n     */\n    emitNumericEntity(lastCp, expectedLength) {\n        var _a;\n        // Ensure we consumed at least one digit.\n        if (this.consumed <= expectedLength) {\n            (_a = this.errors) === null || _a === void 0 ? void 0 : _a.absenceOfDigitsInNumericCharacterReference(this.consumed);\n            return 0;\n        }\n        // Figure out if this is a legit end of the entity\n        if (lastCp === CharCodes.SEMI) {\n            this.consumed += 1;\n        }\n        else if (this.decodeMode === DecodingMode.Strict) {\n            return 0;\n        }\n        this.emitCodePoint(replaceCodePoint(this.result), this.consumed);\n        if (this.errors) {\n            if (lastCp !== CharCodes.SEMI) {\n                this.errors.missingSemicolonAfterCharacterReference();\n            }\n            this.errors.validateNumericCharacterReference(this.result);\n        }\n        return this.consumed;\n    }\n    /**\n     * Parses a named entity.\n     *\n     * Equivalent to the `Named character reference state` in the HTML spec.\n     *\n     * @param str The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNamedEntity(str, offset) {\n        const { decodeTree } = this;\n        let current = decodeTree[this.treeIndex];\n        // The mask is the number of bytes of the value, including the current byte.\n        let valueLength = (current & BinTrieFlags.VALUE_LENGTH) >> 14;\n        for (; offset < str.length; offset++, this.excess++) {\n            const char = str.charCodeAt(offset);\n            this.treeIndex = determineBranch(decodeTree, current, this.treeIndex + Math.max(1, valueLength), char);\n            if (this.treeIndex < 0) {\n                return this.result === 0 ||\n                    // If we are parsing an attribute\n                    (this.decodeMode === DecodingMode.Attribute &&\n                        // We shouldn't have consumed any characters after the entity,\n                        (valueLength === 0 ||\n                            // And there should be no invalid characters.\n                            isEntityInAttributeInvalidEnd(char)))\n                    ? 0\n                    : this.emitNotTerminatedNamedEntity();\n            }\n            current = decodeTree[this.treeIndex];\n            valueLength = (current & BinTrieFlags.VALUE_LENGTH) >> 14;\n            // If the branch is a value, store it and continue\n            if (valueLength !== 0) {\n                // If the entity is terminated by a semicolon, we are done.\n                if (char === CharCodes.SEMI) {\n                    return this.emitNamedEntityData(this.treeIndex, valueLength, this.consumed + this.excess);\n                }\n                // If we encounter a non-terminated (legacy) entity while parsing strictly, then ignore it.\n                if (this.decodeMode !== DecodingMode.Strict) {\n                    this.result = this.treeIndex;\n                    this.consumed += this.excess;\n                    this.excess = 0;\n                }\n            }\n        }\n        return -1;\n    }\n    /**\n     * Emit a named entity that was not terminated with a semicolon.\n     *\n     * @returns The number of characters consumed.\n     */\n    emitNotTerminatedNamedEntity() {\n        var _a;\n        const { result, decodeTree } = this;\n        const valueLength = (decodeTree[result] & BinTrieFlags.VALUE_LENGTH) >> 14;\n        this.emitNamedEntityData(result, valueLength, this.consumed);\n        (_a = this.errors) === null || _a === void 0 ? void 0 : _a.missingSemicolonAfterCharacterReference();\n        return this.consumed;\n    }\n    /**\n     * Emit a named entity.\n     *\n     * @param result The index of the entity in the decode tree.\n     * @param valueLength The number of bytes in the entity.\n     * @param consumed The number of characters consumed.\n     *\n     * @returns The number of characters consumed.\n     */\n    emitNamedEntityData(result, valueLength, consumed) {\n        const { decodeTree } = this;\n        this.emitCodePoint(valueLength === 1\n            ? decodeTree[result] & ~BinTrieFlags.VALUE_LENGTH\n            : decodeTree[result + 1], consumed);\n        if (valueLength === 3) {\n            // For multi-byte values, we need to emit the second byte.\n            this.emitCodePoint(decodeTree[result + 2], consumed);\n        }\n        return consumed;\n    }\n    /**\n     * Signal to the parser that the end of the input was reached.\n     *\n     * Remaining data will be emitted and relevant errors will be produced.\n     *\n     * @returns The number of characters consumed.\n     */\n    end() {\n        var _a;\n        switch (this.state) {\n            case EntityDecoderState.NamedEntity: {\n                // Emit a named entity if we have one.\n                return this.result !== 0 &&\n                    (this.decodeMode !== DecodingMode.Attribute ||\n                        this.result === this.treeIndex)\n                    ? this.emitNotTerminatedNamedEntity()\n                    : 0;\n            }\n            // Otherwise, emit a numeric entity if we have one.\n            case EntityDecoderState.NumericDecimal: {\n                return this.emitNumericEntity(0, 2);\n            }\n            case EntityDecoderState.NumericHex: {\n                return this.emitNumericEntity(0, 3);\n            }\n            case EntityDecoderState.NumericStart: {\n                (_a = this.errors) === null || _a === void 0 ? void 0 : _a.absenceOfDigitsInNumericCharacterReference(this.consumed);\n                return 0;\n            }\n            case EntityDecoderState.EntityStart: {\n                // Return 0 if we have no entity.\n                return 0;\n            }\n        }\n    }\n}\n/**\n * Creates a function that decodes entities in a string.\n *\n * @param decodeTree The decode tree.\n * @returns A function that decodes entities in a string.\n */\nfunction getDecoder(decodeTree) {\n    let ret = \"\";\n    const decoder = new EntityDecoder(decodeTree, (str) => (ret += fromCodePoint(str)));\n    return function decodeWithTrie(str, decodeMode) {\n        let lastIndex = 0;\n        let offset = 0;\n        while ((offset = str.indexOf(\"&\", offset)) >= 0) {\n            ret += str.slice(lastIndex, offset);\n            decoder.startEntity(decodeMode);\n            const len = decoder.write(str, \n            // Skip the \"&\"\n            offset + 1);\n            if (len < 0) {\n                lastIndex = offset + decoder.end();\n                break;\n            }\n            lastIndex = offset + len;\n            // If `len` is 0, skip the current `&` and continue.\n            offset = len === 0 ? lastIndex + 1 : lastIndex;\n        }\n        const result = ret + str.slice(lastIndex);\n        // Make sure we don't keep a reference to the final string.\n        ret = \"\";\n        return result;\n    };\n}\n/**\n * Determines the branch of the current node that is taken given the current\n * character. This function is used to traverse the trie.\n *\n * @param decodeTree The trie.\n * @param current The current node.\n * @param nodeIdx The index right after the current node and its value.\n * @param char The current character.\n * @returns The index of the next node, or -1 if no branch is taken.\n */\nexport function determineBranch(decodeTree, current, nodeIdx, char) {\n    const branchCount = (current & BinTrieFlags.BRANCH_LENGTH) >> 7;\n    const jumpOffset = current & BinTrieFlags.JUMP_TABLE;\n    // Case 1: Single branch encoded in jump offset\n    if (branchCount === 0) {\n        return jumpOffset !== 0 && char === jumpOffset ? nodeIdx : -1;\n    }\n    // Case 2: Multiple branches encoded in jump table\n    if (jumpOffset) {\n        const value = char - jumpOffset;\n        return value < 0 || value >= branchCount\n            ? -1\n            : decodeTree[nodeIdx + value] - 1;\n    }\n    // Case 3: Multiple branches encoded in dictionary\n    // Binary search for the character.\n    let lo = nodeIdx;\n    let hi = lo + branchCount - 1;\n    while (lo <= hi) {\n        const mid = (lo + hi) >>> 1;\n        const midVal = decodeTree[mid];\n        if (midVal < char) {\n            lo = mid + 1;\n        }\n        else if (midVal > char) {\n            hi = mid - 1;\n        }\n        else {\n            return decodeTree[mid + branchCount];\n        }\n    }\n    return -1;\n}\nconst htmlDecoder = getDecoder(htmlDecodeTree);\nconst xmlDecoder = getDecoder(xmlDecodeTree);\n/**\n * Decodes an HTML string.\n *\n * @param str The string to decode.\n * @param mode The decoding mode.\n * @returns The decoded string.\n */\nexport function decodeHTML(str, mode = DecodingMode.Legacy) {\n    return htmlDecoder(str, mode);\n}\n/**\n * Decodes an HTML string in an attribute.\n *\n * @param str The string to decode.\n * @returns The decoded string.\n */\nexport function decodeHTMLAttribute(str) {\n    return htmlDecoder(str, DecodingMode.Attribute);\n}\n/**\n * Decodes an HTML string, requiring all entities to be terminated by a semicolon.\n *\n * @param str The string to decode.\n * @returns The decoded string.\n */\nexport function decodeHTMLStrict(str) {\n    return htmlDecoder(str, DecodingMode.Strict);\n}\n/**\n * Decodes an XML string, requiring all entities to be terminated by a semicolon.\n *\n * @param str The string to decode.\n * @returns The decoded string.\n */\nexport function decodeXML(str) {\n    return xmlDecoder(str, DecodingMode.Strict);\n}\n//# sourceMappingURL=decode.js.map","import { decodeXML, decodeHTML, DecodingMode } from \"./decode.js\";\nimport { encodeHTML, encodeNonAsciiHTML } from \"./encode.js\";\nimport { encodeXML, escapeUTF8, escapeAttribute, escapeText, } from \"./escape.js\";\n/** The level of entities to support. */\nexport var EntityLevel;\n(function (EntityLevel) {\n    /** Support only XML entities. */\n    EntityLevel[EntityLevel[\"XML\"] = 0] = \"XML\";\n    /** Support HTML entities, which are a superset of XML entities. */\n    EntityLevel[EntityLevel[\"HTML\"] = 1] = \"HTML\";\n})(EntityLevel || (EntityLevel = {}));\nexport var EncodingMode;\n(function (EncodingMode) {\n    /**\n     * The output is UTF-8 encoded. Only characters that need escaping within\n     * XML will be escaped.\n     */\n    EncodingMode[EncodingMode[\"UTF8\"] = 0] = \"UTF8\";\n    /**\n     * The output consists only of ASCII characters. Characters that need\n     * escaping within HTML, and characters that aren't ASCII characters will\n     * be escaped.\n     */\n    EncodingMode[EncodingMode[\"ASCII\"] = 1] = \"ASCII\";\n    /**\n     * Encode all characters that have an equivalent entity, as well as all\n     * characters that are not ASCII characters.\n     */\n    EncodingMode[EncodingMode[\"Extensive\"] = 2] = \"Extensive\";\n    /**\n     * Encode all characters that have to be escaped in HTML attributes,\n     * following {@link https://html.spec.whatwg.org/multipage/parsing.html#escapingString}.\n     */\n    EncodingMode[EncodingMode[\"Attribute\"] = 3] = \"Attribute\";\n    /**\n     * Encode all characters that have to be escaped in HTML text,\n     * following {@link https://html.spec.whatwg.org/multipage/parsing.html#escapingString}.\n     */\n    EncodingMode[EncodingMode[\"Text\"] = 4] = \"Text\";\n})(EncodingMode || (EncodingMode = {}));\n/**\n * Decodes a string with entities.\n *\n * @param data String to decode.\n * @param options Decoding options.\n */\nexport function decode(data, options = EntityLevel.XML) {\n    const level = typeof options === \"number\" ? options : options.level;\n    if (level === EntityLevel.HTML) {\n        const mode = typeof options === \"object\" ? options.mode : undefined;\n        return decodeHTML(data, mode);\n    }\n    return decodeXML(data);\n}\n/**\n * Decodes a string with entities. Does not allow missing trailing semicolons for entities.\n *\n * @param data String to decode.\n * @param options Decoding options.\n * @deprecated Use `decode` with the `mode` set to `Strict`.\n */\nexport function decodeStrict(data, options = EntityLevel.XML) {\n    var _a;\n    const opts = typeof options === \"number\" ? { level: options } : options;\n    (_a = opts.mode) !== null && _a !== void 0 ? _a : (opts.mode = DecodingMode.Strict);\n    return decode(data, opts);\n}\n/**\n * Encodes a string with entities.\n *\n * @param data String to encode.\n * @param options Encoding options.\n */\nexport function encode(data, options = EntityLevel.XML) {\n    const opts = typeof options === \"number\" ? { level: options } : options;\n    // Mode `UTF8` just escapes XML entities\n    if (opts.mode === EncodingMode.UTF8)\n        return escapeUTF8(data);\n    if (opts.mode === EncodingMode.Attribute)\n        return escapeAttribute(data);\n    if (opts.mode === EncodingMode.Text)\n        return escapeText(data);\n    if (opts.level === EntityLevel.HTML) {\n        if (opts.mode === EncodingMode.ASCII) {\n            return encodeNonAsciiHTML(data);\n        }\n        return encodeHTML(data);\n    }\n    // ASCII and Extensive are equivalent\n    return encodeXML(data);\n}\nexport { encodeXML, escape, escapeUTF8, escapeAttribute, escapeText, } from \"./escape.js\";\nexport { encodeHTML, encodeNonAsciiHTML, \n// Legacy aliases (deprecated)\nencodeHTML as encodeHTML4, encodeHTML as encodeHTML5, } from \"./encode.js\";\nexport { EntityDecoder, DecodingMode, decodeXML, decodeHTML, decodeHTMLStrict, decodeHTMLAttribute, \n// Legacy aliases (deprecated)\ndecodeHTML as decodeHTML4, decodeHTML as decodeHTML5, decodeHTMLStrict as decodeHTML4Strict, decodeHTMLStrict as decodeHTML5Strict, decodeXML as decodeXMLStrict, } from \"./decode.js\";\n//# sourceMappingURL=index.js.map","import { hasChildren } from \"domhandler\";\n/**\n * Given an array of nodes, remove any member that is contained by another\n * member.\n *\n * @category Helpers\n * @param nodes Nodes to filter.\n * @returns Remaining nodes that aren't contained by other nodes.\n */\nexport function removeSubsets(nodes) {\n    let idx = nodes.length;\n    /*\n     * Check if each node (or one of its ancestors) is already contained in the\n     * array.\n     */\n    while (--idx >= 0) {\n        const node = nodes[idx];\n        /*\n         * Remove the node if it is not unique.\n         * We are going through the array from the end, so we only\n         * have to check nodes that preceed the node under consideration in the array.\n         */\n        if (idx > 0 && nodes.lastIndexOf(node, idx - 1) >= 0) {\n            nodes.splice(idx, 1);\n            continue;\n        }\n        for (let ancestor = node.parent; ancestor; ancestor = ancestor.parent) {\n            if (nodes.includes(ancestor)) {\n                nodes.splice(idx, 1);\n                break;\n            }\n        }\n    }\n    return nodes;\n}\n/**\n * @category Helpers\n * @see {@link http://dom.spec.whatwg.org/#dom-node-comparedocumentposition}\n */\nexport var DocumentPosition;\n(function (DocumentPosition) {\n    DocumentPosition[DocumentPosition[\"DISCONNECTED\"] = 1] = \"DISCONNECTED\";\n    DocumentPosition[DocumentPosition[\"PRECEDING\"] = 2] = \"PRECEDING\";\n    DocumentPosition[DocumentPosition[\"FOLLOWING\"] = 4] = \"FOLLOWING\";\n    DocumentPosition[DocumentPosition[\"CONTAINS\"] = 8] = \"CONTAINS\";\n    DocumentPosition[DocumentPosition[\"CONTAINED_BY\"] = 16] = \"CONTAINED_BY\";\n})(DocumentPosition || (DocumentPosition = {}));\n/**\n * Compare the position of one node against another node in any other document,\n * returning a bitmask with the values from {@link DocumentPosition}.\n *\n * Document order:\n * > There is an ordering, document order, defined on all the nodes in the\n * > document corresponding to the order in which the first character of the\n * > XML representation of each node occurs in the XML representation of the\n * > document after expansion of general entities. Thus, the document element\n * > node will be the first node. Element nodes occur before their children.\n * > Thus, document order orders element nodes in order of the occurrence of\n * > their start-tag in the XML (after expansion of entities). The attribute\n * > nodes of an element occur after the element and before its children. The\n * > relative order of attribute nodes is implementation-dependent.\n *\n * Source:\n * http://www.w3.org/TR/DOM-Level-3-Core/glossary.html#dt-document-order\n *\n * @category Helpers\n * @param nodeA The first node to use in the comparison\n * @param nodeB The second node to use in the comparison\n * @returns A bitmask describing the input nodes' relative position.\n *\n * See http://dom.spec.whatwg.org/#dom-node-comparedocumentposition for\n * a description of these values.\n */\nexport function compareDocumentPosition(nodeA, nodeB) {\n    const aParents = [];\n    const bParents = [];\n    if (nodeA === nodeB) {\n        return 0;\n    }\n    let current = hasChildren(nodeA) ? nodeA : nodeA.parent;\n    while (current) {\n        aParents.unshift(current);\n        current = current.parent;\n    }\n    current = hasChildren(nodeB) ? nodeB : nodeB.parent;\n    while (current) {\n        bParents.unshift(current);\n        current = current.parent;\n    }\n    const maxIdx = Math.min(aParents.length, bParents.length);\n    let idx = 0;\n    while (idx < maxIdx && aParents[idx] === bParents[idx]) {\n        idx++;\n    }\n    if (idx === 0) {\n        return DocumentPosition.DISCONNECTED;\n    }\n    const sharedParent = aParents[idx - 1];\n    const siblings = sharedParent.children;\n    const aSibling = aParents[idx];\n    const bSibling = bParents[idx];\n    if (siblings.indexOf(aSibling) > siblings.indexOf(bSibling)) {\n        if (sharedParent === nodeB) {\n            return DocumentPosition.FOLLOWING | DocumentPosition.CONTAINED_BY;\n        }\n        return DocumentPosition.FOLLOWING;\n    }\n    if (sharedParent === nodeA) {\n        return DocumentPosition.PRECEDING | DocumentPosition.CONTAINS;\n    }\n    return DocumentPosition.PRECEDING;\n}\n/**\n * Sort an array of nodes based on their relative position in the document,\n * removing any duplicate nodes. If the array contains nodes that do not belong\n * to the same document, sort order is unspecified.\n *\n * @category Helpers\n * @param nodes Array of DOM nodes.\n * @returns Collection of unique nodes, sorted in document order.\n */\nexport function uniqueSort(nodes) {\n    nodes = nodes.filter((node, i, arr) => !arr.includes(node, i + 1));\n    nodes.sort((a, b) => {\n        const relative = compareDocumentPosition(a, b);\n        if (relative & DocumentPosition.PRECEDING) {\n            return -1;\n        }\n        else if (relative & DocumentPosition.FOLLOWING) {\n            return 1;\n        }\n        return 0;\n    });\n    return nodes;\n}\n//# sourceMappingURL=helpers.js.map","/**\n * Checks if an object is a Cheerio instance.\n *\n * @category Utils\n * @param maybeCheerio - The object to check.\n * @returns Whether the object is a Cheerio instance.\n */\nexport function isCheerio(maybeCheerio) {\n    return maybeCheerio.cheerio != null;\n}\n/**\n * Convert a string to camel case notation.\n *\n * @private\n * @category Utils\n * @param str - The string to be converted.\n * @returns String in camel case notation.\n */\nexport function camelCase(str) {\n    return str.replace(/[._-](\\w|$)/g, (_, x) => x.toUpperCase());\n}\n/**\n * Convert a string from camel case to \"CSS case\", where word boundaries are\n * described by hyphens (\"-\") and all characters are lower-case.\n *\n * @private\n * @category Utils\n * @param str - The string to be converted.\n * @returns String in \"CSS case\".\n */\nexport function cssCase(str) {\n    return str.replace(/[A-Z]/g, '-$&').toLowerCase();\n}\n/**\n * Iterate over each DOM element without creating intermediary Cheerio\n * instances.\n *\n * This is indented for use internally to avoid otherwise unnecessary memory\n * pressure introduced by _make.\n *\n * @category Utils\n * @param array - The array to iterate over.\n * @param fn - Function to call.\n * @returns The original instance.\n */\nexport function domEach(array, fn) {\n    const len = array.length;\n    for (let i = 0; i < len; i++)\n        fn(array[i], i);\n    return array;\n}\nvar CharacterCodes;\n(function (CharacterCodes) {\n    CharacterCodes[CharacterCodes[\"LowerA\"] = 97] = \"LowerA\";\n    CharacterCodes[CharacterCodes[\"LowerZ\"] = 122] = \"LowerZ\";\n    CharacterCodes[CharacterCodes[\"UpperA\"] = 65] = \"UpperA\";\n    CharacterCodes[CharacterCodes[\"UpperZ\"] = 90] = \"UpperZ\";\n    CharacterCodes[CharacterCodes[\"Exclamation\"] = 33] = \"Exclamation\";\n})(CharacterCodes || (CharacterCodes = {}));\n/**\n * Check if string is HTML.\n *\n * Tests for a `<` within a string, immediate followed by a letter and\n * eventually followed by a `>`.\n *\n * @private\n * @category Utils\n * @param str - The string to check.\n * @returns Indicates if `str` is HTML.\n */\nexport function isHtml(str) {\n    const tagStart = str.indexOf('<');\n    if (tagStart < 0 || tagStart > str.length - 3)\n        return false;\n    const tagChar = str.charCodeAt(tagStart + 1);\n    return (((tagChar >= CharacterCodes.LowerA && tagChar <= CharacterCodes.LowerZ) ||\n        (tagChar >= CharacterCodes.UpperA && tagChar <= CharacterCodes.UpperZ) ||\n        tagChar === CharacterCodes.Exclamation) &&\n        str.includes('>', tagStart + 2));\n}\n//# sourceMappingURL=utils.js.map","const UNDEFINED_CODE_POINTS = new Set([\n    65534, 65535, 131070, 131071, 196606, 196607, 262142, 262143, 327678, 327679, 393214,\n    393215, 458750, 458751, 524286, 524287, 589822, 589823, 655358, 655359, 720894,\n    720895, 786430, 786431, 851966, 851967, 917502, 917503, 983038, 983039, 1048574,\n    1048575, 1114110, 1114111,\n]);\nexport const REPLACEMENT_CHARACTER = '\\uFFFD';\nexport var CODE_POINTS;\n(function (CODE_POINTS) {\n    CODE_POINTS[CODE_POINTS[\"EOF\"] = -1] = \"EOF\";\n    CODE_POINTS[CODE_POINTS[\"NULL\"] = 0] = \"NULL\";\n    CODE_POINTS[CODE_POINTS[\"TABULATION\"] = 9] = \"TABULATION\";\n    CODE_POINTS[CODE_POINTS[\"CARRIAGE_RETURN\"] = 13] = \"CARRIAGE_RETURN\";\n    CODE_POINTS[CODE_POINTS[\"LINE_FEED\"] = 10] = \"LINE_FEED\";\n    CODE_POINTS[CODE_POINTS[\"FORM_FEED\"] = 12] = \"FORM_FEED\";\n    CODE_POINTS[CODE_POINTS[\"SPACE\"] = 32] = \"SPACE\";\n    CODE_POINTS[CODE_POINTS[\"EXCLAMATION_MARK\"] = 33] = \"EXCLAMATION_MARK\";\n    CODE_POINTS[CODE_POINTS[\"QUOTATION_MARK\"] = 34] = \"QUOTATION_MARK\";\n    CODE_POINTS[CODE_POINTS[\"NUMBER_SIGN\"] = 35] = \"NUMBER_SIGN\";\n    CODE_POINTS[CODE_POINTS[\"AMPERSAND\"] = 38] = \"AMPERSAND\";\n    CODE_POINTS[CODE_POINTS[\"APOSTROPHE\"] = 39] = \"APOSTROPHE\";\n    CODE_POINTS[CODE_POINTS[\"HYPHEN_MINUS\"] = 45] = \"HYPHEN_MINUS\";\n    CODE_POINTS[CODE_POINTS[\"SOLIDUS\"] = 47] = \"SOLIDUS\";\n    CODE_POINTS[CODE_POINTS[\"DIGIT_0\"] = 48] = \"DIGIT_0\";\n    CODE_POINTS[CODE_POINTS[\"DIGIT_9\"] = 57] = \"DIGIT_9\";\n    CODE_POINTS[CODE_POINTS[\"SEMICOLON\"] = 59] = \"SEMICOLON\";\n    CODE_POINTS[CODE_POINTS[\"LESS_THAN_SIGN\"] = 60] = \"LESS_THAN_SIGN\";\n    CODE_POINTS[CODE_POINTS[\"EQUALS_SIGN\"] = 61] = \"EQUALS_SIGN\";\n    CODE_POINTS[CODE_POINTS[\"GREATER_THAN_SIGN\"] = 62] = \"GREATER_THAN_SIGN\";\n    CODE_POINTS[CODE_POINTS[\"QUESTION_MARK\"] = 63] = \"QUESTION_MARK\";\n    CODE_POINTS[CODE_POINTS[\"LATIN_CAPITAL_A\"] = 65] = \"LATIN_CAPITAL_A\";\n    CODE_POINTS[CODE_POINTS[\"LATIN_CAPITAL_F\"] = 70] = \"LATIN_CAPITAL_F\";\n    CODE_POINTS[CODE_POINTS[\"LATIN_CAPITAL_X\"] = 88] = \"LATIN_CAPITAL_X\";\n    CODE_POINTS[CODE_POINTS[\"LATIN_CAPITAL_Z\"] = 90] = \"LATIN_CAPITAL_Z\";\n    CODE_POINTS[CODE_POINTS[\"RIGHT_SQUARE_BRACKET\"] = 93] = \"RIGHT_SQUARE_BRACKET\";\n    CODE_POINTS[CODE_POINTS[\"GRAVE_ACCENT\"] = 96] = \"GRAVE_ACCENT\";\n    CODE_POINTS[CODE_POINTS[\"LATIN_SMALL_A\"] = 97] = \"LATIN_SMALL_A\";\n    CODE_POINTS[CODE_POINTS[\"LATIN_SMALL_F\"] = 102] = \"LATIN_SMALL_F\";\n    CODE_POINTS[CODE_POINTS[\"LATIN_SMALL_X\"] = 120] = \"LATIN_SMALL_X\";\n    CODE_POINTS[CODE_POINTS[\"LATIN_SMALL_Z\"] = 122] = \"LATIN_SMALL_Z\";\n    CODE_POINTS[CODE_POINTS[\"REPLACEMENT_CHARACTER\"] = 65533] = \"REPLACEMENT_CHARACTER\";\n})(CODE_POINTS = CODE_POINTS || (CODE_POINTS = {}));\nexport const SEQUENCES = {\n    DASH_DASH: '--',\n    CDATA_START: '[CDATA[',\n    DOCTYPE: 'doctype',\n    SCRIPT: 'script',\n    PUBLIC: 'public',\n    SYSTEM: 'system',\n};\n//Surrogates\nexport function isSurrogate(cp) {\n    return cp >= 55296 && cp <= 57343;\n}\nexport function isSurrogatePair(cp) {\n    return cp >= 56320 && cp <= 57343;\n}\nexport function getSurrogatePairCodePoint(cp1, cp2) {\n    return (cp1 - 55296) * 1024 + 9216 + cp2;\n}\n//NOTE: excluding NULL and ASCII whitespace\nexport function isControlCodePoint(cp) {\n    return ((cp !== 0x20 && cp !== 0x0a && cp !== 0x0d && cp !== 0x09 && cp !== 0x0c && cp >= 0x01 && cp <= 0x1f) ||\n        (cp >= 0x7f && cp <= 0x9f));\n}\nexport function isUndefinedCodePoint(cp) {\n    return (cp >= 64976 && cp <= 65007) || UNDEFINED_CODE_POINTS.has(cp);\n}\n//# sourceMappingURL=unicode.js.map","export var ERR;\n(function (ERR) {\n    ERR[\"controlCharacterInInputStream\"] = \"control-character-in-input-stream\";\n    ERR[\"noncharacterInInputStream\"] = \"noncharacter-in-input-stream\";\n    ERR[\"surrogateInInputStream\"] = \"surrogate-in-input-stream\";\n    ERR[\"nonVoidHtmlElementStartTagWithTrailingSolidus\"] = \"non-void-html-element-start-tag-with-trailing-solidus\";\n    ERR[\"endTagWithAttributes\"] = \"end-tag-with-attributes\";\n    ERR[\"endTagWithTrailingSolidus\"] = \"end-tag-with-trailing-solidus\";\n    ERR[\"unexpectedSolidusInTag\"] = \"unexpected-solidus-in-tag\";\n    ERR[\"unexpectedNullCharacter\"] = \"unexpected-null-character\";\n    ERR[\"unexpectedQuestionMarkInsteadOfTagName\"] = \"unexpected-question-mark-instead-of-tag-name\";\n    ERR[\"invalidFirstCharacterOfTagName\"] = \"invalid-first-character-of-tag-name\";\n    ERR[\"unexpectedEqualsSignBeforeAttributeName\"] = \"unexpected-equals-sign-before-attribute-name\";\n    ERR[\"missingEndTagName\"] = \"missing-end-tag-name\";\n    ERR[\"unexpectedCharacterInAttributeName\"] = \"unexpected-character-in-attribute-name\";\n    ERR[\"unknownNamedCharacterReference\"] = \"unknown-named-character-reference\";\n    ERR[\"missingSemicolonAfterCharacterReference\"] = \"missing-semicolon-after-character-reference\";\n    ERR[\"unexpectedCharacterAfterDoctypeSystemIdentifier\"] = \"unexpected-character-after-doctype-system-identifier\";\n    ERR[\"unexpectedCharacterInUnquotedAttributeValue\"] = \"unexpected-character-in-unquoted-attribute-value\";\n    ERR[\"eofBeforeTagName\"] = \"eof-before-tag-name\";\n    ERR[\"eofInTag\"] = \"eof-in-tag\";\n    ERR[\"missingAttributeValue\"] = \"missing-attribute-value\";\n    ERR[\"missingWhitespaceBetweenAttributes\"] = \"missing-whitespace-between-attributes\";\n    ERR[\"missingWhitespaceAfterDoctypePublicKeyword\"] = \"missing-whitespace-after-doctype-public-keyword\";\n    ERR[\"missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers\"] = \"missing-whitespace-between-doctype-public-and-system-identifiers\";\n    ERR[\"missingWhitespaceAfterDoctypeSystemKeyword\"] = \"missing-whitespace-after-doctype-system-keyword\";\n    ERR[\"missingQuoteBeforeDoctypePublicIdentifier\"] = \"missing-quote-before-doctype-public-identifier\";\n    ERR[\"missingQuoteBeforeDoctypeSystemIdentifier\"] = \"missing-quote-before-doctype-system-identifier\";\n    ERR[\"missingDoctypePublicIdentifier\"] = \"missing-doctype-public-identifier\";\n    ERR[\"missingDoctypeSystemIdentifier\"] = \"missing-doctype-system-identifier\";\n    ERR[\"abruptDoctypePublicIdentifier\"] = \"abrupt-doctype-public-identifier\";\n    ERR[\"abruptDoctypeSystemIdentifier\"] = \"abrupt-doctype-system-identifier\";\n    ERR[\"cdataInHtmlContent\"] = \"cdata-in-html-content\";\n    ERR[\"incorrectlyOpenedComment\"] = \"incorrectly-opened-comment\";\n    ERR[\"eofInScriptHtmlCommentLikeText\"] = \"eof-in-script-html-comment-like-text\";\n    ERR[\"eofInDoctype\"] = \"eof-in-doctype\";\n    ERR[\"nestedComment\"] = \"nested-comment\";\n    ERR[\"abruptClosingOfEmptyComment\"] = \"abrupt-closing-of-empty-comment\";\n    ERR[\"eofInComment\"] = \"eof-in-comment\";\n    ERR[\"incorrectlyClosedComment\"] = \"incorrectly-closed-comment\";\n    ERR[\"eofInCdata\"] = \"eof-in-cdata\";\n    ERR[\"absenceOfDigitsInNumericCharacterReference\"] = \"absence-of-digits-in-numeric-character-reference\";\n    ERR[\"nullCharacterReference\"] = \"null-character-reference\";\n    ERR[\"surrogateCharacterReference\"] = \"surrogate-character-reference\";\n    ERR[\"characterReferenceOutsideUnicodeRange\"] = \"character-reference-outside-unicode-range\";\n    ERR[\"controlCharacterReference\"] = \"control-character-reference\";\n    ERR[\"noncharacterCharacterReference\"] = \"noncharacter-character-reference\";\n    ERR[\"missingWhitespaceBeforeDoctypeName\"] = \"missing-whitespace-before-doctype-name\";\n    ERR[\"missingDoctypeName\"] = \"missing-doctype-name\";\n    ERR[\"invalidCharacterSequenceAfterDoctypeName\"] = \"invalid-character-sequence-after-doctype-name\";\n    ERR[\"duplicateAttribute\"] = \"duplicate-attribute\";\n    ERR[\"nonConformingDoctype\"] = \"non-conforming-doctype\";\n    ERR[\"missingDoctype\"] = \"missing-doctype\";\n    ERR[\"misplacedDoctype\"] = \"misplaced-doctype\";\n    ERR[\"endTagWithoutMatchingOpenElement\"] = \"end-tag-without-matching-open-element\";\n    ERR[\"closingOfElementWithOpenChildElements\"] = \"closing-of-element-with-open-child-elements\";\n    ERR[\"disallowedContentInNoscriptInHead\"] = \"disallowed-content-in-noscript-in-head\";\n    ERR[\"openElementsLeftAfterEof\"] = \"open-elements-left-after-eof\";\n    ERR[\"abandonedHeadElementChild\"] = \"abandoned-head-element-child\";\n    ERR[\"misplacedStartTagForHeadElement\"] = \"misplaced-start-tag-for-head-element\";\n    ERR[\"nestedNoscriptInHead\"] = \"nested-noscript-in-head\";\n    ERR[\"eofInElementThatCanContainOnlyText\"] = \"eof-in-element-that-can-contain-only-text\";\n})(ERR = ERR || (ERR = {}));\n//# sourceMappingURL=error-codes.js.map","export var TokenType;\n(function (TokenType) {\n    TokenType[TokenType[\"CHARACTER\"] = 0] = \"CHARACTER\";\n    TokenType[TokenType[\"NULL_CHARACTER\"] = 1] = \"NULL_CHARACTER\";\n    TokenType[TokenType[\"WHITESPACE_CHARACTER\"] = 2] = \"WHITESPACE_CHARACTER\";\n    TokenType[TokenType[\"START_TAG\"] = 3] = \"START_TAG\";\n    TokenType[TokenType[\"END_TAG\"] = 4] = \"END_TAG\";\n    TokenType[TokenType[\"COMMENT\"] = 5] = \"COMMENT\";\n    TokenType[TokenType[\"DOCTYPE\"] = 6] = \"DOCTYPE\";\n    TokenType[TokenType[\"EOF\"] = 7] = \"EOF\";\n    TokenType[TokenType[\"HIBERNATION\"] = 8] = \"HIBERNATION\";\n})(TokenType = TokenType || (TokenType = {}));\nexport function getTokenAttr(token, attrName) {\n    for (let i = token.attrs.length - 1; i >= 0; i--) {\n        if (token.attrs[i].name === attrName) {\n            return token.attrs[i].value;\n        }\n    }\n    return null;\n}\n//# sourceMappingURL=token.js.map","/** All valid namespaces in HTML. */\nexport var NS;\n(function (NS) {\n    NS[\"HTML\"] = \"http://www.w3.org/1999/xhtml\";\n    NS[\"MATHML\"] = \"http://www.w3.org/1998/Math/MathML\";\n    NS[\"SVG\"] = \"http://www.w3.org/2000/svg\";\n    NS[\"XLINK\"] = \"http://www.w3.org/1999/xlink\";\n    NS[\"XML\"] = \"http://www.w3.org/XML/1998/namespace\";\n    NS[\"XMLNS\"] = \"http://www.w3.org/2000/xmlns/\";\n})(NS = NS || (NS = {}));\nexport var ATTRS;\n(function (ATTRS) {\n    ATTRS[\"TYPE\"] = \"type\";\n    ATTRS[\"ACTION\"] = \"action\";\n    ATTRS[\"ENCODING\"] = \"encoding\";\n    ATTRS[\"PROMPT\"] = \"prompt\";\n    ATTRS[\"NAME\"] = \"name\";\n    ATTRS[\"COLOR\"] = \"color\";\n    ATTRS[\"FACE\"] = \"face\";\n    ATTRS[\"SIZE\"] = \"size\";\n})(ATTRS = ATTRS || (ATTRS = {}));\n/**\n * The mode of the document.\n *\n * @see {@link https://dom.spec.whatwg.org/#concept-document-limited-quirks}\n */\nexport var DOCUMENT_MODE;\n(function (DOCUMENT_MODE) {\n    DOCUMENT_MODE[\"NO_QUIRKS\"] = \"no-quirks\";\n    DOCUMENT_MODE[\"QUIRKS\"] = \"quirks\";\n    DOCUMENT_MODE[\"LIMITED_QUIRKS\"] = \"limited-quirks\";\n})(DOCUMENT_MODE = DOCUMENT_MODE || (DOCUMENT_MODE = {}));\nexport var TAG_NAMES;\n(function (TAG_NAMES) {\n    TAG_NAMES[\"A\"] = \"a\";\n    TAG_NAMES[\"ADDRESS\"] = \"address\";\n    TAG_NAMES[\"ANNOTATION_XML\"] = \"annotation-xml\";\n    TAG_NAMES[\"APPLET\"] = \"applet\";\n    TAG_NAMES[\"AREA\"] = \"area\";\n    TAG_NAMES[\"ARTICLE\"] = \"article\";\n    TAG_NAMES[\"ASIDE\"] = \"aside\";\n    TAG_NAMES[\"B\"] = \"b\";\n    TAG_NAMES[\"BASE\"] = \"base\";\n    TAG_NAMES[\"BASEFONT\"] = \"basefont\";\n    TAG_NAMES[\"BGSOUND\"] = \"bgsound\";\n    TAG_NAMES[\"BIG\"] = \"big\";\n    TAG_NAMES[\"BLOCKQUOTE\"] = \"blockquote\";\n    TAG_NAMES[\"BODY\"] = \"body\";\n    TAG_NAMES[\"BR\"] = \"br\";\n    TAG_NAMES[\"BUTTON\"] = \"button\";\n    TAG_NAMES[\"CAPTION\"] = \"caption\";\n    TAG_NAMES[\"CENTER\"] = \"center\";\n    TAG_NAMES[\"CODE\"] = \"code\";\n    TAG_NAMES[\"COL\"] = \"col\";\n    TAG_NAMES[\"COLGROUP\"] = \"colgroup\";\n    TAG_NAMES[\"DD\"] = \"dd\";\n    TAG_NAMES[\"DESC\"] = \"desc\";\n    TAG_NAMES[\"DETAILS\"] = \"details\";\n    TAG_NAMES[\"DIALOG\"] = \"dialog\";\n    TAG_NAMES[\"DIR\"] = \"dir\";\n    TAG_NAMES[\"DIV\"] = \"div\";\n    TAG_NAMES[\"DL\"] = \"dl\";\n    TAG_NAMES[\"DT\"] = \"dt\";\n    TAG_NAMES[\"EM\"] = \"em\";\n    TAG_NAMES[\"EMBED\"] = \"embed\";\n    TAG_NAMES[\"FIELDSET\"] = \"fieldset\";\n    TAG_NAMES[\"FIGCAPTION\"] = \"figcaption\";\n    TAG_NAMES[\"FIGURE\"] = \"figure\";\n    TAG_NAMES[\"FONT\"] = \"font\";\n    TAG_NAMES[\"FOOTER\"] = \"footer\";\n    TAG_NAMES[\"FOREIGN_OBJECT\"] = \"foreignObject\";\n    TAG_NAMES[\"FORM\"] = \"form\";\n    TAG_NAMES[\"FRAME\"] = \"frame\";\n    TAG_NAMES[\"FRAMESET\"] = \"frameset\";\n    TAG_NAMES[\"H1\"] = \"h1\";\n    TAG_NAMES[\"H2\"] = \"h2\";\n    TAG_NAMES[\"H3\"] = \"h3\";\n    TAG_NAMES[\"H4\"] = \"h4\";\n    TAG_NAMES[\"H5\"] = \"h5\";\n    TAG_NAMES[\"H6\"] = \"h6\";\n    TAG_NAMES[\"HEAD\"] = \"head\";\n    TAG_NAMES[\"HEADER\"] = \"header\";\n    TAG_NAMES[\"HGROUP\"] = \"hgroup\";\n    TAG_NAMES[\"HR\"] = \"hr\";\n    TAG_NAMES[\"HTML\"] = \"html\";\n    TAG_NAMES[\"I\"] = \"i\";\n    TAG_NAMES[\"IMG\"] = \"img\";\n    TAG_NAMES[\"IMAGE\"] = \"image\";\n    TAG_NAMES[\"INPUT\"] = \"input\";\n    TAG_NAMES[\"IFRAME\"] = \"iframe\";\n    TAG_NAMES[\"KEYGEN\"] = \"keygen\";\n    TAG_NAMES[\"LABEL\"] = \"label\";\n    TAG_NAMES[\"LI\"] = \"li\";\n    TAG_NAMES[\"LINK\"] = \"link\";\n    TAG_NAMES[\"LISTING\"] = \"listing\";\n    TAG_NAMES[\"MAIN\"] = \"main\";\n    TAG_NAMES[\"MALIGNMARK\"] = \"malignmark\";\n    TAG_NAMES[\"MARQUEE\"] = \"marquee\";\n    TAG_NAMES[\"MATH\"] = \"math\";\n    TAG_NAMES[\"MENU\"] = \"menu\";\n    TAG_NAMES[\"META\"] = \"meta\";\n    TAG_NAMES[\"MGLYPH\"] = \"mglyph\";\n    TAG_NAMES[\"MI\"] = \"mi\";\n    TAG_NAMES[\"MO\"] = \"mo\";\n    TAG_NAMES[\"MN\"] = \"mn\";\n    TAG_NAMES[\"MS\"] = \"ms\";\n    TAG_NAMES[\"MTEXT\"] = \"mtext\";\n    TAG_NAMES[\"NAV\"] = \"nav\";\n    TAG_NAMES[\"NOBR\"] = \"nobr\";\n    TAG_NAMES[\"NOFRAMES\"] = \"noframes\";\n    TAG_NAMES[\"NOEMBED\"] = \"noembed\";\n    TAG_NAMES[\"NOSCRIPT\"] = \"noscript\";\n    TAG_NAMES[\"OBJECT\"] = \"object\";\n    TAG_NAMES[\"OL\"] = \"ol\";\n    TAG_NAMES[\"OPTGROUP\"] = \"optgroup\";\n    TAG_NAMES[\"OPTION\"] = \"option\";\n    TAG_NAMES[\"P\"] = \"p\";\n    TAG_NAMES[\"PARAM\"] = \"param\";\n    TAG_NAMES[\"PLAINTEXT\"] = \"plaintext\";\n    TAG_NAMES[\"PRE\"] = \"pre\";\n    TAG_NAMES[\"RB\"] = \"rb\";\n    TAG_NAMES[\"RP\"] = \"rp\";\n    TAG_NAMES[\"RT\"] = \"rt\";\n    TAG_NAMES[\"RTC\"] = \"rtc\";\n    TAG_NAMES[\"RUBY\"] = \"ruby\";\n    TAG_NAMES[\"S\"] = \"s\";\n    TAG_NAMES[\"SCRIPT\"] = \"script\";\n    TAG_NAMES[\"SECTION\"] = \"section\";\n    TAG_NAMES[\"SELECT\"] = \"select\";\n    TAG_NAMES[\"SOURCE\"] = \"source\";\n    TAG_NAMES[\"SMALL\"] = \"small\";\n    TAG_NAMES[\"SPAN\"] = \"span\";\n    TAG_NAMES[\"STRIKE\"] = \"strike\";\n    TAG_NAMES[\"STRONG\"] = \"strong\";\n    TAG_NAMES[\"STYLE\"] = \"style\";\n    TAG_NAMES[\"SUB\"] = \"sub\";\n    TAG_NAMES[\"SUMMARY\"] = \"summary\";\n    TAG_NAMES[\"SUP\"] = \"sup\";\n    TAG_NAMES[\"TABLE\"] = \"table\";\n    TAG_NAMES[\"TBODY\"] = \"tbody\";\n    TAG_NAMES[\"TEMPLATE\"] = \"template\";\n    TAG_NAMES[\"TEXTAREA\"] = \"textarea\";\n    TAG_NAMES[\"TFOOT\"] = \"tfoot\";\n    TAG_NAMES[\"TD\"] = \"td\";\n    TAG_NAMES[\"TH\"] = \"th\";\n    TAG_NAMES[\"THEAD\"] = \"thead\";\n    TAG_NAMES[\"TITLE\"] = \"title\";\n    TAG_NAMES[\"TR\"] = \"tr\";\n    TAG_NAMES[\"TRACK\"] = \"track\";\n    TAG_NAMES[\"TT\"] = \"tt\";\n    TAG_NAMES[\"U\"] = \"u\";\n    TAG_NAMES[\"UL\"] = \"ul\";\n    TAG_NAMES[\"SVG\"] = \"svg\";\n    TAG_NAMES[\"VAR\"] = \"var\";\n    TAG_NAMES[\"WBR\"] = \"wbr\";\n    TAG_NAMES[\"XMP\"] = \"xmp\";\n})(TAG_NAMES = TAG_NAMES || (TAG_NAMES = {}));\n/**\n * Tag IDs are numeric IDs for known tag names.\n *\n * We use tag IDs to improve the performance of tag name comparisons.\n */\nexport var TAG_ID;\n(function (TAG_ID) {\n    TAG_ID[TAG_ID[\"UNKNOWN\"] = 0] = \"UNKNOWN\";\n    TAG_ID[TAG_ID[\"A\"] = 1] = \"A\";\n    TAG_ID[TAG_ID[\"ADDRESS\"] = 2] = \"ADDRESS\";\n    TAG_ID[TAG_ID[\"ANNOTATION_XML\"] = 3] = \"ANNOTATION_XML\";\n    TAG_ID[TAG_ID[\"APPLET\"] = 4] = \"APPLET\";\n    TAG_ID[TAG_ID[\"AREA\"] = 5] = \"AREA\";\n    TAG_ID[TAG_ID[\"ARTICLE\"] = 6] = \"ARTICLE\";\n    TAG_ID[TAG_ID[\"ASIDE\"] = 7] = \"ASIDE\";\n    TAG_ID[TAG_ID[\"B\"] = 8] = \"B\";\n    TAG_ID[TAG_ID[\"BASE\"] = 9] = \"BASE\";\n    TAG_ID[TAG_ID[\"BASEFONT\"] = 10] = \"BASEFONT\";\n    TAG_ID[TAG_ID[\"BGSOUND\"] = 11] = \"BGSOUND\";\n    TAG_ID[TAG_ID[\"BIG\"] = 12] = \"BIG\";\n    TAG_ID[TAG_ID[\"BLOCKQUOTE\"] = 13] = \"BLOCKQUOTE\";\n    TAG_ID[TAG_ID[\"BODY\"] = 14] = \"BODY\";\n    TAG_ID[TAG_ID[\"BR\"] = 15] = \"BR\";\n    TAG_ID[TAG_ID[\"BUTTON\"] = 16] = \"BUTTON\";\n    TAG_ID[TAG_ID[\"CAPTION\"] = 17] = \"CAPTION\";\n    TAG_ID[TAG_ID[\"CENTER\"] = 18] = \"CENTER\";\n    TAG_ID[TAG_ID[\"CODE\"] = 19] = \"CODE\";\n    TAG_ID[TAG_ID[\"COL\"] = 20] = \"COL\";\n    TAG_ID[TAG_ID[\"COLGROUP\"] = 21] = \"COLGROUP\";\n    TAG_ID[TAG_ID[\"DD\"] = 22] = \"DD\";\n    TAG_ID[TAG_ID[\"DESC\"] = 23] = \"DESC\";\n    TAG_ID[TAG_ID[\"DETAILS\"] = 24] = \"DETAILS\";\n    TAG_ID[TAG_ID[\"DIALOG\"] = 25] = \"DIALOG\";\n    TAG_ID[TAG_ID[\"DIR\"] = 26] = \"DIR\";\n    TAG_ID[TAG_ID[\"DIV\"] = 27] = \"DIV\";\n    TAG_ID[TAG_ID[\"DL\"] = 28] = \"DL\";\n    TAG_ID[TAG_ID[\"DT\"] = 29] = \"DT\";\n    TAG_ID[TAG_ID[\"EM\"] = 30] = \"EM\";\n    TAG_ID[TAG_ID[\"EMBED\"] = 31] = \"EMBED\";\n    TAG_ID[TAG_ID[\"FIELDSET\"] = 32] = \"FIELDSET\";\n    TAG_ID[TAG_ID[\"FIGCAPTION\"] = 33] = \"FIGCAPTION\";\n    TAG_ID[TAG_ID[\"FIGURE\"] = 34] = \"FIGURE\";\n    TAG_ID[TAG_ID[\"FONT\"] = 35] = \"FONT\";\n    TAG_ID[TAG_ID[\"FOOTER\"] = 36] = \"FOOTER\";\n    TAG_ID[TAG_ID[\"FOREIGN_OBJECT\"] = 37] = \"FOREIGN_OBJECT\";\n    TAG_ID[TAG_ID[\"FORM\"] = 38] = \"FORM\";\n    TAG_ID[TAG_ID[\"FRAME\"] = 39] = \"FRAME\";\n    TAG_ID[TAG_ID[\"FRAMESET\"] = 40] = \"FRAMESET\";\n    TAG_ID[TAG_ID[\"H1\"] = 41] = \"H1\";\n    TAG_ID[TAG_ID[\"H2\"] = 42] = \"H2\";\n    TAG_ID[TAG_ID[\"H3\"] = 43] = \"H3\";\n    TAG_ID[TAG_ID[\"H4\"] = 44] = \"H4\";\n    TAG_ID[TAG_ID[\"H5\"] = 45] = \"H5\";\n    TAG_ID[TAG_ID[\"H6\"] = 46] = \"H6\";\n    TAG_ID[TAG_ID[\"HEAD\"] = 47] = \"HEAD\";\n    TAG_ID[TAG_ID[\"HEADER\"] = 48] = \"HEADER\";\n    TAG_ID[TAG_ID[\"HGROUP\"] = 49] = \"HGROUP\";\n    TAG_ID[TAG_ID[\"HR\"] = 50] = \"HR\";\n    TAG_ID[TAG_ID[\"HTML\"] = 51] = \"HTML\";\n    TAG_ID[TAG_ID[\"I\"] = 52] = \"I\";\n    TAG_ID[TAG_ID[\"IMG\"] = 53] = \"IMG\";\n    TAG_ID[TAG_ID[\"IMAGE\"] = 54] = \"IMAGE\";\n    TAG_ID[TAG_ID[\"INPUT\"] = 55] = \"INPUT\";\n    TAG_ID[TAG_ID[\"IFRAME\"] = 56] = \"IFRAME\";\n    TAG_ID[TAG_ID[\"KEYGEN\"] = 57] = \"KEYGEN\";\n    TAG_ID[TAG_ID[\"LABEL\"] = 58] = \"LABEL\";\n    TAG_ID[TAG_ID[\"LI\"] = 59] = \"LI\";\n    TAG_ID[TAG_ID[\"LINK\"] = 60] = \"LINK\";\n    TAG_ID[TAG_ID[\"LISTING\"] = 61] = \"LISTING\";\n    TAG_ID[TAG_ID[\"MAIN\"] = 62] = \"MAIN\";\n    TAG_ID[TAG_ID[\"MALIGNMARK\"] = 63] = \"MALIGNMARK\";\n    TAG_ID[TAG_ID[\"MARQUEE\"] = 64] = \"MARQUEE\";\n    TAG_ID[TAG_ID[\"MATH\"] = 65] = \"MATH\";\n    TAG_ID[TAG_ID[\"MENU\"] = 66] = \"MENU\";\n    TAG_ID[TAG_ID[\"META\"] = 67] = \"META\";\n    TAG_ID[TAG_ID[\"MGLYPH\"] = 68] = \"MGLYPH\";\n    TAG_ID[TAG_ID[\"MI\"] = 69] = \"MI\";\n    TAG_ID[TAG_ID[\"MO\"] = 70] = \"MO\";\n    TAG_ID[TAG_ID[\"MN\"] = 71] = \"MN\";\n    TAG_ID[TAG_ID[\"MS\"] = 72] = \"MS\";\n    TAG_ID[TAG_ID[\"MTEXT\"] = 73] = \"MTEXT\";\n    TAG_ID[TAG_ID[\"NAV\"] = 74] = \"NAV\";\n    TAG_ID[TAG_ID[\"NOBR\"] = 75] = \"NOBR\";\n    TAG_ID[TAG_ID[\"NOFRAMES\"] = 76] = \"NOFRAMES\";\n    TAG_ID[TAG_ID[\"NOEMBED\"] = 77] = \"NOEMBED\";\n    TAG_ID[TAG_ID[\"NOSCRIPT\"] = 78] = \"NOSCRIPT\";\n    TAG_ID[TAG_ID[\"OBJECT\"] = 79] = \"OBJECT\";\n    TAG_ID[TAG_ID[\"OL\"] = 80] = \"OL\";\n    TAG_ID[TAG_ID[\"OPTGROUP\"] = 81] = \"OPTGROUP\";\n    TAG_ID[TAG_ID[\"OPTION\"] = 82] = \"OPTION\";\n    TAG_ID[TAG_ID[\"P\"] = 83] = \"P\";\n    TAG_ID[TAG_ID[\"PARAM\"] = 84] = \"PARAM\";\n    TAG_ID[TAG_ID[\"PLAINTEXT\"] = 85] = \"PLAINTEXT\";\n    TAG_ID[TAG_ID[\"PRE\"] = 86] = \"PRE\";\n    TAG_ID[TAG_ID[\"RB\"] = 87] = \"RB\";\n    TAG_ID[TAG_ID[\"RP\"] = 88] = \"RP\";\n    TAG_ID[TAG_ID[\"RT\"] = 89] = \"RT\";\n    TAG_ID[TAG_ID[\"RTC\"] = 90] = \"RTC\";\n    TAG_ID[TAG_ID[\"RUBY\"] = 91] = \"RUBY\";\n    TAG_ID[TAG_ID[\"S\"] = 92] = \"S\";\n    TAG_ID[TAG_ID[\"SCRIPT\"] = 93] = \"SCRIPT\";\n    TAG_ID[TAG_ID[\"SECTION\"] = 94] = \"SECTION\";\n    TAG_ID[TAG_ID[\"SELECT\"] = 95] = \"SELECT\";\n    TAG_ID[TAG_ID[\"SOURCE\"] = 96] = \"SOURCE\";\n    TAG_ID[TAG_ID[\"SMALL\"] = 97] = \"SMALL\";\n    TAG_ID[TAG_ID[\"SPAN\"] = 98] = \"SPAN\";\n    TAG_ID[TAG_ID[\"STRIKE\"] = 99] = \"STRIKE\";\n    TAG_ID[TAG_ID[\"STRONG\"] = 100] = \"STRONG\";\n    TAG_ID[TAG_ID[\"STYLE\"] = 101] = \"STYLE\";\n    TAG_ID[TAG_ID[\"SUB\"] = 102] = \"SUB\";\n    TAG_ID[TAG_ID[\"SUMMARY\"] = 103] = \"SUMMARY\";\n    TAG_ID[TAG_ID[\"SUP\"] = 104] = \"SUP\";\n    TAG_ID[TAG_ID[\"TABLE\"] = 105] = \"TABLE\";\n    TAG_ID[TAG_ID[\"TBODY\"] = 106] = \"TBODY\";\n    TAG_ID[TAG_ID[\"TEMPLATE\"] = 107] = \"TEMPLATE\";\n    TAG_ID[TAG_ID[\"TEXTAREA\"] = 108] = \"TEXTAREA\";\n    TAG_ID[TAG_ID[\"TFOOT\"] = 109] = \"TFOOT\";\n    TAG_ID[TAG_ID[\"TD\"] = 110] = \"TD\";\n    TAG_ID[TAG_ID[\"TH\"] = 111] = \"TH\";\n    TAG_ID[TAG_ID[\"THEAD\"] = 112] = \"THEAD\";\n    TAG_ID[TAG_ID[\"TITLE\"] = 113] = \"TITLE\";\n    TAG_ID[TAG_ID[\"TR\"] = 114] = \"TR\";\n    TAG_ID[TAG_ID[\"TRACK\"] = 115] = \"TRACK\";\n    TAG_ID[TAG_ID[\"TT\"] = 116] = \"TT\";\n    TAG_ID[TAG_ID[\"U\"] = 117] = \"U\";\n    TAG_ID[TAG_ID[\"UL\"] = 118] = \"UL\";\n    TAG_ID[TAG_ID[\"SVG\"] = 119] = \"SVG\";\n    TAG_ID[TAG_ID[\"VAR\"] = 120] = \"VAR\";\n    TAG_ID[TAG_ID[\"WBR\"] = 121] = \"WBR\";\n    TAG_ID[TAG_ID[\"XMP\"] = 122] = \"XMP\";\n})(TAG_ID = TAG_ID || (TAG_ID = {}));\nconst TAG_NAME_TO_ID = new Map([\n    [TAG_NAMES.A, TAG_ID.A],\n    [TAG_NAMES.ADDRESS, TAG_ID.ADDRESS],\n    [TAG_NAMES.ANNOTATION_XML, TAG_ID.ANNOTATION_XML],\n    [TAG_NAMES.APPLET, TAG_ID.APPLET],\n    [TAG_NAMES.AREA, TAG_ID.AREA],\n    [TAG_NAMES.ARTICLE, TAG_ID.ARTICLE],\n    [TAG_NAMES.ASIDE, TAG_ID.ASIDE],\n    [TAG_NAMES.B, TAG_ID.B],\n    [TAG_NAMES.BASE, TAG_ID.BASE],\n    [TAG_NAMES.BASEFONT, TAG_ID.BASEFONT],\n    [TAG_NAMES.BGSOUND, TAG_ID.BGSOUND],\n    [TAG_NAMES.BIG, TAG_ID.BIG],\n    [TAG_NAMES.BLOCKQUOTE, TAG_ID.BLOCKQUOTE],\n    [TAG_NAMES.BODY, TAG_ID.BODY],\n    [TAG_NAMES.BR, TAG_ID.BR],\n    [TAG_NAMES.BUTTON, TAG_ID.BUTTON],\n    [TAG_NAMES.CAPTION, TAG_ID.CAPTION],\n    [TAG_NAMES.CENTER, TAG_ID.CENTER],\n    [TAG_NAMES.CODE, TAG_ID.CODE],\n    [TAG_NAMES.COL, TAG_ID.COL],\n    [TAG_NAMES.COLGROUP, TAG_ID.COLGROUP],\n    [TAG_NAMES.DD, TAG_ID.DD],\n    [TAG_NAMES.DESC, TAG_ID.DESC],\n    [TAG_NAMES.DETAILS, TAG_ID.DETAILS],\n    [TAG_NAMES.DIALOG, TAG_ID.DIALOG],\n    [TAG_NAMES.DIR, TAG_ID.DIR],\n    [TAG_NAMES.DIV, TAG_ID.DIV],\n    [TAG_NAMES.DL, TAG_ID.DL],\n    [TAG_NAMES.DT, TAG_ID.DT],\n    [TAG_NAMES.EM, TAG_ID.EM],\n    [TAG_NAMES.EMBED, TAG_ID.EMBED],\n    [TAG_NAMES.FIELDSET, TAG_ID.FIELDSET],\n    [TAG_NAMES.FIGCAPTION, TAG_ID.FIGCAPTION],\n    [TAG_NAMES.FIGURE, TAG_ID.FIGURE],\n    [TAG_NAMES.FONT, TAG_ID.FONT],\n    [TAG_NAMES.FOOTER, TAG_ID.FOOTER],\n    [TAG_NAMES.FOREIGN_OBJECT, TAG_ID.FOREIGN_OBJECT],\n    [TAG_NAMES.FORM, TAG_ID.FORM],\n    [TAG_NAMES.FRAME, TAG_ID.FRAME],\n    [TAG_NAMES.FRAMESET, TAG_ID.FRAMESET],\n    [TAG_NAMES.H1, TAG_ID.H1],\n    [TAG_NAMES.H2, TAG_ID.H2],\n    [TAG_NAMES.H3, TAG_ID.H3],\n    [TAG_NAMES.H4, TAG_ID.H4],\n    [TAG_NAMES.H5, TAG_ID.H5],\n    [TAG_NAMES.H6, TAG_ID.H6],\n    [TAG_NAMES.HEAD, TAG_ID.HEAD],\n    [TAG_NAMES.HEADER, TAG_ID.HEADER],\n    [TAG_NAMES.HGROUP, TAG_ID.HGROUP],\n    [TAG_NAMES.HR, TAG_ID.HR],\n    [TAG_NAMES.HTML, TAG_ID.HTML],\n    [TAG_NAMES.I, TAG_ID.I],\n    [TAG_NAMES.IMG, TAG_ID.IMG],\n    [TAG_NAMES.IMAGE, TAG_ID.IMAGE],\n    [TAG_NAMES.INPUT, TAG_ID.INPUT],\n    [TAG_NAMES.IFRAME, TAG_ID.IFRAME],\n    [TAG_NAMES.KEYGEN, TAG_ID.KEYGEN],\n    [TAG_NAMES.LABEL, TAG_ID.LABEL],\n    [TAG_NAMES.LI, TAG_ID.LI],\n    [TAG_NAMES.LINK, TAG_ID.LINK],\n    [TAG_NAMES.LISTING, TAG_ID.LISTING],\n    [TAG_NAMES.MAIN, TAG_ID.MAIN],\n    [TAG_NAMES.MALIGNMARK, TAG_ID.MALIGNMARK],\n    [TAG_NAMES.MARQUEE, TAG_ID.MARQUEE],\n    [TAG_NAMES.MATH, TAG_ID.MATH],\n    [TAG_NAMES.MENU, TAG_ID.MENU],\n    [TAG_NAMES.META, TAG_ID.META],\n    [TAG_NAMES.MGLYPH, TAG_ID.MGLYPH],\n    [TAG_NAMES.MI, TAG_ID.MI],\n    [TAG_NAMES.MO, TAG_ID.MO],\n    [TAG_NAMES.MN, TAG_ID.MN],\n    [TAG_NAMES.MS, TAG_ID.MS],\n    [TAG_NAMES.MTEXT, TAG_ID.MTEXT],\n    [TAG_NAMES.NAV, TAG_ID.NAV],\n    [TAG_NAMES.NOBR, TAG_ID.NOBR],\n    [TAG_NAMES.NOFRAMES, TAG_ID.NOFRAMES],\n    [TAG_NAMES.NOEMBED, TAG_ID.NOEMBED],\n    [TAG_NAMES.NOSCRIPT, TAG_ID.NOSCRIPT],\n    [TAG_NAMES.OBJECT, TAG_ID.OBJECT],\n    [TAG_NAMES.OL, TAG_ID.OL],\n    [TAG_NAMES.OPTGROUP, TAG_ID.OPTGROUP],\n    [TAG_NAMES.OPTION, TAG_ID.OPTION],\n    [TAG_NAMES.P, TAG_ID.P],\n    [TAG_NAMES.PARAM, TAG_ID.PARAM],\n    [TAG_NAMES.PLAINTEXT, TAG_ID.PLAINTEXT],\n    [TAG_NAMES.PRE, TAG_ID.PRE],\n    [TAG_NAMES.RB, TAG_ID.RB],\n    [TAG_NAMES.RP, TAG_ID.RP],\n    [TAG_NAMES.RT, TAG_ID.RT],\n    [TAG_NAMES.RTC, TAG_ID.RTC],\n    [TAG_NAMES.RUBY, TAG_ID.RUBY],\n    [TAG_NAMES.S, TAG_ID.S],\n    [TAG_NAMES.SCRIPT, TAG_ID.SCRIPT],\n    [TAG_NAMES.SECTION, TAG_ID.SECTION],\n    [TAG_NAMES.SELECT, TAG_ID.SELECT],\n    [TAG_NAMES.SOURCE, TAG_ID.SOURCE],\n    [TAG_NAMES.SMALL, TAG_ID.SMALL],\n    [TAG_NAMES.SPAN, TAG_ID.SPAN],\n    [TAG_NAMES.STRIKE, TAG_ID.STRIKE],\n    [TAG_NAMES.STRONG, TAG_ID.STRONG],\n    [TAG_NAMES.STYLE, TAG_ID.STYLE],\n    [TAG_NAMES.SUB, TAG_ID.SUB],\n    [TAG_NAMES.SUMMARY, TAG_ID.SUMMARY],\n    [TAG_NAMES.SUP, TAG_ID.SUP],\n    [TAG_NAMES.TABLE, TAG_ID.TABLE],\n    [TAG_NAMES.TBODY, TAG_ID.TBODY],\n    [TAG_NAMES.TEMPLATE, TAG_ID.TEMPLATE],\n    [TAG_NAMES.TEXTAREA, TAG_ID.TEXTAREA],\n    [TAG_NAMES.TFOOT, TAG_ID.TFOOT],\n    [TAG_NAMES.TD, TAG_ID.TD],\n    [TAG_NAMES.TH, TAG_ID.TH],\n    [TAG_NAMES.THEAD, TAG_ID.THEAD],\n    [TAG_NAMES.TITLE, TAG_ID.TITLE],\n    [TAG_NAMES.TR, TAG_ID.TR],\n    [TAG_NAMES.TRACK, TAG_ID.TRACK],\n    [TAG_NAMES.TT, TAG_ID.TT],\n    [TAG_NAMES.U, TAG_ID.U],\n    [TAG_NAMES.UL, TAG_ID.UL],\n    [TAG_NAMES.SVG, TAG_ID.SVG],\n    [TAG_NAMES.VAR, TAG_ID.VAR],\n    [TAG_NAMES.WBR, TAG_ID.WBR],\n    [TAG_NAMES.XMP, TAG_ID.XMP],\n]);\nexport function getTagID(tagName) {\n    var _a;\n    return (_a = TAG_NAME_TO_ID.get(tagName)) !== null && _a !== void 0 ? _a : TAG_ID.UNKNOWN;\n}\nconst $ = TAG_ID;\nexport const SPECIAL_ELEMENTS = {\n    [NS.HTML]: new Set([\n        $.ADDRESS,\n        $.APPLET,\n        $.AREA,\n        $.ARTICLE,\n        $.ASIDE,\n        $.BASE,\n        $.BASEFONT,\n        $.BGSOUND,\n        $.BLOCKQUOTE,\n        $.BODY,\n        $.BR,\n        $.BUTTON,\n        $.CAPTION,\n        $.CENTER,\n        $.COL,\n        $.COLGROUP,\n        $.DD,\n        $.DETAILS,\n        $.DIR,\n        $.DIV,\n        $.DL,\n        $.DT,\n        $.EMBED,\n        $.FIELDSET,\n        $.FIGCAPTION,\n        $.FIGURE,\n        $.FOOTER,\n        $.FORM,\n        $.FRAME,\n        $.FRAMESET,\n        $.H1,\n        $.H2,\n        $.H3,\n        $.H4,\n        $.H5,\n        $.H6,\n        $.HEAD,\n        $.HEADER,\n        $.HGROUP,\n        $.HR,\n        $.HTML,\n        $.IFRAME,\n        $.IMG,\n        $.INPUT,\n        $.LI,\n        $.LINK,\n        $.LISTING,\n        $.MAIN,\n        $.MARQUEE,\n        $.MENU,\n        $.META,\n        $.NAV,\n        $.NOEMBED,\n        $.NOFRAMES,\n        $.NOSCRIPT,\n        $.OBJECT,\n        $.OL,\n        $.P,\n        $.PARAM,\n        $.PLAINTEXT,\n        $.PRE,\n        $.SCRIPT,\n        $.SECTION,\n        $.SELECT,\n        $.SOURCE,\n        $.STYLE,\n        $.SUMMARY,\n        $.TABLE,\n        $.TBODY,\n        $.TD,\n        $.TEMPLATE,\n        $.TEXTAREA,\n        $.TFOOT,\n        $.TH,\n        $.THEAD,\n        $.TITLE,\n        $.TR,\n        $.TRACK,\n        $.UL,\n        $.WBR,\n        $.XMP,\n    ]),\n    [NS.MATHML]: new Set([$.MI, $.MO, $.MN, $.MS, $.MTEXT, $.ANNOTATION_XML]),\n    [NS.SVG]: new Set([$.TITLE, $.FOREIGN_OBJECT, $.DESC]),\n    [NS.XLINK]: new Set(),\n    [NS.XML]: new Set(),\n    [NS.XMLNS]: new Set(),\n};\nexport function isNumberedHeader(tn) {\n    return tn === $.H1 || tn === $.H2 || tn === $.H3 || tn === $.H4 || tn === $.H5 || tn === $.H6;\n}\nconst UNESCAPED_TEXT = new Set([\n    TAG_NAMES.STYLE,\n    TAG_NAMES.SCRIPT,\n    TAG_NAMES.XMP,\n    TAG_NAMES.IFRAME,\n    TAG_NAMES.NOEMBED,\n    TAG_NAMES.NOFRAMES,\n    TAG_NAMES.PLAINTEXT,\n]);\nexport function hasUnescapedText(tn, scriptingEnabled) {\n    return UNESCAPED_TEXT.has(tn) || (scriptingEnabled && tn === TAG_NAMES.NOSCRIPT);\n}\n//# sourceMappingURL=html.js.map","import { Preprocessor } from './preprocessor.js';\nimport { CODE_POINTS as $, SEQUENCES as $$, REPLACEMENT_CHARACTER, isSurrogate, isUndefinedCodePoint, isControlCodePoint, } from '../common/unicode.js';\nimport { TokenType, getTokenAttr, } from '../common/token.js';\nimport { htmlDecodeTree, BinTrieFlags, determineBranch } from 'entities/lib/decode.js';\nimport { ERR } from '../common/error-codes.js';\nimport { TAG_ID, getTagID } from '../common/html.js';\n//C1 Unicode control character reference replacements\nconst C1_CONTROLS_REFERENCE_REPLACEMENTS = new Map([\n    [0x80, 8364],\n    [0x82, 8218],\n    [0x83, 402],\n    [0x84, 8222],\n    [0x85, 8230],\n    [0x86, 8224],\n    [0x87, 8225],\n    [0x88, 710],\n    [0x89, 8240],\n    [0x8a, 352],\n    [0x8b, 8249],\n    [0x8c, 338],\n    [0x8e, 381],\n    [0x91, 8216],\n    [0x92, 8217],\n    [0x93, 8220],\n    [0x94, 8221],\n    [0x95, 8226],\n    [0x96, 8211],\n    [0x97, 8212],\n    [0x98, 732],\n    [0x99, 8482],\n    [0x9a, 353],\n    [0x9b, 8250],\n    [0x9c, 339],\n    [0x9e, 382],\n    [0x9f, 376],\n]);\n//States\nvar State;\n(function (State) {\n    State[State[\"DATA\"] = 0] = \"DATA\";\n    State[State[\"RCDATA\"] = 1] = \"RCDATA\";\n    State[State[\"RAWTEXT\"] = 2] = \"RAWTEXT\";\n    State[State[\"SCRIPT_DATA\"] = 3] = \"SCRIPT_DATA\";\n    State[State[\"PLAINTEXT\"] = 4] = \"PLAINTEXT\";\n    State[State[\"TAG_OPEN\"] = 5] = \"TAG_OPEN\";\n    State[State[\"END_TAG_OPEN\"] = 6] = \"END_TAG_OPEN\";\n    State[State[\"TAG_NAME\"] = 7] = \"TAG_NAME\";\n    State[State[\"RCDATA_LESS_THAN_SIGN\"] = 8] = \"RCDATA_LESS_THAN_SIGN\";\n    State[State[\"RCDATA_END_TAG_OPEN\"] = 9] = \"RCDATA_END_TAG_OPEN\";\n    State[State[\"RCDATA_END_TAG_NAME\"] = 10] = \"RCDATA_END_TAG_NAME\";\n    State[State[\"RAWTEXT_LESS_THAN_SIGN\"] = 11] = \"RAWTEXT_LESS_THAN_SIGN\";\n    State[State[\"RAWTEXT_END_TAG_OPEN\"] = 12] = \"RAWTEXT_END_TAG_OPEN\";\n    State[State[\"RAWTEXT_END_TAG_NAME\"] = 13] = \"RAWTEXT_END_TAG_NAME\";\n    State[State[\"SCRIPT_DATA_LESS_THAN_SIGN\"] = 14] = \"SCRIPT_DATA_LESS_THAN_SIGN\";\n    State[State[\"SCRIPT_DATA_END_TAG_OPEN\"] = 15] = \"SCRIPT_DATA_END_TAG_OPEN\";\n    State[State[\"SCRIPT_DATA_END_TAG_NAME\"] = 16] = \"SCRIPT_DATA_END_TAG_NAME\";\n    State[State[\"SCRIPT_DATA_ESCAPE_START\"] = 17] = \"SCRIPT_DATA_ESCAPE_START\";\n    State[State[\"SCRIPT_DATA_ESCAPE_START_DASH\"] = 18] = \"SCRIPT_DATA_ESCAPE_START_DASH\";\n    State[State[\"SCRIPT_DATA_ESCAPED\"] = 19] = \"SCRIPT_DATA_ESCAPED\";\n    State[State[\"SCRIPT_DATA_ESCAPED_DASH\"] = 20] = \"SCRIPT_DATA_ESCAPED_DASH\";\n    State[State[\"SCRIPT_DATA_ESCAPED_DASH_DASH\"] = 21] = \"SCRIPT_DATA_ESCAPED_DASH_DASH\";\n    State[State[\"SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN\"] = 22] = \"SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN\";\n    State[State[\"SCRIPT_DATA_ESCAPED_END_TAG_OPEN\"] = 23] = \"SCRIPT_DATA_ESCAPED_END_TAG_OPEN\";\n    State[State[\"SCRIPT_DATA_ESCAPED_END_TAG_NAME\"] = 24] = \"SCRIPT_DATA_ESCAPED_END_TAG_NAME\";\n    State[State[\"SCRIPT_DATA_DOUBLE_ESCAPE_START\"] = 25] = \"SCRIPT_DATA_DOUBLE_ESCAPE_START\";\n    State[State[\"SCRIPT_DATA_DOUBLE_ESCAPED\"] = 26] = \"SCRIPT_DATA_DOUBLE_ESCAPED\";\n    State[State[\"SCRIPT_DATA_DOUBLE_ESCAPED_DASH\"] = 27] = \"SCRIPT_DATA_DOUBLE_ESCAPED_DASH\";\n    State[State[\"SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH\"] = 28] = \"SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH\";\n    State[State[\"SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN\"] = 29] = \"SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN\";\n    State[State[\"SCRIPT_DATA_DOUBLE_ESCAPE_END\"] = 30] = \"SCRIPT_DATA_DOUBLE_ESCAPE_END\";\n    State[State[\"BEFORE_ATTRIBUTE_NAME\"] = 31] = \"BEFORE_ATTRIBUTE_NAME\";\n    State[State[\"ATTRIBUTE_NAME\"] = 32] = \"ATTRIBUTE_NAME\";\n    State[State[\"AFTER_ATTRIBUTE_NAME\"] = 33] = \"AFTER_ATTRIBUTE_NAME\";\n    State[State[\"BEFORE_ATTRIBUTE_VALUE\"] = 34] = \"BEFORE_ATTRIBUTE_VALUE\";\n    State[State[\"ATTRIBUTE_VALUE_DOUBLE_QUOTED\"] = 35] = \"ATTRIBUTE_VALUE_DOUBLE_QUOTED\";\n    State[State[\"ATTRIBUTE_VALUE_SINGLE_QUOTED\"] = 36] = \"ATTRIBUTE_VALUE_SINGLE_QUOTED\";\n    State[State[\"ATTRIBUTE_VALUE_UNQUOTED\"] = 37] = \"ATTRIBUTE_VALUE_UNQUOTED\";\n    State[State[\"AFTER_ATTRIBUTE_VALUE_QUOTED\"] = 38] = \"AFTER_ATTRIBUTE_VALUE_QUOTED\";\n    State[State[\"SELF_CLOSING_START_TAG\"] = 39] = \"SELF_CLOSING_START_TAG\";\n    State[State[\"BOGUS_COMMENT\"] = 40] = \"BOGUS_COMMENT\";\n    State[State[\"MARKUP_DECLARATION_OPEN\"] = 41] = \"MARKUP_DECLARATION_OPEN\";\n    State[State[\"COMMENT_START\"] = 42] = \"COMMENT_START\";\n    State[State[\"COMMENT_START_DASH\"] = 43] = \"COMMENT_START_DASH\";\n    State[State[\"COMMENT\"] = 44] = \"COMMENT\";\n    State[State[\"COMMENT_LESS_THAN_SIGN\"] = 45] = \"COMMENT_LESS_THAN_SIGN\";\n    State[State[\"COMMENT_LESS_THAN_SIGN_BANG\"] = 46] = \"COMMENT_LESS_THAN_SIGN_BANG\";\n    State[State[\"COMMENT_LESS_THAN_SIGN_BANG_DASH\"] = 47] = \"COMMENT_LESS_THAN_SIGN_BANG_DASH\";\n    State[State[\"COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH\"] = 48] = \"COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH\";\n    State[State[\"COMMENT_END_DASH\"] = 49] = \"COMMENT_END_DASH\";\n    State[State[\"COMMENT_END\"] = 50] = \"COMMENT_END\";\n    State[State[\"COMMENT_END_BANG\"] = 51] = \"COMMENT_END_BANG\";\n    State[State[\"DOCTYPE\"] = 52] = \"DOCTYPE\";\n    State[State[\"BEFORE_DOCTYPE_NAME\"] = 53] = \"BEFORE_DOCTYPE_NAME\";\n    State[State[\"DOCTYPE_NAME\"] = 54] = \"DOCTYPE_NAME\";\n    State[State[\"AFTER_DOCTYPE_NAME\"] = 55] = \"AFTER_DOCTYPE_NAME\";\n    State[State[\"AFTER_DOCTYPE_PUBLIC_KEYWORD\"] = 56] = \"AFTER_DOCTYPE_PUBLIC_KEYWORD\";\n    State[State[\"BEFORE_DOCTYPE_PUBLIC_IDENTIFIER\"] = 57] = \"BEFORE_DOCTYPE_PUBLIC_IDENTIFIER\";\n    State[State[\"DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED\"] = 58] = \"DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED\";\n    State[State[\"DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED\"] = 59] = \"DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED\";\n    State[State[\"AFTER_DOCTYPE_PUBLIC_IDENTIFIER\"] = 60] = \"AFTER_DOCTYPE_PUBLIC_IDENTIFIER\";\n    State[State[\"BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS\"] = 61] = \"BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS\";\n    State[State[\"AFTER_DOCTYPE_SYSTEM_KEYWORD\"] = 62] = \"AFTER_DOCTYPE_SYSTEM_KEYWORD\";\n    State[State[\"BEFORE_DOCTYPE_SYSTEM_IDENTIFIER\"] = 63] = \"BEFORE_DOCTYPE_SYSTEM_IDENTIFIER\";\n    State[State[\"DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED\"] = 64] = \"DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED\";\n    State[State[\"DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED\"] = 65] = \"DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED\";\n    State[State[\"AFTER_DOCTYPE_SYSTEM_IDENTIFIER\"] = 66] = \"AFTER_DOCTYPE_SYSTEM_IDENTIFIER\";\n    State[State[\"BOGUS_DOCTYPE\"] = 67] = \"BOGUS_DOCTYPE\";\n    State[State[\"CDATA_SECTION\"] = 68] = \"CDATA_SECTION\";\n    State[State[\"CDATA_SECTION_BRACKET\"] = 69] = \"CDATA_SECTION_BRACKET\";\n    State[State[\"CDATA_SECTION_END\"] = 70] = \"CDATA_SECTION_END\";\n    State[State[\"CHARACTER_REFERENCE\"] = 71] = \"CHARACTER_REFERENCE\";\n    State[State[\"NAMED_CHARACTER_REFERENCE\"] = 72] = \"NAMED_CHARACTER_REFERENCE\";\n    State[State[\"AMBIGUOUS_AMPERSAND\"] = 73] = \"AMBIGUOUS_AMPERSAND\";\n    State[State[\"NUMERIC_CHARACTER_REFERENCE\"] = 74] = \"NUMERIC_CHARACTER_REFERENCE\";\n    State[State[\"HEXADEMICAL_CHARACTER_REFERENCE_START\"] = 75] = \"HEXADEMICAL_CHARACTER_REFERENCE_START\";\n    State[State[\"HEXADEMICAL_CHARACTER_REFERENCE\"] = 76] = \"HEXADEMICAL_CHARACTER_REFERENCE\";\n    State[State[\"DECIMAL_CHARACTER_REFERENCE\"] = 77] = \"DECIMAL_CHARACTER_REFERENCE\";\n    State[State[\"NUMERIC_CHARACTER_REFERENCE_END\"] = 78] = \"NUMERIC_CHARACTER_REFERENCE_END\";\n})(State || (State = {}));\n//Tokenizer initial states for different modes\nexport const TokenizerMode = {\n    DATA: State.DATA,\n    RCDATA: State.RCDATA,\n    RAWTEXT: State.RAWTEXT,\n    SCRIPT_DATA: State.SCRIPT_DATA,\n    PLAINTEXT: State.PLAINTEXT,\n    CDATA_SECTION: State.CDATA_SECTION,\n};\n//Utils\n//OPTIMIZATION: these utility functions should not be moved out of this module. V8 Crankshaft will not inline\n//this functions if they will be situated in another module due to context switch.\n//Always perform inlining check before modifying this functions ('node --trace-inlining').\nfunction isAsciiDigit(cp) {\n    return cp >= $.DIGIT_0 && cp <= $.DIGIT_9;\n}\nfunction isAsciiUpper(cp) {\n    return cp >= $.LATIN_CAPITAL_A && cp <= $.LATIN_CAPITAL_Z;\n}\nfunction isAsciiLower(cp) {\n    return cp >= $.LATIN_SMALL_A && cp <= $.LATIN_SMALL_Z;\n}\nfunction isAsciiLetter(cp) {\n    return isAsciiLower(cp) || isAsciiUpper(cp);\n}\nfunction isAsciiAlphaNumeric(cp) {\n    return isAsciiLetter(cp) || isAsciiDigit(cp);\n}\nfunction isAsciiUpperHexDigit(cp) {\n    return cp >= $.LATIN_CAPITAL_A && cp <= $.LATIN_CAPITAL_F;\n}\nfunction isAsciiLowerHexDigit(cp) {\n    return cp >= $.LATIN_SMALL_A && cp <= $.LATIN_SMALL_F;\n}\nfunction isAsciiHexDigit(cp) {\n    return isAsciiDigit(cp) || isAsciiUpperHexDigit(cp) || isAsciiLowerHexDigit(cp);\n}\nfunction toAsciiLower(cp) {\n    return cp + 32;\n}\nfunction isWhitespace(cp) {\n    return cp === $.SPACE || cp === $.LINE_FEED || cp === $.TABULATION || cp === $.FORM_FEED;\n}\nfunction isEntityInAttributeInvalidEnd(nextCp) {\n    return nextCp === $.EQUALS_SIGN || isAsciiAlphaNumeric(nextCp);\n}\nfunction isScriptDataDoubleEscapeSequenceEnd(cp) {\n    return isWhitespace(cp) || cp === $.SOLIDUS || cp === $.GREATER_THAN_SIGN;\n}\n//Tokenizer\nexport class Tokenizer {\n    constructor(options, handler) {\n        this.options = options;\n        this.handler = handler;\n        this.paused = false;\n        /** Ensures that the parsing loop isn't run multiple times at once. */\n        this.inLoop = false;\n        /**\n         * Indicates that the current adjusted node exists, is not an element in the HTML namespace,\n         * and that it is not an integration point for either MathML or HTML.\n         *\n         * @see {@link https://html.spec.whatwg.org/multipage/parsing.html#tree-construction}\n         */\n        this.inForeignNode = false;\n        this.lastStartTagName = '';\n        this.active = false;\n        this.state = State.DATA;\n        this.returnState = State.DATA;\n        this.charRefCode = -1;\n        this.consumedAfterSnapshot = -1;\n        this.currentCharacterToken = null;\n        this.currentToken = null;\n        this.currentAttr = { name: '', value: '' };\n        this.preprocessor = new Preprocessor(handler);\n        this.currentLocation = this.getCurrentLocation(-1);\n    }\n    //Errors\n    _err(code) {\n        var _a, _b;\n        (_b = (_a = this.handler).onParseError) === null || _b === void 0 ? void 0 : _b.call(_a, this.preprocessor.getError(code));\n    }\n    // NOTE: `offset` may never run across line boundaries.\n    getCurrentLocation(offset) {\n        if (!this.options.sourceCodeLocationInfo) {\n            return null;\n        }\n        return {\n            startLine: this.preprocessor.line,\n            startCol: this.preprocessor.col - offset,\n            startOffset: this.preprocessor.offset - offset,\n            endLine: -1,\n            endCol: -1,\n            endOffset: -1,\n        };\n    }\n    _runParsingLoop() {\n        if (this.inLoop)\n            return;\n        this.inLoop = true;\n        while (this.active && !this.paused) {\n            this.consumedAfterSnapshot = 0;\n            const cp = this._consume();\n            if (!this._ensureHibernation()) {\n                this._callState(cp);\n            }\n        }\n        this.inLoop = false;\n    }\n    //API\n    pause() {\n        this.paused = true;\n    }\n    resume(writeCallback) {\n        if (!this.paused) {\n            throw new Error('Parser was already resumed');\n        }\n        this.paused = false;\n        // Necessary for synchronous resume.\n        if (this.inLoop)\n            return;\n        this._runParsingLoop();\n        if (!this.paused) {\n            writeCallback === null || writeCallback === void 0 ? void 0 : writeCallback();\n        }\n    }\n    write(chunk, isLastChunk, writeCallback) {\n        this.active = true;\n        this.preprocessor.write(chunk, isLastChunk);\n        this._runParsingLoop();\n        if (!this.paused) {\n            writeCallback === null || writeCallback === void 0 ? void 0 : writeCallback();\n        }\n    }\n    insertHtmlAtCurrentPos(chunk) {\n        this.active = true;\n        this.preprocessor.insertHtmlAtCurrentPos(chunk);\n        this._runParsingLoop();\n    }\n    //Hibernation\n    _ensureHibernation() {\n        if (this.preprocessor.endOfChunkHit) {\n            this._unconsume(this.consumedAfterSnapshot);\n            this.active = false;\n            return true;\n        }\n        return false;\n    }\n    //Consumption\n    _consume() {\n        this.consumedAfterSnapshot++;\n        return this.preprocessor.advance();\n    }\n    _unconsume(count) {\n        this.consumedAfterSnapshot -= count;\n        this.preprocessor.retreat(count);\n    }\n    _reconsumeInState(state, cp) {\n        this.state = state;\n        this._callState(cp);\n    }\n    _advanceBy(count) {\n        this.consumedAfterSnapshot += count;\n        for (let i = 0; i < count; i++) {\n            this.preprocessor.advance();\n        }\n    }\n    _consumeSequenceIfMatch(pattern, caseSensitive) {\n        if (this.preprocessor.startsWith(pattern, caseSensitive)) {\n            // We will already have consumed one character before calling this method.\n            this._advanceBy(pattern.length - 1);\n            return true;\n        }\n        return false;\n    }\n    //Token creation\n    _createStartTagToken() {\n        this.currentToken = {\n            type: TokenType.START_TAG,\n            tagName: '',\n            tagID: TAG_ID.UNKNOWN,\n            selfClosing: false,\n            ackSelfClosing: false,\n            attrs: [],\n            location: this.getCurrentLocation(1),\n        };\n    }\n    _createEndTagToken() {\n        this.currentToken = {\n            type: TokenType.END_TAG,\n            tagName: '',\n            tagID: TAG_ID.UNKNOWN,\n            selfClosing: false,\n            ackSelfClosing: false,\n            attrs: [],\n            location: this.getCurrentLocation(2),\n        };\n    }\n    _createCommentToken(offset) {\n        this.currentToken = {\n            type: TokenType.COMMENT,\n            data: '',\n            location: this.getCurrentLocation(offset),\n        };\n    }\n    _createDoctypeToken(initialName) {\n        this.currentToken = {\n            type: TokenType.DOCTYPE,\n            name: initialName,\n            forceQuirks: false,\n            publicId: null,\n            systemId: null,\n            location: this.currentLocation,\n        };\n    }\n    _createCharacterToken(type, chars) {\n        this.currentCharacterToken = {\n            type,\n            chars,\n            location: this.currentLocation,\n        };\n    }\n    //Tag attributes\n    _createAttr(attrNameFirstCh) {\n        this.currentAttr = {\n            name: attrNameFirstCh,\n            value: '',\n        };\n        this.currentLocation = this.getCurrentLocation(0);\n    }\n    _leaveAttrName() {\n        var _a;\n        var _b;\n        const token = this.currentToken;\n        if (getTokenAttr(token, this.currentAttr.name) === null) {\n            token.attrs.push(this.currentAttr);\n            if (token.location && this.currentLocation) {\n                const attrLocations = ((_a = (_b = token.location).attrs) !== null && _a !== void 0 ? _a : (_b.attrs = Object.create(null)));\n                attrLocations[this.currentAttr.name] = this.currentLocation;\n                // Set end location\n                this._leaveAttrValue();\n            }\n        }\n        else {\n            this._err(ERR.duplicateAttribute);\n        }\n    }\n    _leaveAttrValue() {\n        if (this.currentLocation) {\n            this.currentLocation.endLine = this.preprocessor.line;\n            this.currentLocation.endCol = this.preprocessor.col;\n            this.currentLocation.endOffset = this.preprocessor.offset;\n        }\n    }\n    //Token emission\n    prepareToken(ct) {\n        this._emitCurrentCharacterToken(ct.location);\n        this.currentToken = null;\n        if (ct.location) {\n            ct.location.endLine = this.preprocessor.line;\n            ct.location.endCol = this.preprocessor.col + 1;\n            ct.location.endOffset = this.preprocessor.offset + 1;\n        }\n        this.currentLocation = this.getCurrentLocation(-1);\n    }\n    emitCurrentTagToken() {\n        const ct = this.currentToken;\n        this.prepareToken(ct);\n        ct.tagID = getTagID(ct.tagName);\n        if (ct.type === TokenType.START_TAG) {\n            this.lastStartTagName = ct.tagName;\n            this.handler.onStartTag(ct);\n        }\n        else {\n            if (ct.attrs.length > 0) {\n                this._err(ERR.endTagWithAttributes);\n            }\n            if (ct.selfClosing) {\n                this._err(ERR.endTagWithTrailingSolidus);\n            }\n            this.handler.onEndTag(ct);\n        }\n        this.preprocessor.dropParsedChunk();\n    }\n    emitCurrentComment(ct) {\n        this.prepareToken(ct);\n        this.handler.onComment(ct);\n        this.preprocessor.dropParsedChunk();\n    }\n    emitCurrentDoctype(ct) {\n        this.prepareToken(ct);\n        this.handler.onDoctype(ct);\n        this.preprocessor.dropParsedChunk();\n    }\n    _emitCurrentCharacterToken(nextLocation) {\n        if (this.currentCharacterToken) {\n            //NOTE: if we have a pending character token, make it's end location equal to the\n            //current token's start location.\n            if (nextLocation && this.currentCharacterToken.location) {\n                this.currentCharacterToken.location.endLine = nextLocation.startLine;\n                this.currentCharacterToken.location.endCol = nextLocation.startCol;\n                this.currentCharacterToken.location.endOffset = nextLocation.startOffset;\n            }\n            switch (this.currentCharacterToken.type) {\n                case TokenType.CHARACTER: {\n                    this.handler.onCharacter(this.currentCharacterToken);\n                    break;\n                }\n                case TokenType.NULL_CHARACTER: {\n                    this.handler.onNullCharacter(this.currentCharacterToken);\n                    break;\n                }\n                case TokenType.WHITESPACE_CHARACTER: {\n                    this.handler.onWhitespaceCharacter(this.currentCharacterToken);\n                    break;\n                }\n            }\n            this.currentCharacterToken = null;\n        }\n    }\n    _emitEOFToken() {\n        const location = this.getCurrentLocation(0);\n        if (location) {\n            location.endLine = location.startLine;\n            location.endCol = location.startCol;\n            location.endOffset = location.startOffset;\n        }\n        this._emitCurrentCharacterToken(location);\n        this.handler.onEof({ type: TokenType.EOF, location });\n        this.active = false;\n    }\n    //Characters emission\n    //OPTIMIZATION: specification uses only one type of character tokens (one token per character).\n    //This causes a huge memory overhead and a lot of unnecessary parser loops. parse5 uses 3 groups of characters.\n    //If we have a sequence of characters that belong to the same group, the parser can process it\n    //as a single solid character token.\n    //So, there are 3 types of character tokens in parse5:\n    //1)TokenType.NULL_CHARACTER - \\u0000-character sequences (e.g. '\\u0000\\u0000\\u0000')\n    //2)TokenType.WHITESPACE_CHARACTER - any whitespace/new-line character sequences (e.g. '\\n  \\r\\t   \\f')\n    //3)TokenType.CHARACTER - any character sequence which don't belong to groups 1 and 2 (e.g. 'abcdef1234@@#$%^')\n    _appendCharToCurrentCharacterToken(type, ch) {\n        if (this.currentCharacterToken) {\n            if (this.currentCharacterToken.type !== type) {\n                this.currentLocation = this.getCurrentLocation(0);\n                this._emitCurrentCharacterToken(this.currentLocation);\n                this.preprocessor.dropParsedChunk();\n            }\n            else {\n                this.currentCharacterToken.chars += ch;\n                return;\n            }\n        }\n        this._createCharacterToken(type, ch);\n    }\n    _emitCodePoint(cp) {\n        const type = isWhitespace(cp)\n            ? TokenType.WHITESPACE_CHARACTER\n            : cp === $.NULL\n                ? TokenType.NULL_CHARACTER\n                : TokenType.CHARACTER;\n        this._appendCharToCurrentCharacterToken(type, String.fromCodePoint(cp));\n    }\n    //NOTE: used when we emit characters explicitly.\n    //This is always for non-whitespace and non-null characters, which allows us to avoid additional checks.\n    _emitChars(ch) {\n        this._appendCharToCurrentCharacterToken(TokenType.CHARACTER, ch);\n    }\n    // Character reference helpers\n    _matchNamedCharacterReference(cp) {\n        let result = null;\n        let excess = 0;\n        let withoutSemicolon = false;\n        for (let i = 0, current = htmlDecodeTree[0]; i >= 0; cp = this._consume()) {\n            i = determineBranch(htmlDecodeTree, current, i + 1, cp);\n            if (i < 0)\n                break;\n            excess += 1;\n            current = htmlDecodeTree[i];\n            const masked = current & BinTrieFlags.VALUE_LENGTH;\n            // If the branch is a value, store it and continue\n            if (masked) {\n                // The mask is the number of bytes of the value, including the current byte.\n                const valueLength = (masked >> 14) - 1;\n                // Attribute values that aren't terminated properly aren't parsed, and shouldn't lead to a parser error.\n                // See the example in https://html.spec.whatwg.org/multipage/parsing.html#named-character-reference-state\n                if (cp !== $.SEMICOLON &&\n                    this._isCharacterReferenceInAttribute() &&\n                    isEntityInAttributeInvalidEnd(this.preprocessor.peek(1))) {\n                    //NOTE: we don't flush all consumed code points here, and instead switch back to the original state after\n                    //emitting an ampersand. This is fine, as alphanumeric characters won't be parsed differently in attributes.\n                    result = [$.AMPERSAND];\n                    // Skip over the value.\n                    i += valueLength;\n                }\n                else {\n                    // If this is a surrogate pair, consume the next two bytes.\n                    result =\n                        valueLength === 0\n                            ? [htmlDecodeTree[i] & ~BinTrieFlags.VALUE_LENGTH]\n                            : valueLength === 1\n                                ? [htmlDecodeTree[++i]]\n                                : [htmlDecodeTree[++i], htmlDecodeTree[++i]];\n                    excess = 0;\n                    withoutSemicolon = cp !== $.SEMICOLON;\n                }\n                if (valueLength === 0) {\n                    // If the value is zero-length, we're done.\n                    this._consume();\n                    break;\n                }\n            }\n        }\n        this._unconsume(excess);\n        if (withoutSemicolon && !this.preprocessor.endOfChunkHit) {\n            this._err(ERR.missingSemicolonAfterCharacterReference);\n        }\n        // We want to emit the error above on the code point after the entity.\n        // We always consume one code point too many in the loop, and we wait to\n        // unconsume it until after the error is emitted.\n        this._unconsume(1);\n        return result;\n    }\n    _isCharacterReferenceInAttribute() {\n        return (this.returnState === State.ATTRIBUTE_VALUE_DOUBLE_QUOTED ||\n            this.returnState === State.ATTRIBUTE_VALUE_SINGLE_QUOTED ||\n            this.returnState === State.ATTRIBUTE_VALUE_UNQUOTED);\n    }\n    _flushCodePointConsumedAsCharacterReference(cp) {\n        if (this._isCharacterReferenceInAttribute()) {\n            this.currentAttr.value += String.fromCodePoint(cp);\n        }\n        else {\n            this._emitCodePoint(cp);\n        }\n    }\n    // Calling states this way turns out to be much faster than any other approach.\n    _callState(cp) {\n        switch (this.state) {\n            case State.DATA: {\n                this._stateData(cp);\n                break;\n            }\n            case State.RCDATA: {\n                this._stateRcdata(cp);\n                break;\n            }\n            case State.RAWTEXT: {\n                this._stateRawtext(cp);\n                break;\n            }\n            case State.SCRIPT_DATA: {\n                this._stateScriptData(cp);\n                break;\n            }\n            case State.PLAINTEXT: {\n                this._statePlaintext(cp);\n                break;\n            }\n            case State.TAG_OPEN: {\n                this._stateTagOpen(cp);\n                break;\n            }\n            case State.END_TAG_OPEN: {\n                this._stateEndTagOpen(cp);\n                break;\n            }\n            case State.TAG_NAME: {\n                this._stateTagName(cp);\n                break;\n            }\n            case State.RCDATA_LESS_THAN_SIGN: {\n                this._stateRcdataLessThanSign(cp);\n                break;\n            }\n            case State.RCDATA_END_TAG_OPEN: {\n                this._stateRcdataEndTagOpen(cp);\n                break;\n            }\n            case State.RCDATA_END_TAG_NAME: {\n                this._stateRcdataEndTagName(cp);\n                break;\n            }\n            case State.RAWTEXT_LESS_THAN_SIGN: {\n                this._stateRawtextLessThanSign(cp);\n                break;\n            }\n            case State.RAWTEXT_END_TAG_OPEN: {\n                this._stateRawtextEndTagOpen(cp);\n                break;\n            }\n            case State.RAWTEXT_END_TAG_NAME: {\n                this._stateRawtextEndTagName(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_LESS_THAN_SIGN: {\n                this._stateScriptDataLessThanSign(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_END_TAG_OPEN: {\n                this._stateScriptDataEndTagOpen(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_END_TAG_NAME: {\n                this._stateScriptDataEndTagName(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPE_START: {\n                this._stateScriptDataEscapeStart(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPE_START_DASH: {\n                this._stateScriptDataEscapeStartDash(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPED: {\n                this._stateScriptDataEscaped(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPED_DASH: {\n                this._stateScriptDataEscapedDash(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPED_DASH_DASH: {\n                this._stateScriptDataEscapedDashDash(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN: {\n                this._stateScriptDataEscapedLessThanSign(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPED_END_TAG_OPEN: {\n                this._stateScriptDataEscapedEndTagOpen(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPED_END_TAG_NAME: {\n                this._stateScriptDataEscapedEndTagName(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_DOUBLE_ESCAPE_START: {\n                this._stateScriptDataDoubleEscapeStart(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_DOUBLE_ESCAPED: {\n                this._stateScriptDataDoubleEscaped(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH: {\n                this._stateScriptDataDoubleEscapedDash(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH: {\n                this._stateScriptDataDoubleEscapedDashDash(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN: {\n                this._stateScriptDataDoubleEscapedLessThanSign(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_DOUBLE_ESCAPE_END: {\n                this._stateScriptDataDoubleEscapeEnd(cp);\n                break;\n            }\n            case State.BEFORE_ATTRIBUTE_NAME: {\n                this._stateBeforeAttributeName(cp);\n                break;\n            }\n            case State.ATTRIBUTE_NAME: {\n                this._stateAttributeName(cp);\n                break;\n            }\n            case State.AFTER_ATTRIBUTE_NAME: {\n                this._stateAfterAttributeName(cp);\n                break;\n            }\n            case State.BEFORE_ATTRIBUTE_VALUE: {\n                this._stateBeforeAttributeValue(cp);\n                break;\n            }\n            case State.ATTRIBUTE_VALUE_DOUBLE_QUOTED: {\n                this._stateAttributeValueDoubleQuoted(cp);\n                break;\n            }\n            case State.ATTRIBUTE_VALUE_SINGLE_QUOTED: {\n                this._stateAttributeValueSingleQuoted(cp);\n                break;\n            }\n            case State.ATTRIBUTE_VALUE_UNQUOTED: {\n                this._stateAttributeValueUnquoted(cp);\n                break;\n            }\n            case State.AFTER_ATTRIBUTE_VALUE_QUOTED: {\n                this._stateAfterAttributeValueQuoted(cp);\n                break;\n            }\n            case State.SELF_CLOSING_START_TAG: {\n                this._stateSelfClosingStartTag(cp);\n                break;\n            }\n            case State.BOGUS_COMMENT: {\n                this._stateBogusComment(cp);\n                break;\n            }\n            case State.MARKUP_DECLARATION_OPEN: {\n                this._stateMarkupDeclarationOpen(cp);\n                break;\n            }\n            case State.COMMENT_START: {\n                this._stateCommentStart(cp);\n                break;\n            }\n            case State.COMMENT_START_DASH: {\n                this._stateCommentStartDash(cp);\n                break;\n            }\n            case State.COMMENT: {\n                this._stateComment(cp);\n                break;\n            }\n            case State.COMMENT_LESS_THAN_SIGN: {\n                this._stateCommentLessThanSign(cp);\n                break;\n            }\n            case State.COMMENT_LESS_THAN_SIGN_BANG: {\n                this._stateCommentLessThanSignBang(cp);\n                break;\n            }\n            case State.COMMENT_LESS_THAN_SIGN_BANG_DASH: {\n                this._stateCommentLessThanSignBangDash(cp);\n                break;\n            }\n            case State.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH: {\n                this._stateCommentLessThanSignBangDashDash(cp);\n                break;\n            }\n            case State.COMMENT_END_DASH: {\n                this._stateCommentEndDash(cp);\n                break;\n            }\n            case State.COMMENT_END: {\n                this._stateCommentEnd(cp);\n                break;\n            }\n            case State.COMMENT_END_BANG: {\n                this._stateCommentEndBang(cp);\n                break;\n            }\n            case State.DOCTYPE: {\n                this._stateDoctype(cp);\n                break;\n            }\n            case State.BEFORE_DOCTYPE_NAME: {\n                this._stateBeforeDoctypeName(cp);\n                break;\n            }\n            case State.DOCTYPE_NAME: {\n                this._stateDoctypeName(cp);\n                break;\n            }\n            case State.AFTER_DOCTYPE_NAME: {\n                this._stateAfterDoctypeName(cp);\n                break;\n            }\n            case State.AFTER_DOCTYPE_PUBLIC_KEYWORD: {\n                this._stateAfterDoctypePublicKeyword(cp);\n                break;\n            }\n            case State.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER: {\n                this._stateBeforeDoctypePublicIdentifier(cp);\n                break;\n            }\n            case State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED: {\n                this._stateDoctypePublicIdentifierDoubleQuoted(cp);\n                break;\n            }\n            case State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED: {\n                this._stateDoctypePublicIdentifierSingleQuoted(cp);\n                break;\n            }\n            case State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER: {\n                this._stateAfterDoctypePublicIdentifier(cp);\n                break;\n            }\n            case State.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS: {\n                this._stateBetweenDoctypePublicAndSystemIdentifiers(cp);\n                break;\n            }\n            case State.AFTER_DOCTYPE_SYSTEM_KEYWORD: {\n                this._stateAfterDoctypeSystemKeyword(cp);\n                break;\n            }\n            case State.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER: {\n                this._stateBeforeDoctypeSystemIdentifier(cp);\n                break;\n            }\n            case State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED: {\n                this._stateDoctypeSystemIdentifierDoubleQuoted(cp);\n                break;\n            }\n            case State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED: {\n                this._stateDoctypeSystemIdentifierSingleQuoted(cp);\n                break;\n            }\n            case State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER: {\n                this._stateAfterDoctypeSystemIdentifier(cp);\n                break;\n            }\n            case State.BOGUS_DOCTYPE: {\n                this._stateBogusDoctype(cp);\n                break;\n            }\n            case State.CDATA_SECTION: {\n                this._stateCdataSection(cp);\n                break;\n            }\n            case State.CDATA_SECTION_BRACKET: {\n                this._stateCdataSectionBracket(cp);\n                break;\n            }\n            case State.CDATA_SECTION_END: {\n                this._stateCdataSectionEnd(cp);\n                break;\n            }\n            case State.CHARACTER_REFERENCE: {\n                this._stateCharacterReference(cp);\n                break;\n            }\n            case State.NAMED_CHARACTER_REFERENCE: {\n                this._stateNamedCharacterReference(cp);\n                break;\n            }\n            case State.AMBIGUOUS_AMPERSAND: {\n                this._stateAmbiguousAmpersand(cp);\n                break;\n            }\n            case State.NUMERIC_CHARACTER_REFERENCE: {\n                this._stateNumericCharacterReference(cp);\n                break;\n            }\n            case State.HEXADEMICAL_CHARACTER_REFERENCE_START: {\n                this._stateHexademicalCharacterReferenceStart(cp);\n                break;\n            }\n            case State.HEXADEMICAL_CHARACTER_REFERENCE: {\n                this._stateHexademicalCharacterReference(cp);\n                break;\n            }\n            case State.DECIMAL_CHARACTER_REFERENCE: {\n                this._stateDecimalCharacterReference(cp);\n                break;\n            }\n            case State.NUMERIC_CHARACTER_REFERENCE_END: {\n                this._stateNumericCharacterReferenceEnd(cp);\n                break;\n            }\n            default: {\n                throw new Error('Unknown state');\n            }\n        }\n    }\n    // State machine\n    // Data state\n    //------------------------------------------------------------------\n    _stateData(cp) {\n        switch (cp) {\n            case $.LESS_THAN_SIGN: {\n                this.state = State.TAG_OPEN;\n                break;\n            }\n            case $.AMPERSAND: {\n                this.returnState = State.DATA;\n                this.state = State.CHARACTER_REFERENCE;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitCodePoint(cp);\n                break;\n            }\n            case $.EOF: {\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    //  RCDATA state\n    //------------------------------------------------------------------\n    _stateRcdata(cp) {\n        switch (cp) {\n            case $.AMPERSAND: {\n                this.returnState = State.RCDATA;\n                this.state = State.CHARACTER_REFERENCE;\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.RCDATA_LESS_THAN_SIGN;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // RAWTEXT state\n    //------------------------------------------------------------------\n    _stateRawtext(cp) {\n        switch (cp) {\n            case $.LESS_THAN_SIGN: {\n                this.state = State.RAWTEXT_LESS_THAN_SIGN;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data state\n    //------------------------------------------------------------------\n    _stateScriptData(cp) {\n        switch (cp) {\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_LESS_THAN_SIGN;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // PLAINTEXT state\n    //------------------------------------------------------------------\n    _statePlaintext(cp) {\n        switch (cp) {\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Tag open state\n    //------------------------------------------------------------------\n    _stateTagOpen(cp) {\n        if (isAsciiLetter(cp)) {\n            this._createStartTagToken();\n            this.state = State.TAG_NAME;\n            this._stateTagName(cp);\n        }\n        else\n            switch (cp) {\n                case $.EXCLAMATION_MARK: {\n                    this.state = State.MARKUP_DECLARATION_OPEN;\n                    break;\n                }\n                case $.SOLIDUS: {\n                    this.state = State.END_TAG_OPEN;\n                    break;\n                }\n                case $.QUESTION_MARK: {\n                    this._err(ERR.unexpectedQuestionMarkInsteadOfTagName);\n                    this._createCommentToken(1);\n                    this.state = State.BOGUS_COMMENT;\n                    this._stateBogusComment(cp);\n                    break;\n                }\n                case $.EOF: {\n                    this._err(ERR.eofBeforeTagName);\n                    this._emitChars('<');\n                    this._emitEOFToken();\n                    break;\n                }\n                default: {\n                    this._err(ERR.invalidFirstCharacterOfTagName);\n                    this._emitChars('<');\n                    this.state = State.DATA;\n                    this._stateData(cp);\n                }\n            }\n    }\n    // End tag open state\n    //------------------------------------------------------------------\n    _stateEndTagOpen(cp) {\n        if (isAsciiLetter(cp)) {\n            this._createEndTagToken();\n            this.state = State.TAG_NAME;\n            this._stateTagName(cp);\n        }\n        else\n            switch (cp) {\n                case $.GREATER_THAN_SIGN: {\n                    this._err(ERR.missingEndTagName);\n                    this.state = State.DATA;\n                    break;\n                }\n                case $.EOF: {\n                    this._err(ERR.eofBeforeTagName);\n                    this._emitChars('</');\n                    this._emitEOFToken();\n                    break;\n                }\n                default: {\n                    this._err(ERR.invalidFirstCharacterOfTagName);\n                    this._createCommentToken(2);\n                    this.state = State.BOGUS_COMMENT;\n                    this._stateBogusComment(cp);\n                }\n            }\n    }\n    // Tag name state\n    //------------------------------------------------------------------\n    _stateTagName(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this.state = State.BEFORE_ATTRIBUTE_NAME;\n                break;\n            }\n            case $.SOLIDUS: {\n                this.state = State.SELF_CLOSING_START_TAG;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentTagToken();\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.tagName += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.tagName += String.fromCodePoint(isAsciiUpper(cp) ? toAsciiLower(cp) : cp);\n            }\n        }\n    }\n    // RCDATA less-than sign state\n    //------------------------------------------------------------------\n    _stateRcdataLessThanSign(cp) {\n        if (cp === $.SOLIDUS) {\n            this.state = State.RCDATA_END_TAG_OPEN;\n        }\n        else {\n            this._emitChars('<');\n            this.state = State.RCDATA;\n            this._stateRcdata(cp);\n        }\n    }\n    // RCDATA end tag open state\n    //------------------------------------------------------------------\n    _stateRcdataEndTagOpen(cp) {\n        if (isAsciiLetter(cp)) {\n            this.state = State.RCDATA_END_TAG_NAME;\n            this._stateRcdataEndTagName(cp);\n        }\n        else {\n            this._emitChars('</');\n            this.state = State.RCDATA;\n            this._stateRcdata(cp);\n        }\n    }\n    handleSpecialEndTag(_cp) {\n        if (!this.preprocessor.startsWith(this.lastStartTagName, false)) {\n            return !this._ensureHibernation();\n        }\n        this._createEndTagToken();\n        const token = this.currentToken;\n        token.tagName = this.lastStartTagName;\n        const cp = this.preprocessor.peek(this.lastStartTagName.length);\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this._advanceBy(this.lastStartTagName.length);\n                this.state = State.BEFORE_ATTRIBUTE_NAME;\n                return false;\n            }\n            case $.SOLIDUS: {\n                this._advanceBy(this.lastStartTagName.length);\n                this.state = State.SELF_CLOSING_START_TAG;\n                return false;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._advanceBy(this.lastStartTagName.length);\n                this.emitCurrentTagToken();\n                this.state = State.DATA;\n                return false;\n            }\n            default: {\n                return !this._ensureHibernation();\n            }\n        }\n    }\n    // RCDATA end tag name state\n    //------------------------------------------------------------------\n    _stateRcdataEndTagName(cp) {\n        if (this.handleSpecialEndTag(cp)) {\n            this._emitChars('</');\n            this.state = State.RCDATA;\n            this._stateRcdata(cp);\n        }\n    }\n    // RAWTEXT less-than sign state\n    //------------------------------------------------------------------\n    _stateRawtextLessThanSign(cp) {\n        if (cp === $.SOLIDUS) {\n            this.state = State.RAWTEXT_END_TAG_OPEN;\n        }\n        else {\n            this._emitChars('<');\n            this.state = State.RAWTEXT;\n            this._stateRawtext(cp);\n        }\n    }\n    // RAWTEXT end tag open state\n    //------------------------------------------------------------------\n    _stateRawtextEndTagOpen(cp) {\n        if (isAsciiLetter(cp)) {\n            this.state = State.RAWTEXT_END_TAG_NAME;\n            this._stateRawtextEndTagName(cp);\n        }\n        else {\n            this._emitChars('</');\n            this.state = State.RAWTEXT;\n            this._stateRawtext(cp);\n        }\n    }\n    // RAWTEXT end tag name state\n    //------------------------------------------------------------------\n    _stateRawtextEndTagName(cp) {\n        if (this.handleSpecialEndTag(cp)) {\n            this._emitChars('</');\n            this.state = State.RAWTEXT;\n            this._stateRawtext(cp);\n        }\n    }\n    // Script data less-than sign state\n    //------------------------------------------------------------------\n    _stateScriptDataLessThanSign(cp) {\n        switch (cp) {\n            case $.SOLIDUS: {\n                this.state = State.SCRIPT_DATA_END_TAG_OPEN;\n                break;\n            }\n            case $.EXCLAMATION_MARK: {\n                this.state = State.SCRIPT_DATA_ESCAPE_START;\n                this._emitChars('<!');\n                break;\n            }\n            default: {\n                this._emitChars('<');\n                this.state = State.SCRIPT_DATA;\n                this._stateScriptData(cp);\n            }\n        }\n    }\n    // Script data end tag open state\n    //------------------------------------------------------------------\n    _stateScriptDataEndTagOpen(cp) {\n        if (isAsciiLetter(cp)) {\n            this.state = State.SCRIPT_DATA_END_TAG_NAME;\n            this._stateScriptDataEndTagName(cp);\n        }\n        else {\n            this._emitChars('</');\n            this.state = State.SCRIPT_DATA;\n            this._stateScriptData(cp);\n        }\n    }\n    // Script data end tag name state\n    //------------------------------------------------------------------\n    _stateScriptDataEndTagName(cp) {\n        if (this.handleSpecialEndTag(cp)) {\n            this._emitChars('</');\n            this.state = State.SCRIPT_DATA;\n            this._stateScriptData(cp);\n        }\n    }\n    // Script data escape start state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapeStart(cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = State.SCRIPT_DATA_ESCAPE_START_DASH;\n            this._emitChars('-');\n        }\n        else {\n            this.state = State.SCRIPT_DATA;\n            this._stateScriptData(cp);\n        }\n    }\n    // Script data escape start dash state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapeStartDash(cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = State.SCRIPT_DATA_ESCAPED_DASH_DASH;\n            this._emitChars('-');\n        }\n        else {\n            this.state = State.SCRIPT_DATA;\n            this._stateScriptData(cp);\n        }\n    }\n    // Script data escaped state\n    //------------------------------------------------------------------\n    _stateScriptDataEscaped(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.SCRIPT_DATA_ESCAPED_DASH;\n                this._emitChars('-');\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInScriptHtmlCommentLikeText);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data escaped dash state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapedDash(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.SCRIPT_DATA_ESCAPED_DASH_DASH;\n                this._emitChars('-');\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.state = State.SCRIPT_DATA_ESCAPED;\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInScriptHtmlCommentLikeText);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.state = State.SCRIPT_DATA_ESCAPED;\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data escaped dash dash state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapedDashDash(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this._emitChars('-');\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA;\n                this._emitChars('>');\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.state = State.SCRIPT_DATA_ESCAPED;\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInScriptHtmlCommentLikeText);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.state = State.SCRIPT_DATA_ESCAPED;\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data escaped less-than sign state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapedLessThanSign(cp) {\n        if (cp === $.SOLIDUS) {\n            this.state = State.SCRIPT_DATA_ESCAPED_END_TAG_OPEN;\n        }\n        else if (isAsciiLetter(cp)) {\n            this._emitChars('<');\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPE_START;\n            this._stateScriptDataDoubleEscapeStart(cp);\n        }\n        else {\n            this._emitChars('<');\n            this.state = State.SCRIPT_DATA_ESCAPED;\n            this._stateScriptDataEscaped(cp);\n        }\n    }\n    // Script data escaped end tag open state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapedEndTagOpen(cp) {\n        if (isAsciiLetter(cp)) {\n            this.state = State.SCRIPT_DATA_ESCAPED_END_TAG_NAME;\n            this._stateScriptDataEscapedEndTagName(cp);\n        }\n        else {\n            this._emitChars('</');\n            this.state = State.SCRIPT_DATA_ESCAPED;\n            this._stateScriptDataEscaped(cp);\n        }\n    }\n    // Script data escaped end tag name state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapedEndTagName(cp) {\n        if (this.handleSpecialEndTag(cp)) {\n            this._emitChars('</');\n            this.state = State.SCRIPT_DATA_ESCAPED;\n            this._stateScriptDataEscaped(cp);\n        }\n    }\n    // Script data double escape start state\n    //------------------------------------------------------------------\n    _stateScriptDataDoubleEscapeStart(cp) {\n        if (this.preprocessor.startsWith($$.SCRIPT, false) &&\n            isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek($$.SCRIPT.length))) {\n            this._emitCodePoint(cp);\n            for (let i = 0; i < $$.SCRIPT.length; i++) {\n                this._emitCodePoint(this._consume());\n            }\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n        }\n        else if (!this._ensureHibernation()) {\n            this.state = State.SCRIPT_DATA_ESCAPED;\n            this._stateScriptDataEscaped(cp);\n        }\n    }\n    // Script data double escaped state\n    //------------------------------------------------------------------\n    _stateScriptDataDoubleEscaped(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH;\n                this._emitChars('-');\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN;\n                this._emitChars('<');\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInScriptHtmlCommentLikeText);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data double escaped dash state\n    //------------------------------------------------------------------\n    _stateScriptDataDoubleEscapedDash(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH;\n                this._emitChars('-');\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN;\n                this._emitChars('<');\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInScriptHtmlCommentLikeText);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data double escaped dash dash state\n    //------------------------------------------------------------------\n    _stateScriptDataDoubleEscapedDashDash(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this._emitChars('-');\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN;\n                this._emitChars('<');\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA;\n                this._emitChars('>');\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInScriptHtmlCommentLikeText);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data double escaped less-than sign state\n    //------------------------------------------------------------------\n    _stateScriptDataDoubleEscapedLessThanSign(cp) {\n        if (cp === $.SOLIDUS) {\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPE_END;\n            this._emitChars('/');\n        }\n        else {\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n            this._stateScriptDataDoubleEscaped(cp);\n        }\n    }\n    // Script data double escape end state\n    //------------------------------------------------------------------\n    _stateScriptDataDoubleEscapeEnd(cp) {\n        if (this.preprocessor.startsWith($$.SCRIPT, false) &&\n            isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek($$.SCRIPT.length))) {\n            this._emitCodePoint(cp);\n            for (let i = 0; i < $$.SCRIPT.length; i++) {\n                this._emitCodePoint(this._consume());\n            }\n            this.state = State.SCRIPT_DATA_ESCAPED;\n        }\n        else if (!this._ensureHibernation()) {\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n            this._stateScriptDataDoubleEscaped(cp);\n        }\n    }\n    // Before attribute name state\n    //------------------------------------------------------------------\n    _stateBeforeAttributeName(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.SOLIDUS:\n            case $.GREATER_THAN_SIGN:\n            case $.EOF: {\n                this.state = State.AFTER_ATTRIBUTE_NAME;\n                this._stateAfterAttributeName(cp);\n                break;\n            }\n            case $.EQUALS_SIGN: {\n                this._err(ERR.unexpectedEqualsSignBeforeAttributeName);\n                this._createAttr('=');\n                this.state = State.ATTRIBUTE_NAME;\n                break;\n            }\n            default: {\n                this._createAttr('');\n                this.state = State.ATTRIBUTE_NAME;\n                this._stateAttributeName(cp);\n            }\n        }\n    }\n    // Attribute name state\n    //------------------------------------------------------------------\n    _stateAttributeName(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED:\n            case $.SOLIDUS:\n            case $.GREATER_THAN_SIGN:\n            case $.EOF: {\n                this._leaveAttrName();\n                this.state = State.AFTER_ATTRIBUTE_NAME;\n                this._stateAfterAttributeName(cp);\n                break;\n            }\n            case $.EQUALS_SIGN: {\n                this._leaveAttrName();\n                this.state = State.BEFORE_ATTRIBUTE_VALUE;\n                break;\n            }\n            case $.QUOTATION_MARK:\n            case $.APOSTROPHE:\n            case $.LESS_THAN_SIGN: {\n                this._err(ERR.unexpectedCharacterInAttributeName);\n                this.currentAttr.name += String.fromCodePoint(cp);\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.currentAttr.name += REPLACEMENT_CHARACTER;\n                break;\n            }\n            default: {\n                this.currentAttr.name += String.fromCodePoint(isAsciiUpper(cp) ? toAsciiLower(cp) : cp);\n            }\n        }\n    }\n    // After attribute name state\n    //------------------------------------------------------------------\n    _stateAfterAttributeName(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.SOLIDUS: {\n                this.state = State.SELF_CLOSING_START_TAG;\n                break;\n            }\n            case $.EQUALS_SIGN: {\n                this.state = State.BEFORE_ATTRIBUTE_VALUE;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentTagToken();\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._createAttr('');\n                this.state = State.ATTRIBUTE_NAME;\n                this._stateAttributeName(cp);\n            }\n        }\n    }\n    // Before attribute value state\n    //------------------------------------------------------------------\n    _stateBeforeAttributeValue(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                this.state = State.ATTRIBUTE_VALUE_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                this.state = State.ATTRIBUTE_VALUE_SINGLE_QUOTED;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.missingAttributeValue);\n                this.state = State.DATA;\n                this.emitCurrentTagToken();\n                break;\n            }\n            default: {\n                this.state = State.ATTRIBUTE_VALUE_UNQUOTED;\n                this._stateAttributeValueUnquoted(cp);\n            }\n        }\n    }\n    // Attribute value (double-quoted) state\n    //------------------------------------------------------------------\n    _stateAttributeValueDoubleQuoted(cp) {\n        switch (cp) {\n            case $.QUOTATION_MARK: {\n                this.state = State.AFTER_ATTRIBUTE_VALUE_QUOTED;\n                break;\n            }\n            case $.AMPERSAND: {\n                this.returnState = State.ATTRIBUTE_VALUE_DOUBLE_QUOTED;\n                this.state = State.CHARACTER_REFERENCE;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.currentAttr.value += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.currentAttr.value += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // Attribute value (single-quoted) state\n    //------------------------------------------------------------------\n    _stateAttributeValueSingleQuoted(cp) {\n        switch (cp) {\n            case $.APOSTROPHE: {\n                this.state = State.AFTER_ATTRIBUTE_VALUE_QUOTED;\n                break;\n            }\n            case $.AMPERSAND: {\n                this.returnState = State.ATTRIBUTE_VALUE_SINGLE_QUOTED;\n                this.state = State.CHARACTER_REFERENCE;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.currentAttr.value += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.currentAttr.value += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // Attribute value (unquoted) state\n    //------------------------------------------------------------------\n    _stateAttributeValueUnquoted(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this._leaveAttrValue();\n                this.state = State.BEFORE_ATTRIBUTE_NAME;\n                break;\n            }\n            case $.AMPERSAND: {\n                this.returnState = State.ATTRIBUTE_VALUE_UNQUOTED;\n                this.state = State.CHARACTER_REFERENCE;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._leaveAttrValue();\n                this.state = State.DATA;\n                this.emitCurrentTagToken();\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.currentAttr.value += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.QUOTATION_MARK:\n            case $.APOSTROPHE:\n            case $.LESS_THAN_SIGN:\n            case $.EQUALS_SIGN:\n            case $.GRAVE_ACCENT: {\n                this._err(ERR.unexpectedCharacterInUnquotedAttributeValue);\n                this.currentAttr.value += String.fromCodePoint(cp);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.currentAttr.value += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // After attribute value (quoted) state\n    //------------------------------------------------------------------\n    _stateAfterAttributeValueQuoted(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this._leaveAttrValue();\n                this.state = State.BEFORE_ATTRIBUTE_NAME;\n                break;\n            }\n            case $.SOLIDUS: {\n                this._leaveAttrValue();\n                this.state = State.SELF_CLOSING_START_TAG;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._leaveAttrValue();\n                this.state = State.DATA;\n                this.emitCurrentTagToken();\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingWhitespaceBetweenAttributes);\n                this.state = State.BEFORE_ATTRIBUTE_NAME;\n                this._stateBeforeAttributeName(cp);\n            }\n        }\n    }\n    // Self-closing start tag state\n    //------------------------------------------------------------------\n    _stateSelfClosingStartTag(cp) {\n        switch (cp) {\n            case $.GREATER_THAN_SIGN: {\n                const token = this.currentToken;\n                token.selfClosing = true;\n                this.state = State.DATA;\n                this.emitCurrentTagToken();\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.unexpectedSolidusInTag);\n                this.state = State.BEFORE_ATTRIBUTE_NAME;\n                this._stateBeforeAttributeName(cp);\n            }\n        }\n    }\n    // Bogus comment state\n    //------------------------------------------------------------------\n    _stateBogusComment(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentComment(token);\n                break;\n            }\n            case $.EOF: {\n                this.emitCurrentComment(token);\n                this._emitEOFToken();\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.data += REPLACEMENT_CHARACTER;\n                break;\n            }\n            default: {\n                token.data += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // Markup declaration open state\n    //------------------------------------------------------------------\n    _stateMarkupDeclarationOpen(cp) {\n        if (this._consumeSequenceIfMatch($$.DASH_DASH, true)) {\n            this._createCommentToken($$.DASH_DASH.length + 1);\n            this.state = State.COMMENT_START;\n        }\n        else if (this._consumeSequenceIfMatch($$.DOCTYPE, false)) {\n            // NOTE: Doctypes tokens are created without fixed offsets. We keep track of the moment a doctype *might* start here.\n            this.currentLocation = this.getCurrentLocation($$.DOCTYPE.length + 1);\n            this.state = State.DOCTYPE;\n        }\n        else if (this._consumeSequenceIfMatch($$.CDATA_START, true)) {\n            if (this.inForeignNode) {\n                this.state = State.CDATA_SECTION;\n            }\n            else {\n                this._err(ERR.cdataInHtmlContent);\n                this._createCommentToken($$.CDATA_START.length + 1);\n                this.currentToken.data = '[CDATA[';\n                this.state = State.BOGUS_COMMENT;\n            }\n        }\n        //NOTE: Sequence lookups can be abrupted by hibernation. In that case, lookup\n        //results are no longer valid and we will need to start over.\n        else if (!this._ensureHibernation()) {\n            this._err(ERR.incorrectlyOpenedComment);\n            this._createCommentToken(2);\n            this.state = State.BOGUS_COMMENT;\n            this._stateBogusComment(cp);\n        }\n    }\n    // Comment start state\n    //------------------------------------------------------------------\n    _stateCommentStart(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.COMMENT_START_DASH;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.abruptClosingOfEmptyComment);\n                this.state = State.DATA;\n                const token = this.currentToken;\n                this.emitCurrentComment(token);\n                break;\n            }\n            default: {\n                this.state = State.COMMENT;\n                this._stateComment(cp);\n            }\n        }\n    }\n    // Comment start dash state\n    //------------------------------------------------------------------\n    _stateCommentStartDash(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.COMMENT_END;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.abruptClosingOfEmptyComment);\n                this.state = State.DATA;\n                this.emitCurrentComment(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInComment);\n                this.emitCurrentComment(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.data += '-';\n                this.state = State.COMMENT;\n                this._stateComment(cp);\n            }\n        }\n    }\n    // Comment state\n    //------------------------------------------------------------------\n    _stateComment(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.COMMENT_END_DASH;\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                token.data += '<';\n                this.state = State.COMMENT_LESS_THAN_SIGN;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.data += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInComment);\n                this.emitCurrentComment(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.data += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // Comment less-than sign state\n    //------------------------------------------------------------------\n    _stateCommentLessThanSign(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.EXCLAMATION_MARK: {\n                token.data += '!';\n                this.state = State.COMMENT_LESS_THAN_SIGN_BANG;\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                token.data += '<';\n                break;\n            }\n            default: {\n                this.state = State.COMMENT;\n                this._stateComment(cp);\n            }\n        }\n    }\n    // Comment less-than sign bang state\n    //------------------------------------------------------------------\n    _stateCommentLessThanSignBang(cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = State.COMMENT_LESS_THAN_SIGN_BANG_DASH;\n        }\n        else {\n            this.state = State.COMMENT;\n            this._stateComment(cp);\n        }\n    }\n    // Comment less-than sign bang dash state\n    //------------------------------------------------------------------\n    _stateCommentLessThanSignBangDash(cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = State.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH;\n        }\n        else {\n            this.state = State.COMMENT_END_DASH;\n            this._stateCommentEndDash(cp);\n        }\n    }\n    // Comment less-than sign bang dash dash state\n    //------------------------------------------------------------------\n    _stateCommentLessThanSignBangDashDash(cp) {\n        if (cp !== $.GREATER_THAN_SIGN && cp !== $.EOF) {\n            this._err(ERR.nestedComment);\n        }\n        this.state = State.COMMENT_END;\n        this._stateCommentEnd(cp);\n    }\n    // Comment end dash state\n    //------------------------------------------------------------------\n    _stateCommentEndDash(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.COMMENT_END;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInComment);\n                this.emitCurrentComment(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.data += '-';\n                this.state = State.COMMENT;\n                this._stateComment(cp);\n            }\n        }\n    }\n    // Comment end state\n    //------------------------------------------------------------------\n    _stateCommentEnd(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentComment(token);\n                break;\n            }\n            case $.EXCLAMATION_MARK: {\n                this.state = State.COMMENT_END_BANG;\n                break;\n            }\n            case $.HYPHEN_MINUS: {\n                token.data += '-';\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInComment);\n                this.emitCurrentComment(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.data += '--';\n                this.state = State.COMMENT;\n                this._stateComment(cp);\n            }\n        }\n    }\n    // Comment end bang state\n    //------------------------------------------------------------------\n    _stateCommentEndBang(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                token.data += '--!';\n                this.state = State.COMMENT_END_DASH;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.incorrectlyClosedComment);\n                this.state = State.DATA;\n                this.emitCurrentComment(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInComment);\n                this.emitCurrentComment(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.data += '--!';\n                this.state = State.COMMENT;\n                this._stateComment(cp);\n            }\n        }\n    }\n    // DOCTYPE state\n    //------------------------------------------------------------------\n    _stateDoctype(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this.state = State.BEFORE_DOCTYPE_NAME;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.BEFORE_DOCTYPE_NAME;\n                this._stateBeforeDoctypeName(cp);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                this._createDoctypeToken(null);\n                const token = this.currentToken;\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingWhitespaceBeforeDoctypeName);\n                this.state = State.BEFORE_DOCTYPE_NAME;\n                this._stateBeforeDoctypeName(cp);\n            }\n        }\n    }\n    // Before DOCTYPE name state\n    //------------------------------------------------------------------\n    _stateBeforeDoctypeName(cp) {\n        if (isAsciiUpper(cp)) {\n            this._createDoctypeToken(String.fromCharCode(toAsciiLower(cp)));\n            this.state = State.DOCTYPE_NAME;\n        }\n        else\n            switch (cp) {\n                case $.SPACE:\n                case $.LINE_FEED:\n                case $.TABULATION:\n                case $.FORM_FEED: {\n                    // Ignore whitespace\n                    break;\n                }\n                case $.NULL: {\n                    this._err(ERR.unexpectedNullCharacter);\n                    this._createDoctypeToken(REPLACEMENT_CHARACTER);\n                    this.state = State.DOCTYPE_NAME;\n                    break;\n                }\n                case $.GREATER_THAN_SIGN: {\n                    this._err(ERR.missingDoctypeName);\n                    this._createDoctypeToken(null);\n                    const token = this.currentToken;\n                    token.forceQuirks = true;\n                    this.emitCurrentDoctype(token);\n                    this.state = State.DATA;\n                    break;\n                }\n                case $.EOF: {\n                    this._err(ERR.eofInDoctype);\n                    this._createDoctypeToken(null);\n                    const token = this.currentToken;\n                    token.forceQuirks = true;\n                    this.emitCurrentDoctype(token);\n                    this._emitEOFToken();\n                    break;\n                }\n                default: {\n                    this._createDoctypeToken(String.fromCodePoint(cp));\n                    this.state = State.DOCTYPE_NAME;\n                }\n            }\n    }\n    // DOCTYPE name state\n    //------------------------------------------------------------------\n    _stateDoctypeName(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this.state = State.AFTER_DOCTYPE_NAME;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.name += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.name += String.fromCodePoint(isAsciiUpper(cp) ? toAsciiLower(cp) : cp);\n            }\n        }\n    }\n    // After DOCTYPE name state\n    //------------------------------------------------------------------\n    _stateAfterDoctypeName(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                if (this._consumeSequenceIfMatch($$.PUBLIC, false)) {\n                    this.state = State.AFTER_DOCTYPE_PUBLIC_KEYWORD;\n                }\n                else if (this._consumeSequenceIfMatch($$.SYSTEM, false)) {\n                    this.state = State.AFTER_DOCTYPE_SYSTEM_KEYWORD;\n                }\n                //NOTE: sequence lookup can be abrupted by hibernation. In that case lookup\n                //results are no longer valid and we will need to start over.\n                else if (!this._ensureHibernation()) {\n                    this._err(ERR.invalidCharacterSequenceAfterDoctypeName);\n                    token.forceQuirks = true;\n                    this.state = State.BOGUS_DOCTYPE;\n                    this._stateBogusDoctype(cp);\n                }\n            }\n        }\n    }\n    // After DOCTYPE public keyword state\n    //------------------------------------------------------------------\n    _stateAfterDoctypePublicKeyword(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this.state = State.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword);\n                token.publicId = '';\n                this.state = State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword);\n                token.publicId = '';\n                this.state = State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.missingDoctypePublicIdentifier);\n                token.forceQuirks = true;\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier);\n                token.forceQuirks = true;\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // Before DOCTYPE public identifier state\n    //------------------------------------------------------------------\n    _stateBeforeDoctypePublicIdentifier(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                token.publicId = '';\n                this.state = State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                token.publicId = '';\n                this.state = State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.missingDoctypePublicIdentifier);\n                token.forceQuirks = true;\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier);\n                token.forceQuirks = true;\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // DOCTYPE public identifier (double-quoted) state\n    //------------------------------------------------------------------\n    _stateDoctypePublicIdentifierDoubleQuoted(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.QUOTATION_MARK: {\n                this.state = State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.publicId += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.abruptDoctypePublicIdentifier);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.publicId += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // DOCTYPE public identifier (single-quoted) state\n    //------------------------------------------------------------------\n    _stateDoctypePublicIdentifierSingleQuoted(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.APOSTROPHE: {\n                this.state = State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.publicId += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.abruptDoctypePublicIdentifier);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.publicId += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // After DOCTYPE public identifier state\n    //------------------------------------------------------------------\n    _stateAfterDoctypePublicIdentifier(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this.state = State.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers);\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers);\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // Between DOCTYPE public and system identifiers state\n    //------------------------------------------------------------------\n    _stateBetweenDoctypePublicAndSystemIdentifiers(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // After DOCTYPE system keyword state\n    //------------------------------------------------------------------\n    _stateAfterDoctypeSystemKeyword(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this.state = State.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword);\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword);\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.missingDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // Before DOCTYPE system identifier state\n    //------------------------------------------------------------------\n    _stateBeforeDoctypeSystemIdentifier(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.missingDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // DOCTYPE system identifier (double-quoted) state\n    //------------------------------------------------------------------\n    _stateDoctypeSystemIdentifierDoubleQuoted(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.QUOTATION_MARK: {\n                this.state = State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.systemId += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.abruptDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.systemId += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // DOCTYPE system identifier (single-quoted) state\n    //------------------------------------------------------------------\n    _stateDoctypeSystemIdentifierSingleQuoted(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.APOSTROPHE: {\n                this.state = State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.systemId += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.abruptDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.systemId += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // After DOCTYPE system identifier state\n    //------------------------------------------------------------------\n    _stateAfterDoctypeSystemIdentifier(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.unexpectedCharacterAfterDoctypeSystemIdentifier);\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // Bogus DOCTYPE state\n    //------------------------------------------------------------------\n    _stateBogusDoctype(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.GREATER_THAN_SIGN: {\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                break;\n            }\n            case $.EOF: {\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    // CDATA section state\n    //------------------------------------------------------------------\n    _stateCdataSection(cp) {\n        switch (cp) {\n            case $.RIGHT_SQUARE_BRACKET: {\n                this.state = State.CDATA_SECTION_BRACKET;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInCdata);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // CDATA section bracket state\n    //------------------------------------------------------------------\n    _stateCdataSectionBracket(cp) {\n        if (cp === $.RIGHT_SQUARE_BRACKET) {\n            this.state = State.CDATA_SECTION_END;\n        }\n        else {\n            this._emitChars(']');\n            this.state = State.CDATA_SECTION;\n            this._stateCdataSection(cp);\n        }\n    }\n    // CDATA section end state\n    //------------------------------------------------------------------\n    _stateCdataSectionEnd(cp) {\n        switch (cp) {\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                break;\n            }\n            case $.RIGHT_SQUARE_BRACKET: {\n                this._emitChars(']');\n                break;\n            }\n            default: {\n                this._emitChars(']]');\n                this.state = State.CDATA_SECTION;\n                this._stateCdataSection(cp);\n            }\n        }\n    }\n    // Character reference state\n    //------------------------------------------------------------------\n    _stateCharacterReference(cp) {\n        if (cp === $.NUMBER_SIGN) {\n            this.state = State.NUMERIC_CHARACTER_REFERENCE;\n        }\n        else if (isAsciiAlphaNumeric(cp)) {\n            this.state = State.NAMED_CHARACTER_REFERENCE;\n            this._stateNamedCharacterReference(cp);\n        }\n        else {\n            this._flushCodePointConsumedAsCharacterReference($.AMPERSAND);\n            this._reconsumeInState(this.returnState, cp);\n        }\n    }\n    // Named character reference state\n    //------------------------------------------------------------------\n    _stateNamedCharacterReference(cp) {\n        const matchResult = this._matchNamedCharacterReference(cp);\n        //NOTE: Matching can be abrupted by hibernation. In that case, match\n        //results are no longer valid and we will need to start over.\n        if (this._ensureHibernation()) {\n            // Stay in the state, try again.\n        }\n        else if (matchResult) {\n            for (let i = 0; i < matchResult.length; i++) {\n                this._flushCodePointConsumedAsCharacterReference(matchResult[i]);\n            }\n            this.state = this.returnState;\n        }\n        else {\n            this._flushCodePointConsumedAsCharacterReference($.AMPERSAND);\n            this.state = State.AMBIGUOUS_AMPERSAND;\n        }\n    }\n    // Ambiguos ampersand state\n    //------------------------------------------------------------------\n    _stateAmbiguousAmpersand(cp) {\n        if (isAsciiAlphaNumeric(cp)) {\n            this._flushCodePointConsumedAsCharacterReference(cp);\n        }\n        else {\n            if (cp === $.SEMICOLON) {\n                this._err(ERR.unknownNamedCharacterReference);\n            }\n            this._reconsumeInState(this.returnState, cp);\n        }\n    }\n    // Numeric character reference state\n    //------------------------------------------------------------------\n    _stateNumericCharacterReference(cp) {\n        this.charRefCode = 0;\n        if (cp === $.LATIN_SMALL_X || cp === $.LATIN_CAPITAL_X) {\n            this.state = State.HEXADEMICAL_CHARACTER_REFERENCE_START;\n        }\n        // Inlined decimal character reference start state\n        else if (isAsciiDigit(cp)) {\n            this.state = State.DECIMAL_CHARACTER_REFERENCE;\n            this._stateDecimalCharacterReference(cp);\n        }\n        else {\n            this._err(ERR.absenceOfDigitsInNumericCharacterReference);\n            this._flushCodePointConsumedAsCharacterReference($.AMPERSAND);\n            this._flushCodePointConsumedAsCharacterReference($.NUMBER_SIGN);\n            this._reconsumeInState(this.returnState, cp);\n        }\n    }\n    // Hexademical character reference start state\n    //------------------------------------------------------------------\n    _stateHexademicalCharacterReferenceStart(cp) {\n        if (isAsciiHexDigit(cp)) {\n            this.state = State.HEXADEMICAL_CHARACTER_REFERENCE;\n            this._stateHexademicalCharacterReference(cp);\n        }\n        else {\n            this._err(ERR.absenceOfDigitsInNumericCharacterReference);\n            this._flushCodePointConsumedAsCharacterReference($.AMPERSAND);\n            this._flushCodePointConsumedAsCharacterReference($.NUMBER_SIGN);\n            this._unconsume(2);\n            this.state = this.returnState;\n        }\n    }\n    // Hexademical character reference state\n    //------------------------------------------------------------------\n    _stateHexademicalCharacterReference(cp) {\n        if (isAsciiUpperHexDigit(cp)) {\n            this.charRefCode = this.charRefCode * 16 + cp - 0x37;\n        }\n        else if (isAsciiLowerHexDigit(cp)) {\n            this.charRefCode = this.charRefCode * 16 + cp - 0x57;\n        }\n        else if (isAsciiDigit(cp)) {\n            this.charRefCode = this.charRefCode * 16 + cp - 0x30;\n        }\n        else if (cp === $.SEMICOLON) {\n            this.state = State.NUMERIC_CHARACTER_REFERENCE_END;\n        }\n        else {\n            this._err(ERR.missingSemicolonAfterCharacterReference);\n            this.state = State.NUMERIC_CHARACTER_REFERENCE_END;\n            this._stateNumericCharacterReferenceEnd(cp);\n        }\n    }\n    // Decimal character reference state\n    //------------------------------------------------------------------\n    _stateDecimalCharacterReference(cp) {\n        if (isAsciiDigit(cp)) {\n            this.charRefCode = this.charRefCode * 10 + cp - 0x30;\n        }\n        else if (cp === $.SEMICOLON) {\n            this.state = State.NUMERIC_CHARACTER_REFERENCE_END;\n        }\n        else {\n            this._err(ERR.missingSemicolonAfterCharacterReference);\n            this.state = State.NUMERIC_CHARACTER_REFERENCE_END;\n            this._stateNumericCharacterReferenceEnd(cp);\n        }\n    }\n    // Numeric character reference end state\n    //------------------------------------------------------------------\n    _stateNumericCharacterReferenceEnd(cp) {\n        if (this.charRefCode === $.NULL) {\n            this._err(ERR.nullCharacterReference);\n            this.charRefCode = $.REPLACEMENT_CHARACTER;\n        }\n        else if (this.charRefCode > 1114111) {\n            this._err(ERR.characterReferenceOutsideUnicodeRange);\n            this.charRefCode = $.REPLACEMENT_CHARACTER;\n        }\n        else if (isSurrogate(this.charRefCode)) {\n            this._err(ERR.surrogateCharacterReference);\n            this.charRefCode = $.REPLACEMENT_CHARACTER;\n        }\n        else if (isUndefinedCodePoint(this.charRefCode)) {\n            this._err(ERR.noncharacterCharacterReference);\n        }\n        else if (isControlCodePoint(this.charRefCode) || this.charRefCode === $.CARRIAGE_RETURN) {\n            this._err(ERR.controlCharacterReference);\n            const replacement = C1_CONTROLS_REFERENCE_REPLACEMENTS.get(this.charRefCode);\n            if (replacement !== undefined) {\n                this.charRefCode = replacement;\n            }\n        }\n        this._flushCodePointConsumedAsCharacterReference(this.charRefCode);\n        this._reconsumeInState(this.returnState, cp);\n    }\n}\n//# sourceMappingURL=index.js.map","//Const\nconst NOAH_ARK_CAPACITY = 3;\nexport var EntryType;\n(function (EntryType) {\n    EntryType[EntryType[\"Marker\"] = 0] = \"Marker\";\n    EntryType[EntryType[\"Element\"] = 1] = \"Element\";\n})(EntryType = EntryType || (EntryType = {}));\nconst MARKER = { type: EntryType.Marker };\n//List of formatting elements\nexport class FormattingElementList {\n    constructor(treeAdapter) {\n        this.treeAdapter = treeAdapter;\n        this.entries = [];\n        this.bookmark = null;\n    }\n    //Noah Ark's condition\n    //OPTIMIZATION: at first we try to find possible candidates for exclusion using\n    //lightweight heuristics without thorough attributes check.\n    _getNoahArkConditionCandidates(newElement, neAttrs) {\n        const candidates = [];\n        const neAttrsLength = neAttrs.length;\n        const neTagName = this.treeAdapter.getTagName(newElement);\n        const neNamespaceURI = this.treeAdapter.getNamespaceURI(newElement);\n        for (let i = 0; i < this.entries.length; i++) {\n            const entry = this.entries[i];\n            if (entry.type === EntryType.Marker) {\n                break;\n            }\n            const { element } = entry;\n            if (this.treeAdapter.getTagName(element) === neTagName &&\n                this.treeAdapter.getNamespaceURI(element) === neNamespaceURI) {\n                const elementAttrs = this.treeAdapter.getAttrList(element);\n                if (elementAttrs.length === neAttrsLength) {\n                    candidates.push({ idx: i, attrs: elementAttrs });\n                }\n            }\n        }\n        return candidates;\n    }\n    _ensureNoahArkCondition(newElement) {\n        if (this.entries.length < NOAH_ARK_CAPACITY)\n            return;\n        const neAttrs = this.treeAdapter.getAttrList(newElement);\n        const candidates = this._getNoahArkConditionCandidates(newElement, neAttrs);\n        if (candidates.length < NOAH_ARK_CAPACITY)\n            return;\n        //NOTE: build attrs map for the new element, so we can perform fast lookups\n        const neAttrsMap = new Map(neAttrs.map((neAttr) => [neAttr.name, neAttr.value]));\n        let validCandidates = 0;\n        //NOTE: remove bottommost candidates, until Noah's Ark condition will not be met\n        for (let i = 0; i < candidates.length; i++) {\n            const candidate = candidates[i];\n            // We know that `candidate.attrs.length === neAttrs.length`\n            if (candidate.attrs.every((cAttr) => neAttrsMap.get(cAttr.name) === cAttr.value)) {\n                validCandidates += 1;\n                if (validCandidates >= NOAH_ARK_CAPACITY) {\n                    this.entries.splice(candidate.idx, 1);\n                }\n            }\n        }\n    }\n    //Mutations\n    insertMarker() {\n        this.entries.unshift(MARKER);\n    }\n    pushElement(element, token) {\n        this._ensureNoahArkCondition(element);\n        this.entries.unshift({\n            type: EntryType.Element,\n            element,\n            token,\n        });\n    }\n    insertElementAfterBookmark(element, token) {\n        const bookmarkIdx = this.entries.indexOf(this.bookmark);\n        this.entries.splice(bookmarkIdx, 0, {\n            type: EntryType.Element,\n            element,\n            token,\n        });\n    }\n    removeEntry(entry) {\n        const entryIndex = this.entries.indexOf(entry);\n        if (entryIndex >= 0) {\n            this.entries.splice(entryIndex, 1);\n        }\n    }\n    /**\n     * Clears the list of formatting elements up to the last marker.\n     *\n     * @see https://html.spec.whatwg.org/multipage/parsing.html#clear-the-list-of-active-formatting-elements-up-to-the-last-marker\n     */\n    clearToLastMarker() {\n        const markerIdx = this.entries.indexOf(MARKER);\n        if (markerIdx >= 0) {\n            this.entries.splice(0, markerIdx + 1);\n        }\n        else {\n            this.entries.length = 0;\n        }\n    }\n    //Search\n    getElementEntryInScopeWithTagName(tagName) {\n        const entry = this.entries.find((entry) => entry.type === EntryType.Marker || this.treeAdapter.getTagName(entry.element) === tagName);\n        return entry && entry.type === EntryType.Element ? entry : null;\n    }\n    getElementEntry(element) {\n        return this.entries.find((entry) => entry.type === EntryType.Element && entry.element === element);\n    }\n}\n//# sourceMappingURL=formatting-element-list.js.map","import { Tokenizer, TokenizerMode } from '../tokenizer/index.js';\nimport { OpenElementStack } from './open-element-stack.js';\nimport { FormattingElementList, EntryType } from './formatting-element-list.js';\nimport { defaultTreeAdapter } from '../tree-adapters/default.js';\nimport * as doctype from '../common/doctype.js';\nimport * as foreignContent from '../common/foreign-content.js';\nimport { ERR } from '../common/error-codes.js';\nimport * as unicode from '../common/unicode.js';\nimport { TAG_ID as $, TAG_NAMES as TN, NS, ATTRS, SPECIAL_ELEMENTS, DOCUMENT_MODE, isNumberedHeader, getTagID, } from '../common/html.js';\nimport { TokenType, getTokenAttr, } from '../common/token.js';\n//Misc constants\nconst HIDDEN_INPUT_TYPE = 'hidden';\n//Adoption agency loops iteration count\nconst AA_OUTER_LOOP_ITER = 8;\nconst AA_INNER_LOOP_ITER = 3;\n//Insertion modes\nvar InsertionMode;\n(function (InsertionMode) {\n    InsertionMode[InsertionMode[\"INITIAL\"] = 0] = \"INITIAL\";\n    InsertionMode[InsertionMode[\"BEFORE_HTML\"] = 1] = \"BEFORE_HTML\";\n    InsertionMode[InsertionMode[\"BEFORE_HEAD\"] = 2] = \"BEFORE_HEAD\";\n    InsertionMode[InsertionMode[\"IN_HEAD\"] = 3] = \"IN_HEAD\";\n    InsertionMode[InsertionMode[\"IN_HEAD_NO_SCRIPT\"] = 4] = \"IN_HEAD_NO_SCRIPT\";\n    InsertionMode[InsertionMode[\"AFTER_HEAD\"] = 5] = \"AFTER_HEAD\";\n    InsertionMode[InsertionMode[\"IN_BODY\"] = 6] = \"IN_BODY\";\n    InsertionMode[InsertionMode[\"TEXT\"] = 7] = \"TEXT\";\n    InsertionMode[InsertionMode[\"IN_TABLE\"] = 8] = \"IN_TABLE\";\n    InsertionMode[InsertionMode[\"IN_TABLE_TEXT\"] = 9] = \"IN_TABLE_TEXT\";\n    InsertionMode[InsertionMode[\"IN_CAPTION\"] = 10] = \"IN_CAPTION\";\n    InsertionMode[InsertionMode[\"IN_COLUMN_GROUP\"] = 11] = \"IN_COLUMN_GROUP\";\n    InsertionMode[InsertionMode[\"IN_TABLE_BODY\"] = 12] = \"IN_TABLE_BODY\";\n    InsertionMode[InsertionMode[\"IN_ROW\"] = 13] = \"IN_ROW\";\n    InsertionMode[InsertionMode[\"IN_CELL\"] = 14] = \"IN_CELL\";\n    InsertionMode[InsertionMode[\"IN_SELECT\"] = 15] = \"IN_SELECT\";\n    InsertionMode[InsertionMode[\"IN_SELECT_IN_TABLE\"] = 16] = \"IN_SELECT_IN_TABLE\";\n    InsertionMode[InsertionMode[\"IN_TEMPLATE\"] = 17] = \"IN_TEMPLATE\";\n    InsertionMode[InsertionMode[\"AFTER_BODY\"] = 18] = \"AFTER_BODY\";\n    InsertionMode[InsertionMode[\"IN_FRAMESET\"] = 19] = \"IN_FRAMESET\";\n    InsertionMode[InsertionMode[\"AFTER_FRAMESET\"] = 20] = \"AFTER_FRAMESET\";\n    InsertionMode[InsertionMode[\"AFTER_AFTER_BODY\"] = 21] = \"AFTER_AFTER_BODY\";\n    InsertionMode[InsertionMode[\"AFTER_AFTER_FRAMESET\"] = 22] = \"AFTER_AFTER_FRAMESET\";\n})(InsertionMode || (InsertionMode = {}));\nconst BASE_LOC = {\n    startLine: -1,\n    startCol: -1,\n    startOffset: -1,\n    endLine: -1,\n    endCol: -1,\n    endOffset: -1,\n};\nconst TABLE_STRUCTURE_TAGS = new Set([$.TABLE, $.TBODY, $.TFOOT, $.THEAD, $.TR]);\nconst defaultParserOptions = {\n    scriptingEnabled: true,\n    sourceCodeLocationInfo: false,\n    treeAdapter: defaultTreeAdapter,\n    onParseError: null,\n};\n//Parser\nexport class Parser {\n    constructor(options, document, fragmentContext = null, scriptHandler = null) {\n        this.fragmentContext = fragmentContext;\n        this.scriptHandler = scriptHandler;\n        this.currentToken = null;\n        this.stopped = false;\n        this.insertionMode = InsertionMode.INITIAL;\n        this.originalInsertionMode = InsertionMode.INITIAL;\n        this.headElement = null;\n        this.formElement = null;\n        /** Indicates that the current node is not an element in the HTML namespace */\n        this.currentNotInHTML = false;\n        /**\n         * The template insertion mode stack is maintained from the left.\n         * Ie. the topmost element will always have index 0.\n         */\n        this.tmplInsertionModeStack = [];\n        this.pendingCharacterTokens = [];\n        this.hasNonWhitespacePendingCharacterToken = false;\n        this.framesetOk = true;\n        this.skipNextNewLine = false;\n        this.fosterParentingEnabled = false;\n        this.options = {\n            ...defaultParserOptions,\n            ...options,\n        };\n        this.treeAdapter = this.options.treeAdapter;\n        this.onParseError = this.options.onParseError;\n        // Always enable location info if we report parse errors.\n        if (this.onParseError) {\n            this.options.sourceCodeLocationInfo = true;\n        }\n        this.document = document !== null && document !== void 0 ? document : this.treeAdapter.createDocument();\n        this.tokenizer = new Tokenizer(this.options, this);\n        this.activeFormattingElements = new FormattingElementList(this.treeAdapter);\n        this.fragmentContextID = fragmentContext ? getTagID(this.treeAdapter.getTagName(fragmentContext)) : $.UNKNOWN;\n        this._setContextModes(fragmentContext !== null && fragmentContext !== void 0 ? fragmentContext : this.document, this.fragmentContextID);\n        this.openElements = new OpenElementStack(this.document, this.treeAdapter, this);\n    }\n    // API\n    static parse(html, options) {\n        const parser = new this(options);\n        parser.tokenizer.write(html, true);\n        return parser.document;\n    }\n    static getFragmentParser(fragmentContext, options) {\n        const opts = {\n            ...defaultParserOptions,\n            ...options,\n        };\n        //NOTE: use a <template> element as the fragment context if no context element was provided,\n        //so we will parse in a \"forgiving\" manner\n        fragmentContext !== null && fragmentContext !== void 0 ? fragmentContext : (fragmentContext = opts.treeAdapter.createElement(TN.TEMPLATE, NS.HTML, []));\n        //NOTE: create a fake element which will be used as the `document` for fragment parsing.\n        //This is important for jsdom, where a new `document` cannot be created. This led to\n        //fragment parsing messing with the main `document`.\n        const documentMock = opts.treeAdapter.createElement('documentmock', NS.HTML, []);\n        const parser = new this(opts, documentMock, fragmentContext);\n        if (parser.fragmentContextID === $.TEMPLATE) {\n            parser.tmplInsertionModeStack.unshift(InsertionMode.IN_TEMPLATE);\n        }\n        parser._initTokenizerForFragmentParsing();\n        parser._insertFakeRootElement();\n        parser._resetInsertionMode();\n        parser._findFormInFragmentContext();\n        return parser;\n    }\n    getFragment() {\n        const rootElement = this.treeAdapter.getFirstChild(this.document);\n        const fragment = this.treeAdapter.createDocumentFragment();\n        this._adoptNodes(rootElement, fragment);\n        return fragment;\n    }\n    //Errors\n    _err(token, code, beforeToken) {\n        var _a;\n        if (!this.onParseError)\n            return;\n        const loc = (_a = token.location) !== null && _a !== void 0 ? _a : BASE_LOC;\n        const err = {\n            code,\n            startLine: loc.startLine,\n            startCol: loc.startCol,\n            startOffset: loc.startOffset,\n            endLine: beforeToken ? loc.startLine : loc.endLine,\n            endCol: beforeToken ? loc.startCol : loc.endCol,\n            endOffset: beforeToken ? loc.startOffset : loc.endOffset,\n        };\n        this.onParseError(err);\n    }\n    //Stack events\n    onItemPush(node, tid, isTop) {\n        var _a, _b;\n        (_b = (_a = this.treeAdapter).onItemPush) === null || _b === void 0 ? void 0 : _b.call(_a, node);\n        if (isTop && this.openElements.stackTop > 0)\n            this._setContextModes(node, tid);\n    }\n    onItemPop(node, isTop) {\n        var _a, _b;\n        if (this.options.sourceCodeLocationInfo) {\n            this._setEndLocation(node, this.currentToken);\n        }\n        (_b = (_a = this.treeAdapter).onItemPop) === null || _b === void 0 ? void 0 : _b.call(_a, node, this.openElements.current);\n        if (isTop) {\n            let current;\n            let currentTagId;\n            if (this.openElements.stackTop === 0 && this.fragmentContext) {\n                current = this.fragmentContext;\n                currentTagId = this.fragmentContextID;\n            }\n            else {\n                ({ current, currentTagId } = this.openElements);\n            }\n            this._setContextModes(current, currentTagId);\n        }\n    }\n    _setContextModes(current, tid) {\n        const isHTML = current === this.document || this.treeAdapter.getNamespaceURI(current) === NS.HTML;\n        this.currentNotInHTML = !isHTML;\n        this.tokenizer.inForeignNode = !isHTML && !this._isIntegrationPoint(tid, current);\n    }\n    _switchToTextParsing(currentToken, nextTokenizerState) {\n        this._insertElement(currentToken, NS.HTML);\n        this.tokenizer.state = nextTokenizerState;\n        this.originalInsertionMode = this.insertionMode;\n        this.insertionMode = InsertionMode.TEXT;\n    }\n    switchToPlaintextParsing() {\n        this.insertionMode = InsertionMode.TEXT;\n        this.originalInsertionMode = InsertionMode.IN_BODY;\n        this.tokenizer.state = TokenizerMode.PLAINTEXT;\n    }\n    //Fragment parsing\n    _getAdjustedCurrentElement() {\n        return this.openElements.stackTop === 0 && this.fragmentContext\n            ? this.fragmentContext\n            : this.openElements.current;\n    }\n    _findFormInFragmentContext() {\n        let node = this.fragmentContext;\n        while (node) {\n            if (this.treeAdapter.getTagName(node) === TN.FORM) {\n                this.formElement = node;\n                break;\n            }\n            node = this.treeAdapter.getParentNode(node);\n        }\n    }\n    _initTokenizerForFragmentParsing() {\n        if (!this.fragmentContext || this.treeAdapter.getNamespaceURI(this.fragmentContext) !== NS.HTML) {\n            return;\n        }\n        switch (this.fragmentContextID) {\n            case $.TITLE:\n            case $.TEXTAREA: {\n                this.tokenizer.state = TokenizerMode.RCDATA;\n                break;\n            }\n            case $.STYLE:\n            case $.XMP:\n            case $.IFRAME:\n            case $.NOEMBED:\n            case $.NOFRAMES:\n            case $.NOSCRIPT: {\n                this.tokenizer.state = TokenizerMode.RAWTEXT;\n                break;\n            }\n            case $.SCRIPT: {\n                this.tokenizer.state = TokenizerMode.SCRIPT_DATA;\n                break;\n            }\n            case $.PLAINTEXT: {\n                this.tokenizer.state = TokenizerMode.PLAINTEXT;\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    //Tree mutation\n    _setDocumentType(token) {\n        const name = token.name || '';\n        const publicId = token.publicId || '';\n        const systemId = token.systemId || '';\n        this.treeAdapter.setDocumentType(this.document, name, publicId, systemId);\n        if (token.location) {\n            const documentChildren = this.treeAdapter.getChildNodes(this.document);\n            const docTypeNode = documentChildren.find((node) => this.treeAdapter.isDocumentTypeNode(node));\n            if (docTypeNode) {\n                this.treeAdapter.setNodeSourceCodeLocation(docTypeNode, token.location);\n            }\n        }\n    }\n    _attachElementToTree(element, location) {\n        if (this.options.sourceCodeLocationInfo) {\n            const loc = location && {\n                ...location,\n                startTag: location,\n            };\n            this.treeAdapter.setNodeSourceCodeLocation(element, loc);\n        }\n        if (this._shouldFosterParentOnInsertion()) {\n            this._fosterParentElement(element);\n        }\n        else {\n            const parent = this.openElements.currentTmplContentOrNode;\n            this.treeAdapter.appendChild(parent, element);\n        }\n    }\n    _appendElement(token, namespaceURI) {\n        const element = this.treeAdapter.createElement(token.tagName, namespaceURI, token.attrs);\n        this._attachElementToTree(element, token.location);\n    }\n    _insertElement(token, namespaceURI) {\n        const element = this.treeAdapter.createElement(token.tagName, namespaceURI, token.attrs);\n        this._attachElementToTree(element, token.location);\n        this.openElements.push(element, token.tagID);\n    }\n    _insertFakeElement(tagName, tagID) {\n        const element = this.treeAdapter.createElement(tagName, NS.HTML, []);\n        this._attachElementToTree(element, null);\n        this.openElements.push(element, tagID);\n    }\n    _insertTemplate(token) {\n        const tmpl = this.treeAdapter.createElement(token.tagName, NS.HTML, token.attrs);\n        const content = this.treeAdapter.createDocumentFragment();\n        this.treeAdapter.setTemplateContent(tmpl, content);\n        this._attachElementToTree(tmpl, token.location);\n        this.openElements.push(tmpl, token.tagID);\n        if (this.options.sourceCodeLocationInfo)\n            this.treeAdapter.setNodeSourceCodeLocation(content, null);\n    }\n    _insertFakeRootElement() {\n        const element = this.treeAdapter.createElement(TN.HTML, NS.HTML, []);\n        if (this.options.sourceCodeLocationInfo)\n            this.treeAdapter.setNodeSourceCodeLocation(element, null);\n        this.treeAdapter.appendChild(this.openElements.current, element);\n        this.openElements.push(element, $.HTML);\n    }\n    _appendCommentNode(token, parent) {\n        const commentNode = this.treeAdapter.createCommentNode(token.data);\n        this.treeAdapter.appendChild(parent, commentNode);\n        if (this.options.sourceCodeLocationInfo) {\n            this.treeAdapter.setNodeSourceCodeLocation(commentNode, token.location);\n        }\n    }\n    _insertCharacters(token) {\n        let parent;\n        let beforeElement;\n        if (this._shouldFosterParentOnInsertion()) {\n            ({ parent, beforeElement } = this._findFosterParentingLocation());\n            if (beforeElement) {\n                this.treeAdapter.insertTextBefore(parent, token.chars, beforeElement);\n            }\n            else {\n                this.treeAdapter.insertText(parent, token.chars);\n            }\n        }\n        else {\n            parent = this.openElements.currentTmplContentOrNode;\n            this.treeAdapter.insertText(parent, token.chars);\n        }\n        if (!token.location)\n            return;\n        const siblings = this.treeAdapter.getChildNodes(parent);\n        const textNodeIdx = beforeElement ? siblings.lastIndexOf(beforeElement) : siblings.length;\n        const textNode = siblings[textNodeIdx - 1];\n        //NOTE: if we have a location assigned by another token, then just update the end position\n        const tnLoc = this.treeAdapter.getNodeSourceCodeLocation(textNode);\n        if (tnLoc) {\n            const { endLine, endCol, endOffset } = token.location;\n            this.treeAdapter.updateNodeSourceCodeLocation(textNode, { endLine, endCol, endOffset });\n        }\n        else if (this.options.sourceCodeLocationInfo) {\n            this.treeAdapter.setNodeSourceCodeLocation(textNode, token.location);\n        }\n    }\n    _adoptNodes(donor, recipient) {\n        for (let child = this.treeAdapter.getFirstChild(donor); child; child = this.treeAdapter.getFirstChild(donor)) {\n            this.treeAdapter.detachNode(child);\n            this.treeAdapter.appendChild(recipient, child);\n        }\n    }\n    _setEndLocation(element, closingToken) {\n        if (this.treeAdapter.getNodeSourceCodeLocation(element) && closingToken.location) {\n            const ctLoc = closingToken.location;\n            const tn = this.treeAdapter.getTagName(element);\n            const endLoc = \n            // NOTE: For cases like <p> <p> </p> - First 'p' closes without a closing\n            // tag and for cases like <td> <p> </td> - 'p' closes without a closing tag.\n            closingToken.type === TokenType.END_TAG && tn === closingToken.tagName\n                ? {\n                    endTag: { ...ctLoc },\n                    endLine: ctLoc.endLine,\n                    endCol: ctLoc.endCol,\n                    endOffset: ctLoc.endOffset,\n                }\n                : {\n                    endLine: ctLoc.startLine,\n                    endCol: ctLoc.startCol,\n                    endOffset: ctLoc.startOffset,\n                };\n            this.treeAdapter.updateNodeSourceCodeLocation(element, endLoc);\n        }\n    }\n    //Token processing\n    shouldProcessStartTagTokenInForeignContent(token) {\n        // Check that neither current === document, or ns === NS.HTML\n        if (!this.currentNotInHTML)\n            return false;\n        let current;\n        let currentTagId;\n        if (this.openElements.stackTop === 0 && this.fragmentContext) {\n            current = this.fragmentContext;\n            currentTagId = this.fragmentContextID;\n        }\n        else {\n            ({ current, currentTagId } = this.openElements);\n        }\n        if (token.tagID === $.SVG &&\n            this.treeAdapter.getTagName(current) === TN.ANNOTATION_XML &&\n            this.treeAdapter.getNamespaceURI(current) === NS.MATHML) {\n            return false;\n        }\n        return (\n        // Check that `current` is not an integration point for HTML or MathML elements.\n        this.tokenizer.inForeignNode ||\n            // If it _is_ an integration point, then we might have to check that it is not an HTML\n            // integration point.\n            ((token.tagID === $.MGLYPH || token.tagID === $.MALIGNMARK) &&\n                !this._isIntegrationPoint(currentTagId, current, NS.HTML)));\n    }\n    _processToken(token) {\n        switch (token.type) {\n            case TokenType.CHARACTER: {\n                this.onCharacter(token);\n                break;\n            }\n            case TokenType.NULL_CHARACTER: {\n                this.onNullCharacter(token);\n                break;\n            }\n            case TokenType.COMMENT: {\n                this.onComment(token);\n                break;\n            }\n            case TokenType.DOCTYPE: {\n                this.onDoctype(token);\n                break;\n            }\n            case TokenType.START_TAG: {\n                this._processStartTag(token);\n                break;\n            }\n            case TokenType.END_TAG: {\n                this.onEndTag(token);\n                break;\n            }\n            case TokenType.EOF: {\n                this.onEof(token);\n                break;\n            }\n            case TokenType.WHITESPACE_CHARACTER: {\n                this.onWhitespaceCharacter(token);\n                break;\n            }\n        }\n    }\n    //Integration points\n    _isIntegrationPoint(tid, element, foreignNS) {\n        const ns = this.treeAdapter.getNamespaceURI(element);\n        const attrs = this.treeAdapter.getAttrList(element);\n        return foreignContent.isIntegrationPoint(tid, ns, attrs, foreignNS);\n    }\n    //Active formatting elements reconstruction\n    _reconstructActiveFormattingElements() {\n        const listLength = this.activeFormattingElements.entries.length;\n        if (listLength) {\n            const endIndex = this.activeFormattingElements.entries.findIndex((entry) => entry.type === EntryType.Marker || this.openElements.contains(entry.element));\n            const unopenIdx = endIndex < 0 ? listLength - 1 : endIndex - 1;\n            for (let i = unopenIdx; i >= 0; i--) {\n                const entry = this.activeFormattingElements.entries[i];\n                this._insertElement(entry.token, this.treeAdapter.getNamespaceURI(entry.element));\n                entry.element = this.openElements.current;\n            }\n        }\n    }\n    //Close elements\n    _closeTableCell() {\n        this.openElements.generateImpliedEndTags();\n        this.openElements.popUntilTableCellPopped();\n        this.activeFormattingElements.clearToLastMarker();\n        this.insertionMode = InsertionMode.IN_ROW;\n    }\n    _closePElement() {\n        this.openElements.generateImpliedEndTagsWithExclusion($.P);\n        this.openElements.popUntilTagNamePopped($.P);\n    }\n    //Insertion modes\n    _resetInsertionMode() {\n        for (let i = this.openElements.stackTop; i >= 0; i--) {\n            //Insertion mode reset map\n            switch (i === 0 && this.fragmentContext ? this.fragmentContextID : this.openElements.tagIDs[i]) {\n                case $.TR: {\n                    this.insertionMode = InsertionMode.IN_ROW;\n                    return;\n                }\n                case $.TBODY:\n                case $.THEAD:\n                case $.TFOOT: {\n                    this.insertionMode = InsertionMode.IN_TABLE_BODY;\n                    return;\n                }\n                case $.CAPTION: {\n                    this.insertionMode = InsertionMode.IN_CAPTION;\n                    return;\n                }\n                case $.COLGROUP: {\n                    this.insertionMode = InsertionMode.IN_COLUMN_GROUP;\n                    return;\n                }\n                case $.TABLE: {\n                    this.insertionMode = InsertionMode.IN_TABLE;\n                    return;\n                }\n                case $.BODY: {\n                    this.insertionMode = InsertionMode.IN_BODY;\n                    return;\n                }\n                case $.FRAMESET: {\n                    this.insertionMode = InsertionMode.IN_FRAMESET;\n                    return;\n                }\n                case $.SELECT: {\n                    this._resetInsertionModeForSelect(i);\n                    return;\n                }\n                case $.TEMPLATE: {\n                    this.insertionMode = this.tmplInsertionModeStack[0];\n                    return;\n                }\n                case $.HTML: {\n                    this.insertionMode = this.headElement ? InsertionMode.AFTER_HEAD : InsertionMode.BEFORE_HEAD;\n                    return;\n                }\n                case $.TD:\n                case $.TH: {\n                    if (i > 0) {\n                        this.insertionMode = InsertionMode.IN_CELL;\n                        return;\n                    }\n                    break;\n                }\n                case $.HEAD: {\n                    if (i > 0) {\n                        this.insertionMode = InsertionMode.IN_HEAD;\n                        return;\n                    }\n                    break;\n                }\n            }\n        }\n        this.insertionMode = InsertionMode.IN_BODY;\n    }\n    _resetInsertionModeForSelect(selectIdx) {\n        if (selectIdx > 0) {\n            for (let i = selectIdx - 1; i > 0; i--) {\n                const tn = this.openElements.tagIDs[i];\n                if (tn === $.TEMPLATE) {\n                    break;\n                }\n                else if (tn === $.TABLE) {\n                    this.insertionMode = InsertionMode.IN_SELECT_IN_TABLE;\n                    return;\n                }\n            }\n        }\n        this.insertionMode = InsertionMode.IN_SELECT;\n    }\n    //Foster parenting\n    _isElementCausesFosterParenting(tn) {\n        return TABLE_STRUCTURE_TAGS.has(tn);\n    }\n    _shouldFosterParentOnInsertion() {\n        return this.fosterParentingEnabled && this._isElementCausesFosterParenting(this.openElements.currentTagId);\n    }\n    _findFosterParentingLocation() {\n        for (let i = this.openElements.stackTop; i >= 0; i--) {\n            const openElement = this.openElements.items[i];\n            switch (this.openElements.tagIDs[i]) {\n                case $.TEMPLATE: {\n                    if (this.treeAdapter.getNamespaceURI(openElement) === NS.HTML) {\n                        return { parent: this.treeAdapter.getTemplateContent(openElement), beforeElement: null };\n                    }\n                    break;\n                }\n                case $.TABLE: {\n                    const parent = this.treeAdapter.getParentNode(openElement);\n                    if (parent) {\n                        return { parent, beforeElement: openElement };\n                    }\n                    return { parent: this.openElements.items[i - 1], beforeElement: null };\n                }\n                default:\n                // Do nothing\n            }\n        }\n        return { parent: this.openElements.items[0], beforeElement: null };\n    }\n    _fosterParentElement(element) {\n        const location = this._findFosterParentingLocation();\n        if (location.beforeElement) {\n            this.treeAdapter.insertBefore(location.parent, element, location.beforeElement);\n        }\n        else {\n            this.treeAdapter.appendChild(location.parent, element);\n        }\n    }\n    //Special elements\n    _isSpecialElement(element, id) {\n        const ns = this.treeAdapter.getNamespaceURI(element);\n        return SPECIAL_ELEMENTS[ns].has(id);\n    }\n    onCharacter(token) {\n        this.skipNextNewLine = false;\n        if (this.tokenizer.inForeignNode) {\n            characterInForeignContent(this, token);\n            return;\n        }\n        switch (this.insertionMode) {\n            case InsertionMode.INITIAL: {\n                tokenInInitialMode(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HTML: {\n                tokenBeforeHtml(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HEAD: {\n                tokenBeforeHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD: {\n                tokenInHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD_NO_SCRIPT: {\n                tokenInHeadNoScript(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_HEAD: {\n                tokenAfterHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_BODY:\n            case InsertionMode.IN_CAPTION:\n            case InsertionMode.IN_CELL:\n            case InsertionMode.IN_TEMPLATE: {\n                characterInBody(this, token);\n                break;\n            }\n            case InsertionMode.TEXT:\n            case InsertionMode.IN_SELECT:\n            case InsertionMode.IN_SELECT_IN_TABLE: {\n                this._insertCharacters(token);\n                break;\n            }\n            case InsertionMode.IN_TABLE:\n            case InsertionMode.IN_TABLE_BODY:\n            case InsertionMode.IN_ROW: {\n                characterInTable(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE_TEXT: {\n                characterInTableText(this, token);\n                break;\n            }\n            case InsertionMode.IN_COLUMN_GROUP: {\n                tokenInColumnGroup(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_BODY: {\n                tokenAfterBody(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_AFTER_BODY: {\n                tokenAfterAfterBody(this, token);\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    onNullCharacter(token) {\n        this.skipNextNewLine = false;\n        if (this.tokenizer.inForeignNode) {\n            nullCharacterInForeignContent(this, token);\n            return;\n        }\n        switch (this.insertionMode) {\n            case InsertionMode.INITIAL: {\n                tokenInInitialMode(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HTML: {\n                tokenBeforeHtml(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HEAD: {\n                tokenBeforeHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD: {\n                tokenInHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD_NO_SCRIPT: {\n                tokenInHeadNoScript(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_HEAD: {\n                tokenAfterHead(this, token);\n                break;\n            }\n            case InsertionMode.TEXT: {\n                this._insertCharacters(token);\n                break;\n            }\n            case InsertionMode.IN_TABLE:\n            case InsertionMode.IN_TABLE_BODY:\n            case InsertionMode.IN_ROW: {\n                characterInTable(this, token);\n                break;\n            }\n            case InsertionMode.IN_COLUMN_GROUP: {\n                tokenInColumnGroup(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_BODY: {\n                tokenAfterBody(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_AFTER_BODY: {\n                tokenAfterAfterBody(this, token);\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    onComment(token) {\n        this.skipNextNewLine = false;\n        if (this.currentNotInHTML) {\n            appendComment(this, token);\n            return;\n        }\n        switch (this.insertionMode) {\n            case InsertionMode.INITIAL:\n            case InsertionMode.BEFORE_HTML:\n            case InsertionMode.BEFORE_HEAD:\n            case InsertionMode.IN_HEAD:\n            case InsertionMode.IN_HEAD_NO_SCRIPT:\n            case InsertionMode.AFTER_HEAD:\n            case InsertionMode.IN_BODY:\n            case InsertionMode.IN_TABLE:\n            case InsertionMode.IN_CAPTION:\n            case InsertionMode.IN_COLUMN_GROUP:\n            case InsertionMode.IN_TABLE_BODY:\n            case InsertionMode.IN_ROW:\n            case InsertionMode.IN_CELL:\n            case InsertionMode.IN_SELECT:\n            case InsertionMode.IN_SELECT_IN_TABLE:\n            case InsertionMode.IN_TEMPLATE:\n            case InsertionMode.IN_FRAMESET:\n            case InsertionMode.AFTER_FRAMESET: {\n                appendComment(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE_TEXT: {\n                tokenInTableText(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_BODY: {\n                appendCommentToRootHtmlElement(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_AFTER_BODY:\n            case InsertionMode.AFTER_AFTER_FRAMESET: {\n                appendCommentToDocument(this, token);\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    onDoctype(token) {\n        this.skipNextNewLine = false;\n        switch (this.insertionMode) {\n            case InsertionMode.INITIAL: {\n                doctypeInInitialMode(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HEAD:\n            case InsertionMode.IN_HEAD:\n            case InsertionMode.IN_HEAD_NO_SCRIPT:\n            case InsertionMode.AFTER_HEAD: {\n                this._err(token, ERR.misplacedDoctype);\n                break;\n            }\n            case InsertionMode.IN_TABLE_TEXT: {\n                tokenInTableText(this, token);\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    onStartTag(token) {\n        this.skipNextNewLine = false;\n        this.currentToken = token;\n        this._processStartTag(token);\n        if (token.selfClosing && !token.ackSelfClosing) {\n            this._err(token, ERR.nonVoidHtmlElementStartTagWithTrailingSolidus);\n        }\n    }\n    /**\n     * Processes a given start tag.\n     *\n     * `onStartTag` checks if a self-closing tag was recognized. When a token\n     * is moved inbetween multiple insertion modes, this check for self-closing\n     * could lead to false positives. To avoid this, `_processStartTag` is used\n     * for nested calls.\n     *\n     * @param token The token to process.\n     */\n    _processStartTag(token) {\n        if (this.shouldProcessStartTagTokenInForeignContent(token)) {\n            startTagInForeignContent(this, token);\n        }\n        else {\n            this._startTagOutsideForeignContent(token);\n        }\n    }\n    _startTagOutsideForeignContent(token) {\n        switch (this.insertionMode) {\n            case InsertionMode.INITIAL: {\n                tokenInInitialMode(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HTML: {\n                startTagBeforeHtml(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HEAD: {\n                startTagBeforeHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD: {\n                startTagInHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD_NO_SCRIPT: {\n                startTagInHeadNoScript(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_HEAD: {\n                startTagAfterHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_BODY: {\n                startTagInBody(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE: {\n                startTagInTable(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE_TEXT: {\n                tokenInTableText(this, token);\n                break;\n            }\n            case InsertionMode.IN_CAPTION: {\n                startTagInCaption(this, token);\n                break;\n            }\n            case InsertionMode.IN_COLUMN_GROUP: {\n                startTagInColumnGroup(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE_BODY: {\n                startTagInTableBody(this, token);\n                break;\n            }\n            case InsertionMode.IN_ROW: {\n                startTagInRow(this, token);\n                break;\n            }\n            case InsertionMode.IN_CELL: {\n                startTagInCell(this, token);\n                break;\n            }\n            case InsertionMode.IN_SELECT: {\n                startTagInSelect(this, token);\n                break;\n            }\n            case InsertionMode.IN_SELECT_IN_TABLE: {\n                startTagInSelectInTable(this, token);\n                break;\n            }\n            case InsertionMode.IN_TEMPLATE: {\n                startTagInTemplate(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_BODY: {\n                startTagAfterBody(this, token);\n                break;\n            }\n            case InsertionMode.IN_FRAMESET: {\n                startTagInFrameset(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_FRAMESET: {\n                startTagAfterFrameset(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_AFTER_BODY: {\n                startTagAfterAfterBody(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_AFTER_FRAMESET: {\n                startTagAfterAfterFrameset(this, token);\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    onEndTag(token) {\n        this.skipNextNewLine = false;\n        this.currentToken = token;\n        if (this.currentNotInHTML) {\n            endTagInForeignContent(this, token);\n        }\n        else {\n            this._endTagOutsideForeignContent(token);\n        }\n    }\n    _endTagOutsideForeignContent(token) {\n        switch (this.insertionMode) {\n            case InsertionMode.INITIAL: {\n                tokenInInitialMode(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HTML: {\n                endTagBeforeHtml(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HEAD: {\n                endTagBeforeHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD: {\n                endTagInHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD_NO_SCRIPT: {\n                endTagInHeadNoScript(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_HEAD: {\n                endTagAfterHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_BODY: {\n                endTagInBody(this, token);\n                break;\n            }\n            case InsertionMode.TEXT: {\n                endTagInText(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE: {\n                endTagInTable(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE_TEXT: {\n                tokenInTableText(this, token);\n                break;\n            }\n            case InsertionMode.IN_CAPTION: {\n                endTagInCaption(this, token);\n                break;\n            }\n            case InsertionMode.IN_COLUMN_GROUP: {\n                endTagInColumnGroup(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE_BODY: {\n                endTagInTableBody(this, token);\n                break;\n            }\n            case InsertionMode.IN_ROW: {\n                endTagInRow(this, token);\n                break;\n            }\n            case InsertionMode.IN_CELL: {\n                endTagInCell(this, token);\n                break;\n            }\n            case InsertionMode.IN_SELECT: {\n                endTagInSelect(this, token);\n                break;\n            }\n            case InsertionMode.IN_SELECT_IN_TABLE: {\n                endTagInSelectInTable(this, token);\n                break;\n            }\n            case InsertionMode.IN_TEMPLATE: {\n                endTagInTemplate(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_BODY: {\n                endTagAfterBody(this, token);\n                break;\n            }\n            case InsertionMode.IN_FRAMESET: {\n                endTagInFrameset(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_FRAMESET: {\n                endTagAfterFrameset(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_AFTER_BODY: {\n                tokenAfterAfterBody(this, token);\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    onEof(token) {\n        switch (this.insertionMode) {\n            case InsertionMode.INITIAL: {\n                tokenInInitialMode(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HTML: {\n                tokenBeforeHtml(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HEAD: {\n                tokenBeforeHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD: {\n                tokenInHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD_NO_SCRIPT: {\n                tokenInHeadNoScript(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_HEAD: {\n                tokenAfterHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_BODY:\n            case InsertionMode.IN_TABLE:\n            case InsertionMode.IN_CAPTION:\n            case InsertionMode.IN_COLUMN_GROUP:\n            case InsertionMode.IN_TABLE_BODY:\n            case InsertionMode.IN_ROW:\n            case InsertionMode.IN_CELL:\n            case InsertionMode.IN_SELECT:\n            case InsertionMode.IN_SELECT_IN_TABLE: {\n                eofInBody(this, token);\n                break;\n            }\n            case InsertionMode.TEXT: {\n                eofInText(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE_TEXT: {\n                tokenInTableText(this, token);\n                break;\n            }\n            case InsertionMode.IN_TEMPLATE: {\n                eofInTemplate(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_BODY:\n            case InsertionMode.IN_FRAMESET:\n            case InsertionMode.AFTER_FRAMESET:\n            case InsertionMode.AFTER_AFTER_BODY:\n            case InsertionMode.AFTER_AFTER_FRAMESET: {\n                stopParsing(this, token);\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    onWhitespaceCharacter(token) {\n        if (this.skipNextNewLine) {\n            this.skipNextNewLine = false;\n            if (token.chars.charCodeAt(0) === unicode.CODE_POINTS.LINE_FEED) {\n                if (token.chars.length === 1) {\n                    return;\n                }\n                token.chars = token.chars.substr(1);\n            }\n        }\n        if (this.tokenizer.inForeignNode) {\n            this._insertCharacters(token);\n            return;\n        }\n        switch (this.insertionMode) {\n            case InsertionMode.IN_HEAD:\n            case InsertionMode.IN_HEAD_NO_SCRIPT:\n            case InsertionMode.AFTER_HEAD:\n            case InsertionMode.TEXT:\n            case InsertionMode.IN_COLUMN_GROUP:\n            case InsertionMode.IN_SELECT:\n            case InsertionMode.IN_SELECT_IN_TABLE:\n            case InsertionMode.IN_FRAMESET:\n            case InsertionMode.AFTER_FRAMESET: {\n                this._insertCharacters(token);\n                break;\n            }\n            case InsertionMode.IN_BODY:\n            case InsertionMode.IN_CAPTION:\n            case InsertionMode.IN_CELL:\n            case InsertionMode.IN_TEMPLATE:\n            case InsertionMode.AFTER_BODY:\n            case InsertionMode.AFTER_AFTER_BODY:\n            case InsertionMode.AFTER_AFTER_FRAMESET: {\n                whitespaceCharacterInBody(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE:\n            case InsertionMode.IN_TABLE_BODY:\n            case InsertionMode.IN_ROW: {\n                characterInTable(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE_TEXT: {\n                whitespaceCharacterInTableText(this, token);\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n}\n//Adoption agency algorithm\n//(see: http://www.whatwg.org/specs/web-apps/current-work/multipage/tree-construction.html#adoptionAgency)\n//------------------------------------------------------------------\n//Steps 5-8 of the algorithm\nfunction aaObtainFormattingElementEntry(p, token) {\n    let formattingElementEntry = p.activeFormattingElements.getElementEntryInScopeWithTagName(token.tagName);\n    if (formattingElementEntry) {\n        if (!p.openElements.contains(formattingElementEntry.element)) {\n            p.activeFormattingElements.removeEntry(formattingElementEntry);\n            formattingElementEntry = null;\n        }\n        else if (!p.openElements.hasInScope(token.tagID)) {\n            formattingElementEntry = null;\n        }\n    }\n    else {\n        genericEndTagInBody(p, token);\n    }\n    return formattingElementEntry;\n}\n//Steps 9 and 10 of the algorithm\nfunction aaObtainFurthestBlock(p, formattingElementEntry) {\n    let furthestBlock = null;\n    let idx = p.openElements.stackTop;\n    for (; idx >= 0; idx--) {\n        const element = p.openElements.items[idx];\n        if (element === formattingElementEntry.element) {\n            break;\n        }\n        if (p._isSpecialElement(element, p.openElements.tagIDs[idx])) {\n            furthestBlock = element;\n        }\n    }\n    if (!furthestBlock) {\n        p.openElements.shortenToLength(idx < 0 ? 0 : idx);\n        p.activeFormattingElements.removeEntry(formattingElementEntry);\n    }\n    return furthestBlock;\n}\n//Step 13 of the algorithm\nfunction aaInnerLoop(p, furthestBlock, formattingElement) {\n    let lastElement = furthestBlock;\n    let nextElement = p.openElements.getCommonAncestor(furthestBlock);\n    for (let i = 0, element = nextElement; element !== formattingElement; i++, element = nextElement) {\n        //NOTE: store the next element for the next loop iteration (it may be deleted from the stack by step 9.5)\n        nextElement = p.openElements.getCommonAncestor(element);\n        const elementEntry = p.activeFormattingElements.getElementEntry(element);\n        const counterOverflow = elementEntry && i >= AA_INNER_LOOP_ITER;\n        const shouldRemoveFromOpenElements = !elementEntry || counterOverflow;\n        if (shouldRemoveFromOpenElements) {\n            if (counterOverflow) {\n                p.activeFormattingElements.removeEntry(elementEntry);\n            }\n            p.openElements.remove(element);\n        }\n        else {\n            element = aaRecreateElementFromEntry(p, elementEntry);\n            if (lastElement === furthestBlock) {\n                p.activeFormattingElements.bookmark = elementEntry;\n            }\n            p.treeAdapter.detachNode(lastElement);\n            p.treeAdapter.appendChild(element, lastElement);\n            lastElement = element;\n        }\n    }\n    return lastElement;\n}\n//Step 13.7 of the algorithm\nfunction aaRecreateElementFromEntry(p, elementEntry) {\n    const ns = p.treeAdapter.getNamespaceURI(elementEntry.element);\n    const newElement = p.treeAdapter.createElement(elementEntry.token.tagName, ns, elementEntry.token.attrs);\n    p.openElements.replace(elementEntry.element, newElement);\n    elementEntry.element = newElement;\n    return newElement;\n}\n//Step 14 of the algorithm\nfunction aaInsertLastNodeInCommonAncestor(p, commonAncestor, lastElement) {\n    const tn = p.treeAdapter.getTagName(commonAncestor);\n    const tid = getTagID(tn);\n    if (p._isElementCausesFosterParenting(tid)) {\n        p._fosterParentElement(lastElement);\n    }\n    else {\n        const ns = p.treeAdapter.getNamespaceURI(commonAncestor);\n        if (tid === $.TEMPLATE && ns === NS.HTML) {\n            commonAncestor = p.treeAdapter.getTemplateContent(commonAncestor);\n        }\n        p.treeAdapter.appendChild(commonAncestor, lastElement);\n    }\n}\n//Steps 15-19 of the algorithm\nfunction aaReplaceFormattingElement(p, furthestBlock, formattingElementEntry) {\n    const ns = p.treeAdapter.getNamespaceURI(formattingElementEntry.element);\n    const { token } = formattingElementEntry;\n    const newElement = p.treeAdapter.createElement(token.tagName, ns, token.attrs);\n    p._adoptNodes(furthestBlock, newElement);\n    p.treeAdapter.appendChild(furthestBlock, newElement);\n    p.activeFormattingElements.insertElementAfterBookmark(newElement, token);\n    p.activeFormattingElements.removeEntry(formattingElementEntry);\n    p.openElements.remove(formattingElementEntry.element);\n    p.openElements.insertAfter(furthestBlock, newElement, token.tagID);\n}\n//Algorithm entry point\nfunction callAdoptionAgency(p, token) {\n    for (let i = 0; i < AA_OUTER_LOOP_ITER; i++) {\n        const formattingElementEntry = aaObtainFormattingElementEntry(p, token);\n        if (!formattingElementEntry) {\n            break;\n        }\n        const furthestBlock = aaObtainFurthestBlock(p, formattingElementEntry);\n        if (!furthestBlock) {\n            break;\n        }\n        p.activeFormattingElements.bookmark = formattingElementEntry;\n        const lastElement = aaInnerLoop(p, furthestBlock, formattingElementEntry.element);\n        const commonAncestor = p.openElements.getCommonAncestor(formattingElementEntry.element);\n        p.treeAdapter.detachNode(lastElement);\n        if (commonAncestor)\n            aaInsertLastNodeInCommonAncestor(p, commonAncestor, lastElement);\n        aaReplaceFormattingElement(p, furthestBlock, formattingElementEntry);\n    }\n}\n//Generic token handlers\n//------------------------------------------------------------------\nfunction appendComment(p, token) {\n    p._appendCommentNode(token, p.openElements.currentTmplContentOrNode);\n}\nfunction appendCommentToRootHtmlElement(p, token) {\n    p._appendCommentNode(token, p.openElements.items[0]);\n}\nfunction appendCommentToDocument(p, token) {\n    p._appendCommentNode(token, p.document);\n}\nfunction stopParsing(p, token) {\n    p.stopped = true;\n    // NOTE: Set end locations for elements that remain on the open element stack.\n    if (token.location) {\n        // NOTE: If we are not in a fragment, `html` and `body` will stay on the stack.\n        // This is a problem, as we might overwrite their end position here.\n        const target = p.fragmentContext ? 0 : 2;\n        for (let i = p.openElements.stackTop; i >= target; i--) {\n            p._setEndLocation(p.openElements.items[i], token);\n        }\n        // Handle `html` and `body`\n        if (!p.fragmentContext && p.openElements.stackTop >= 0) {\n            const htmlElement = p.openElements.items[0];\n            const htmlLocation = p.treeAdapter.getNodeSourceCodeLocation(htmlElement);\n            if (htmlLocation && !htmlLocation.endTag) {\n                p._setEndLocation(htmlElement, token);\n                if (p.openElements.stackTop >= 1) {\n                    const bodyElement = p.openElements.items[1];\n                    const bodyLocation = p.treeAdapter.getNodeSourceCodeLocation(bodyElement);\n                    if (bodyLocation && !bodyLocation.endTag) {\n                        p._setEndLocation(bodyElement, token);\n                    }\n                }\n            }\n        }\n    }\n}\n// The \"initial\" insertion mode\n//------------------------------------------------------------------\nfunction doctypeInInitialMode(p, token) {\n    p._setDocumentType(token);\n    const mode = token.forceQuirks ? DOCUMENT_MODE.QUIRKS : doctype.getDocumentMode(token);\n    if (!doctype.isConforming(token)) {\n        p._err(token, ERR.nonConformingDoctype);\n    }\n    p.treeAdapter.setDocumentMode(p.document, mode);\n    p.insertionMode = InsertionMode.BEFORE_HTML;\n}\nfunction tokenInInitialMode(p, token) {\n    p._err(token, ERR.missingDoctype, true);\n    p.treeAdapter.setDocumentMode(p.document, DOCUMENT_MODE.QUIRKS);\n    p.insertionMode = InsertionMode.BEFORE_HTML;\n    p._processToken(token);\n}\n// The \"before html\" insertion mode\n//------------------------------------------------------------------\nfunction startTagBeforeHtml(p, token) {\n    if (token.tagID === $.HTML) {\n        p._insertElement(token, NS.HTML);\n        p.insertionMode = InsertionMode.BEFORE_HEAD;\n    }\n    else {\n        tokenBeforeHtml(p, token);\n    }\n}\nfunction endTagBeforeHtml(p, token) {\n    const tn = token.tagID;\n    if (tn === $.HTML || tn === $.HEAD || tn === $.BODY || tn === $.BR) {\n        tokenBeforeHtml(p, token);\n    }\n}\nfunction tokenBeforeHtml(p, token) {\n    p._insertFakeRootElement();\n    p.insertionMode = InsertionMode.BEFORE_HEAD;\n    p._processToken(token);\n}\n// The \"before head\" insertion mode\n//------------------------------------------------------------------\nfunction startTagBeforeHead(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.HEAD: {\n            p._insertElement(token, NS.HTML);\n            p.headElement = p.openElements.current;\n            p.insertionMode = InsertionMode.IN_HEAD;\n            break;\n        }\n        default: {\n            tokenBeforeHead(p, token);\n        }\n    }\n}\nfunction endTagBeforeHead(p, token) {\n    const tn = token.tagID;\n    if (tn === $.HEAD || tn === $.BODY || tn === $.HTML || tn === $.BR) {\n        tokenBeforeHead(p, token);\n    }\n    else {\n        p._err(token, ERR.endTagWithoutMatchingOpenElement);\n    }\n}\nfunction tokenBeforeHead(p, token) {\n    p._insertFakeElement(TN.HEAD, $.HEAD);\n    p.headElement = p.openElements.current;\n    p.insertionMode = InsertionMode.IN_HEAD;\n    p._processToken(token);\n}\n// The \"in head\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInHead(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.BASE:\n        case $.BASEFONT:\n        case $.BGSOUND:\n        case $.LINK:\n        case $.META: {\n            p._appendElement(token, NS.HTML);\n            token.ackSelfClosing = true;\n            break;\n        }\n        case $.TITLE: {\n            p._switchToTextParsing(token, TokenizerMode.RCDATA);\n            break;\n        }\n        case $.NOSCRIPT: {\n            if (p.options.scriptingEnabled) {\n                p._switchToTextParsing(token, TokenizerMode.RAWTEXT);\n            }\n            else {\n                p._insertElement(token, NS.HTML);\n                p.insertionMode = InsertionMode.IN_HEAD_NO_SCRIPT;\n            }\n            break;\n        }\n        case $.NOFRAMES:\n        case $.STYLE: {\n            p._switchToTextParsing(token, TokenizerMode.RAWTEXT);\n            break;\n        }\n        case $.SCRIPT: {\n            p._switchToTextParsing(token, TokenizerMode.SCRIPT_DATA);\n            break;\n        }\n        case $.TEMPLATE: {\n            p._insertTemplate(token);\n            p.activeFormattingElements.insertMarker();\n            p.framesetOk = false;\n            p.insertionMode = InsertionMode.IN_TEMPLATE;\n            p.tmplInsertionModeStack.unshift(InsertionMode.IN_TEMPLATE);\n            break;\n        }\n        case $.HEAD: {\n            p._err(token, ERR.misplacedStartTagForHeadElement);\n            break;\n        }\n        default: {\n            tokenInHead(p, token);\n        }\n    }\n}\nfunction endTagInHead(p, token) {\n    switch (token.tagID) {\n        case $.HEAD: {\n            p.openElements.pop();\n            p.insertionMode = InsertionMode.AFTER_HEAD;\n            break;\n        }\n        case $.BODY:\n        case $.BR:\n        case $.HTML: {\n            tokenInHead(p, token);\n            break;\n        }\n        case $.TEMPLATE: {\n            templateEndTagInHead(p, token);\n            break;\n        }\n        default: {\n            p._err(token, ERR.endTagWithoutMatchingOpenElement);\n        }\n    }\n}\nfunction templateEndTagInHead(p, token) {\n    if (p.openElements.tmplCount > 0) {\n        p.openElements.generateImpliedEndTagsThoroughly();\n        if (p.openElements.currentTagId !== $.TEMPLATE) {\n            p._err(token, ERR.closingOfElementWithOpenChildElements);\n        }\n        p.openElements.popUntilTagNamePopped($.TEMPLATE);\n        p.activeFormattingElements.clearToLastMarker();\n        p.tmplInsertionModeStack.shift();\n        p._resetInsertionMode();\n    }\n    else {\n        p._err(token, ERR.endTagWithoutMatchingOpenElement);\n    }\n}\nfunction tokenInHead(p, token) {\n    p.openElements.pop();\n    p.insertionMode = InsertionMode.AFTER_HEAD;\n    p._processToken(token);\n}\n// The \"in head no script\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInHeadNoScript(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.BASEFONT:\n        case $.BGSOUND:\n        case $.HEAD:\n        case $.LINK:\n        case $.META:\n        case $.NOFRAMES:\n        case $.STYLE: {\n            startTagInHead(p, token);\n            break;\n        }\n        case $.NOSCRIPT: {\n            p._err(token, ERR.nestedNoscriptInHead);\n            break;\n        }\n        default: {\n            tokenInHeadNoScript(p, token);\n        }\n    }\n}\nfunction endTagInHeadNoScript(p, token) {\n    switch (token.tagID) {\n        case $.NOSCRIPT: {\n            p.openElements.pop();\n            p.insertionMode = InsertionMode.IN_HEAD;\n            break;\n        }\n        case $.BR: {\n            tokenInHeadNoScript(p, token);\n            break;\n        }\n        default: {\n            p._err(token, ERR.endTagWithoutMatchingOpenElement);\n        }\n    }\n}\nfunction tokenInHeadNoScript(p, token) {\n    const errCode = token.type === TokenType.EOF ? ERR.openElementsLeftAfterEof : ERR.disallowedContentInNoscriptInHead;\n    p._err(token, errCode);\n    p.openElements.pop();\n    p.insertionMode = InsertionMode.IN_HEAD;\n    p._processToken(token);\n}\n// The \"after head\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterHead(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.BODY: {\n            p._insertElement(token, NS.HTML);\n            p.framesetOk = false;\n            p.insertionMode = InsertionMode.IN_BODY;\n            break;\n        }\n        case $.FRAMESET: {\n            p._insertElement(token, NS.HTML);\n            p.insertionMode = InsertionMode.IN_FRAMESET;\n            break;\n        }\n        case $.BASE:\n        case $.BASEFONT:\n        case $.BGSOUND:\n        case $.LINK:\n        case $.META:\n        case $.NOFRAMES:\n        case $.SCRIPT:\n        case $.STYLE:\n        case $.TEMPLATE:\n        case $.TITLE: {\n            p._err(token, ERR.abandonedHeadElementChild);\n            p.openElements.push(p.headElement, $.HEAD);\n            startTagInHead(p, token);\n            p.openElements.remove(p.headElement);\n            break;\n        }\n        case $.HEAD: {\n            p._err(token, ERR.misplacedStartTagForHeadElement);\n            break;\n        }\n        default: {\n            tokenAfterHead(p, token);\n        }\n    }\n}\nfunction endTagAfterHead(p, token) {\n    switch (token.tagID) {\n        case $.BODY:\n        case $.HTML:\n        case $.BR: {\n            tokenAfterHead(p, token);\n            break;\n        }\n        case $.TEMPLATE: {\n            templateEndTagInHead(p, token);\n            break;\n        }\n        default: {\n            p._err(token, ERR.endTagWithoutMatchingOpenElement);\n        }\n    }\n}\nfunction tokenAfterHead(p, token) {\n    p._insertFakeElement(TN.BODY, $.BODY);\n    p.insertionMode = InsertionMode.IN_BODY;\n    modeInBody(p, token);\n}\n// The \"in body\" insertion mode\n//------------------------------------------------------------------\nfunction modeInBody(p, token) {\n    switch (token.type) {\n        case TokenType.CHARACTER: {\n            characterInBody(p, token);\n            break;\n        }\n        case TokenType.WHITESPACE_CHARACTER: {\n            whitespaceCharacterInBody(p, token);\n            break;\n        }\n        case TokenType.COMMENT: {\n            appendComment(p, token);\n            break;\n        }\n        case TokenType.START_TAG: {\n            startTagInBody(p, token);\n            break;\n        }\n        case TokenType.END_TAG: {\n            endTagInBody(p, token);\n            break;\n        }\n        case TokenType.EOF: {\n            eofInBody(p, token);\n            break;\n        }\n        default:\n        // Do nothing\n    }\n}\nfunction whitespaceCharacterInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertCharacters(token);\n}\nfunction characterInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertCharacters(token);\n    p.framesetOk = false;\n}\nfunction htmlStartTagInBody(p, token) {\n    if (p.openElements.tmplCount === 0) {\n        p.treeAdapter.adoptAttributes(p.openElements.items[0], token.attrs);\n    }\n}\nfunction bodyStartTagInBody(p, token) {\n    const bodyElement = p.openElements.tryPeekProperlyNestedBodyElement();\n    if (bodyElement && p.openElements.tmplCount === 0) {\n        p.framesetOk = false;\n        p.treeAdapter.adoptAttributes(bodyElement, token.attrs);\n    }\n}\nfunction framesetStartTagInBody(p, token) {\n    const bodyElement = p.openElements.tryPeekProperlyNestedBodyElement();\n    if (p.framesetOk && bodyElement) {\n        p.treeAdapter.detachNode(bodyElement);\n        p.openElements.popAllUpToHtmlElement();\n        p._insertElement(token, NS.HTML);\n        p.insertionMode = InsertionMode.IN_FRAMESET;\n    }\n}\nfunction addressStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n    p._insertElement(token, NS.HTML);\n}\nfunction numberedHeaderStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n    if (isNumberedHeader(p.openElements.currentTagId)) {\n        p.openElements.pop();\n    }\n    p._insertElement(token, NS.HTML);\n}\nfunction preStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n    p._insertElement(token, NS.HTML);\n    //NOTE: If the next token is a U+000A LINE FEED (LF) character token, then ignore that token and move\n    //on to the next one. (Newlines at the start of pre blocks are ignored as an authoring convenience.)\n    p.skipNextNewLine = true;\n    p.framesetOk = false;\n}\nfunction formStartTagInBody(p, token) {\n    const inTemplate = p.openElements.tmplCount > 0;\n    if (!p.formElement || inTemplate) {\n        if (p.openElements.hasInButtonScope($.P)) {\n            p._closePElement();\n        }\n        p._insertElement(token, NS.HTML);\n        if (!inTemplate) {\n            p.formElement = p.openElements.current;\n        }\n    }\n}\nfunction listItemStartTagInBody(p, token) {\n    p.framesetOk = false;\n    const tn = token.tagID;\n    for (let i = p.openElements.stackTop; i >= 0; i--) {\n        const elementId = p.openElements.tagIDs[i];\n        if ((tn === $.LI && elementId === $.LI) ||\n            ((tn === $.DD || tn === $.DT) && (elementId === $.DD || elementId === $.DT))) {\n            p.openElements.generateImpliedEndTagsWithExclusion(elementId);\n            p.openElements.popUntilTagNamePopped(elementId);\n            break;\n        }\n        if (elementId !== $.ADDRESS &&\n            elementId !== $.DIV &&\n            elementId !== $.P &&\n            p._isSpecialElement(p.openElements.items[i], elementId)) {\n            break;\n        }\n    }\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n    p._insertElement(token, NS.HTML);\n}\nfunction plaintextStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n    p._insertElement(token, NS.HTML);\n    p.tokenizer.state = TokenizerMode.PLAINTEXT;\n}\nfunction buttonStartTagInBody(p, token) {\n    if (p.openElements.hasInScope($.BUTTON)) {\n        p.openElements.generateImpliedEndTags();\n        p.openElements.popUntilTagNamePopped($.BUTTON);\n    }\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.framesetOk = false;\n}\nfunction aStartTagInBody(p, token) {\n    const activeElementEntry = p.activeFormattingElements.getElementEntryInScopeWithTagName(TN.A);\n    if (activeElementEntry) {\n        callAdoptionAgency(p, token);\n        p.openElements.remove(activeElementEntry.element);\n        p.activeFormattingElements.removeEntry(activeElementEntry);\n    }\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.activeFormattingElements.pushElement(p.openElements.current, token);\n}\nfunction bStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.activeFormattingElements.pushElement(p.openElements.current, token);\n}\nfunction nobrStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    if (p.openElements.hasInScope($.NOBR)) {\n        callAdoptionAgency(p, token);\n        p._reconstructActiveFormattingElements();\n    }\n    p._insertElement(token, NS.HTML);\n    p.activeFormattingElements.pushElement(p.openElements.current, token);\n}\nfunction appletStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.activeFormattingElements.insertMarker();\n    p.framesetOk = false;\n}\nfunction tableStartTagInBody(p, token) {\n    if (p.treeAdapter.getDocumentMode(p.document) !== DOCUMENT_MODE.QUIRKS && p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n    p._insertElement(token, NS.HTML);\n    p.framesetOk = false;\n    p.insertionMode = InsertionMode.IN_TABLE;\n}\nfunction areaStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._appendElement(token, NS.HTML);\n    p.framesetOk = false;\n    token.ackSelfClosing = true;\n}\nfunction isHiddenInput(token) {\n    const inputType = getTokenAttr(token, ATTRS.TYPE);\n    return inputType != null && inputType.toLowerCase() === HIDDEN_INPUT_TYPE;\n}\nfunction inputStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._appendElement(token, NS.HTML);\n    if (!isHiddenInput(token)) {\n        p.framesetOk = false;\n    }\n    token.ackSelfClosing = true;\n}\nfunction paramStartTagInBody(p, token) {\n    p._appendElement(token, NS.HTML);\n    token.ackSelfClosing = true;\n}\nfunction hrStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n    p._appendElement(token, NS.HTML);\n    p.framesetOk = false;\n    token.ackSelfClosing = true;\n}\nfunction imageStartTagInBody(p, token) {\n    token.tagName = TN.IMG;\n    token.tagID = $.IMG;\n    areaStartTagInBody(p, token);\n}\nfunction textareaStartTagInBody(p, token) {\n    p._insertElement(token, NS.HTML);\n    //NOTE: If the next token is a U+000A LINE FEED (LF) character token, then ignore that token and move\n    //on to the next one. (Newlines at the start of textarea elements are ignored as an authoring convenience.)\n    p.skipNextNewLine = true;\n    p.tokenizer.state = TokenizerMode.RCDATA;\n    p.originalInsertionMode = p.insertionMode;\n    p.framesetOk = false;\n    p.insertionMode = InsertionMode.TEXT;\n}\nfunction xmpStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n    p._reconstructActiveFormattingElements();\n    p.framesetOk = false;\n    p._switchToTextParsing(token, TokenizerMode.RAWTEXT);\n}\nfunction iframeStartTagInBody(p, token) {\n    p.framesetOk = false;\n    p._switchToTextParsing(token, TokenizerMode.RAWTEXT);\n}\n//NOTE: here we assume that we always act as an user agent with enabled plugins, so we parse\n//<noembed> as rawtext.\nfunction noembedStartTagInBody(p, token) {\n    p._switchToTextParsing(token, TokenizerMode.RAWTEXT);\n}\nfunction selectStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.framesetOk = false;\n    p.insertionMode =\n        p.insertionMode === InsertionMode.IN_TABLE ||\n            p.insertionMode === InsertionMode.IN_CAPTION ||\n            p.insertionMode === InsertionMode.IN_TABLE_BODY ||\n            p.insertionMode === InsertionMode.IN_ROW ||\n            p.insertionMode === InsertionMode.IN_CELL\n            ? InsertionMode.IN_SELECT_IN_TABLE\n            : InsertionMode.IN_SELECT;\n}\nfunction optgroupStartTagInBody(p, token) {\n    if (p.openElements.currentTagId === $.OPTION) {\n        p.openElements.pop();\n    }\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n}\nfunction rbStartTagInBody(p, token) {\n    if (p.openElements.hasInScope($.RUBY)) {\n        p.openElements.generateImpliedEndTags();\n    }\n    p._insertElement(token, NS.HTML);\n}\nfunction rtStartTagInBody(p, token) {\n    if (p.openElements.hasInScope($.RUBY)) {\n        p.openElements.generateImpliedEndTagsWithExclusion($.RTC);\n    }\n    p._insertElement(token, NS.HTML);\n}\nfunction mathStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    foreignContent.adjustTokenMathMLAttrs(token);\n    foreignContent.adjustTokenXMLAttrs(token);\n    if (token.selfClosing) {\n        p._appendElement(token, NS.MATHML);\n    }\n    else {\n        p._insertElement(token, NS.MATHML);\n    }\n    token.ackSelfClosing = true;\n}\nfunction svgStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    foreignContent.adjustTokenSVGAttrs(token);\n    foreignContent.adjustTokenXMLAttrs(token);\n    if (token.selfClosing) {\n        p._appendElement(token, NS.SVG);\n    }\n    else {\n        p._insertElement(token, NS.SVG);\n    }\n    token.ackSelfClosing = true;\n}\nfunction genericStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n}\nfunction startTagInBody(p, token) {\n    switch (token.tagID) {\n        case $.I:\n        case $.S:\n        case $.B:\n        case $.U:\n        case $.EM:\n        case $.TT:\n        case $.BIG:\n        case $.CODE:\n        case $.FONT:\n        case $.SMALL:\n        case $.STRIKE:\n        case $.STRONG: {\n            bStartTagInBody(p, token);\n            break;\n        }\n        case $.A: {\n            aStartTagInBody(p, token);\n            break;\n        }\n        case $.H1:\n        case $.H2:\n        case $.H3:\n        case $.H4:\n        case $.H5:\n        case $.H6: {\n            numberedHeaderStartTagInBody(p, token);\n            break;\n        }\n        case $.P:\n        case $.DL:\n        case $.OL:\n        case $.UL:\n        case $.DIV:\n        case $.DIR:\n        case $.NAV:\n        case $.MAIN:\n        case $.MENU:\n        case $.ASIDE:\n        case $.CENTER:\n        case $.FIGURE:\n        case $.FOOTER:\n        case $.HEADER:\n        case $.HGROUP:\n        case $.DIALOG:\n        case $.DETAILS:\n        case $.ADDRESS:\n        case $.ARTICLE:\n        case $.SECTION:\n        case $.SUMMARY:\n        case $.FIELDSET:\n        case $.BLOCKQUOTE:\n        case $.FIGCAPTION: {\n            addressStartTagInBody(p, token);\n            break;\n        }\n        case $.LI:\n        case $.DD:\n        case $.DT: {\n            listItemStartTagInBody(p, token);\n            break;\n        }\n        case $.BR:\n        case $.IMG:\n        case $.WBR:\n        case $.AREA:\n        case $.EMBED:\n        case $.KEYGEN: {\n            areaStartTagInBody(p, token);\n            break;\n        }\n        case $.HR: {\n            hrStartTagInBody(p, token);\n            break;\n        }\n        case $.RB:\n        case $.RTC: {\n            rbStartTagInBody(p, token);\n            break;\n        }\n        case $.RT:\n        case $.RP: {\n            rtStartTagInBody(p, token);\n            break;\n        }\n        case $.PRE:\n        case $.LISTING: {\n            preStartTagInBody(p, token);\n            break;\n        }\n        case $.XMP: {\n            xmpStartTagInBody(p, token);\n            break;\n        }\n        case $.SVG: {\n            svgStartTagInBody(p, token);\n            break;\n        }\n        case $.HTML: {\n            htmlStartTagInBody(p, token);\n            break;\n        }\n        case $.BASE:\n        case $.LINK:\n        case $.META:\n        case $.STYLE:\n        case $.TITLE:\n        case $.SCRIPT:\n        case $.BGSOUND:\n        case $.BASEFONT:\n        case $.TEMPLATE: {\n            startTagInHead(p, token);\n            break;\n        }\n        case $.BODY: {\n            bodyStartTagInBody(p, token);\n            break;\n        }\n        case $.FORM: {\n            formStartTagInBody(p, token);\n            break;\n        }\n        case $.NOBR: {\n            nobrStartTagInBody(p, token);\n            break;\n        }\n        case $.MATH: {\n            mathStartTagInBody(p, token);\n            break;\n        }\n        case $.TABLE: {\n            tableStartTagInBody(p, token);\n            break;\n        }\n        case $.INPUT: {\n            inputStartTagInBody(p, token);\n            break;\n        }\n        case $.PARAM:\n        case $.TRACK:\n        case $.SOURCE: {\n            paramStartTagInBody(p, token);\n            break;\n        }\n        case $.IMAGE: {\n            imageStartTagInBody(p, token);\n            break;\n        }\n        case $.BUTTON: {\n            buttonStartTagInBody(p, token);\n            break;\n        }\n        case $.APPLET:\n        case $.OBJECT:\n        case $.MARQUEE: {\n            appletStartTagInBody(p, token);\n            break;\n        }\n        case $.IFRAME: {\n            iframeStartTagInBody(p, token);\n            break;\n        }\n        case $.SELECT: {\n            selectStartTagInBody(p, token);\n            break;\n        }\n        case $.OPTION:\n        case $.OPTGROUP: {\n            optgroupStartTagInBody(p, token);\n            break;\n        }\n        case $.NOEMBED: {\n            noembedStartTagInBody(p, token);\n            break;\n        }\n        case $.FRAMESET: {\n            framesetStartTagInBody(p, token);\n            break;\n        }\n        case $.TEXTAREA: {\n            textareaStartTagInBody(p, token);\n            break;\n        }\n        case $.NOSCRIPT: {\n            if (p.options.scriptingEnabled) {\n                noembedStartTagInBody(p, token);\n            }\n            else {\n                genericStartTagInBody(p, token);\n            }\n            break;\n        }\n        case $.PLAINTEXT: {\n            plaintextStartTagInBody(p, token);\n            break;\n        }\n        case $.COL:\n        case $.TH:\n        case $.TD:\n        case $.TR:\n        case $.HEAD:\n        case $.FRAME:\n        case $.TBODY:\n        case $.TFOOT:\n        case $.THEAD:\n        case $.CAPTION:\n        case $.COLGROUP: {\n            // Ignore token\n            break;\n        }\n        default: {\n            genericStartTagInBody(p, token);\n        }\n    }\n}\nfunction bodyEndTagInBody(p, token) {\n    if (p.openElements.hasInScope($.BODY)) {\n        p.insertionMode = InsertionMode.AFTER_BODY;\n        //NOTE: <body> is never popped from the stack, so we need to updated\n        //the end location explicitly.\n        if (p.options.sourceCodeLocationInfo) {\n            const bodyElement = p.openElements.tryPeekProperlyNestedBodyElement();\n            if (bodyElement) {\n                p._setEndLocation(bodyElement, token);\n            }\n        }\n    }\n}\nfunction htmlEndTagInBody(p, token) {\n    if (p.openElements.hasInScope($.BODY)) {\n        p.insertionMode = InsertionMode.AFTER_BODY;\n        endTagAfterBody(p, token);\n    }\n}\nfunction addressEndTagInBody(p, token) {\n    const tn = token.tagID;\n    if (p.openElements.hasInScope(tn)) {\n        p.openElements.generateImpliedEndTags();\n        p.openElements.popUntilTagNamePopped(tn);\n    }\n}\nfunction formEndTagInBody(p) {\n    const inTemplate = p.openElements.tmplCount > 0;\n    const { formElement } = p;\n    if (!inTemplate) {\n        p.formElement = null;\n    }\n    if ((formElement || inTemplate) && p.openElements.hasInScope($.FORM)) {\n        p.openElements.generateImpliedEndTags();\n        if (inTemplate) {\n            p.openElements.popUntilTagNamePopped($.FORM);\n        }\n        else if (formElement) {\n            p.openElements.remove(formElement);\n        }\n    }\n}\nfunction pEndTagInBody(p) {\n    if (!p.openElements.hasInButtonScope($.P)) {\n        p._insertFakeElement(TN.P, $.P);\n    }\n    p._closePElement();\n}\nfunction liEndTagInBody(p) {\n    if (p.openElements.hasInListItemScope($.LI)) {\n        p.openElements.generateImpliedEndTagsWithExclusion($.LI);\n        p.openElements.popUntilTagNamePopped($.LI);\n    }\n}\nfunction ddEndTagInBody(p, token) {\n    const tn = token.tagID;\n    if (p.openElements.hasInScope(tn)) {\n        p.openElements.generateImpliedEndTagsWithExclusion(tn);\n        p.openElements.popUntilTagNamePopped(tn);\n    }\n}\nfunction numberedHeaderEndTagInBody(p) {\n    if (p.openElements.hasNumberedHeaderInScope()) {\n        p.openElements.generateImpliedEndTags();\n        p.openElements.popUntilNumberedHeaderPopped();\n    }\n}\nfunction appletEndTagInBody(p, token) {\n    const tn = token.tagID;\n    if (p.openElements.hasInScope(tn)) {\n        p.openElements.generateImpliedEndTags();\n        p.openElements.popUntilTagNamePopped(tn);\n        p.activeFormattingElements.clearToLastMarker();\n    }\n}\nfunction brEndTagInBody(p) {\n    p._reconstructActiveFormattingElements();\n    p._insertFakeElement(TN.BR, $.BR);\n    p.openElements.pop();\n    p.framesetOk = false;\n}\nfunction genericEndTagInBody(p, token) {\n    const tn = token.tagName;\n    const tid = token.tagID;\n    for (let i = p.openElements.stackTop; i > 0; i--) {\n        const element = p.openElements.items[i];\n        const elementId = p.openElements.tagIDs[i];\n        // Compare the tag name here, as the tag might not be a known tag with an ID.\n        if (tid === elementId && (tid !== $.UNKNOWN || p.treeAdapter.getTagName(element) === tn)) {\n            p.openElements.generateImpliedEndTagsWithExclusion(tid);\n            if (p.openElements.stackTop >= i)\n                p.openElements.shortenToLength(i);\n            break;\n        }\n        if (p._isSpecialElement(element, elementId)) {\n            break;\n        }\n    }\n}\nfunction endTagInBody(p, token) {\n    switch (token.tagID) {\n        case $.A:\n        case $.B:\n        case $.I:\n        case $.S:\n        case $.U:\n        case $.EM:\n        case $.TT:\n        case $.BIG:\n        case $.CODE:\n        case $.FONT:\n        case $.NOBR:\n        case $.SMALL:\n        case $.STRIKE:\n        case $.STRONG: {\n            callAdoptionAgency(p, token);\n            break;\n        }\n        case $.P: {\n            pEndTagInBody(p);\n            break;\n        }\n        case $.DL:\n        case $.UL:\n        case $.OL:\n        case $.DIR:\n        case $.DIV:\n        case $.NAV:\n        case $.PRE:\n        case $.MAIN:\n        case $.MENU:\n        case $.ASIDE:\n        case $.BUTTON:\n        case $.CENTER:\n        case $.FIGURE:\n        case $.FOOTER:\n        case $.HEADER:\n        case $.HGROUP:\n        case $.DIALOG:\n        case $.ADDRESS:\n        case $.ARTICLE:\n        case $.DETAILS:\n        case $.SECTION:\n        case $.SUMMARY:\n        case $.LISTING:\n        case $.FIELDSET:\n        case $.BLOCKQUOTE:\n        case $.FIGCAPTION: {\n            addressEndTagInBody(p, token);\n            break;\n        }\n        case $.LI: {\n            liEndTagInBody(p);\n            break;\n        }\n        case $.DD:\n        case $.DT: {\n            ddEndTagInBody(p, token);\n            break;\n        }\n        case $.H1:\n        case $.H2:\n        case $.H3:\n        case $.H4:\n        case $.H5:\n        case $.H6: {\n            numberedHeaderEndTagInBody(p);\n            break;\n        }\n        case $.BR: {\n            brEndTagInBody(p);\n            break;\n        }\n        case $.BODY: {\n            bodyEndTagInBody(p, token);\n            break;\n        }\n        case $.HTML: {\n            htmlEndTagInBody(p, token);\n            break;\n        }\n        case $.FORM: {\n            formEndTagInBody(p);\n            break;\n        }\n        case $.APPLET:\n        case $.OBJECT:\n        case $.MARQUEE: {\n            appletEndTagInBody(p, token);\n            break;\n        }\n        case $.TEMPLATE: {\n            templateEndTagInHead(p, token);\n            break;\n        }\n        default: {\n            genericEndTagInBody(p, token);\n        }\n    }\n}\nfunction eofInBody(p, token) {\n    if (p.tmplInsertionModeStack.length > 0) {\n        eofInTemplate(p, token);\n    }\n    else {\n        stopParsing(p, token);\n    }\n}\n// The \"text\" insertion mode\n//------------------------------------------------------------------\nfunction endTagInText(p, token) {\n    var _a;\n    if (token.tagID === $.SCRIPT) {\n        (_a = p.scriptHandler) === null || _a === void 0 ? void 0 : _a.call(p, p.openElements.current);\n    }\n    p.openElements.pop();\n    p.insertionMode = p.originalInsertionMode;\n}\nfunction eofInText(p, token) {\n    p._err(token, ERR.eofInElementThatCanContainOnlyText);\n    p.openElements.pop();\n    p.insertionMode = p.originalInsertionMode;\n    p.onEof(token);\n}\n// The \"in table\" insertion mode\n//------------------------------------------------------------------\nfunction characterInTable(p, token) {\n    if (TABLE_STRUCTURE_TAGS.has(p.openElements.currentTagId)) {\n        p.pendingCharacterTokens.length = 0;\n        p.hasNonWhitespacePendingCharacterToken = false;\n        p.originalInsertionMode = p.insertionMode;\n        p.insertionMode = InsertionMode.IN_TABLE_TEXT;\n        switch (token.type) {\n            case TokenType.CHARACTER: {\n                characterInTableText(p, token);\n                break;\n            }\n            case TokenType.WHITESPACE_CHARACTER: {\n                whitespaceCharacterInTableText(p, token);\n                break;\n            }\n            // Ignore null\n        }\n    }\n    else {\n        tokenInTable(p, token);\n    }\n}\nfunction captionStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p.activeFormattingElements.insertMarker();\n    p._insertElement(token, NS.HTML);\n    p.insertionMode = InsertionMode.IN_CAPTION;\n}\nfunction colgroupStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p._insertElement(token, NS.HTML);\n    p.insertionMode = InsertionMode.IN_COLUMN_GROUP;\n}\nfunction colStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p._insertFakeElement(TN.COLGROUP, $.COLGROUP);\n    p.insertionMode = InsertionMode.IN_COLUMN_GROUP;\n    startTagInColumnGroup(p, token);\n}\nfunction tbodyStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p._insertElement(token, NS.HTML);\n    p.insertionMode = InsertionMode.IN_TABLE_BODY;\n}\nfunction tdStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p._insertFakeElement(TN.TBODY, $.TBODY);\n    p.insertionMode = InsertionMode.IN_TABLE_BODY;\n    startTagInTableBody(p, token);\n}\nfunction tableStartTagInTable(p, token) {\n    if (p.openElements.hasInTableScope($.TABLE)) {\n        p.openElements.popUntilTagNamePopped($.TABLE);\n        p._resetInsertionMode();\n        p._processStartTag(token);\n    }\n}\nfunction inputStartTagInTable(p, token) {\n    if (isHiddenInput(token)) {\n        p._appendElement(token, NS.HTML);\n    }\n    else {\n        tokenInTable(p, token);\n    }\n    token.ackSelfClosing = true;\n}\nfunction formStartTagInTable(p, token) {\n    if (!p.formElement && p.openElements.tmplCount === 0) {\n        p._insertElement(token, NS.HTML);\n        p.formElement = p.openElements.current;\n        p.openElements.pop();\n    }\n}\nfunction startTagInTable(p, token) {\n    switch (token.tagID) {\n        case $.TD:\n        case $.TH:\n        case $.TR: {\n            tdStartTagInTable(p, token);\n            break;\n        }\n        case $.STYLE:\n        case $.SCRIPT:\n        case $.TEMPLATE: {\n            startTagInHead(p, token);\n            break;\n        }\n        case $.COL: {\n            colStartTagInTable(p, token);\n            break;\n        }\n        case $.FORM: {\n            formStartTagInTable(p, token);\n            break;\n        }\n        case $.TABLE: {\n            tableStartTagInTable(p, token);\n            break;\n        }\n        case $.TBODY:\n        case $.TFOOT:\n        case $.THEAD: {\n            tbodyStartTagInTable(p, token);\n            break;\n        }\n        case $.INPUT: {\n            inputStartTagInTable(p, token);\n            break;\n        }\n        case $.CAPTION: {\n            captionStartTagInTable(p, token);\n            break;\n        }\n        case $.COLGROUP: {\n            colgroupStartTagInTable(p, token);\n            break;\n        }\n        default: {\n            tokenInTable(p, token);\n        }\n    }\n}\nfunction endTagInTable(p, token) {\n    switch (token.tagID) {\n        case $.TABLE: {\n            if (p.openElements.hasInTableScope($.TABLE)) {\n                p.openElements.popUntilTagNamePopped($.TABLE);\n                p._resetInsertionMode();\n            }\n            break;\n        }\n        case $.TEMPLATE: {\n            templateEndTagInHead(p, token);\n            break;\n        }\n        case $.BODY:\n        case $.CAPTION:\n        case $.COL:\n        case $.COLGROUP:\n        case $.HTML:\n        case $.TBODY:\n        case $.TD:\n        case $.TFOOT:\n        case $.TH:\n        case $.THEAD:\n        case $.TR: {\n            // Ignore token\n            break;\n        }\n        default: {\n            tokenInTable(p, token);\n        }\n    }\n}\nfunction tokenInTable(p, token) {\n    const savedFosterParentingState = p.fosterParentingEnabled;\n    p.fosterParentingEnabled = true;\n    // Process token in `In Body` mode\n    modeInBody(p, token);\n    p.fosterParentingEnabled = savedFosterParentingState;\n}\n// The \"in table text\" insertion mode\n//------------------------------------------------------------------\nfunction whitespaceCharacterInTableText(p, token) {\n    p.pendingCharacterTokens.push(token);\n}\nfunction characterInTableText(p, token) {\n    p.pendingCharacterTokens.push(token);\n    p.hasNonWhitespacePendingCharacterToken = true;\n}\nfunction tokenInTableText(p, token) {\n    let i = 0;\n    if (p.hasNonWhitespacePendingCharacterToken) {\n        for (; i < p.pendingCharacterTokens.length; i++) {\n            tokenInTable(p, p.pendingCharacterTokens[i]);\n        }\n    }\n    else {\n        for (; i < p.pendingCharacterTokens.length; i++) {\n            p._insertCharacters(p.pendingCharacterTokens[i]);\n        }\n    }\n    p.insertionMode = p.originalInsertionMode;\n    p._processToken(token);\n}\n// The \"in caption\" insertion mode\n//------------------------------------------------------------------\nconst TABLE_VOID_ELEMENTS = new Set([$.CAPTION, $.COL, $.COLGROUP, $.TBODY, $.TD, $.TFOOT, $.TH, $.THEAD, $.TR]);\nfunction startTagInCaption(p, token) {\n    const tn = token.tagID;\n    if (TABLE_VOID_ELEMENTS.has(tn)) {\n        if (p.openElements.hasInTableScope($.CAPTION)) {\n            p.openElements.generateImpliedEndTags();\n            p.openElements.popUntilTagNamePopped($.CAPTION);\n            p.activeFormattingElements.clearToLastMarker();\n            p.insertionMode = InsertionMode.IN_TABLE;\n            startTagInTable(p, token);\n        }\n    }\n    else {\n        startTagInBody(p, token);\n    }\n}\nfunction endTagInCaption(p, token) {\n    const tn = token.tagID;\n    switch (tn) {\n        case $.CAPTION:\n        case $.TABLE: {\n            if (p.openElements.hasInTableScope($.CAPTION)) {\n                p.openElements.generateImpliedEndTags();\n                p.openElements.popUntilTagNamePopped($.CAPTION);\n                p.activeFormattingElements.clearToLastMarker();\n                p.insertionMode = InsertionMode.IN_TABLE;\n                if (tn === $.TABLE) {\n                    endTagInTable(p, token);\n                }\n            }\n            break;\n        }\n        case $.BODY:\n        case $.COL:\n        case $.COLGROUP:\n        case $.HTML:\n        case $.TBODY:\n        case $.TD:\n        case $.TFOOT:\n        case $.TH:\n        case $.THEAD:\n        case $.TR: {\n            // Ignore token\n            break;\n        }\n        default: {\n            endTagInBody(p, token);\n        }\n    }\n}\n// The \"in column group\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInColumnGroup(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.COL: {\n            p._appendElement(token, NS.HTML);\n            token.ackSelfClosing = true;\n            break;\n        }\n        case $.TEMPLATE: {\n            startTagInHead(p, token);\n            break;\n        }\n        default: {\n            tokenInColumnGroup(p, token);\n        }\n    }\n}\nfunction endTagInColumnGroup(p, token) {\n    switch (token.tagID) {\n        case $.COLGROUP: {\n            if (p.openElements.currentTagId === $.COLGROUP) {\n                p.openElements.pop();\n                p.insertionMode = InsertionMode.IN_TABLE;\n            }\n            break;\n        }\n        case $.TEMPLATE: {\n            templateEndTagInHead(p, token);\n            break;\n        }\n        case $.COL: {\n            // Ignore token\n            break;\n        }\n        default: {\n            tokenInColumnGroup(p, token);\n        }\n    }\n}\nfunction tokenInColumnGroup(p, token) {\n    if (p.openElements.currentTagId === $.COLGROUP) {\n        p.openElements.pop();\n        p.insertionMode = InsertionMode.IN_TABLE;\n        p._processToken(token);\n    }\n}\n// The \"in table body\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInTableBody(p, token) {\n    switch (token.tagID) {\n        case $.TR: {\n            p.openElements.clearBackToTableBodyContext();\n            p._insertElement(token, NS.HTML);\n            p.insertionMode = InsertionMode.IN_ROW;\n            break;\n        }\n        case $.TH:\n        case $.TD: {\n            p.openElements.clearBackToTableBodyContext();\n            p._insertFakeElement(TN.TR, $.TR);\n            p.insertionMode = InsertionMode.IN_ROW;\n            startTagInRow(p, token);\n            break;\n        }\n        case $.CAPTION:\n        case $.COL:\n        case $.COLGROUP:\n        case $.TBODY:\n        case $.TFOOT:\n        case $.THEAD: {\n            if (p.openElements.hasTableBodyContextInTableScope()) {\n                p.openElements.clearBackToTableBodyContext();\n                p.openElements.pop();\n                p.insertionMode = InsertionMode.IN_TABLE;\n                startTagInTable(p, token);\n            }\n            break;\n        }\n        default: {\n            startTagInTable(p, token);\n        }\n    }\n}\nfunction endTagInTableBody(p, token) {\n    const tn = token.tagID;\n    switch (token.tagID) {\n        case $.TBODY:\n        case $.TFOOT:\n        case $.THEAD: {\n            if (p.openElements.hasInTableScope(tn)) {\n                p.openElements.clearBackToTableBodyContext();\n                p.openElements.pop();\n                p.insertionMode = InsertionMode.IN_TABLE;\n            }\n            break;\n        }\n        case $.TABLE: {\n            if (p.openElements.hasTableBodyContextInTableScope()) {\n                p.openElements.clearBackToTableBodyContext();\n                p.openElements.pop();\n                p.insertionMode = InsertionMode.IN_TABLE;\n                endTagInTable(p, token);\n            }\n            break;\n        }\n        case $.BODY:\n        case $.CAPTION:\n        case $.COL:\n        case $.COLGROUP:\n        case $.HTML:\n        case $.TD:\n        case $.TH:\n        case $.TR: {\n            // Ignore token\n            break;\n        }\n        default: {\n            endTagInTable(p, token);\n        }\n    }\n}\n// The \"in row\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInRow(p, token) {\n    switch (token.tagID) {\n        case $.TH:\n        case $.TD: {\n            p.openElements.clearBackToTableRowContext();\n            p._insertElement(token, NS.HTML);\n            p.insertionMode = InsertionMode.IN_CELL;\n            p.activeFormattingElements.insertMarker();\n            break;\n        }\n        case $.CAPTION:\n        case $.COL:\n        case $.COLGROUP:\n        case $.TBODY:\n        case $.TFOOT:\n        case $.THEAD:\n        case $.TR: {\n            if (p.openElements.hasInTableScope($.TR)) {\n                p.openElements.clearBackToTableRowContext();\n                p.openElements.pop();\n                p.insertionMode = InsertionMode.IN_TABLE_BODY;\n                startTagInTableBody(p, token);\n            }\n            break;\n        }\n        default: {\n            startTagInTable(p, token);\n        }\n    }\n}\nfunction endTagInRow(p, token) {\n    switch (token.tagID) {\n        case $.TR: {\n            if (p.openElements.hasInTableScope($.TR)) {\n                p.openElements.clearBackToTableRowContext();\n                p.openElements.pop();\n                p.insertionMode = InsertionMode.IN_TABLE_BODY;\n            }\n            break;\n        }\n        case $.TABLE: {\n            if (p.openElements.hasInTableScope($.TR)) {\n                p.openElements.clearBackToTableRowContext();\n                p.openElements.pop();\n                p.insertionMode = InsertionMode.IN_TABLE_BODY;\n                endTagInTableBody(p, token);\n            }\n            break;\n        }\n        case $.TBODY:\n        case $.TFOOT:\n        case $.THEAD: {\n            if (p.openElements.hasInTableScope(token.tagID) || p.openElements.hasInTableScope($.TR)) {\n                p.openElements.clearBackToTableRowContext();\n                p.openElements.pop();\n                p.insertionMode = InsertionMode.IN_TABLE_BODY;\n                endTagInTableBody(p, token);\n            }\n            break;\n        }\n        case $.BODY:\n        case $.CAPTION:\n        case $.COL:\n        case $.COLGROUP:\n        case $.HTML:\n        case $.TD:\n        case $.TH: {\n            // Ignore end tag\n            break;\n        }\n        default: {\n            endTagInTable(p, token);\n        }\n    }\n}\n// The \"in cell\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInCell(p, token) {\n    const tn = token.tagID;\n    if (TABLE_VOID_ELEMENTS.has(tn)) {\n        if (p.openElements.hasInTableScope($.TD) || p.openElements.hasInTableScope($.TH)) {\n            p._closeTableCell();\n            startTagInRow(p, token);\n        }\n    }\n    else {\n        startTagInBody(p, token);\n    }\n}\nfunction endTagInCell(p, token) {\n    const tn = token.tagID;\n    switch (tn) {\n        case $.TD:\n        case $.TH: {\n            if (p.openElements.hasInTableScope(tn)) {\n                p.openElements.generateImpliedEndTags();\n                p.openElements.popUntilTagNamePopped(tn);\n                p.activeFormattingElements.clearToLastMarker();\n                p.insertionMode = InsertionMode.IN_ROW;\n            }\n            break;\n        }\n        case $.TABLE:\n        case $.TBODY:\n        case $.TFOOT:\n        case $.THEAD:\n        case $.TR: {\n            if (p.openElements.hasInTableScope(tn)) {\n                p._closeTableCell();\n                endTagInRow(p, token);\n            }\n            break;\n        }\n        case $.BODY:\n        case $.CAPTION:\n        case $.COL:\n        case $.COLGROUP:\n        case $.HTML: {\n            // Ignore token\n            break;\n        }\n        default: {\n            endTagInBody(p, token);\n        }\n    }\n}\n// The \"in select\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInSelect(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.OPTION: {\n            if (p.openElements.currentTagId === $.OPTION) {\n                p.openElements.pop();\n            }\n            p._insertElement(token, NS.HTML);\n            break;\n        }\n        case $.OPTGROUP: {\n            if (p.openElements.currentTagId === $.OPTION) {\n                p.openElements.pop();\n            }\n            if (p.openElements.currentTagId === $.OPTGROUP) {\n                p.openElements.pop();\n            }\n            p._insertElement(token, NS.HTML);\n            break;\n        }\n        case $.INPUT:\n        case $.KEYGEN:\n        case $.TEXTAREA:\n        case $.SELECT: {\n            if (p.openElements.hasInSelectScope($.SELECT)) {\n                p.openElements.popUntilTagNamePopped($.SELECT);\n                p._resetInsertionMode();\n                if (token.tagID !== $.SELECT) {\n                    p._processStartTag(token);\n                }\n            }\n            break;\n        }\n        case $.SCRIPT:\n        case $.TEMPLATE: {\n            startTagInHead(p, token);\n            break;\n        }\n        default:\n        // Do nothing\n    }\n}\nfunction endTagInSelect(p, token) {\n    switch (token.tagID) {\n        case $.OPTGROUP: {\n            if (p.openElements.stackTop > 0 &&\n                p.openElements.currentTagId === $.OPTION &&\n                p.openElements.tagIDs[p.openElements.stackTop - 1] === $.OPTGROUP) {\n                p.openElements.pop();\n            }\n            if (p.openElements.currentTagId === $.OPTGROUP) {\n                p.openElements.pop();\n            }\n            break;\n        }\n        case $.OPTION: {\n            if (p.openElements.currentTagId === $.OPTION) {\n                p.openElements.pop();\n            }\n            break;\n        }\n        case $.SELECT: {\n            if (p.openElements.hasInSelectScope($.SELECT)) {\n                p.openElements.popUntilTagNamePopped($.SELECT);\n                p._resetInsertionMode();\n            }\n            break;\n        }\n        case $.TEMPLATE: {\n            templateEndTagInHead(p, token);\n            break;\n        }\n        default:\n        // Do nothing\n    }\n}\n// The \"in select in table\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInSelectInTable(p, token) {\n    const tn = token.tagID;\n    if (tn === $.CAPTION ||\n        tn === $.TABLE ||\n        tn === $.TBODY ||\n        tn === $.TFOOT ||\n        tn === $.THEAD ||\n        tn === $.TR ||\n        tn === $.TD ||\n        tn === $.TH) {\n        p.openElements.popUntilTagNamePopped($.SELECT);\n        p._resetInsertionMode();\n        p._processStartTag(token);\n    }\n    else {\n        startTagInSelect(p, token);\n    }\n}\nfunction endTagInSelectInTable(p, token) {\n    const tn = token.tagID;\n    if (tn === $.CAPTION ||\n        tn === $.TABLE ||\n        tn === $.TBODY ||\n        tn === $.TFOOT ||\n        tn === $.THEAD ||\n        tn === $.TR ||\n        tn === $.TD ||\n        tn === $.TH) {\n        if (p.openElements.hasInTableScope(tn)) {\n            p.openElements.popUntilTagNamePopped($.SELECT);\n            p._resetInsertionMode();\n            p.onEndTag(token);\n        }\n    }\n    else {\n        endTagInSelect(p, token);\n    }\n}\n// The \"in template\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInTemplate(p, token) {\n    switch (token.tagID) {\n        // First, handle tags that can start without a mode change\n        case $.BASE:\n        case $.BASEFONT:\n        case $.BGSOUND:\n        case $.LINK:\n        case $.META:\n        case $.NOFRAMES:\n        case $.SCRIPT:\n        case $.STYLE:\n        case $.TEMPLATE:\n        case $.TITLE: {\n            startTagInHead(p, token);\n            break;\n        }\n        // Re-process the token in the appropriate mode\n        case $.CAPTION:\n        case $.COLGROUP:\n        case $.TBODY:\n        case $.TFOOT:\n        case $.THEAD: {\n            p.tmplInsertionModeStack[0] = InsertionMode.IN_TABLE;\n            p.insertionMode = InsertionMode.IN_TABLE;\n            startTagInTable(p, token);\n            break;\n        }\n        case $.COL: {\n            p.tmplInsertionModeStack[0] = InsertionMode.IN_COLUMN_GROUP;\n            p.insertionMode = InsertionMode.IN_COLUMN_GROUP;\n            startTagInColumnGroup(p, token);\n            break;\n        }\n        case $.TR: {\n            p.tmplInsertionModeStack[0] = InsertionMode.IN_TABLE_BODY;\n            p.insertionMode = InsertionMode.IN_TABLE_BODY;\n            startTagInTableBody(p, token);\n            break;\n        }\n        case $.TD:\n        case $.TH: {\n            p.tmplInsertionModeStack[0] = InsertionMode.IN_ROW;\n            p.insertionMode = InsertionMode.IN_ROW;\n            startTagInRow(p, token);\n            break;\n        }\n        default: {\n            p.tmplInsertionModeStack[0] = InsertionMode.IN_BODY;\n            p.insertionMode = InsertionMode.IN_BODY;\n            startTagInBody(p, token);\n        }\n    }\n}\nfunction endTagInTemplate(p, token) {\n    if (token.tagID === $.TEMPLATE) {\n        templateEndTagInHead(p, token);\n    }\n}\nfunction eofInTemplate(p, token) {\n    if (p.openElements.tmplCount > 0) {\n        p.openElements.popUntilTagNamePopped($.TEMPLATE);\n        p.activeFormattingElements.clearToLastMarker();\n        p.tmplInsertionModeStack.shift();\n        p._resetInsertionMode();\n        p.onEof(token);\n    }\n    else {\n        stopParsing(p, token);\n    }\n}\n// The \"after body\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterBody(p, token) {\n    if (token.tagID === $.HTML) {\n        startTagInBody(p, token);\n    }\n    else {\n        tokenAfterBody(p, token);\n    }\n}\nfunction endTagAfterBody(p, token) {\n    var _a;\n    if (token.tagID === $.HTML) {\n        if (!p.fragmentContext) {\n            p.insertionMode = InsertionMode.AFTER_AFTER_BODY;\n        }\n        //NOTE: <html> is never popped from the stack, so we need to updated\n        //the end location explicitly.\n        if (p.options.sourceCodeLocationInfo && p.openElements.tagIDs[0] === $.HTML) {\n            p._setEndLocation(p.openElements.items[0], token);\n            // Update the body element, if it doesn't have an end tag\n            const bodyElement = p.openElements.items[1];\n            if (bodyElement && !((_a = p.treeAdapter.getNodeSourceCodeLocation(bodyElement)) === null || _a === void 0 ? void 0 : _a.endTag)) {\n                p._setEndLocation(bodyElement, token);\n            }\n        }\n    }\n    else {\n        tokenAfterBody(p, token);\n    }\n}\nfunction tokenAfterBody(p, token) {\n    p.insertionMode = InsertionMode.IN_BODY;\n    modeInBody(p, token);\n}\n// The \"in frameset\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInFrameset(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.FRAMESET: {\n            p._insertElement(token, NS.HTML);\n            break;\n        }\n        case $.FRAME: {\n            p._appendElement(token, NS.HTML);\n            token.ackSelfClosing = true;\n            break;\n        }\n        case $.NOFRAMES: {\n            startTagInHead(p, token);\n            break;\n        }\n        default:\n        // Do nothing\n    }\n}\nfunction endTagInFrameset(p, token) {\n    if (token.tagID === $.FRAMESET && !p.openElements.isRootHtmlElementCurrent()) {\n        p.openElements.pop();\n        if (!p.fragmentContext && p.openElements.currentTagId !== $.FRAMESET) {\n            p.insertionMode = InsertionMode.AFTER_FRAMESET;\n        }\n    }\n}\n// The \"after frameset\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterFrameset(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.NOFRAMES: {\n            startTagInHead(p, token);\n            break;\n        }\n        default:\n        // Do nothing\n    }\n}\nfunction endTagAfterFrameset(p, token) {\n    if (token.tagID === $.HTML) {\n        p.insertionMode = InsertionMode.AFTER_AFTER_FRAMESET;\n    }\n}\n// The \"after after body\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterAfterBody(p, token) {\n    if (token.tagID === $.HTML) {\n        startTagInBody(p, token);\n    }\n    else {\n        tokenAfterAfterBody(p, token);\n    }\n}\nfunction tokenAfterAfterBody(p, token) {\n    p.insertionMode = InsertionMode.IN_BODY;\n    modeInBody(p, token);\n}\n// The \"after after frameset\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterAfterFrameset(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.NOFRAMES: {\n            startTagInHead(p, token);\n            break;\n        }\n        default:\n        // Do nothing\n    }\n}\n// The rules for parsing tokens in foreign content\n//------------------------------------------------------------------\nfunction nullCharacterInForeignContent(p, token) {\n    token.chars = unicode.REPLACEMENT_CHARACTER;\n    p._insertCharacters(token);\n}\nfunction characterInForeignContent(p, token) {\n    p._insertCharacters(token);\n    p.framesetOk = false;\n}\nfunction popUntilHtmlOrIntegrationPoint(p) {\n    while (p.treeAdapter.getNamespaceURI(p.openElements.current) !== NS.HTML &&\n        !p._isIntegrationPoint(p.openElements.currentTagId, p.openElements.current)) {\n        p.openElements.pop();\n    }\n}\nfunction startTagInForeignContent(p, token) {\n    if (foreignContent.causesExit(token)) {\n        popUntilHtmlOrIntegrationPoint(p);\n        p._startTagOutsideForeignContent(token);\n    }\n    else {\n        const current = p._getAdjustedCurrentElement();\n        const currentNs = p.treeAdapter.getNamespaceURI(current);\n        if (currentNs === NS.MATHML) {\n            foreignContent.adjustTokenMathMLAttrs(token);\n        }\n        else if (currentNs === NS.SVG) {\n            foreignContent.adjustTokenSVGTagName(token);\n            foreignContent.adjustTokenSVGAttrs(token);\n        }\n        foreignContent.adjustTokenXMLAttrs(token);\n        if (token.selfClosing) {\n            p._appendElement(token, currentNs);\n        }\n        else {\n            p._insertElement(token, currentNs);\n        }\n        token.ackSelfClosing = true;\n    }\n}\nfunction endTagInForeignContent(p, token) {\n    if (token.tagID === $.P || token.tagID === $.BR) {\n        popUntilHtmlOrIntegrationPoint(p);\n        p._endTagOutsideForeignContent(token);\n        return;\n    }\n    for (let i = p.openElements.stackTop; i > 0; i--) {\n        const element = p.openElements.items[i];\n        if (p.treeAdapter.getNamespaceURI(element) === NS.HTML) {\n            p._endTagOutsideForeignContent(token);\n            break;\n        }\n        const tagName = p.treeAdapter.getTagName(element);\n        if (tagName.toLowerCase() === token.tagName) {\n            //NOTE: update the token tag name for `_setEndLocation`.\n            token.tagName = tagName;\n            p.openElements.shortenToLength(i);\n            break;\n        }\n    }\n}\n//# sourceMappingURL=index.js.map","import { EntityDecoder, DecodingMode, htmlDecodeTree, xmlDecodeTree, } from \"entities/lib/decode.js\";\nvar CharCodes;\n(function (CharCodes) {\n    CharCodes[CharCodes[\"Tab\"] = 9] = \"Tab\";\n    CharCodes[CharCodes[\"NewLine\"] = 10] = \"NewLine\";\n    CharCodes[CharCodes[\"FormFeed\"] = 12] = \"FormFeed\";\n    CharCodes[CharCodes[\"CarriageReturn\"] = 13] = \"CarriageReturn\";\n    CharCodes[CharCodes[\"Space\"] = 32] = \"Space\";\n    CharCodes[CharCodes[\"ExclamationMark\"] = 33] = \"ExclamationMark\";\n    CharCodes[CharCodes[\"Number\"] = 35] = \"Number\";\n    CharCodes[CharCodes[\"Amp\"] = 38] = \"Amp\";\n    CharCodes[CharCodes[\"SingleQuote\"] = 39] = \"SingleQuote\";\n    CharCodes[CharCodes[\"DoubleQuote\"] = 34] = \"DoubleQuote\";\n    CharCodes[CharCodes[\"Dash\"] = 45] = \"Dash\";\n    CharCodes[CharCodes[\"Slash\"] = 47] = \"Slash\";\n    CharCodes[CharCodes[\"Zero\"] = 48] = \"Zero\";\n    CharCodes[CharCodes[\"Nine\"] = 57] = \"Nine\";\n    CharCodes[CharCodes[\"Semi\"] = 59] = \"Semi\";\n    CharCodes[CharCodes[\"Lt\"] = 60] = \"Lt\";\n    CharCodes[CharCodes[\"Eq\"] = 61] = \"Eq\";\n    CharCodes[CharCodes[\"Gt\"] = 62] = \"Gt\";\n    CharCodes[CharCodes[\"Questionmark\"] = 63] = \"Questionmark\";\n    CharCodes[CharCodes[\"UpperA\"] = 65] = \"UpperA\";\n    CharCodes[CharCodes[\"LowerA\"] = 97] = \"LowerA\";\n    CharCodes[CharCodes[\"UpperF\"] = 70] = \"UpperF\";\n    CharCodes[CharCodes[\"LowerF\"] = 102] = \"LowerF\";\n    CharCodes[CharCodes[\"UpperZ\"] = 90] = \"UpperZ\";\n    CharCodes[CharCodes[\"LowerZ\"] = 122] = \"LowerZ\";\n    CharCodes[CharCodes[\"LowerX\"] = 120] = \"LowerX\";\n    CharCodes[CharCodes[\"OpeningSquareBracket\"] = 91] = \"OpeningSquareBracket\";\n})(CharCodes || (CharCodes = {}));\n/** All the states the tokenizer can be in. */\nvar State;\n(function (State) {\n    State[State[\"Text\"] = 1] = \"Text\";\n    State[State[\"BeforeTagName\"] = 2] = \"BeforeTagName\";\n    State[State[\"InTagName\"] = 3] = \"InTagName\";\n    State[State[\"InSelfClosingTag\"] = 4] = \"InSelfClosingTag\";\n    State[State[\"BeforeClosingTagName\"] = 5] = \"BeforeClosingTagName\";\n    State[State[\"InClosingTagName\"] = 6] = \"InClosingTagName\";\n    State[State[\"AfterClosingTagName\"] = 7] = \"AfterClosingTagName\";\n    // Attributes\n    State[State[\"BeforeAttributeName\"] = 8] = \"BeforeAttributeName\";\n    State[State[\"InAttributeName\"] = 9] = \"InAttributeName\";\n    State[State[\"AfterAttributeName\"] = 10] = \"AfterAttributeName\";\n    State[State[\"BeforeAttributeValue\"] = 11] = \"BeforeAttributeValue\";\n    State[State[\"InAttributeValueDq\"] = 12] = \"InAttributeValueDq\";\n    State[State[\"InAttributeValueSq\"] = 13] = \"InAttributeValueSq\";\n    State[State[\"InAttributeValueNq\"] = 14] = \"InAttributeValueNq\";\n    // Declarations\n    State[State[\"BeforeDeclaration\"] = 15] = \"BeforeDeclaration\";\n    State[State[\"InDeclaration\"] = 16] = \"InDeclaration\";\n    // Processing instructions\n    State[State[\"InProcessingInstruction\"] = 17] = \"InProcessingInstruction\";\n    // Comments & CDATA\n    State[State[\"BeforeComment\"] = 18] = \"BeforeComment\";\n    State[State[\"CDATASequence\"] = 19] = \"CDATASequence\";\n    State[State[\"InSpecialComment\"] = 20] = \"InSpecialComment\";\n    State[State[\"InCommentLike\"] = 21] = \"InCommentLike\";\n    // Special tags\n    State[State[\"BeforeSpecialS\"] = 22] = \"BeforeSpecialS\";\n    State[State[\"BeforeSpecialT\"] = 23] = \"BeforeSpecialT\";\n    State[State[\"SpecialStartSequence\"] = 24] = \"SpecialStartSequence\";\n    State[State[\"InSpecialTag\"] = 25] = \"InSpecialTag\";\n    State[State[\"InEntity\"] = 26] = \"InEntity\";\n})(State || (State = {}));\nfunction isWhitespace(c) {\n    return (c === CharCodes.Space ||\n        c === CharCodes.NewLine ||\n        c === CharCodes.Tab ||\n        c === CharCodes.FormFeed ||\n        c === CharCodes.CarriageReturn);\n}\nfunction isEndOfTagSection(c) {\n    return c === CharCodes.Slash || c === CharCodes.Gt || isWhitespace(c);\n}\nfunction isASCIIAlpha(c) {\n    return ((c >= CharCodes.LowerA && c <= CharCodes.LowerZ) ||\n        (c >= CharCodes.UpperA && c <= CharCodes.UpperZ));\n}\nexport var QuoteType;\n(function (QuoteType) {\n    QuoteType[QuoteType[\"NoValue\"] = 0] = \"NoValue\";\n    QuoteType[QuoteType[\"Unquoted\"] = 1] = \"Unquoted\";\n    QuoteType[QuoteType[\"Single\"] = 2] = \"Single\";\n    QuoteType[QuoteType[\"Double\"] = 3] = \"Double\";\n})(QuoteType || (QuoteType = {}));\n/**\n * Sequences used to match longer strings.\n *\n * We don't have `Script`, `Style`, or `Title` here. Instead, we re-use the *End\n * sequences with an increased offset.\n */\nconst Sequences = {\n    Cdata: new Uint8Array([0x43, 0x44, 0x41, 0x54, 0x41, 0x5b]), // CDATA[\n    CdataEnd: new Uint8Array([0x5d, 0x5d, 0x3e]), // ]]>\n    CommentEnd: new Uint8Array([0x2d, 0x2d, 0x3e]), // `-->`\n    ScriptEnd: new Uint8Array([0x3c, 0x2f, 0x73, 0x63, 0x72, 0x69, 0x70, 0x74]), // `</script`\n    StyleEnd: new Uint8Array([0x3c, 0x2f, 0x73, 0x74, 0x79, 0x6c, 0x65]), // `</style`\n    TitleEnd: new Uint8Array([0x3c, 0x2f, 0x74, 0x69, 0x74, 0x6c, 0x65]), // `</title`\n    TextareaEnd: new Uint8Array([\n        0x3c, 0x2f, 0x74, 0x65, 0x78, 0x74, 0x61, 0x72, 0x65, 0x61,\n    ]), // `</textarea`\n};\nexport default class Tokenizer {\n    constructor({ xmlMode = false, decodeEntities = true, }, cbs) {\n        this.cbs = cbs;\n        /** The current state the tokenizer is in. */\n        this.state = State.Text;\n        /** The read buffer. */\n        this.buffer = \"\";\n        /** The beginning of the section that is currently being read. */\n        this.sectionStart = 0;\n        /** The index within the buffer that we are currently looking at. */\n        this.index = 0;\n        /** The start of the last entity. */\n        this.entityStart = 0;\n        /** Some behavior, eg. when decoding entities, is done while we are in another state. This keeps track of the other state type. */\n        this.baseState = State.Text;\n        /** For special parsing behavior inside of script and style tags. */\n        this.isSpecial = false;\n        /** Indicates whether the tokenizer has been paused. */\n        this.running = true;\n        /** The offset of the current buffer. */\n        this.offset = 0;\n        this.currentSequence = undefined;\n        this.sequenceIndex = 0;\n        this.xmlMode = xmlMode;\n        this.decodeEntities = decodeEntities;\n        this.entityDecoder = new EntityDecoder(xmlMode ? xmlDecodeTree : htmlDecodeTree, (cp, consumed) => this.emitCodePoint(cp, consumed));\n    }\n    reset() {\n        this.state = State.Text;\n        this.buffer = \"\";\n        this.sectionStart = 0;\n        this.index = 0;\n        this.baseState = State.Text;\n        this.currentSequence = undefined;\n        this.running = true;\n        this.offset = 0;\n    }\n    write(chunk) {\n        this.offset += this.buffer.length;\n        this.buffer = chunk;\n        this.parse();\n    }\n    end() {\n        if (this.running)\n            this.finish();\n    }\n    pause() {\n        this.running = false;\n    }\n    resume() {\n        this.running = true;\n        if (this.index < this.buffer.length + this.offset) {\n            this.parse();\n        }\n    }\n    stateText(c) {\n        if (c === CharCodes.Lt ||\n            (!this.decodeEntities && this.fastForwardTo(CharCodes.Lt))) {\n            if (this.index > this.sectionStart) {\n                this.cbs.ontext(this.sectionStart, this.index);\n            }\n            this.state = State.BeforeTagName;\n            this.sectionStart = this.index;\n        }\n        else if (this.decodeEntities && c === CharCodes.Amp) {\n            this.startEntity();\n        }\n    }\n    stateSpecialStartSequence(c) {\n        const isEnd = this.sequenceIndex === this.currentSequence.length;\n        const isMatch = isEnd\n            ? // If we are at the end of the sequence, make sure the tag name has ended\n                isEndOfTagSection(c)\n            : // Otherwise, do a case-insensitive comparison\n                (c | 0x20) === this.currentSequence[this.sequenceIndex];\n        if (!isMatch) {\n            this.isSpecial = false;\n        }\n        else if (!isEnd) {\n            this.sequenceIndex++;\n            return;\n        }\n        this.sequenceIndex = 0;\n        this.state = State.InTagName;\n        this.stateInTagName(c);\n    }\n    /** Look for an end tag. For <title> tags, also decode entities. */\n    stateInSpecialTag(c) {\n        if (this.sequenceIndex === this.currentSequence.length) {\n            if (c === CharCodes.Gt || isWhitespace(c)) {\n                const endOfText = this.index - this.currentSequence.length;\n                if (this.sectionStart < endOfText) {\n                    // Spoof the index so that reported locations match up.\n                    const actualIndex = this.index;\n                    this.index = endOfText;\n                    this.cbs.ontext(this.sectionStart, endOfText);\n                    this.index = actualIndex;\n                }\n                this.isSpecial = false;\n                this.sectionStart = endOfText + 2; // Skip over the `</`\n                this.stateInClosingTagName(c);\n                return; // We are done; skip the rest of the function.\n            }\n            this.sequenceIndex = 0;\n        }\n        if ((c | 0x20) === this.currentSequence[this.sequenceIndex]) {\n            this.sequenceIndex += 1;\n        }\n        else if (this.sequenceIndex === 0) {\n            if (this.currentSequence === Sequences.TitleEnd) {\n                // We have to parse entities in <title> tags.\n                if (this.decodeEntities && c === CharCodes.Amp) {\n                    this.startEntity();\n                }\n            }\n            else if (this.fastForwardTo(CharCodes.Lt)) {\n                // Outside of <title> tags, we can fast-forward.\n                this.sequenceIndex = 1;\n            }\n        }\n        else {\n            // If we see a `<`, set the sequence index to 1; useful for eg. `<</script>`.\n            this.sequenceIndex = Number(c === CharCodes.Lt);\n        }\n    }\n    stateCDATASequence(c) {\n        if (c === Sequences.Cdata[this.sequenceIndex]) {\n            if (++this.sequenceIndex === Sequences.Cdata.length) {\n                this.state = State.InCommentLike;\n                this.currentSequence = Sequences.CdataEnd;\n                this.sequenceIndex = 0;\n                this.sectionStart = this.index + 1;\n            }\n        }\n        else {\n            this.sequenceIndex = 0;\n            this.state = State.InDeclaration;\n            this.stateInDeclaration(c); // Reconsume the character\n        }\n    }\n    /**\n     * When we wait for one specific character, we can speed things up\n     * by skipping through the buffer until we find it.\n     *\n     * @returns Whether the character was found.\n     */\n    fastForwardTo(c) {\n        while (++this.index < this.buffer.length + this.offset) {\n            if (this.buffer.charCodeAt(this.index - this.offset) === c) {\n                return true;\n            }\n        }\n        /*\n         * We increment the index at the end of the `parse` loop,\n         * so set it to `buffer.length - 1` here.\n         *\n         * TODO: Refactor `parse` to increment index before calling states.\n         */\n        this.index = this.buffer.length + this.offset - 1;\n        return false;\n    }\n    /**\n     * Comments and CDATA end with `-->` and `]]>`.\n     *\n     * Their common qualities are:\n     * - Their end sequences have a distinct character they start with.\n     * - That character is then repeated, so we have to check multiple repeats.\n     * - All characters but the start character of the sequence can be skipped.\n     */\n    stateInCommentLike(c) {\n        if (c === this.currentSequence[this.sequenceIndex]) {\n            if (++this.sequenceIndex === this.currentSequence.length) {\n                if (this.currentSequence === Sequences.CdataEnd) {\n                    this.cbs.oncdata(this.sectionStart, this.index, 2);\n                }\n                else {\n                    this.cbs.oncomment(this.sectionStart, this.index, 2);\n                }\n                this.sequenceIndex = 0;\n                this.sectionStart = this.index + 1;\n                this.state = State.Text;\n            }\n        }\n        else if (this.sequenceIndex === 0) {\n            // Fast-forward to the first character of the sequence\n            if (this.fastForwardTo(this.currentSequence[0])) {\n                this.sequenceIndex = 1;\n            }\n        }\n        else if (c !== this.currentSequence[this.sequenceIndex - 1]) {\n            // Allow long sequences, eg. --->, ]]]>\n            this.sequenceIndex = 0;\n        }\n    }\n    /**\n     * HTML only allows ASCII alpha characters (a-z and A-Z) at the beginning of a tag name.\n     *\n     * XML allows a lot more characters here (@see https://www.w3.org/TR/REC-xml/#NT-NameStartChar).\n     * We allow anything that wouldn't end the tag.\n     */\n    isTagStartChar(c) {\n        return this.xmlMode ? !isEndOfTagSection(c) : isASCIIAlpha(c);\n    }\n    startSpecial(sequence, offset) {\n        this.isSpecial = true;\n        this.currentSequence = sequence;\n        this.sequenceIndex = offset;\n        this.state = State.SpecialStartSequence;\n    }\n    stateBeforeTagName(c) {\n        if (c === CharCodes.ExclamationMark) {\n            this.state = State.BeforeDeclaration;\n            this.sectionStart = this.index + 1;\n        }\n        else if (c === CharCodes.Questionmark) {\n            this.state = State.InProcessingInstruction;\n            this.sectionStart = this.index + 1;\n        }\n        else if (this.isTagStartChar(c)) {\n            const lower = c | 0x20;\n            this.sectionStart = this.index;\n            if (this.xmlMode) {\n                this.state = State.InTagName;\n            }\n            else if (lower === Sequences.ScriptEnd[2]) {\n                this.state = State.BeforeSpecialS;\n            }\n            else if (lower === Sequences.TitleEnd[2]) {\n                this.state = State.BeforeSpecialT;\n            }\n            else {\n                this.state = State.InTagName;\n            }\n        }\n        else if (c === CharCodes.Slash) {\n            this.state = State.BeforeClosingTagName;\n        }\n        else {\n            this.state = State.Text;\n            this.stateText(c);\n        }\n    }\n    stateInTagName(c) {\n        if (isEndOfTagSection(c)) {\n            this.cbs.onopentagname(this.sectionStart, this.index);\n            this.sectionStart = -1;\n            this.state = State.BeforeAttributeName;\n            this.stateBeforeAttributeName(c);\n        }\n    }\n    stateBeforeClosingTagName(c) {\n        if (isWhitespace(c)) {\n            // Ignore\n        }\n        else if (c === CharCodes.Gt) {\n            this.state = State.Text;\n        }\n        else {\n            this.state = this.isTagStartChar(c)\n                ? State.InClosingTagName\n                : State.InSpecialComment;\n            this.sectionStart = this.index;\n        }\n    }\n    stateInClosingTagName(c) {\n        if (c === CharCodes.Gt || isWhitespace(c)) {\n            this.cbs.onclosetag(this.sectionStart, this.index);\n            this.sectionStart = -1;\n            this.state = State.AfterClosingTagName;\n            this.stateAfterClosingTagName(c);\n        }\n    }\n    stateAfterClosingTagName(c) {\n        // Skip everything until \">\"\n        if (c === CharCodes.Gt || this.fastForwardTo(CharCodes.Gt)) {\n            this.state = State.Text;\n            this.sectionStart = this.index + 1;\n        }\n    }\n    stateBeforeAttributeName(c) {\n        if (c === CharCodes.Gt) {\n            this.cbs.onopentagend(this.index);\n            if (this.isSpecial) {\n                this.state = State.InSpecialTag;\n                this.sequenceIndex = 0;\n            }\n            else {\n                this.state = State.Text;\n            }\n            this.sectionStart = this.index + 1;\n        }\n        else if (c === CharCodes.Slash) {\n            this.state = State.InSelfClosingTag;\n        }\n        else if (!isWhitespace(c)) {\n            this.state = State.InAttributeName;\n            this.sectionStart = this.index;\n        }\n    }\n    stateInSelfClosingTag(c) {\n        if (c === CharCodes.Gt) {\n            this.cbs.onselfclosingtag(this.index);\n            this.state = State.Text;\n            this.sectionStart = this.index + 1;\n            this.isSpecial = false; // Reset special state, in case of self-closing special tags\n        }\n        else if (!isWhitespace(c)) {\n            this.state = State.BeforeAttributeName;\n            this.stateBeforeAttributeName(c);\n        }\n    }\n    stateInAttributeName(c) {\n        if (c === CharCodes.Eq || isEndOfTagSection(c)) {\n            this.cbs.onattribname(this.sectionStart, this.index);\n            this.sectionStart = this.index;\n            this.state = State.AfterAttributeName;\n            this.stateAfterAttributeName(c);\n        }\n    }\n    stateAfterAttributeName(c) {\n        if (c === CharCodes.Eq) {\n            this.state = State.BeforeAttributeValue;\n        }\n        else if (c === CharCodes.Slash || c === CharCodes.Gt) {\n            this.cbs.onattribend(QuoteType.NoValue, this.sectionStart);\n            this.sectionStart = -1;\n            this.state = State.BeforeAttributeName;\n            this.stateBeforeAttributeName(c);\n        }\n        else if (!isWhitespace(c)) {\n            this.cbs.onattribend(QuoteType.NoValue, this.sectionStart);\n            this.state = State.InAttributeName;\n            this.sectionStart = this.index;\n        }\n    }\n    stateBeforeAttributeValue(c) {\n        if (c === CharCodes.DoubleQuote) {\n            this.state = State.InAttributeValueDq;\n            this.sectionStart = this.index + 1;\n        }\n        else if (c === CharCodes.SingleQuote) {\n            this.state = State.InAttributeValueSq;\n            this.sectionStart = this.index + 1;\n        }\n        else if (!isWhitespace(c)) {\n            this.sectionStart = this.index;\n            this.state = State.InAttributeValueNq;\n            this.stateInAttributeValueNoQuotes(c); // Reconsume token\n        }\n    }\n    handleInAttributeValue(c, quote) {\n        if (c === quote ||\n            (!this.decodeEntities && this.fastForwardTo(quote))) {\n            this.cbs.onattribdata(this.sectionStart, this.index);\n            this.sectionStart = -1;\n            this.cbs.onattribend(quote === CharCodes.DoubleQuote\n                ? QuoteType.Double\n                : QuoteType.Single, this.index + 1);\n            this.state = State.BeforeAttributeName;\n        }\n        else if (this.decodeEntities && c === CharCodes.Amp) {\n            this.startEntity();\n        }\n    }\n    stateInAttributeValueDoubleQuotes(c) {\n        this.handleInAttributeValue(c, CharCodes.DoubleQuote);\n    }\n    stateInAttributeValueSingleQuotes(c) {\n        this.handleInAttributeValue(c, CharCodes.SingleQuote);\n    }\n    stateInAttributeValueNoQuotes(c) {\n        if (isWhitespace(c) || c === CharCodes.Gt) {\n            this.cbs.onattribdata(this.sectionStart, this.index);\n            this.sectionStart = -1;\n            this.cbs.onattribend(QuoteType.Unquoted, this.index);\n            this.state = State.BeforeAttributeName;\n            this.stateBeforeAttributeName(c);\n        }\n        else if (this.decodeEntities && c === CharCodes.Amp) {\n            this.startEntity();\n        }\n    }\n    stateBeforeDeclaration(c) {\n        if (c === CharCodes.OpeningSquareBracket) {\n            this.state = State.CDATASequence;\n            this.sequenceIndex = 0;\n        }\n        else {\n            this.state =\n                c === CharCodes.Dash\n                    ? State.BeforeComment\n                    : State.InDeclaration;\n        }\n    }\n    stateInDeclaration(c) {\n        if (c === CharCodes.Gt || this.fastForwardTo(CharCodes.Gt)) {\n            this.cbs.ondeclaration(this.sectionStart, this.index);\n            this.state = State.Text;\n            this.sectionStart = this.index + 1;\n        }\n    }\n    stateInProcessingInstruction(c) {\n        if (c === CharCodes.Gt || this.fastForwardTo(CharCodes.Gt)) {\n            this.cbs.onprocessinginstruction(this.sectionStart, this.index);\n            this.state = State.Text;\n            this.sectionStart = this.index + 1;\n        }\n    }\n    stateBeforeComment(c) {\n        if (c === CharCodes.Dash) {\n            this.state = State.InCommentLike;\n            this.currentSequence = Sequences.CommentEnd;\n            // Allow short comments (eg. <!-->)\n            this.sequenceIndex = 2;\n            this.sectionStart = this.index + 1;\n        }\n        else {\n            this.state = State.InDeclaration;\n        }\n    }\n    stateInSpecialComment(c) {\n        if (c === CharCodes.Gt || this.fastForwardTo(CharCodes.Gt)) {\n            this.cbs.oncomment(this.sectionStart, this.index, 0);\n            this.state = State.Text;\n            this.sectionStart = this.index + 1;\n        }\n    }\n    stateBeforeSpecialS(c) {\n        const lower = c | 0x20;\n        if (lower === Sequences.ScriptEnd[3]) {\n            this.startSpecial(Sequences.ScriptEnd, 4);\n        }\n        else if (lower === Sequences.StyleEnd[3]) {\n            this.startSpecial(Sequences.StyleEnd, 4);\n        }\n        else {\n            this.state = State.InTagName;\n            this.stateInTagName(c); // Consume the token again\n        }\n    }\n    stateBeforeSpecialT(c) {\n        const lower = c | 0x20;\n        if (lower === Sequences.TitleEnd[3]) {\n            this.startSpecial(Sequences.TitleEnd, 4);\n        }\n        else if (lower === Sequences.TextareaEnd[3]) {\n            this.startSpecial(Sequences.TextareaEnd, 4);\n        }\n        else {\n            this.state = State.InTagName;\n            this.stateInTagName(c); // Consume the token again\n        }\n    }\n    startEntity() {\n        this.baseState = this.state;\n        this.state = State.InEntity;\n        this.entityStart = this.index;\n        this.entityDecoder.startEntity(this.xmlMode\n            ? DecodingMode.Strict\n            : this.baseState === State.Text ||\n                this.baseState === State.InSpecialTag\n                ? DecodingMode.Legacy\n                : DecodingMode.Attribute);\n    }\n    stateInEntity() {\n        const length = this.entityDecoder.write(this.buffer, this.index - this.offset);\n        // If `length` is positive, we are done with the entity.\n        if (length >= 0) {\n            this.state = this.baseState;\n            if (length === 0) {\n                this.index = this.entityStart;\n            }\n        }\n        else {\n            // Mark buffer as consumed.\n            this.index = this.offset + this.buffer.length - 1;\n        }\n    }\n    /**\n     * Remove data that has already been consumed from the buffer.\n     */\n    cleanup() {\n        // If we are inside of text or attributes, emit what we already have.\n        if (this.running && this.sectionStart !== this.index) {\n            if (this.state === State.Text ||\n                (this.state === State.InSpecialTag && this.sequenceIndex === 0)) {\n                this.cbs.ontext(this.sectionStart, this.index);\n                this.sectionStart = this.index;\n            }\n            else if (this.state === State.InAttributeValueDq ||\n                this.state === State.InAttributeValueSq ||\n                this.state === State.InAttributeValueNq) {\n                this.cbs.onattribdata(this.sectionStart, this.index);\n                this.sectionStart = this.index;\n            }\n        }\n    }\n    shouldContinue() {\n        return this.index < this.buffer.length + this.offset && this.running;\n    }\n    /**\n     * Iterates through the buffer, calling the function corresponding to the current state.\n     *\n     * States that are more likely to be hit are higher up, as a performance improvement.\n     */\n    parse() {\n        while (this.shouldContinue()) {\n            const c = this.buffer.charCodeAt(this.index - this.offset);\n            switch (this.state) {\n                case State.Text: {\n                    this.stateText(c);\n                    break;\n                }\n                case State.SpecialStartSequence: {\n                    this.stateSpecialStartSequence(c);\n                    break;\n                }\n                case State.InSpecialTag: {\n                    this.stateInSpecialTag(c);\n                    break;\n                }\n                case State.CDATASequence: {\n                    this.stateCDATASequence(c);\n                    break;\n                }\n                case State.InAttributeValueDq: {\n                    this.stateInAttributeValueDoubleQuotes(c);\n                    break;\n                }\n                case State.InAttributeName: {\n                    this.stateInAttributeName(c);\n                    break;\n                }\n                case State.InCommentLike: {\n                    this.stateInCommentLike(c);\n                    break;\n                }\n                case State.InSpecialComment: {\n                    this.stateInSpecialComment(c);\n                    break;\n                }\n                case State.BeforeAttributeName: {\n                    this.stateBeforeAttributeName(c);\n                    break;\n                }\n                case State.InTagName: {\n                    this.stateInTagName(c);\n                    break;\n                }\n                case State.InClosingTagName: {\n                    this.stateInClosingTagName(c);\n                    break;\n                }\n                case State.BeforeTagName: {\n                    this.stateBeforeTagName(c);\n                    break;\n                }\n                case State.AfterAttributeName: {\n                    this.stateAfterAttributeName(c);\n                    break;\n                }\n                case State.InAttributeValueSq: {\n                    this.stateInAttributeValueSingleQuotes(c);\n                    break;\n                }\n                case State.BeforeAttributeValue: {\n                    this.stateBeforeAttributeValue(c);\n                    break;\n                }\n                case State.BeforeClosingTagName: {\n                    this.stateBeforeClosingTagName(c);\n                    break;\n                }\n                case State.AfterClosingTagName: {\n                    this.stateAfterClosingTagName(c);\n                    break;\n                }\n                case State.BeforeSpecialS: {\n                    this.stateBeforeSpecialS(c);\n                    break;\n                }\n                case State.BeforeSpecialT: {\n                    this.stateBeforeSpecialT(c);\n                    break;\n                }\n                case State.InAttributeValueNq: {\n                    this.stateInAttributeValueNoQuotes(c);\n                    break;\n                }\n                case State.InSelfClosingTag: {\n                    this.stateInSelfClosingTag(c);\n                    break;\n                }\n                case State.InDeclaration: {\n                    this.stateInDeclaration(c);\n                    break;\n                }\n                case State.BeforeDeclaration: {\n                    this.stateBeforeDeclaration(c);\n                    break;\n                }\n                case State.BeforeComment: {\n                    this.stateBeforeComment(c);\n                    break;\n                }\n                case State.InProcessingInstruction: {\n                    this.stateInProcessingInstruction(c);\n                    break;\n                }\n                case State.InEntity: {\n                    this.stateInEntity();\n                    break;\n                }\n            }\n            this.index++;\n        }\n        this.cleanup();\n    }\n    finish() {\n        if (this.state === State.InEntity) {\n            this.entityDecoder.end();\n            this.state = this.baseState;\n        }\n        this.handleTrailingData();\n        this.cbs.onend();\n    }\n    /** Handle any trailing data. */\n    handleTrailingData() {\n        const endIndex = this.buffer.length + this.offset;\n        // If there is no remaining data, we are done.\n        if (this.sectionStart >= endIndex) {\n            return;\n        }\n        if (this.state === State.InCommentLike) {\n            if (this.currentSequence === Sequences.CdataEnd) {\n                this.cbs.oncdata(this.sectionStart, endIndex, 0);\n            }\n            else {\n                this.cbs.oncomment(this.sectionStart, endIndex, 0);\n            }\n        }\n        else if (this.state === State.InTagName ||\n            this.state === State.BeforeAttributeName ||\n            this.state === State.BeforeAttributeValue ||\n            this.state === State.AfterAttributeName ||\n            this.state === State.InAttributeName ||\n            this.state === State.InAttributeValueSq ||\n            this.state === State.InAttributeValueDq ||\n            this.state === State.InAttributeValueNq ||\n            this.state === State.InClosingTagName) {\n            /*\n             * If we are currently in an opening or closing tag, us not calling the\n             * respective callback signals that the tag should be ignored.\n             */\n        }\n        else {\n            this.cbs.ontext(this.sectionStart, endIndex);\n        }\n    }\n    emitCodePoint(cp, consumed) {\n        if (this.baseState !== State.Text &&\n            this.baseState !== State.InSpecialTag) {\n            if (this.sectionStart < this.entityStart) {\n                this.cbs.onattribdata(this.sectionStart, this.entityStart);\n            }\n            this.sectionStart = this.entityStart + consumed;\n            this.index = this.sectionStart - 1;\n            this.cbs.onattribentity(cp);\n        }\n        else {\n            if (this.sectionStart < this.entityStart) {\n                this.cbs.ontext(this.sectionStart, this.entityStart);\n            }\n            this.sectionStart = this.entityStart + consumed;\n            this.index = this.sectionStart - 1;\n            this.cbs.ontextentity(cp, this.sectionStart);\n        }\n    }\n}\n//# sourceMappingURL=Tokenizer.js.map","import { removeElement } from 'domutils';\nimport { Document, isDocument as checkIsDocument, } from 'domhandler';\n/**\n * Get the parse function with options.\n *\n * @param parser - The parser function.\n * @returns The parse function with options.\n */\nexport function getParse(parser) {\n    /**\n     * Parse a HTML string or a node.\n     *\n     * @param content - The HTML string or node.\n     * @param options - The parser options.\n     * @param isDocument - If `content` is a document.\n     * @param context - The context node in the DOM tree.\n     * @returns The parsed document node.\n     */\n    return function parse(content, options, isDocument, context) {\n        if (typeof Buffer !== 'undefined' && Buffer.isBuffer(content)) {\n            content = content.toString();\n        }\n        if (typeof content === 'string') {\n            return parser(content, options, isDocument, context);\n        }\n        const doc = content;\n        if (!Array.isArray(doc) && checkIsDocument(doc)) {\n            // If `doc` is already a root, just return it\n            return doc;\n        }\n        // Add conent to new root element\n        const root = new Document([]);\n        // Update the DOM using the root\n        update(doc, root);\n        return root;\n    };\n}\n/**\n * Update the dom structure, for one changed layer.\n *\n * @param newChilds - The new children.\n * @param parent - The new parent.\n * @returns The parent node.\n */\nexport function update(newChilds, parent) {\n    // Normalize\n    const arr = Array.isArray(newChilds) ? newChilds : [newChilds];\n    // Update parent\n    if (parent) {\n        parent.children = arr;\n    }\n    else {\n        parent = null;\n    }\n    // Update neighbors\n    for (let i = 0; i < arr.length; i++) {\n        const node = arr[i];\n        // Cleanly remove existing nodes from their previous structures.\n        if (node.parent && node.parent.children !== arr) {\n            removeElement(node);\n        }\n        if (parent) {\n            node.prev = arr[i - 1] || null;\n            node.next = arr[i + 1] || null;\n        }\n        else {\n            node.prev = node.next = null;\n        }\n        node.parent = parent;\n    }\n    return parent;\n}\n//# sourceMappingURL=parse.js.map","import { flattenOptions, } from './options.js';\nimport * as staticMethods from './static.js';\nimport { Cheerio } from './cheerio.js';\nimport { isHtml, isCheerio } from './utils.js';\nexport function getLoad(parse, render) {\n    /**\n     * Create a querying function, bound to a document created from the provided\n     * markup.\n     *\n     * Note that similar to web browser contexts, this operation may introduce\n     * `<html>`, `<head>`, and `<body>` elements; set `isDocument` to `false` to\n     * switch to fragment mode and disable this.\n     *\n     * @param content - Markup to be loaded.\n     * @param options - Options for the created instance.\n     * @param isDocument - Allows parser to be switched to fragment mode.\n     * @returns The loaded document.\n     * @see {@link https://cheerio.js.org#loading} for additional usage information.\n     */\n    return function load(content, options, isDocument = true) {\n        if (content == null) {\n            throw new Error('cheerio.load() expects a string');\n        }\n        const internalOpts = flattenOptions(options);\n        const initialRoot = parse(content, internalOpts, isDocument, null);\n        /**\n         * Create an extended class here, so that extensions only live on one\n         * instance.\n         */\n        class LoadedCheerio extends Cheerio {\n            _make(selector, context) {\n                const cheerio = initialize(selector, context);\n                cheerio.prevObject = this;\n                return cheerio;\n            }\n            _parse(content, options, isDocument, context) {\n                return parse(content, options, isDocument, context);\n            }\n            _render(dom) {\n                return render(dom, this.options);\n            }\n        }\n        function initialize(selector, context, root = initialRoot, opts) {\n            // $($)\n            if (selector && isCheerio(selector))\n                return selector;\n            const options = flattenOptions(opts, internalOpts);\n            const r = typeof root === 'string'\n                ? [parse(root, options, false, null)]\n                : 'length' in root\n                    ? root\n                    : [root];\n            const rootInstance = isCheerio(r)\n                ? r\n                : new LoadedCheerio(r, null, options);\n            // Add a cyclic reference, so that calling methods on `_root` never fails.\n            rootInstance._root = rootInstance;\n            // $(), $(null), $(undefined), $(false)\n            if (!selector) {\n                return new LoadedCheerio(undefined, rootInstance, options);\n            }\n            const elements = typeof selector === 'string' && isHtml(selector)\n                ? // $(<html>)\n                    parse(selector, options, false, null).children\n                : isNode(selector)\n                    ? // $(dom)\n                        [selector]\n                    : Array.isArray(selector)\n                        ? // $([dom])\n                            selector\n                        : undefined;\n            const instance = new LoadedCheerio(elements, rootInstance, options);\n            if (elements) {\n                return instance;\n            }\n            if (typeof selector !== 'string') {\n                throw new TypeError('Unexpected type of selector');\n            }\n            // We know that our selector is a string now.\n            let search = selector;\n            const searchContext = context\n                ? // If we don't have a context, maybe we have a root, from loading\n                    typeof context === 'string'\n                        ? isHtml(context)\n                            ? // $('li', '<ul>...</ul>')\n                                new LoadedCheerio([parse(context, options, false, null)], rootInstance, options)\n                            : // $('li', 'ul')\n                                ((search = `${context} ${search}`), rootInstance)\n                        : isCheerio(context)\n                            ? // $('li', $)\n                                context\n                            : // $('li', node), $('li', [nodes])\n                                new LoadedCheerio(Array.isArray(context) ? context : [context], rootInstance, options)\n                : rootInstance;\n            // If we still don't have a context, return\n            if (!searchContext)\n                return instance;\n            /*\n             * #id, .class, tag\n             */\n            return searchContext.find(search);\n        }\n        // Add in static methods & properties\n        Object.assign(initialize, staticMethods, {\n            load,\n            // `_root` and `_options` are used in static methods.\n            _root: initialRoot,\n            _options: internalOpts,\n            // Add `fn` for plugins\n            fn: LoadedCheerio.prototype,\n            // Add the prototype here to maintain `instanceof` behavior.\n            prototype: LoadedCheerio.prototype,\n        });\n        return initialize;\n    };\n}\nfunction isNode(obj) {\n    return (!!obj.name ||\n        obj.type === 'root' ||\n        obj.type === 'text' ||\n        obj.type === 'comment');\n}\n//# sourceMappingURL=load.js.map","import { labelToName } from \"whatwg-encoding\";\n// https://html.spec.whatwg.org/multipage/syntax.html#prescan-a-byte-stream-to-determine-its-encoding\nvar State;\n(function (State) {\n    // Before anything starts; can be any of BOM, UTF-16 XML declarations or meta tags\n    State[State[\"Begin\"] = 0] = \"Begin\";\n    // Inside of a BOM\n    State[State[\"BOM16BE\"] = 1] = \"BOM16BE\";\n    State[State[\"BOM16LE\"] = 2] = \"BOM16LE\";\n    State[State[\"BOM8\"] = 3] = \"BOM8\";\n    // XML prefix\n    State[State[\"UTF16LE_XML_PREFIX\"] = 4] = \"UTF16LE_XML_PREFIX\";\n    State[State[\"BeginLT\"] = 5] = \"BeginLT\";\n    State[State[\"UTF16BE_XML_PREFIX\"] = 6] = \"UTF16BE_XML_PREFIX\";\n    // Waiting for opening `<`\n    State[State[\"BeforeTag\"] = 7] = \"BeforeTag\";\n    // After the opening `<`\n    State[State[\"BeforeTagName\"] = 8] = \"BeforeTagName\";\n    // After `</`\n    State[State[\"BeforeCloseTagName\"] = 9] = \"BeforeCloseTagName\";\n    // Beginning of a comment\n    State[State[\"CommentStart\"] = 10] = \"CommentStart\";\n    // End of a comment\n    State[State[\"CommentEnd\"] = 11] = \"CommentEnd\";\n    // A tag name that could be `meta`\n    State[State[\"TagNameMeta\"] = 12] = \"TagNameMeta\";\n    // A tag name that is not `meta`\n    State[State[\"TagNameOther\"] = 13] = \"TagNameOther\";\n    // XML declaration\n    State[State[\"XMLDeclaration\"] = 14] = \"XMLDeclaration\";\n    State[State[\"XMLDeclarationBeforeEncoding\"] = 15] = \"XMLDeclarationBeforeEncoding\";\n    State[State[\"XMLDeclarationAfterEncoding\"] = 16] = \"XMLDeclarationAfterEncoding\";\n    State[State[\"XMLDeclarationBeforeValue\"] = 17] = \"XMLDeclarationBeforeValue\";\n    State[State[\"XMLDeclarationValue\"] = 18] = \"XMLDeclarationValue\";\n    // Anything that looks like a tag, but doesn't fit in the above categories\n    State[State[\"WeirdTag\"] = 19] = \"WeirdTag\";\n    State[State[\"BeforeAttribute\"] = 20] = \"BeforeAttribute\";\n    /*\n     * Attributes in meta tag  we compare them to our set here, and back out\n     * We care about four attributes: http-equiv, content-type, content, charset\n     */\n    State[State[\"MetaAttribHttpEquiv\"] = 21] = \"MetaAttribHttpEquiv\";\n    // The value has to be `content-type`\n    State[State[\"MetaAttribHttpEquivValue\"] = 22] = \"MetaAttribHttpEquivValue\";\n    State[State[\"MetaAttribC\"] = 23] = \"MetaAttribC\";\n    State[State[\"MetaAttribContent\"] = 24] = \"MetaAttribContent\";\n    State[State[\"MetaAttribCharset\"] = 25] = \"MetaAttribCharset\";\n    // Waiting for whitespace\n    State[State[\"MetaAttribAfterName\"] = 26] = \"MetaAttribAfterName\";\n    State[State[\"MetaContentValueQuotedBeforeEncoding\"] = 27] = \"MetaContentValueQuotedBeforeEncoding\";\n    State[State[\"MetaContentValueQuotedAfterEncoding\"] = 28] = \"MetaContentValueQuotedAfterEncoding\";\n    State[State[\"MetaContentValueQuotedBeforeValue\"] = 29] = \"MetaContentValueQuotedBeforeValue\";\n    State[State[\"MetaContentValueQuotedValueQuoted\"] = 30] = \"MetaContentValueQuotedValueQuoted\";\n    State[State[\"MetaContentValueQuotedValueUnquoted\"] = 31] = \"MetaContentValueQuotedValueUnquoted\";\n    State[State[\"MetaContentValueUnquotedBeforeEncoding\"] = 32] = \"MetaContentValueUnquotedBeforeEncoding\";\n    State[State[\"MetaContentValueUnquotedBeforeValue\"] = 33] = \"MetaContentValueUnquotedBeforeValue\";\n    State[State[\"MetaContentValueUnquotedValueQuoted\"] = 34] = \"MetaContentValueUnquotedValueQuoted\";\n    State[State[\"MetaContentValueUnquotedValueUnquoted\"] = 35] = \"MetaContentValueUnquotedValueUnquoted\";\n    State[State[\"AnyAttribName\"] = 36] = \"AnyAttribName\";\n    // After the name of an attribute, before the equals sign\n    State[State[\"AfterAttributeName\"] = 37] = \"AfterAttributeName\";\n    // After `=`\n    State[State[\"BeforeAttributeValue\"] = 38] = \"BeforeAttributeValue\";\n    State[State[\"AttributeValueQuoted\"] = 39] = \"AttributeValueQuoted\";\n    State[State[\"AttributeValueUnquoted\"] = 40] = \"AttributeValueUnquoted\";\n})(State || (State = {}));\nexport var ResultType;\n(function (ResultType) {\n    // Byte order mark\n    ResultType[ResultType[\"BOM\"] = 0] = \"BOM\";\n    // User- or transport layer-defined\n    ResultType[ResultType[\"PASSED\"] = 1] = \"PASSED\";\n    // XML prefixes\n    ResultType[ResultType[\"XML_PREFIX\"] = 2] = \"XML_PREFIX\";\n    // Meta tag\n    ResultType[ResultType[\"META_TAG\"] = 3] = \"META_TAG\";\n    // XML encoding\n    ResultType[ResultType[\"XML_ENCODING\"] = 4] = \"XML_ENCODING\";\n    // Default\n    ResultType[ResultType[\"DEFAULT\"] = 5] = \"DEFAULT\";\n})(ResultType || (ResultType = {}));\nvar AttribType;\n(function (AttribType) {\n    AttribType[AttribType[\"None\"] = 0] = \"None\";\n    AttribType[AttribType[\"HttpEquiv\"] = 1] = \"HttpEquiv\";\n    AttribType[AttribType[\"Content\"] = 2] = \"Content\";\n    AttribType[AttribType[\"Charset\"] = 3] = \"Charset\";\n})(AttribType || (AttribType = {}));\nvar Chars;\n(function (Chars) {\n    Chars[Chars[\"NIL\"] = 0] = \"NIL\";\n    Chars[Chars[\"TAB\"] = 9] = \"TAB\";\n    Chars[Chars[\"LF\"] = 10] = \"LF\";\n    Chars[Chars[\"CR\"] = 13] = \"CR\";\n    Chars[Chars[\"SPACE\"] = 32] = \"SPACE\";\n    Chars[Chars[\"EXCLAMATION\"] = 33] = \"EXCLAMATION\";\n    Chars[Chars[\"DQUOTE\"] = 34] = \"DQUOTE\";\n    Chars[Chars[\"SQUOTE\"] = 39] = \"SQUOTE\";\n    Chars[Chars[\"DASH\"] = 45] = \"DASH\";\n    Chars[Chars[\"SLASH\"] = 47] = \"SLASH\";\n    Chars[Chars[\"SEMICOLON\"] = 59] = \"SEMICOLON\";\n    Chars[Chars[\"LT\"] = 60] = \"LT\";\n    Chars[Chars[\"EQUALS\"] = 61] = \"EQUALS\";\n    Chars[Chars[\"GT\"] = 62] = \"GT\";\n    Chars[Chars[\"QUESTION\"] = 63] = \"QUESTION\";\n    Chars[Chars[\"UpperA\"] = 65] = \"UpperA\";\n    Chars[Chars[\"UpperZ\"] = 90] = \"UpperZ\";\n    Chars[Chars[\"LowerA\"] = 97] = \"LowerA\";\n    Chars[Chars[\"LowerZ\"] = 122] = \"LowerZ\";\n})(Chars || (Chars = {}));\nvar SPACE_CHARACTERS = new Set([Chars.SPACE, Chars.LF, Chars.CR, Chars.TAB]);\nvar END_OF_UNQUOTED_ATTRIBUTE_VALUE = new Set([\n    Chars.SPACE,\n    Chars.LF,\n    Chars.CR,\n    Chars.TAB,\n    Chars.GT,\n]);\nfunction toUint8Array(str) {\n    var arr = new Uint8Array(str.length);\n    for (var i = 0; i < str.length; i++) {\n        arr[i] = str.charCodeAt(i);\n    }\n    return arr;\n}\nexport var STRINGS = {\n    UTF8_BOM: new Uint8Array([0xef, 0xbb, 0xbf]),\n    UTF16LE_BOM: new Uint8Array([0xff, 0xfe]),\n    UTF16BE_BOM: new Uint8Array([0xfe, 0xff]),\n    UTF16LE_XML_PREFIX: new Uint8Array([0x3c, 0x0, 0x3f, 0x0, 0x78, 0x0]),\n    UTF16BE_XML_PREFIX: new Uint8Array([0x0, 0x3c, 0x0, 0x3f, 0x0, 0x78]),\n    XML_DECLARATION: toUint8Array(\"<?xml\"),\n    ENCODING: toUint8Array(\"encoding\"),\n    META: toUint8Array(\"meta\"),\n    HTTP_EQUIV: toUint8Array(\"http-equiv\"),\n    CONTENT: toUint8Array(\"content\"),\n    CONTENT_TYPE: toUint8Array(\"content-type\"),\n    CHARSET: toUint8Array(\"charset\"),\n    COMMENT_START: toUint8Array(\"<!--\"),\n    COMMENT_END: toUint8Array(\"-->\"),\n};\nfunction isAsciiAlpha(c) {\n    return ((c >= Chars.UpperA && c <= Chars.UpperZ) ||\n        (c >= Chars.LowerA && c <= Chars.LowerZ));\n}\nfunction isQuote(c) {\n    return c === Chars.DQUOTE || c === Chars.SQUOTE;\n}\nvar Sniffer = /** @class */ (function () {\n    function Sniffer(_a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.maxBytes, maxBytes = _c === void 0 ? 1024 : _c, userEncoding = _b.userEncoding, transportLayerEncodingLabel = _b.transportLayerEncodingLabel, defaultEncoding = _b.defaultEncoding;\n        /** The offset of the previous buffers. */\n        this.offset = 0;\n        this.state = State.Begin;\n        this.sectionIndex = 0;\n        this.attribType = AttribType.None;\n        /**\n         * Indicates if the `http-equiv` is `content-type`.\n         *\n         * Initially `null`, a boolean when a value is found.\n         */\n        this.gotPragma = null;\n        this.needsPragma = null;\n        this.inMetaTag = false;\n        this.encoding = \"windows-1252\";\n        this.resultType = ResultType.DEFAULT;\n        this.quoteCharacter = 0;\n        this.attributeValue = [];\n        this.maxBytes = maxBytes;\n        if (userEncoding) {\n            this.setResult(userEncoding, ResultType.PASSED);\n        }\n        if (transportLayerEncodingLabel) {\n            this.setResult(transportLayerEncodingLabel, ResultType.PASSED);\n        }\n        if (defaultEncoding) {\n            this.setResult(defaultEncoding, ResultType.DEFAULT);\n        }\n    }\n    Sniffer.prototype.setResult = function (label, type) {\n        if (this.resultType === ResultType.DEFAULT || this.resultType > type) {\n            var encoding = labelToName(label);\n            if (encoding) {\n                this.encoding =\n                    // Check if we are in a meta tag and the encoding is `x-user-defined`\n                    type === ResultType.META_TAG &&\n                        encoding === \"x-user-defined\"\n                        ? \"windows-1252\"\n                        : // Check if we are in a meta tag or xml declaration, and the encoding is UTF-16\n                            (type === ResultType.META_TAG ||\n                                type === ResultType.XML_ENCODING) &&\n                                (encoding === \"UTF-16LE\" || encoding === \"UTF-16BE\")\n                                ? \"UTF-8\"\n                                : encoding;\n                this.resultType = type;\n            }\n        }\n    };\n    Sniffer.prototype.stateBegin = function (c) {\n        switch (c) {\n            case STRINGS.UTF16BE_BOM[0]: {\n                this.state = State.BOM16BE;\n                break;\n            }\n            case STRINGS.UTF16LE_BOM[0]: {\n                this.state = State.BOM16LE;\n                break;\n            }\n            case STRINGS.UTF8_BOM[0]: {\n                this.sectionIndex = 1;\n                this.state = State.BOM8;\n                break;\n            }\n            case Chars.NIL: {\n                this.state = State.UTF16BE_XML_PREFIX;\n                this.sectionIndex = 1;\n                break;\n            }\n            case Chars.LT: {\n                this.state = State.BeginLT;\n                break;\n            }\n            default: {\n                this.state = State.BeforeTag;\n            }\n        }\n    };\n    Sniffer.prototype.stateBeginLT = function (c) {\n        if (c === Chars.NIL) {\n            this.state = State.UTF16LE_XML_PREFIX;\n            this.sectionIndex = 2;\n        }\n        else if (c === Chars.QUESTION) {\n            this.state = State.XMLDeclaration;\n            this.sectionIndex = 2;\n        }\n        else {\n            this.state = State.BeforeTagName;\n            this.stateBeforeTagName(c);\n        }\n    };\n    Sniffer.prototype.stateUTF16BE_XML_PREFIX = function (c) {\n        // Advance position in the section\n        if (this.advanceSection(STRINGS.UTF16BE_XML_PREFIX, c)) {\n            if (this.sectionIndex === STRINGS.UTF16BE_XML_PREFIX.length) {\n                // We have the whole prefix\n                this.setResult(\"utf-16be\", ResultType.XML_PREFIX);\n            }\n        }\n        else {\n            this.state = State.BeforeTag;\n            this.stateBeforeTag(c);\n        }\n    };\n    Sniffer.prototype.stateUTF16LE_XML_PREFIX = function (c) {\n        // Advance position in the section\n        if (this.advanceSection(STRINGS.UTF16LE_XML_PREFIX, c)) {\n            if (this.sectionIndex === STRINGS.UTF16LE_XML_PREFIX.length) {\n                // We have the whole prefix\n                this.setResult(\"utf-16le\", ResultType.XML_PREFIX);\n            }\n        }\n        else {\n            this.state = State.BeforeTag;\n            this.stateBeforeTag(c);\n        }\n    };\n    Sniffer.prototype.stateBOM16LE = function (c) {\n        if (c === STRINGS.UTF16LE_BOM[1]) {\n            this.setResult(\"utf-16le\", ResultType.BOM);\n        }\n        else {\n            this.state = State.BeforeTag;\n            this.stateBeforeTag(c);\n        }\n    };\n    Sniffer.prototype.stateBOM16BE = function (c) {\n        if (c === STRINGS.UTF16BE_BOM[1]) {\n            this.setResult(\"utf-16be\", ResultType.BOM);\n        }\n        else {\n            this.state = State.BeforeTag;\n            this.stateBeforeTag(c);\n        }\n    };\n    Sniffer.prototype.stateBOM8 = function (c) {\n        if (this.advanceSection(STRINGS.UTF8_BOM, c) &&\n            this.sectionIndex === STRINGS.UTF8_BOM.length) {\n            this.setResult(\"utf-8\", ResultType.BOM);\n        }\n    };\n    Sniffer.prototype.stateBeforeTag = function (c) {\n        if (c === Chars.LT) {\n            this.state = State.BeforeTagName;\n            this.inMetaTag = false;\n        }\n    };\n    /**\n     * We have seen a `<`, and now have to figure out what to do.\n     *\n     * Options:\n     *  - `<meta`\n     *  - Any other tag\n     *  - A closing tag\n     *  - `<!--`\n     *  - An XML declaration\n     *\n     */\n    Sniffer.prototype.stateBeforeTagName = function (c) {\n        if (isAsciiAlpha(c)) {\n            if ((c | 0x20) === STRINGS.META[0]) {\n                this.sectionIndex = 1;\n                this.state = State.TagNameMeta;\n            }\n            else {\n                this.state = State.TagNameOther;\n            }\n        }\n        else\n            switch (c) {\n                case Chars.SLASH: {\n                    this.state = State.BeforeCloseTagName;\n                    break;\n                }\n                case Chars.EXCLAMATION: {\n                    this.state = State.CommentStart;\n                    this.sectionIndex = 2;\n                    break;\n                }\n                case Chars.QUESTION: {\n                    this.state = State.WeirdTag;\n                    break;\n                }\n                default: {\n                    this.state = State.BeforeTag;\n                    this.stateBeforeTag(c);\n                }\n            }\n    };\n    Sniffer.prototype.stateBeforeCloseTagName = function (c) {\n        this.state = isAsciiAlpha(c)\n            ? // Switch to `TagNameOther`; the HTML spec allows attributes here as well.\n                State.TagNameOther\n            : State.WeirdTag;\n    };\n    Sniffer.prototype.stateCommentStart = function (c) {\n        if (this.advanceSection(STRINGS.COMMENT_START, c)) {\n            if (this.sectionIndex === STRINGS.COMMENT_START.length) {\n                this.state = State.CommentEnd;\n                // The -- of the comment start can be part of the end.\n                this.sectionIndex = 2;\n            }\n        }\n        else {\n            this.state = State.WeirdTag;\n            this.stateWeirdTag(c);\n        }\n    };\n    Sniffer.prototype.stateCommentEnd = function (c) {\n        if (this.advanceSection(STRINGS.COMMENT_END, c)) {\n            if (this.sectionIndex === STRINGS.COMMENT_END.length) {\n                this.state = State.BeforeTag;\n            }\n        }\n        else if (c === Chars.DASH) {\n            /*\n             * If we are here, we know we expected a `>` above.\n             * Set this to 2, to support many dashes before the closing `>`.\n             */\n            this.sectionIndex = 2;\n        }\n    };\n    /**\n     * Any section starting with `<!`, `<?`, `</`, without being a closing tag or comment.\n     */\n    Sniffer.prototype.stateWeirdTag = function (c) {\n        if (c === Chars.GT) {\n            this.state = State.BeforeTag;\n        }\n    };\n    /**\n     * Advances the section, ignoring upper/lower case.\n     *\n     * Make sure the section has left-over characters before calling.\n     *\n     * @returns `false` if we did not match the section.\n     */\n    Sniffer.prototype.advanceSectionIC = function (section, c) {\n        return this.advanceSection(section, c | 0x20);\n    };\n    /**\n     * Advances the section.\n     *\n     * Make sure the section has left-over characters before calling.\n     *\n     * @returns `false` if we did not match the section.\n     */\n    Sniffer.prototype.advanceSection = function (section, c) {\n        if (section[this.sectionIndex] === c) {\n            this.sectionIndex++;\n            return true;\n        }\n        this.sectionIndex = 0;\n        return false;\n    };\n    Sniffer.prototype.stateTagNameMeta = function (c) {\n        if (this.sectionIndex < STRINGS.META.length) {\n            if (this.advanceSectionIC(STRINGS.META, c)) {\n                return;\n            }\n        }\n        else if (SPACE_CHARACTERS.has(c)) {\n            this.inMetaTag = true;\n            this.gotPragma = null;\n            this.needsPragma = null;\n            this.state = State.BeforeAttribute;\n            return;\n        }\n        this.state = State.TagNameOther;\n        // Reconsume in case there is a `>`.\n        this.stateTagNameOther(c);\n    };\n    Sniffer.prototype.stateTagNameOther = function (c) {\n        if (SPACE_CHARACTERS.has(c)) {\n            this.state = State.BeforeAttribute;\n        }\n        else if (c === Chars.GT) {\n            this.state = State.BeforeTag;\n        }\n    };\n    Sniffer.prototype.stateBeforeAttribute = function (c) {\n        if (SPACE_CHARACTERS.has(c))\n            return;\n        if (this.inMetaTag) {\n            var lower = c | 0x20;\n            if (lower === STRINGS.HTTP_EQUIV[0]) {\n                this.sectionIndex = 1;\n                this.state = State.MetaAttribHttpEquiv;\n                return;\n            }\n            else if (lower === STRINGS.CHARSET[0]) {\n                this.sectionIndex = 1;\n                this.state = State.MetaAttribC;\n                return;\n            }\n        }\n        this.state =\n            c === Chars.SLASH || c === Chars.GT\n                ? State.BeforeTag\n                : State.AnyAttribName;\n    };\n    Sniffer.prototype.handleMetaAttrib = function (c, section, type) {\n        if (this.advanceSectionIC(section, c)) {\n            if (this.sectionIndex === section.length) {\n                this.attribType = type;\n                this.state = State.MetaAttribAfterName;\n            }\n        }\n        else {\n            this.state = State.AnyAttribName;\n            this.stateAnyAttribName(c);\n        }\n    };\n    Sniffer.prototype.stateMetaAttribHttpEquiv = function (c) {\n        this.handleMetaAttrib(c, STRINGS.HTTP_EQUIV, AttribType.HttpEquiv);\n    };\n    Sniffer.prototype.stateMetaAttribC = function (c) {\n        var lower = c | 0x20;\n        if (lower === STRINGS.CHARSET[1]) {\n            this.sectionIndex = 2;\n            this.state = State.MetaAttribCharset;\n        }\n        else if (lower === STRINGS.CONTENT[1]) {\n            this.sectionIndex = 2;\n            this.state = State.MetaAttribContent;\n        }\n        else {\n            this.state = State.AnyAttribName;\n            this.stateAnyAttribName(c);\n        }\n    };\n    Sniffer.prototype.stateMetaAttribCharset = function (c) {\n        this.handleMetaAttrib(c, STRINGS.CHARSET, AttribType.Charset);\n    };\n    Sniffer.prototype.stateMetaAttribContent = function (c) {\n        this.handleMetaAttrib(c, STRINGS.CONTENT, AttribType.Content);\n    };\n    Sniffer.prototype.stateMetaAttribAfterName = function (c) {\n        if (SPACE_CHARACTERS.has(c) || c === Chars.EQUALS) {\n            this.state = State.AfterAttributeName;\n            this.stateAfterAttributeName(c);\n        }\n        else {\n            this.state = State.AnyAttribName;\n            this.stateAnyAttribName(c);\n        }\n    };\n    Sniffer.prototype.stateAnyAttribName = function (c) {\n        if (SPACE_CHARACTERS.has(c)) {\n            this.attribType = AttribType.None;\n            this.state = State.AfterAttributeName;\n        }\n        else if (c === Chars.SLASH || c === Chars.GT) {\n            this.state = State.BeforeTag;\n        }\n        else if (c === Chars.EQUALS) {\n            this.state = State.BeforeAttributeValue;\n        }\n    };\n    Sniffer.prototype.stateAfterAttributeName = function (c) {\n        if (SPACE_CHARACTERS.has(c))\n            return;\n        if (c === Chars.EQUALS) {\n            this.state = State.BeforeAttributeValue;\n        }\n        else {\n            this.state = State.BeforeAttribute;\n            this.stateBeforeAttribute(c);\n        }\n    };\n    Sniffer.prototype.stateBeforeAttributeValue = function (c) {\n        if (SPACE_CHARACTERS.has(c))\n            return;\n        this.attributeValue.length = 0;\n        this.sectionIndex = 0;\n        if (isQuote(c)) {\n            this.quoteCharacter = c;\n            this.state =\n                this.attribType === AttribType.Content\n                    ? State.MetaContentValueQuotedBeforeEncoding\n                    : this.attribType === AttribType.HttpEquiv\n                        ? State.MetaAttribHttpEquivValue\n                        : State.AttributeValueQuoted;\n        }\n        else if (this.attribType === AttribType.Content) {\n            this.state = State.MetaContentValueUnquotedBeforeEncoding;\n            this.stateMetaContentValueUnquotedBeforeEncoding(c);\n        }\n        else if (this.attribType === AttribType.HttpEquiv) {\n            // We use `quoteCharacter = 0` to signify that the value is unquoted.\n            this.quoteCharacter = 0;\n            this.sectionIndex = 0;\n            this.state = State.MetaAttribHttpEquivValue;\n            this.stateMetaAttribHttpEquivValue(c);\n        }\n        else {\n            this.state = State.AttributeValueUnquoted;\n            this.stateAttributeValueUnquoted(c);\n        }\n    };\n    // The value has to be `content-type`\n    Sniffer.prototype.stateMetaAttribHttpEquivValue = function (c) {\n        if (this.sectionIndex === STRINGS.CONTENT_TYPE.length) {\n            if (this.quoteCharacter === 0\n                ? END_OF_UNQUOTED_ATTRIBUTE_VALUE.has(c)\n                : c === this.quoteCharacter) {\n                if (this.needsPragma !== null) {\n                    this.setResult(this.needsPragma, ResultType.META_TAG);\n                }\n                else if (this.gotPragma === null) {\n                    this.gotPragma = true;\n                }\n                this.state = State.BeforeAttribute;\n                return;\n            }\n        }\n        else if (this.advanceSectionIC(STRINGS.CONTENT_TYPE, c)) {\n            return;\n        }\n        this.gotPragma = false;\n        if (this.quoteCharacter === 0) {\n            this.state = State.AttributeValueUnquoted;\n            this.stateAttributeValueUnquoted(c);\n        }\n        else {\n            this.state = State.AttributeValueQuoted;\n            this.stateAttributeValueQuoted(c);\n        }\n    };\n    Sniffer.prototype.handleMetaContentValue = function () {\n        if (this.attributeValue.length === 0)\n            return;\n        var encoding = String.fromCharCode.apply(String, this.attributeValue);\n        if (this.gotPragma) {\n            this.setResult(encoding, ResultType.META_TAG);\n        }\n        else if (this.needsPragma === null) {\n            // Don't override a previous result.\n            this.needsPragma = encoding;\n        }\n        this.attributeValue.length = 0;\n    };\n    Sniffer.prototype.handleAttributeValue = function () {\n        if (this.attribType === AttribType.Charset) {\n            this.setResult(String.fromCharCode.apply(String, this.attributeValue), ResultType.META_TAG);\n        }\n    };\n    Sniffer.prototype.stateAttributeValueUnquoted = function (c) {\n        if (SPACE_CHARACTERS.has(c)) {\n            this.handleAttributeValue();\n            this.state = State.BeforeAttribute;\n        }\n        else if (c === Chars.SLASH || c === Chars.GT) {\n            this.handleAttributeValue();\n            this.state = State.BeforeTag;\n        }\n        else if (this.attribType === AttribType.Charset) {\n            this.attributeValue.push(c | 0x20);\n        }\n    };\n    Sniffer.prototype.findMetaContentEncoding = function (c) {\n        if (this.advanceSectionIC(STRINGS.CHARSET, c)) {\n            if (this.sectionIndex === STRINGS.CHARSET.length) {\n                return true;\n            }\n        }\n        else {\n            // If we encountered another `c`, assume we started over.\n            this.sectionIndex = Number(c === STRINGS.CHARSET[0]);\n        }\n        return false;\n    };\n    Sniffer.prototype.stateMetaContentValueUnquotedBeforeEncoding = function (c) {\n        if (END_OF_UNQUOTED_ATTRIBUTE_VALUE.has(c)) {\n            this.stateAttributeValueUnquoted(c);\n        }\n        else if (this.sectionIndex === STRINGS.CHARSET.length) {\n            if (c === Chars.EQUALS) {\n                this.state = State.MetaContentValueUnquotedBeforeValue;\n            }\n        }\n        else {\n            this.findMetaContentEncoding(c);\n        }\n    };\n    Sniffer.prototype.stateMetaContentValueUnquotedBeforeValue = function (c) {\n        if (isQuote(c)) {\n            this.quoteCharacter = c;\n            this.state = State.MetaContentValueUnquotedValueQuoted;\n        }\n        else if (END_OF_UNQUOTED_ATTRIBUTE_VALUE.has(c)) {\n            // Can't have spaces here, as it would no longer be part of the attribute value.\n            this.stateAttributeValueUnquoted(c);\n        }\n        else {\n            this.state = State.MetaContentValueUnquotedValueUnquoted;\n            this.stateMetaContentValueUnquotedValueUnquoted(c);\n        }\n    };\n    Sniffer.prototype.stateMetaContentValueUnquotedValueQuoted = function (c) {\n        if (END_OF_UNQUOTED_ATTRIBUTE_VALUE.has(c)) {\n            // Quotes weren't matched, so we're done.\n            this.stateAttributeValueUnquoted(c);\n        }\n        else if (c === this.quoteCharacter) {\n            this.handleMetaContentValue();\n            this.state = State.AttributeValueUnquoted;\n        }\n        else {\n            this.attributeValue.push(c | 0x20);\n        }\n    };\n    Sniffer.prototype.stateMetaContentValueUnquotedValueUnquoted = function (c) {\n        if (END_OF_UNQUOTED_ATTRIBUTE_VALUE.has(c) || c === Chars.SEMICOLON) {\n            this.handleMetaContentValue();\n            this.state = State.AttributeValueUnquoted;\n            this.stateAttributeValueUnquoted(c);\n        }\n        else {\n            this.attributeValue.push(c | 0x20);\n        }\n    };\n    Sniffer.prototype.stateMetaContentValueQuotedValueUnquoted = function (c) {\n        if (isQuote(c) || SPACE_CHARACTERS.has(c) || c === Chars.SEMICOLON) {\n            this.handleMetaContentValue();\n            // We are done with the value, but might not be at the end of the attribute\n            this.state = State.AttributeValueQuoted;\n            this.stateAttributeValueQuoted(c);\n        }\n        else {\n            this.attributeValue.push(c | 0x20);\n        }\n    };\n    Sniffer.prototype.stateMetaContentValueQuotedValueQuoted = function (c) {\n        if (isQuote(c)) {\n            // We have reached the end of our value.\n            if (c !== this.quoteCharacter) {\n                // Only handle the value if inner quotes were matched.\n                this.handleMetaContentValue();\n            }\n            this.state = State.AttributeValueQuoted;\n            this.stateAttributeValueQuoted(c);\n        }\n        else {\n            this.attributeValue.push(c | 0x20);\n        }\n    };\n    Sniffer.prototype.stateMetaContentValueQuotedBeforeEncoding = function (c) {\n        if (c === this.quoteCharacter) {\n            this.stateAttributeValueQuoted(c);\n        }\n        else if (this.findMetaContentEncoding(c)) {\n            this.state = State.MetaContentValueQuotedAfterEncoding;\n        }\n    };\n    Sniffer.prototype.stateMetaContentValueQuotedAfterEncoding = function (c) {\n        if (c === Chars.EQUALS) {\n            this.state = State.MetaContentValueQuotedBeforeValue;\n        }\n        else if (!SPACE_CHARACTERS.has(c)) {\n            // Look for the next encoding\n            this.state = State.MetaContentValueQuotedBeforeEncoding;\n            this.stateMetaContentValueQuotedBeforeEncoding(c);\n        }\n    };\n    Sniffer.prototype.stateMetaContentValueQuotedBeforeValue = function (c) {\n        if (c === this.quoteCharacter) {\n            this.stateAttributeValueQuoted(c);\n        }\n        else if (isQuote(c)) {\n            this.state = State.MetaContentValueQuotedValueQuoted;\n        }\n        else if (!SPACE_CHARACTERS.has(c)) {\n            this.state = State.MetaContentValueQuotedValueUnquoted;\n            this.stateMetaContentValueQuotedValueUnquoted(c);\n        }\n    };\n    Sniffer.prototype.stateAttributeValueQuoted = function (c) {\n        if (c === this.quoteCharacter) {\n            this.handleAttributeValue();\n            this.state = State.BeforeAttribute;\n        }\n        else if (this.attribType === AttribType.Charset) {\n            this.attributeValue.push(c | 0x20);\n        }\n    };\n    // Read STRINGS.XML_DECLARATION\n    Sniffer.prototype.stateXMLDeclaration = function (c) {\n        if (this.advanceSection(STRINGS.XML_DECLARATION, c)) {\n            if (this.sectionIndex === STRINGS.XML_DECLARATION.length) {\n                this.sectionIndex = 0;\n                this.state = State.XMLDeclarationBeforeEncoding;\n            }\n        }\n        else {\n            this.state = State.WeirdTag;\n        }\n    };\n    Sniffer.prototype.stateXMLDeclarationBeforeEncoding = function (c) {\n        if (this.advanceSection(STRINGS.ENCODING, c)) {\n            if (this.sectionIndex === STRINGS.ENCODING.length) {\n                this.state = State.XMLDeclarationAfterEncoding;\n            }\n        }\n        else if (c === Chars.GT) {\n            this.state = State.BeforeTag;\n        }\n        else {\n            // If we encountered another `c`, assume we started over.\n            this.sectionIndex = Number(c === STRINGS.ENCODING[0]);\n        }\n    };\n    Sniffer.prototype.stateXMLDeclarationAfterEncoding = function (c) {\n        if (c === Chars.EQUALS) {\n            this.state = State.XMLDeclarationBeforeValue;\n        }\n        else if (c > Chars.SPACE) {\n            this.state = State.WeirdTag;\n            this.stateWeirdTag(c);\n        }\n    };\n    Sniffer.prototype.stateXMLDeclarationBeforeValue = function (c) {\n        if (isQuote(c)) {\n            this.attributeValue.length = 0;\n            this.state = State.XMLDeclarationValue;\n        }\n        else if (c > Chars.SPACE) {\n            this.state = State.WeirdTag;\n            this.stateWeirdTag(c);\n        }\n    };\n    Sniffer.prototype.stateXMLDeclarationValue = function (c) {\n        if (isQuote(c)) {\n            this.setResult(String.fromCharCode.apply(String, this.attributeValue), ResultType.XML_ENCODING);\n            this.state = State.WeirdTag;\n        }\n        else if (c === Chars.GT) {\n            this.state = State.BeforeTag;\n        }\n        else if (c <= Chars.SPACE) {\n            this.state = State.WeirdTag;\n        }\n        else {\n            this.attributeValue.push(c | 0x20);\n        }\n    };\n    Sniffer.prototype.write = function (buffer) {\n        var index = 0;\n        for (; index < buffer.length && this.offset + index < this.maxBytes; index++) {\n            var c = buffer[index];\n            switch (this.state) {\n                case State.Begin: {\n                    this.stateBegin(c);\n                    break;\n                }\n                case State.BOM16BE: {\n                    this.stateBOM16BE(c);\n                    break;\n                }\n                case State.BOM16LE: {\n                    this.stateBOM16LE(c);\n                    break;\n                }\n                case State.BOM8: {\n                    this.stateBOM8(c);\n                    break;\n                }\n                case State.UTF16LE_XML_PREFIX: {\n                    this.stateUTF16LE_XML_PREFIX(c);\n                    break;\n                }\n                case State.BeginLT: {\n                    this.stateBeginLT(c);\n                    break;\n                }\n                case State.UTF16BE_XML_PREFIX: {\n                    this.stateUTF16BE_XML_PREFIX(c);\n                    break;\n                }\n                case State.BeforeTag: {\n                    // Optimization: Skip all characters until we find a `<`\n                    var idx = buffer.indexOf(Chars.LT, index);\n                    if (idx < 0) {\n                        // We are done with this buffer. Stay in the state and try on the next one.\n                        index = buffer.length;\n                    }\n                    else {\n                        index = idx;\n                        this.stateBeforeTag(Chars.LT);\n                    }\n                    break;\n                }\n                case State.BeforeTagName: {\n                    this.stateBeforeTagName(c);\n                    break;\n                }\n                case State.BeforeCloseTagName: {\n                    this.stateBeforeCloseTagName(c);\n                    break;\n                }\n                case State.CommentStart: {\n                    this.stateCommentStart(c);\n                    break;\n                }\n                case State.CommentEnd: {\n                    this.stateCommentEnd(c);\n                    break;\n                }\n                case State.TagNameMeta: {\n                    this.stateTagNameMeta(c);\n                    break;\n                }\n                case State.TagNameOther: {\n                    this.stateTagNameOther(c);\n                    break;\n                }\n                case State.XMLDeclaration: {\n                    this.stateXMLDeclaration(c);\n                    break;\n                }\n                case State.XMLDeclarationBeforeEncoding: {\n                    this.stateXMLDeclarationBeforeEncoding(c);\n                    break;\n                }\n                case State.XMLDeclarationAfterEncoding: {\n                    this.stateXMLDeclarationAfterEncoding(c);\n                    break;\n                }\n                case State.XMLDeclarationBeforeValue: {\n                    this.stateXMLDeclarationBeforeValue(c);\n                    break;\n                }\n                case State.XMLDeclarationValue: {\n                    this.stateXMLDeclarationValue(c);\n                    break;\n                }\n                case State.WeirdTag: {\n                    this.stateWeirdTag(c);\n                    break;\n                }\n                case State.BeforeAttribute: {\n                    this.stateBeforeAttribute(c);\n                    break;\n                }\n                case State.MetaAttribHttpEquiv: {\n                    this.stateMetaAttribHttpEquiv(c);\n                    break;\n                }\n                case State.MetaAttribHttpEquivValue: {\n                    this.stateMetaAttribHttpEquivValue(c);\n                    break;\n                }\n                case State.MetaAttribC: {\n                    this.stateMetaAttribC(c);\n                    break;\n                }\n                case State.MetaAttribContent: {\n                    this.stateMetaAttribContent(c);\n                    break;\n                }\n                case State.MetaAttribCharset: {\n                    this.stateMetaAttribCharset(c);\n                    break;\n                }\n                case State.MetaAttribAfterName: {\n                    this.stateMetaAttribAfterName(c);\n                    break;\n                }\n                case State.MetaContentValueQuotedBeforeEncoding: {\n                    this.stateMetaContentValueQuotedBeforeEncoding(c);\n                    break;\n                }\n                case State.MetaContentValueQuotedAfterEncoding: {\n                    this.stateMetaContentValueQuotedAfterEncoding(c);\n                    break;\n                }\n                case State.MetaContentValueQuotedBeforeValue: {\n                    this.stateMetaContentValueQuotedBeforeValue(c);\n                    break;\n                }\n                case State.MetaContentValueQuotedValueQuoted: {\n                    this.stateMetaContentValueQuotedValueQuoted(c);\n                    break;\n                }\n                case State.MetaContentValueQuotedValueUnquoted: {\n                    this.stateMetaContentValueQuotedValueUnquoted(c);\n                    break;\n                }\n                case State.MetaContentValueUnquotedBeforeEncoding: {\n                    this.stateMetaContentValueUnquotedBeforeEncoding(c);\n                    break;\n                }\n                case State.MetaContentValueUnquotedBeforeValue: {\n                    this.stateMetaContentValueUnquotedBeforeValue(c);\n                    break;\n                }\n                case State.MetaContentValueUnquotedValueQuoted: {\n                    this.stateMetaContentValueUnquotedValueQuoted(c);\n                    break;\n                }\n                case State.MetaContentValueUnquotedValueUnquoted: {\n                    this.stateMetaContentValueUnquotedValueUnquoted(c);\n                    break;\n                }\n                case State.AnyAttribName: {\n                    this.stateAnyAttribName(c);\n                    break;\n                }\n                case State.AfterAttributeName: {\n                    this.stateAfterAttributeName(c);\n                    break;\n                }\n                case State.BeforeAttributeValue: {\n                    this.stateBeforeAttributeValue(c);\n                    break;\n                }\n                case State.AttributeValueQuoted: {\n                    this.stateAttributeValueQuoted(c);\n                    break;\n                }\n                default: {\n                    // (State.AttributeValueUnquoted)\n                    this.stateAttributeValueUnquoted(c);\n                }\n            }\n        }\n        this.offset += index;\n    };\n    return Sniffer;\n}());\nexport { Sniffer };\n/** Get the encoding for the passed buffer. */\nexport function getEncoding(buffer, options) {\n    var sniffer = new Sniffer(options);\n    sniffer.write(buffer);\n    return sniffer.encoding;\n}\n//# sourceMappingURL=sniffer.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Transform } from \"node:stream\";\nimport iconv from \"iconv-lite\";\nimport { Sniffer, getEncoding } from \"./sniffer.js\";\n/**\n * Sniff the encoding of a buffer, then decode it.\n *\n * @param buffer Buffer to be decoded\n * @param options Options for the sniffer\n * @returns The decoded buffer\n */\nexport function decodeBuffer(buffer, options) {\n    if (options === void 0) { options = {}; }\n    return iconv.decode(buffer, getEncoding(buffer, options));\n}\n/**\n * Decodes a stream of buffers into a stream of strings.\n *\n * Reads the first 1024 bytes and passes them to the sniffer. Once an encoding\n * has been determined, it passes all data to iconv-lite's stream and outputs\n * the results.\n */\nvar DecodeStream = /** @class */ (function (_super) {\n    __extends(DecodeStream, _super);\n    function DecodeStream(options) {\n        var _a;\n        var _this = _super.call(this, { decodeStrings: false, encoding: \"utf-8\" }) || this;\n        _this.buffers = [];\n        /** The iconv decode stream. If it is set, we have read more than `options.maxBytes` bytes. */\n        _this.iconv = null;\n        _this.readBytes = 0;\n        _this.sniffer = new Sniffer(options);\n        _this.maxBytes = (_a = options === null || options === void 0 ? void 0 : options.maxBytes) !== null && _a !== void 0 ? _a : 1024;\n        return _this;\n    }\n    DecodeStream.prototype._transform = function (chunk, _encoding, callback) {\n        if (this.readBytes < this.maxBytes) {\n            this.sniffer.write(chunk);\n            this.readBytes += chunk.length;\n            if (this.readBytes < this.maxBytes) {\n                this.buffers.push(chunk);\n                callback();\n                return;\n            }\n        }\n        this.getIconvStream().write(chunk, callback);\n    };\n    DecodeStream.prototype.getIconvStream = function () {\n        var _this = this;\n        if (this.iconv) {\n            return this.iconv;\n        }\n        var stream = iconv.decodeStream(this.sniffer.encoding);\n        stream.on(\"data\", function (chunk) { return _this.push(chunk, \"utf-8\"); });\n        stream.on(\"end\", function () { return _this.push(null); });\n        this.iconv = stream;\n        for (var _i = 0, _a = this.buffers; _i < _a.length; _i++) {\n            var buffer = _a[_i];\n            stream.write(buffer);\n        }\n        this.buffers.length = 0;\n        return stream;\n    };\n    DecodeStream.prototype._flush = function (callback) {\n        this.getIconvStream().end(callback);\n    };\n    return DecodeStream;\n}(Transform));\nexport { DecodeStream };\nexport { getEncoding } from \"./sniffer.js\";\n//# sourceMappingURL=index.js.map","import ansiStyles from '#ansi-styles';\nimport supportsColor from '#supports-color';\nimport { // eslint-disable-line import/order\n\tstringReplaceAll,\n\tstringEncaseCRLFWithFirstIndex,\n} from './utilities.js';\n\nconst {stdout: stdoutColor, stderr: stderrColor} = supportsColor;\n\nconst GENERATOR = Symbol('GENERATOR');\nconst STYLER = Symbol('STYLER');\nconst IS_EMPTY = Symbol('IS_EMPTY');\n\n// `supportsColor.level`  `ansiStyles.color[name]` mapping\nconst levelMapping = [\n\t'ansi',\n\t'ansi',\n\t'ansi256',\n\t'ansi16m',\n];\n\nconst styles = Object.create(null);\n\nconst applyOptions = (object, options = {}) => {\n\tif (options.level && !(Number.isInteger(options.level) && options.level >= 0 && options.level <= 3)) {\n\t\tthrow new Error('The `level` option should be an integer from 0 to 3');\n\t}\n\n\t// Detect level if not set manually\n\tconst colorLevel = stdoutColor ? stdoutColor.level : 0;\n\tobject.level = options.level === undefined ? colorLevel : options.level;\n};\n\nexport class Chalk {\n\tconstructor(options) {\n\t\t// eslint-disable-next-line no-constructor-return\n\t\treturn chalkFactory(options);\n\t}\n}\n\nconst chalkFactory = options => {\n\tconst chalk = (...strings) => strings.join(' ');\n\tapplyOptions(chalk, options);\n\n\tObject.setPrototypeOf(chalk, createChalk.prototype);\n\n\treturn chalk;\n};\n\nfunction createChalk(options) {\n\treturn chalkFactory(options);\n}\n\nObject.setPrototypeOf(createChalk.prototype, Function.prototype);\n\nfor (const [styleName, style] of Object.entries(ansiStyles)) {\n\tstyles[styleName] = {\n\t\tget() {\n\t\t\tconst builder = createBuilder(this, createStyler(style.open, style.close, this[STYLER]), this[IS_EMPTY]);\n\t\t\tObject.defineProperty(this, styleName, {value: builder});\n\t\t\treturn builder;\n\t\t},\n\t};\n}\n\nstyles.visible = {\n\tget() {\n\t\tconst builder = createBuilder(this, this[STYLER], true);\n\t\tObject.defineProperty(this, 'visible', {value: builder});\n\t\treturn builder;\n\t},\n};\n\nconst getModelAnsi = (model, level, type, ...arguments_) => {\n\tif (model === 'rgb') {\n\t\tif (level === 'ansi16m') {\n\t\t\treturn ansiStyles[type].ansi16m(...arguments_);\n\t\t}\n\n\t\tif (level === 'ansi256') {\n\t\t\treturn ansiStyles[type].ansi256(ansiStyles.rgbToAnsi256(...arguments_));\n\t\t}\n\n\t\treturn ansiStyles[type].ansi(ansiStyles.rgbToAnsi(...arguments_));\n\t}\n\n\tif (model === 'hex') {\n\t\treturn getModelAnsi('rgb', level, type, ...ansiStyles.hexToRgb(...arguments_));\n\t}\n\n\treturn ansiStyles[type][model](...arguments_);\n};\n\nconst usedModels = ['rgb', 'hex', 'ansi256'];\n\nfor (const model of usedModels) {\n\tstyles[model] = {\n\t\tget() {\n\t\t\tconst {level} = this;\n\t\t\treturn function (...arguments_) {\n\t\t\t\tconst styler = createStyler(getModelAnsi(model, levelMapping[level], 'color', ...arguments_), ansiStyles.color.close, this[STYLER]);\n\t\t\t\treturn createBuilder(this, styler, this[IS_EMPTY]);\n\t\t\t};\n\t\t},\n\t};\n\n\tconst bgModel = 'bg' + model[0].toUpperCase() + model.slice(1);\n\tstyles[bgModel] = {\n\t\tget() {\n\t\t\tconst {level} = this;\n\t\t\treturn function (...arguments_) {\n\t\t\t\tconst styler = createStyler(getModelAnsi(model, levelMapping[level], 'bgColor', ...arguments_), ansiStyles.bgColor.close, this[STYLER]);\n\t\t\t\treturn createBuilder(this, styler, this[IS_EMPTY]);\n\t\t\t};\n\t\t},\n\t};\n}\n\nconst proto = Object.defineProperties(() => {}, {\n\t...styles,\n\tlevel: {\n\t\tenumerable: true,\n\t\tget() {\n\t\t\treturn this[GENERATOR].level;\n\t\t},\n\t\tset(level) {\n\t\t\tthis[GENERATOR].level = level;\n\t\t},\n\t},\n});\n\nconst createStyler = (open, close, parent) => {\n\tlet openAll;\n\tlet closeAll;\n\tif (parent === undefined) {\n\t\topenAll = open;\n\t\tcloseAll = close;\n\t} else {\n\t\topenAll = parent.openAll + open;\n\t\tcloseAll = close + parent.closeAll;\n\t}\n\n\treturn {\n\t\topen,\n\t\tclose,\n\t\topenAll,\n\t\tcloseAll,\n\t\tparent,\n\t};\n};\n\nconst createBuilder = (self, _styler, _isEmpty) => {\n\t// Single argument is hot path, implicit coercion is faster than anything\n\t// eslint-disable-next-line no-implicit-coercion\n\tconst builder = (...arguments_) => applyStyle(builder, (arguments_.length === 1) ? ('' + arguments_[0]) : arguments_.join(' '));\n\n\t// We alter the prototype because we must return a function, but there is\n\t// no way to create a function with a different prototype\n\tObject.setPrototypeOf(builder, proto);\n\n\tbuilder[GENERATOR] = self;\n\tbuilder[STYLER] = _styler;\n\tbuilder[IS_EMPTY] = _isEmpty;\n\n\treturn builder;\n};\n\nconst applyStyle = (self, string) => {\n\tif (self.level <= 0 || !string) {\n\t\treturn self[IS_EMPTY] ? '' : string;\n\t}\n\n\tlet styler = self[STYLER];\n\n\tif (styler === undefined) {\n\t\treturn string;\n\t}\n\n\tconst {openAll, closeAll} = styler;\n\tif (string.includes('\\u001B')) {\n\t\twhile (styler !== undefined) {\n\t\t\t// Replace any instances already present with a re-opening code\n\t\t\t// otherwise only the part of the string until said closing code\n\t\t\t// will be colored, and the rest will simply be 'plain'.\n\t\t\tstring = stringReplaceAll(string, styler.close, styler.open);\n\n\t\t\tstyler = styler.parent;\n\t\t}\n\t}\n\n\t// We can move both next actions out of loop, because remaining actions in loop won't have\n\t// any/visible effect on parts we add here. Close the styling before a linebreak and reopen\n\t// after next line to fix a bleed issue on macOS: https://github.com/chalk/chalk/pull/92\n\tconst lfIndex = string.indexOf('\\n');\n\tif (lfIndex !== -1) {\n\t\tstring = stringEncaseCRLFWithFirstIndex(string, closeAll, openAll, lfIndex);\n\t}\n\n\treturn openAll + string + closeAll;\n};\n\nObject.defineProperties(createChalk.prototype, styles);\n\nconst chalk = createChalk();\nexport const chalkStderr = createChalk({level: stderrColor ? stderrColor.level : 0});\n\nexport {\n\tmodifierNames,\n\tforegroundColorNames,\n\tbackgroundColorNames,\n\tcolorNames,\n\n\t// TODO: Remove these aliases in the next major version\n\tmodifierNames as modifiers,\n\tforegroundColorNames as foregroundColors,\n\tbackgroundColorNames as backgroundColors,\n\tcolorNames as colors,\n} from './vendor/ansi-styles/index.js';\n\nexport {\n\tstdoutColor as supportsColor,\n\tstderrColor as supportsColorStderr,\n};\n\nexport default chalk;\n","// Adapted from https://github.com/mathiasbynens/he/blob/36afe179392226cf1b6ccdb16ebbb7a5a844d93a/src/he.js#L106-L134\nvar _a;\nconst decodeMap = new Map([\n    [0, 65533],\n    // C1 Unicode control character reference replacements\n    [128, 8364],\n    [130, 8218],\n    [131, 402],\n    [132, 8222],\n    [133, 8230],\n    [134, 8224],\n    [135, 8225],\n    [136, 710],\n    [137, 8240],\n    [138, 352],\n    [139, 8249],\n    [140, 338],\n    [142, 381],\n    [145, 8216],\n    [146, 8217],\n    [147, 8220],\n    [148, 8221],\n    [149, 8226],\n    [150, 8211],\n    [151, 8212],\n    [152, 732],\n    [153, 8482],\n    [154, 353],\n    [155, 8250],\n    [156, 339],\n    [158, 382],\n    [159, 376],\n]);\n/**\n * Polyfill for `String.fromCodePoint`. It is used to create a string from a Unicode code point.\n */\nexport const fromCodePoint = \n// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition, node/no-unsupported-features/es-builtins\n(_a = String.fromCodePoint) !== null && _a !== void 0 ? _a : function (codePoint) {\n    let output = \"\";\n    if (codePoint > 0xffff) {\n        codePoint -= 0x10000;\n        output += String.fromCharCode(((codePoint >>> 10) & 0x3ff) | 0xd800);\n        codePoint = 0xdc00 | (codePoint & 0x3ff);\n    }\n    output += String.fromCharCode(codePoint);\n    return output;\n};\n/**\n * Replace the given code point with a replacement character if it is a\n * surrogate or is outside the valid range. Otherwise return the code\n * point unchanged.\n */\nexport function replaceCodePoint(codePoint) {\n    var _a;\n    if ((codePoint >= 0xd800 && codePoint <= 0xdfff) || codePoint > 0x10ffff) {\n        return 0xfffd;\n    }\n    return (_a = decodeMap.get(codePoint)) !== null && _a !== void 0 ? _a : codePoint;\n}\n/**\n * Replace the code point if relevant, then convert it to a string.\n *\n * @deprecated Use `fromCodePoint(replaceCodePoint(codePoint))` instead.\n * @param codePoint The code point to decode.\n * @returns The decoded code point.\n */\nexport default function decodeCodePoint(codePoint) {\n    return fromCodePoint(replaceCodePoint(codePoint));\n}\n//# sourceMappingURL=decode_codepoint.js.map","import { isTag, hasChildren } from \"domhandler\";\n/**\n * Search a node and its children for nodes passing a test function. If `node` is not an array, it will be wrapped in one.\n *\n * @category Querying\n * @param test Function to test nodes on.\n * @param node Node to search. Will be included in the result set if it matches.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes passing `test`.\n */\nexport function filter(test, node, recurse = true, limit = Infinity) {\n    return find(test, Array.isArray(node) ? node : [node], recurse, limit);\n}\n/**\n * Search an array of nodes and their children for nodes passing a test function.\n *\n * @category Querying\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes passing `test`.\n */\nexport function find(test, nodes, recurse, limit) {\n    const result = [];\n    /** Stack of the arrays we are looking at. */\n    const nodeStack = [nodes];\n    /** Stack of the indices within the arrays. */\n    const indexStack = [0];\n    for (;;) {\n        // First, check if the current array has any more elements to look at.\n        if (indexStack[0] >= nodeStack[0].length) {\n            // If we have no more arrays to look at, we are done.\n            if (indexStack.length === 1) {\n                return result;\n            }\n            // Otherwise, remove the current array from the stack.\n            nodeStack.shift();\n            indexStack.shift();\n            // Loop back to the start to continue with the next array.\n            continue;\n        }\n        const elem = nodeStack[0][indexStack[0]++];\n        if (test(elem)) {\n            result.push(elem);\n            if (--limit <= 0)\n                return result;\n        }\n        if (recurse && hasChildren(elem) && elem.children.length > 0) {\n            /*\n             * Add the children to the stack. We are depth-first, so this is\n             * the next array we look at.\n             */\n            indexStack.unshift(0);\n            nodeStack.unshift(elem.children);\n        }\n    }\n}\n/**\n * Finds the first element inside of an array that matches a test function. This is an alias for `Array.prototype.find`.\n *\n * @category Querying\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @returns The first node in the array that passes `test`.\n * @deprecated Use `Array.prototype.find` directly.\n */\nexport function findOneChild(test, nodes) {\n    return nodes.find(test);\n}\n/**\n * Finds one element in a tree that passes a test.\n *\n * @category Querying\n * @param test Function to test nodes on.\n * @param nodes Node or array of nodes to search.\n * @param recurse Also consider child nodes.\n * @returns The first node that passes `test`.\n */\nexport function findOne(test, nodes, recurse = true) {\n    let elem = null;\n    for (let i = 0; i < nodes.length && !elem; i++) {\n        const node = nodes[i];\n        if (!isTag(node)) {\n            continue;\n        }\n        else if (test(node)) {\n            elem = node;\n        }\n        else if (recurse && node.children.length > 0) {\n            elem = findOne(test, node.children, true);\n        }\n    }\n    return elem;\n}\n/**\n * Checks if a tree of nodes contains at least one node passing a test.\n *\n * @category Querying\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @returns Whether a tree of nodes contains at least one node passing the test.\n */\nexport function existsOne(test, nodes) {\n    return nodes.some((checked) => isTag(checked) &&\n        (test(checked) || existsOne(test, checked.children)));\n}\n/**\n * Search an array of nodes and their children for elements passing a test function.\n *\n * Same as `find`, but limited to elements and with less options, leading to reduced complexity.\n *\n * @category Querying\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @returns All nodes passing `test`.\n */\nexport function findAll(test, nodes) {\n    const result = [];\n    const nodeStack = [nodes];\n    const indexStack = [0];\n    for (;;) {\n        if (indexStack[0] >= nodeStack[0].length) {\n            if (nodeStack.length === 1) {\n                return result;\n            }\n            // Otherwise, remove the current array from the stack.\n            nodeStack.shift();\n            indexStack.shift();\n            // Loop back to the start to continue with the next array.\n            continue;\n        }\n        const elem = nodeStack[0][indexStack[0]++];\n        if (!isTag(elem))\n            continue;\n        if (test(elem))\n            result.push(elem);\n        if (elem.children.length > 0) {\n            indexStack.unshift(0);\n            nodeStack.unshift(elem.children);\n        }\n    }\n}\n//# sourceMappingURL=querying.js.map","import { isTag, isCDATA, isText, hasChildren, isComment, } from \"domhandler\";\nimport renderHTML from \"dom-serializer\";\nimport { ElementType } from \"domelementtype\";\n/**\n * @category Stringify\n * @deprecated Use the `dom-serializer` module directly.\n * @param node Node to get the outer HTML of.\n * @param options Options for serialization.\n * @returns `node`'s outer HTML.\n */\nexport function getOuterHTML(node, options) {\n    return renderHTML(node, options);\n}\n/**\n * @category Stringify\n * @deprecated Use the `dom-serializer` module directly.\n * @param node Node to get the inner HTML of.\n * @param options Options for serialization.\n * @returns `node`'s inner HTML.\n */\nexport function getInnerHTML(node, options) {\n    return hasChildren(node)\n        ? node.children.map((node) => getOuterHTML(node, options)).join(\"\")\n        : \"\";\n}\n/**\n * Get a node's inner text. Same as `textContent`, but inserts newlines for `<br>` tags. Ignores comments.\n *\n * @category Stringify\n * @deprecated Use `textContent` instead.\n * @param node Node to get the inner text of.\n * @returns `node`'s inner text.\n */\nexport function getText(node) {\n    if (Array.isArray(node))\n        return node.map(getText).join(\"\");\n    if (isTag(node))\n        return node.name === \"br\" ? \"\\n\" : getText(node.children);\n    if (isCDATA(node))\n        return getText(node.children);\n    if (isText(node))\n        return node.data;\n    return \"\";\n}\n/**\n * Get a node's text content. Ignores comments.\n *\n * @category Stringify\n * @param node Node to get the text content of.\n * @returns `node`'s text content.\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Node/textContent}\n */\nexport function textContent(node) {\n    if (Array.isArray(node))\n        return node.map(textContent).join(\"\");\n    if (hasChildren(node) && !isComment(node)) {\n        return textContent(node.children);\n    }\n    if (isText(node))\n        return node.data;\n    return \"\";\n}\n/**\n * Get a node's inner text, ignoring `<script>` and `<style>` tags. Ignores comments.\n *\n * @category Stringify\n * @param node Node to get the inner text of.\n * @returns `node`'s inner text.\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Node/innerText}\n */\nexport function innerText(node) {\n    if (Array.isArray(node))\n        return node.map(innerText).join(\"\");\n    if (hasChildren(node) && (node.type === ElementType.Tag || isCDATA(node))) {\n        return innerText(node.children);\n    }\n    if (isText(node))\n        return node.data;\n    return \"\";\n}\n//# sourceMappingURL=stringify.js.map","import { promisify } from \"node:util\";\nimport * as cp from \"node:child_process\";\nimport * as semver from \"semver\";\nimport type { Manifest } from \"./manifest\";\n\nexport interface IVersionBumpOptions {\n\treadonly cwd?: string;\n\treadonly version?: string;\n\treadonly commitMessage?: string;\n\treadonly gitTagVersion?: boolean;\n\treadonly updatePackageJson?: boolean;\n}\n\n/**\n * @see https://github.com/microsoft/vscode-vsce/blob/7d1cc98c297f764fe15f2a189392c22c7242fabb/src/package.ts#L350\n */\nexport async function versionBump(manifest: Manifest, options: IVersionBumpOptions): Promise<void> {\n\tif (!options.version) {\n\t\treturn;\n\t}\n\n\tif (!(options.updatePackageJson ?? true)) {\n\t\treturn;\n\t}\n\n\tif (manifest.version === options.version) {\n\t\treturn;\n\t}\n\n\t// update the manifest object\n\tconst manifestVersion = manifest.version;\n\tconst today = new Date().getTime().toString().slice(0, 8);\n\tconst currentVersion = semver.valid(manifestVersion);\n\n\tif (!currentVersion) {\n\t\tthrow new Error(\"Cannot get the current version number from package.json\");\n\t}\n\n\tconst rcVersion =\n\t\toptions.version ?? semver.inc(currentVersion, \"minor\")?.replace(/\\.\\d+$/, `.${today}`);\n\tif (!rcVersion) {\n\t\tthrow new Error(\"Could not populate the current version number for rc's build.\");\n\t}\n\n\tif (rcVersion) {\n\t\tmanifest.version = rcVersion;\n\t\tconsole.log(`Bumped version from ${manifestVersion} to ${rcVersion}`);\n\t}\n\n\tlet command = `yarn version ${rcVersion}`;\n\n\tif (options.commitMessage) {\n\t\tcommand = `${command} -m \"${options.commitMessage}\"`;\n\t}\n\n\tif (!(options.gitTagVersion ?? true)) {\n\t\tcommand = `${command} --no-git-tag-version`;\n\t}\n\n\t// call `npm version` to do our dirty work\n\tconst cwd = options.cwd ?? process.cwd();\n\tconst { stdout, stderr } = await promisify(cp.exec)(command, { cwd });\n\n\tif (!process.env.VSCE_TESTS) {\n\t\tprocess.stdout.write(stdout);\n\t\tprocess.stderr.write(stderr);\n\t}\n}\n","const defaultOpts = {\n    _useHtmlParser2: false,\n};\n/**\n * Flatten the options for Cheerio.\n *\n * This will set `_useHtmlParser2` to true if `xml` is set to true.\n *\n * @param options - The options to flatten.\n * @param baseOptions - The base options to use.\n * @returns The flattened options.\n */\nexport function flattenOptions(options, baseOptions) {\n    if (!options) {\n        return baseOptions !== null && baseOptions !== void 0 ? baseOptions : defaultOpts;\n    }\n    const opts = {\n        _useHtmlParser2: !!options.xmlMode,\n        ...baseOptions,\n        ...options,\n    };\n    if (options.xml) {\n        opts._useHtmlParser2 = true;\n        opts.xmlMode = true;\n        if (options.xml !== true) {\n            Object.assign(opts, options.xml);\n        }\n    }\n    else if (options.xmlMode) {\n        opts._useHtmlParser2 = true;\n    }\n    return opts;\n}\n//# sourceMappingURL=options.js.map","import { ElementType, isTag as isTagRaw } from \"domelementtype\";\n/**\n * This object will be used as the prototype for Nodes when creating a\n * DOM-Level-1-compliant structure.\n */\nexport class Node {\n    constructor() {\n        /** Parent of the node */\n        this.parent = null;\n        /** Previous sibling */\n        this.prev = null;\n        /** Next sibling */\n        this.next = null;\n        /** The start index of the node. Requires `withStartIndices` on the handler to be `true. */\n        this.startIndex = null;\n        /** The end index of the node. Requires `withEndIndices` on the handler to be `true. */\n        this.endIndex = null;\n    }\n    // Read-write aliases for properties\n    /**\n     * Same as {@link parent}.\n     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n     */\n    get parentNode() {\n        return this.parent;\n    }\n    set parentNode(parent) {\n        this.parent = parent;\n    }\n    /**\n     * Same as {@link prev}.\n     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n     */\n    get previousSibling() {\n        return this.prev;\n    }\n    set previousSibling(prev) {\n        this.prev = prev;\n    }\n    /**\n     * Same as {@link next}.\n     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n     */\n    get nextSibling() {\n        return this.next;\n    }\n    set nextSibling(next) {\n        this.next = next;\n    }\n    /**\n     * Clone this node, and optionally its children.\n     *\n     * @param recursive Clone child nodes as well.\n     * @returns A clone of the node.\n     */\n    cloneNode(recursive = false) {\n        return cloneNode(this, recursive);\n    }\n}\n/**\n * A node that contains some data.\n */\nexport class DataNode extends Node {\n    /**\n     * @param data The content of the data node\n     */\n    constructor(data) {\n        super();\n        this.data = data;\n    }\n    /**\n     * Same as {@link data}.\n     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n     */\n    get nodeValue() {\n        return this.data;\n    }\n    set nodeValue(data) {\n        this.data = data;\n    }\n}\n/**\n * Text within the document.\n */\nexport class Text extends DataNode {\n    constructor() {\n        super(...arguments);\n        this.type = ElementType.Text;\n    }\n    get nodeType() {\n        return 3;\n    }\n}\n/**\n * Comments within the document.\n */\nexport class Comment extends DataNode {\n    constructor() {\n        super(...arguments);\n        this.type = ElementType.Comment;\n    }\n    get nodeType() {\n        return 8;\n    }\n}\n/**\n * Processing instructions, including doc types.\n */\nexport class ProcessingInstruction extends DataNode {\n    constructor(name, data) {\n        super(data);\n        this.name = name;\n        this.type = ElementType.Directive;\n    }\n    get nodeType() {\n        return 1;\n    }\n}\n/**\n * A `Node` that can have children.\n */\nexport class NodeWithChildren extends Node {\n    /**\n     * @param children Children of the node. Only certain node types can have children.\n     */\n    constructor(children) {\n        super();\n        this.children = children;\n    }\n    // Aliases\n    /** First child of the node. */\n    get firstChild() {\n        var _a;\n        return (_a = this.children[0]) !== null && _a !== void 0 ? _a : null;\n    }\n    /** Last child of the node. */\n    get lastChild() {\n        return this.children.length > 0\n            ? this.children[this.children.length - 1]\n            : null;\n    }\n    /**\n     * Same as {@link children}.\n     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n     */\n    get childNodes() {\n        return this.children;\n    }\n    set childNodes(children) {\n        this.children = children;\n    }\n}\nexport class CDATA extends NodeWithChildren {\n    constructor() {\n        super(...arguments);\n        this.type = ElementType.CDATA;\n    }\n    get nodeType() {\n        return 4;\n    }\n}\n/**\n * The root node of the document.\n */\nexport class Document extends NodeWithChildren {\n    constructor() {\n        super(...arguments);\n        this.type = ElementType.Root;\n    }\n    get nodeType() {\n        return 9;\n    }\n}\n/**\n * An element within the DOM.\n */\nexport class Element extends NodeWithChildren {\n    /**\n     * @param name Name of the tag, eg. `div`, `span`.\n     * @param attribs Object mapping attribute names to attribute values.\n     * @param children Children of the node.\n     */\n    constructor(name, attribs, children = [], type = name === \"script\"\n        ? ElementType.Script\n        : name === \"style\"\n            ? ElementType.Style\n            : ElementType.Tag) {\n        super(children);\n        this.name = name;\n        this.attribs = attribs;\n        this.type = type;\n    }\n    get nodeType() {\n        return 1;\n    }\n    // DOM Level 1 aliases\n    /**\n     * Same as {@link name}.\n     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n     */\n    get tagName() {\n        return this.name;\n    }\n    set tagName(name) {\n        this.name = name;\n    }\n    get attributes() {\n        return Object.keys(this.attribs).map((name) => {\n            var _a, _b;\n            return ({\n                name,\n                value: this.attribs[name],\n                namespace: (_a = this[\"x-attribsNamespace\"]) === null || _a === void 0 ? void 0 : _a[name],\n                prefix: (_b = this[\"x-attribsPrefix\"]) === null || _b === void 0 ? void 0 : _b[name],\n            });\n        });\n    }\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `Element`, `false` otherwise.\n */\nexport function isTag(node) {\n    return isTagRaw(node);\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `CDATA`, `false` otherwise.\n */\nexport function isCDATA(node) {\n    return node.type === ElementType.CDATA;\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `Text`, `false` otherwise.\n */\nexport function isText(node) {\n    return node.type === ElementType.Text;\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `Comment`, `false` otherwise.\n */\nexport function isComment(node) {\n    return node.type === ElementType.Comment;\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `ProcessingInstruction`, `false` otherwise.\n */\nexport function isDirective(node) {\n    return node.type === ElementType.Directive;\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `ProcessingInstruction`, `false` otherwise.\n */\nexport function isDocument(node) {\n    return node.type === ElementType.Root;\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node has children, `false` otherwise.\n */\nexport function hasChildren(node) {\n    return Object.prototype.hasOwnProperty.call(node, \"children\");\n}\n/**\n * Clone a node, and optionally its children.\n *\n * @param recursive Clone child nodes as well.\n * @returns A clone of the node.\n */\nexport function cloneNode(node, recursive = false) {\n    let result;\n    if (isText(node)) {\n        result = new Text(node.data);\n    }\n    else if (isComment(node)) {\n        result = new Comment(node.data);\n    }\n    else if (isTag(node)) {\n        const children = recursive ? cloneChildren(node.children) : [];\n        const clone = new Element(node.name, { ...node.attribs }, children);\n        children.forEach((child) => (child.parent = clone));\n        if (node.namespace != null) {\n            clone.namespace = node.namespace;\n        }\n        if (node[\"x-attribsNamespace\"]) {\n            clone[\"x-attribsNamespace\"] = { ...node[\"x-attribsNamespace\"] };\n        }\n        if (node[\"x-attribsPrefix\"]) {\n            clone[\"x-attribsPrefix\"] = { ...node[\"x-attribsPrefix\"] };\n        }\n        result = clone;\n    }\n    else if (isCDATA(node)) {\n        const children = recursive ? cloneChildren(node.children) : [];\n        const clone = new CDATA(children);\n        children.forEach((child) => (child.parent = clone));\n        result = clone;\n    }\n    else if (isDocument(node)) {\n        const children = recursive ? cloneChildren(node.children) : [];\n        const clone = new Document(children);\n        children.forEach((child) => (child.parent = clone));\n        if (node[\"x-mode\"]) {\n            clone[\"x-mode\"] = node[\"x-mode\"];\n        }\n        result = clone;\n    }\n    else if (isDirective(node)) {\n        const instruction = new ProcessingInstruction(node.name, node.data);\n        if (node[\"x-name\"] != null) {\n            instruction[\"x-name\"] = node[\"x-name\"];\n            instruction[\"x-publicId\"] = node[\"x-publicId\"];\n            instruction[\"x-systemId\"] = node[\"x-systemId\"];\n        }\n        result = instruction;\n    }\n    else {\n        throw new Error(`Not implemented yet: ${node.type}`);\n    }\n    result.startIndex = node.startIndex;\n    result.endIndex = node.endIndex;\n    if (node.sourceCodeLocation != null) {\n        result.sourceCodeLocation = node.sourceCodeLocation;\n    }\n    return result;\n}\nfunction cloneChildren(childs) {\n    const children = childs.map((child) => cloneNode(child, true));\n    for (let i = 1; i < children.length; i++) {\n        children[i].prev = children[i - 1];\n        children[i - 1].next = children[i];\n    }\n    return children;\n}\n","import { ElementType } from \"domelementtype\";\nimport { Element, Text, Comment, CDATA, Document, ProcessingInstruction, } from \"./node.js\";\nexport * from \"./node.js\";\n// Default options\nconst defaultOpts = {\n    withStartIndices: false,\n    withEndIndices: false,\n    xmlMode: false,\n};\nexport class DomHandler {\n    /**\n     * @param callback Called once parsing has completed.\n     * @param options Settings for the handler.\n     * @param elementCB Callback whenever a tag is closed.\n     */\n    constructor(callback, options, elementCB) {\n        /** The elements of the DOM */\n        this.dom = [];\n        /** The root element for the DOM */\n        this.root = new Document(this.dom);\n        /** Indicated whether parsing has been completed. */\n        this.done = false;\n        /** Stack of open tags. */\n        this.tagStack = [this.root];\n        /** A data node that is still being written to. */\n        this.lastNode = null;\n        /** Reference to the parser instance. Used for location information. */\n        this.parser = null;\n        // Make it possible to skip arguments, for backwards-compatibility\n        if (typeof options === \"function\") {\n            elementCB = options;\n            options = defaultOpts;\n        }\n        if (typeof callback === \"object\") {\n            options = callback;\n            callback = undefined;\n        }\n        this.callback = callback !== null && callback !== void 0 ? callback : null;\n        this.options = options !== null && options !== void 0 ? options : defaultOpts;\n        this.elementCB = elementCB !== null && elementCB !== void 0 ? elementCB : null;\n    }\n    onparserinit(parser) {\n        this.parser = parser;\n    }\n    // Resets the handler back to starting state\n    onreset() {\n        this.dom = [];\n        this.root = new Document(this.dom);\n        this.done = false;\n        this.tagStack = [this.root];\n        this.lastNode = null;\n        this.parser = null;\n    }\n    // Signals the handler that parsing is done\n    onend() {\n        if (this.done)\n            return;\n        this.done = true;\n        this.parser = null;\n        this.handleCallback(null);\n    }\n    onerror(error) {\n        this.handleCallback(error);\n    }\n    onclosetag() {\n        this.lastNode = null;\n        const elem = this.tagStack.pop();\n        if (this.options.withEndIndices) {\n            elem.endIndex = this.parser.endIndex;\n        }\n        if (this.elementCB)\n            this.elementCB(elem);\n    }\n    onopentag(name, attribs) {\n        const type = this.options.xmlMode ? ElementType.Tag : undefined;\n        const element = new Element(name, attribs, undefined, type);\n        this.addNode(element);\n        this.tagStack.push(element);\n    }\n    ontext(data) {\n        const { lastNode } = this;\n        if (lastNode && lastNode.type === ElementType.Text) {\n            lastNode.data += data;\n            if (this.options.withEndIndices) {\n                lastNode.endIndex = this.parser.endIndex;\n            }\n        }\n        else {\n            const node = new Text(data);\n            this.addNode(node);\n            this.lastNode = node;\n        }\n    }\n    oncomment(data) {\n        if (this.lastNode && this.lastNode.type === ElementType.Comment) {\n            this.lastNode.data += data;\n            return;\n        }\n        const node = new Comment(data);\n        this.addNode(node);\n        this.lastNode = node;\n    }\n    oncommentend() {\n        this.lastNode = null;\n    }\n    oncdatastart() {\n        const text = new Text(\"\");\n        const node = new CDATA([text]);\n        this.addNode(node);\n        text.parent = node;\n        this.lastNode = text;\n    }\n    oncdataend() {\n        this.lastNode = null;\n    }\n    onprocessinginstruction(name, data) {\n        const node = new ProcessingInstruction(name, data);\n        this.addNode(node);\n    }\n    handleCallback(error) {\n        if (typeof this.callback === \"function\") {\n            this.callback(error, this.dom);\n        }\n        else if (error) {\n            throw error;\n        }\n    }\n    addNode(node) {\n        const parent = this.tagStack[this.tagStack.length - 1];\n        const previousSibling = parent.children[parent.children.length - 1];\n        if (this.options.withStartIndices) {\n            node.startIndex = this.parser.startIndex;\n        }\n        if (this.options.withEndIndices) {\n            node.endIndex = this.parser.endIndex;\n        }\n        parent.children.push(node);\n        if (previousSibling) {\n            node.prev = previousSibling;\n            previousSibling.next = node;\n        }\n        node.parent = parent;\n        this.lastNode = null;\n    }\n}\nexport default DomHandler;\n","// Generated using scripts/write-decode-map.ts\nexport default new Uint16Array(\n// prettier-ignore\n\"\\u1d41<\\xd5\\u0131\\u028a\\u049d\\u057b\\u05d0\\u0675\\u06de\\u07a2\\u07d6\\u080f\\u0a4a\\u0a91\\u0da1\\u0e6d\\u0f09\\u0f26\\u10ca\\u1228\\u12e1\\u1415\\u149d\\u14c3\\u14df\\u1525\\0\\0\\0\\0\\0\\0\\u156b\\u16cd\\u198d\\u1c12\\u1ddd\\u1f7e\\u2060\\u21b0\\u228d\\u23c0\\u23fb\\u2442\\u2824\\u2912\\u2d08\\u2e48\\u2fce\\u3016\\u32ba\\u3639\\u37ac\\u38fe\\u3a28\\u3a71\\u3ae0\\u3b2e\\u0800EMabcfglmnoprstu\\\\bfms\\x7f\\x84\\x8b\\x90\\x95\\x98\\xa6\\xb3\\xb9\\xc8\\xcflig\\u803b\\xc6\\u40c6P\\u803b&\\u4026cute\\u803b\\xc1\\u40c1reve;\\u4102\\u0100iyx}rc\\u803b\\xc2\\u40c2;\\u4410r;\\uc000\\ud835\\udd04rave\\u803b\\xc0\\u40c0pha;\\u4391acr;\\u4100d;\\u6a53\\u0100gp\\x9d\\xa1on;\\u4104f;\\uc000\\ud835\\udd38plyFunction;\\u6061ing\\u803b\\xc5\\u40c5\\u0100cs\\xbe\\xc3r;\\uc000\\ud835\\udc9cign;\\u6254ilde\\u803b\\xc3\\u40c3ml\\u803b\\xc4\\u40c4\\u0400aceforsu\\xe5\\xfb\\xfe\\u0117\\u011c\\u0122\\u0127\\u012a\\u0100cr\\xea\\xf2kslash;\\u6216\\u0176\\xf6\\xf8;\\u6ae7ed;\\u6306y;\\u4411\\u0180crt\\u0105\\u010b\\u0114ause;\\u6235noullis;\\u612ca;\\u4392r;\\uc000\\ud835\\udd05pf;\\uc000\\ud835\\udd39eve;\\u42d8c\\xf2\\u0113mpeq;\\u624e\\u0700HOacdefhilorsu\\u014d\\u0151\\u0156\\u0180\\u019e\\u01a2\\u01b5\\u01b7\\u01ba\\u01dc\\u0215\\u0273\\u0278\\u027ecy;\\u4427PY\\u803b\\xa9\\u40a9\\u0180cpy\\u015d\\u0162\\u017aute;\\u4106\\u0100;i\\u0167\\u0168\\u62d2talDifferentialD;\\u6145leys;\\u612d\\u0200aeio\\u0189\\u018e\\u0194\\u0198ron;\\u410cdil\\u803b\\xc7\\u40c7rc;\\u4108nint;\\u6230ot;\\u410a\\u0100dn\\u01a7\\u01adilla;\\u40b8terDot;\\u40b7\\xf2\\u017fi;\\u43a7rcle\\u0200DMPT\\u01c7\\u01cb\\u01d1\\u01d6ot;\\u6299inus;\\u6296lus;\\u6295imes;\\u6297o\\u0100cs\\u01e2\\u01f8kwiseContourIntegral;\\u6232eCurly\\u0100DQ\\u0203\\u020foubleQuote;\\u601duote;\\u6019\\u0200lnpu\\u021e\\u0228\\u0247\\u0255on\\u0100;e\\u0225\\u0226\\u6237;\\u6a74\\u0180git\\u022f\\u0236\\u023aruent;\\u6261nt;\\u622fourIntegral;\\u622e\\u0100fr\\u024c\\u024e;\\u6102oduct;\\u6210nterClockwiseContourIntegral;\\u6233oss;\\u6a2fcr;\\uc000\\ud835\\udc9ep\\u0100;C\\u0284\\u0285\\u62d3ap;\\u624d\\u0580DJSZacefios\\u02a0\\u02ac\\u02b0\\u02b4\\u02b8\\u02cb\\u02d7\\u02e1\\u02e6\\u0333\\u048d\\u0100;o\\u0179\\u02a5trahd;\\u6911cy;\\u4402cy;\\u4405cy;\\u440f\\u0180grs\\u02bf\\u02c4\\u02c7ger;\\u6021r;\\u61a1hv;\\u6ae4\\u0100ay\\u02d0\\u02d5ron;\\u410e;\\u4414l\\u0100;t\\u02dd\\u02de\\u6207a;\\u4394r;\\uc000\\ud835\\udd07\\u0100af\\u02eb\\u0327\\u0100cm\\u02f0\\u0322ritical\\u0200ADGT\\u0300\\u0306\\u0316\\u031ccute;\\u40b4o\\u0174\\u030b\\u030d;\\u42d9bleAcute;\\u42ddrave;\\u4060ilde;\\u42dcond;\\u62c4ferentialD;\\u6146\\u0470\\u033d\\0\\0\\0\\u0342\\u0354\\0\\u0405f;\\uc000\\ud835\\udd3b\\u0180;DE\\u0348\\u0349\\u034d\\u40a8ot;\\u60dcqual;\\u6250ble\\u0300CDLRUV\\u0363\\u0372\\u0382\\u03cf\\u03e2\\u03f8ontourIntegra\\xec\\u0239o\\u0274\\u0379\\0\\0\\u037b\\xbb\\u0349nArrow;\\u61d3\\u0100eo\\u0387\\u03a4ft\\u0180ART\\u0390\\u0396\\u03a1rrow;\\u61d0ightArrow;\\u61d4e\\xe5\\u02cang\\u0100LR\\u03ab\\u03c4eft\\u0100AR\\u03b3\\u03b9rrow;\\u67f8ightArrow;\\u67faightArrow;\\u67f9ight\\u0100AT\\u03d8\\u03derrow;\\u61d2ee;\\u62a8p\\u0241\\u03e9\\0\\0\\u03efrrow;\\u61d1ownArrow;\\u61d5erticalBar;\\u6225n\\u0300ABLRTa\\u0412\\u042a\\u0430\\u045e\\u047f\\u037crrow\\u0180;BU\\u041d\\u041e\\u0422\\u6193ar;\\u6913pArrow;\\u61f5reve;\\u4311eft\\u02d2\\u043a\\0\\u0446\\0\\u0450ightVector;\\u6950eeVector;\\u695eector\\u0100;B\\u0459\\u045a\\u61bdar;\\u6956ight\\u01d4\\u0467\\0\\u0471eeVector;\\u695fector\\u0100;B\\u047a\\u047b\\u61c1ar;\\u6957ee\\u0100;A\\u0486\\u0487\\u62a4rrow;\\u61a7\\u0100ct\\u0492\\u0497r;\\uc000\\ud835\\udc9frok;\\u4110\\u0800NTacdfglmopqstux\\u04bd\\u04c0\\u04c4\\u04cb\\u04de\\u04e2\\u04e7\\u04ee\\u04f5\\u0521\\u052f\\u0536\\u0552\\u055d\\u0560\\u0565G;\\u414aH\\u803b\\xd0\\u40d0cute\\u803b\\xc9\\u40c9\\u0180aiy\\u04d2\\u04d7\\u04dcron;\\u411arc\\u803b\\xca\\u40ca;\\u442dot;\\u4116r;\\uc000\\ud835\\udd08rave\\u803b\\xc8\\u40c8ement;\\u6208\\u0100ap\\u04fa\\u04fecr;\\u4112ty\\u0253\\u0506\\0\\0\\u0512mallSquare;\\u65fberySmallSquare;\\u65ab\\u0100gp\\u0526\\u052aon;\\u4118f;\\uc000\\ud835\\udd3csilon;\\u4395u\\u0100ai\\u053c\\u0549l\\u0100;T\\u0542\\u0543\\u6a75ilde;\\u6242librium;\\u61cc\\u0100ci\\u0557\\u055ar;\\u6130m;\\u6a73a;\\u4397ml\\u803b\\xcb\\u40cb\\u0100ip\\u056a\\u056fsts;\\u6203onentialE;\\u6147\\u0280cfios\\u0585\\u0588\\u058d\\u05b2\\u05ccy;\\u4424r;\\uc000\\ud835\\udd09lled\\u0253\\u0597\\0\\0\\u05a3mallSquare;\\u65fcerySmallSquare;\\u65aa\\u0370\\u05ba\\0\\u05bf\\0\\0\\u05c4f;\\uc000\\ud835\\udd3dAll;\\u6200riertrf;\\u6131c\\xf2\\u05cb\\u0600JTabcdfgorst\\u05e8\\u05ec\\u05ef\\u05fa\\u0600\\u0612\\u0616\\u061b\\u061d\\u0623\\u066c\\u0672cy;\\u4403\\u803b>\\u403emma\\u0100;d\\u05f7\\u05f8\\u4393;\\u43dcreve;\\u411e\\u0180eiy\\u0607\\u060c\\u0610dil;\\u4122rc;\\u411c;\\u4413ot;\\u4120r;\\uc000\\ud835\\udd0a;\\u62d9pf;\\uc000\\ud835\\udd3eeater\\u0300EFGLST\\u0635\\u0644\\u064e\\u0656\\u065b\\u0666qual\\u0100;L\\u063e\\u063f\\u6265ess;\\u62dbullEqual;\\u6267reater;\\u6aa2ess;\\u6277lantEqual;\\u6a7eilde;\\u6273cr;\\uc000\\ud835\\udca2;\\u626b\\u0400Aacfiosu\\u0685\\u068b\\u0696\\u069b\\u069e\\u06aa\\u06be\\u06caRDcy;\\u442a\\u0100ct\\u0690\\u0694ek;\\u42c7;\\u405eirc;\\u4124r;\\u610clbertSpace;\\u610b\\u01f0\\u06af\\0\\u06b2f;\\u610dizontalLine;\\u6500\\u0100ct\\u06c3\\u06c5\\xf2\\u06a9rok;\\u4126mp\\u0144\\u06d0\\u06d8ownHum\\xf0\\u012fqual;\\u624f\\u0700EJOacdfgmnostu\\u06fa\\u06fe\\u0703\\u0707\\u070e\\u071a\\u071e\\u0721\\u0728\\u0744\\u0778\\u078b\\u078f\\u0795cy;\\u4415lig;\\u4132cy;\\u4401cute\\u803b\\xcd\\u40cd\\u0100iy\\u0713\\u0718rc\\u803b\\xce\\u40ce;\\u4418ot;\\u4130r;\\u6111rave\\u803b\\xcc\\u40cc\\u0180;ap\\u0720\\u072f\\u073f\\u0100cg\\u0734\\u0737r;\\u412ainaryI;\\u6148lie\\xf3\\u03dd\\u01f4\\u0749\\0\\u0762\\u0100;e\\u074d\\u074e\\u622c\\u0100gr\\u0753\\u0758ral;\\u622bsection;\\u62c2isible\\u0100CT\\u076c\\u0772omma;\\u6063imes;\\u6062\\u0180gpt\\u077f\\u0783\\u0788on;\\u412ef;\\uc000\\ud835\\udd40a;\\u4399cr;\\u6110ilde;\\u4128\\u01eb\\u079a\\0\\u079ecy;\\u4406l\\u803b\\xcf\\u40cf\\u0280cfosu\\u07ac\\u07b7\\u07bc\\u07c2\\u07d0\\u0100iy\\u07b1\\u07b5rc;\\u4134;\\u4419r;\\uc000\\ud835\\udd0dpf;\\uc000\\ud835\\udd41\\u01e3\\u07c7\\0\\u07ccr;\\uc000\\ud835\\udca5rcy;\\u4408kcy;\\u4404\\u0380HJacfos\\u07e4\\u07e8\\u07ec\\u07f1\\u07fd\\u0802\\u0808cy;\\u4425cy;\\u440cppa;\\u439a\\u0100ey\\u07f6\\u07fbdil;\\u4136;\\u441ar;\\uc000\\ud835\\udd0epf;\\uc000\\ud835\\udd42cr;\\uc000\\ud835\\udca6\\u0580JTaceflmost\\u0825\\u0829\\u082c\\u0850\\u0863\\u09b3\\u09b8\\u09c7\\u09cd\\u0a37\\u0a47cy;\\u4409\\u803b<\\u403c\\u0280cmnpr\\u0837\\u083c\\u0841\\u0844\\u084dute;\\u4139bda;\\u439bg;\\u67ealacetrf;\\u6112r;\\u619e\\u0180aey\\u0857\\u085c\\u0861ron;\\u413ddil;\\u413b;\\u441b\\u0100fs\\u0868\\u0970t\\u0500ACDFRTUVar\\u087e\\u08a9\\u08b1\\u08e0\\u08e6\\u08fc\\u092f\\u095b\\u0390\\u096a\\u0100nr\\u0883\\u088fgleBracket;\\u67e8row\\u0180;BR\\u0899\\u089a\\u089e\\u6190ar;\\u61e4ightArrow;\\u61c6eiling;\\u6308o\\u01f5\\u08b7\\0\\u08c3bleBracket;\\u67e6n\\u01d4\\u08c8\\0\\u08d2eeVector;\\u6961ector\\u0100;B\\u08db\\u08dc\\u61c3ar;\\u6959loor;\\u630aight\\u0100AV\\u08ef\\u08f5rrow;\\u6194ector;\\u694e\\u0100er\\u0901\\u0917e\\u0180;AV\\u0909\\u090a\\u0910\\u62a3rrow;\\u61a4ector;\\u695aiangle\\u0180;BE\\u0924\\u0925\\u0929\\u62b2ar;\\u69cfqual;\\u62b4p\\u0180DTV\\u0937\\u0942\\u094cownVector;\\u6951eeVector;\\u6960ector\\u0100;B\\u0956\\u0957\\u61bfar;\\u6958ector\\u0100;B\\u0965\\u0966\\u61bcar;\\u6952ight\\xe1\\u039cs\\u0300EFGLST\\u097e\\u098b\\u0995\\u099d\\u09a2\\u09adqualGreater;\\u62daullEqual;\\u6266reater;\\u6276ess;\\u6aa1lantEqual;\\u6a7dilde;\\u6272r;\\uc000\\ud835\\udd0f\\u0100;e\\u09bd\\u09be\\u62d8ftarrow;\\u61daidot;\\u413f\\u0180npw\\u09d4\\u0a16\\u0a1bg\\u0200LRlr\\u09de\\u09f7\\u0a02\\u0a10eft\\u0100AR\\u09e6\\u09ecrrow;\\u67f5ightArrow;\\u67f7ightArrow;\\u67f6eft\\u0100ar\\u03b3\\u0a0aight\\xe1\\u03bfight\\xe1\\u03caf;\\uc000\\ud835\\udd43er\\u0100LR\\u0a22\\u0a2ceftArrow;\\u6199ightArrow;\\u6198\\u0180cht\\u0a3e\\u0a40\\u0a42\\xf2\\u084c;\\u61b0rok;\\u4141;\\u626a\\u0400acefiosu\\u0a5a\\u0a5d\\u0a60\\u0a77\\u0a7c\\u0a85\\u0a8b\\u0a8ep;\\u6905y;\\u441c\\u0100dl\\u0a65\\u0a6fiumSpace;\\u605flintrf;\\u6133r;\\uc000\\ud835\\udd10nusPlus;\\u6213pf;\\uc000\\ud835\\udd44c\\xf2\\u0a76;\\u439c\\u0480Jacefostu\\u0aa3\\u0aa7\\u0aad\\u0ac0\\u0b14\\u0b19\\u0d91\\u0d97\\u0d9ecy;\\u440acute;\\u4143\\u0180aey\\u0ab4\\u0ab9\\u0aberon;\\u4147dil;\\u4145;\\u441d\\u0180gsw\\u0ac7\\u0af0\\u0b0eative\\u0180MTV\\u0ad3\\u0adf\\u0ae8ediumSpace;\\u600bhi\\u0100cn\\u0ae6\\u0ad8\\xeb\\u0ad9eryThi\\xee\\u0ad9ted\\u0100GL\\u0af8\\u0b06reaterGreate\\xf2\\u0673essLes\\xf3\\u0a48Line;\\u400ar;\\uc000\\ud835\\udd11\\u0200Bnpt\\u0b22\\u0b28\\u0b37\\u0b3areak;\\u6060BreakingSpace;\\u40a0f;\\u6115\\u0680;CDEGHLNPRSTV\\u0b55\\u0b56\\u0b6a\\u0b7c\\u0ba1\\u0beb\\u0c04\\u0c5e\\u0c84\\u0ca6\\u0cd8\\u0d61\\u0d85\\u6aec\\u0100ou\\u0b5b\\u0b64ngruent;\\u6262pCap;\\u626doubleVerticalBar;\\u6226\\u0180lqx\\u0b83\\u0b8a\\u0b9bement;\\u6209ual\\u0100;T\\u0b92\\u0b93\\u6260ilde;\\uc000\\u2242\\u0338ists;\\u6204reater\\u0380;EFGLST\\u0bb6\\u0bb7\\u0bbd\\u0bc9\\u0bd3\\u0bd8\\u0be5\\u626fqual;\\u6271ullEqual;\\uc000\\u2267\\u0338reater;\\uc000\\u226b\\u0338ess;\\u6279lantEqual;\\uc000\\u2a7e\\u0338ilde;\\u6275ump\\u0144\\u0bf2\\u0bfdownHump;\\uc000\\u224e\\u0338qual;\\uc000\\u224f\\u0338e\\u0100fs\\u0c0a\\u0c27tTriangle\\u0180;BE\\u0c1a\\u0c1b\\u0c21\\u62eaar;\\uc000\\u29cf\\u0338qual;\\u62ecs\\u0300;EGLST\\u0c35\\u0c36\\u0c3c\\u0c44\\u0c4b\\u0c58\\u626equal;\\u6270reater;\\u6278ess;\\uc000\\u226a\\u0338lantEqual;\\uc000\\u2a7d\\u0338ilde;\\u6274ested\\u0100GL\\u0c68\\u0c79reaterGreater;\\uc000\\u2aa2\\u0338essLess;\\uc000\\u2aa1\\u0338recedes\\u0180;ES\\u0c92\\u0c93\\u0c9b\\u6280qual;\\uc000\\u2aaf\\u0338lantEqual;\\u62e0\\u0100ei\\u0cab\\u0cb9verseElement;\\u620cghtTriangle\\u0180;BE\\u0ccb\\u0ccc\\u0cd2\\u62ebar;\\uc000\\u29d0\\u0338qual;\\u62ed\\u0100qu\\u0cdd\\u0d0cuareSu\\u0100bp\\u0ce8\\u0cf9set\\u0100;E\\u0cf0\\u0cf3\\uc000\\u228f\\u0338qual;\\u62e2erset\\u0100;E\\u0d03\\u0d06\\uc000\\u2290\\u0338qual;\\u62e3\\u0180bcp\\u0d13\\u0d24\\u0d4eset\\u0100;E\\u0d1b\\u0d1e\\uc000\\u2282\\u20d2qual;\\u6288ceeds\\u0200;EST\\u0d32\\u0d33\\u0d3b\\u0d46\\u6281qual;\\uc000\\u2ab0\\u0338lantEqual;\\u62e1ilde;\\uc000\\u227f\\u0338erset\\u0100;E\\u0d58\\u0d5b\\uc000\\u2283\\u20d2qual;\\u6289ilde\\u0200;EFT\\u0d6e\\u0d6f\\u0d75\\u0d7f\\u6241qual;\\u6244ullEqual;\\u6247ilde;\\u6249erticalBar;\\u6224cr;\\uc000\\ud835\\udca9ilde\\u803b\\xd1\\u40d1;\\u439d\\u0700Eacdfgmoprstuv\\u0dbd\\u0dc2\\u0dc9\\u0dd5\\u0ddb\\u0de0\\u0de7\\u0dfc\\u0e02\\u0e20\\u0e22\\u0e32\\u0e3f\\u0e44lig;\\u4152cute\\u803b\\xd3\\u40d3\\u0100iy\\u0dce\\u0dd3rc\\u803b\\xd4\\u40d4;\\u441eblac;\\u4150r;\\uc000\\ud835\\udd12rave\\u803b\\xd2\\u40d2\\u0180aei\\u0dee\\u0df2\\u0df6cr;\\u414cga;\\u43a9cron;\\u439fpf;\\uc000\\ud835\\udd46enCurly\\u0100DQ\\u0e0e\\u0e1aoubleQuote;\\u601cuote;\\u6018;\\u6a54\\u0100cl\\u0e27\\u0e2cr;\\uc000\\ud835\\udcaaash\\u803b\\xd8\\u40d8i\\u016c\\u0e37\\u0e3cde\\u803b\\xd5\\u40d5es;\\u6a37ml\\u803b\\xd6\\u40d6er\\u0100BP\\u0e4b\\u0e60\\u0100ar\\u0e50\\u0e53r;\\u603eac\\u0100ek\\u0e5a\\u0e5c;\\u63deet;\\u63b4arenthesis;\\u63dc\\u0480acfhilors\\u0e7f\\u0e87\\u0e8a\\u0e8f\\u0e92\\u0e94\\u0e9d\\u0eb0\\u0efcrtialD;\\u6202y;\\u441fr;\\uc000\\ud835\\udd13i;\\u43a6;\\u43a0usMinus;\\u40b1\\u0100ip\\u0ea2\\u0eadncareplan\\xe5\\u069df;\\u6119\\u0200;eio\\u0eb9\\u0eba\\u0ee0\\u0ee4\\u6abbcedes\\u0200;EST\\u0ec8\\u0ec9\\u0ecf\\u0eda\\u627aqual;\\u6aaflantEqual;\\u627cilde;\\u627eme;\\u6033\\u0100dp\\u0ee9\\u0eeeuct;\\u620fortion\\u0100;a\\u0225\\u0ef9l;\\u621d\\u0100ci\\u0f01\\u0f06r;\\uc000\\ud835\\udcab;\\u43a8\\u0200Ufos\\u0f11\\u0f16\\u0f1b\\u0f1fOT\\u803b\\\"\\u4022r;\\uc000\\ud835\\udd14pf;\\u611acr;\\uc000\\ud835\\udcac\\u0600BEacefhiorsu\\u0f3e\\u0f43\\u0f47\\u0f60\\u0f73\\u0fa7\\u0faa\\u0fad\\u1096\\u10a9\\u10b4\\u10bearr;\\u6910G\\u803b\\xae\\u40ae\\u0180cnr\\u0f4e\\u0f53\\u0f56ute;\\u4154g;\\u67ebr\\u0100;t\\u0f5c\\u0f5d\\u61a0l;\\u6916\\u0180aey\\u0f67\\u0f6c\\u0f71ron;\\u4158dil;\\u4156;\\u4420\\u0100;v\\u0f78\\u0f79\\u611cerse\\u0100EU\\u0f82\\u0f99\\u0100lq\\u0f87\\u0f8eement;\\u620builibrium;\\u61cbpEquilibrium;\\u696fr\\xbb\\u0f79o;\\u43a1ght\\u0400ACDFTUVa\\u0fc1\\u0feb\\u0ff3\\u1022\\u1028\\u105b\\u1087\\u03d8\\u0100nr\\u0fc6\\u0fd2gleBracket;\\u67e9row\\u0180;BL\\u0fdc\\u0fdd\\u0fe1\\u6192ar;\\u61e5eftArrow;\\u61c4eiling;\\u6309o\\u01f5\\u0ff9\\0\\u1005bleBracket;\\u67e7n\\u01d4\\u100a\\0\\u1014eeVector;\\u695dector\\u0100;B\\u101d\\u101e\\u61c2ar;\\u6955loor;\\u630b\\u0100er\\u102d\\u1043e\\u0180;AV\\u1035\\u1036\\u103c\\u62a2rrow;\\u61a6ector;\\u695biangle\\u0180;BE\\u1050\\u1051\\u1055\\u62b3ar;\\u69d0qual;\\u62b5p\\u0180DTV\\u1063\\u106e\\u1078ownVector;\\u694feeVector;\\u695cector\\u0100;B\\u1082\\u1083\\u61bear;\\u6954ector\\u0100;B\\u1091\\u1092\\u61c0ar;\\u6953\\u0100pu\\u109b\\u109ef;\\u611dndImplies;\\u6970ightarrow;\\u61db\\u0100ch\\u10b9\\u10bcr;\\u611b;\\u61b1leDelayed;\\u69f4\\u0680HOacfhimoqstu\\u10e4\\u10f1\\u10f7\\u10fd\\u1119\\u111e\\u1151\\u1156\\u1161\\u1167\\u11b5\\u11bb\\u11bf\\u0100Cc\\u10e9\\u10eeHcy;\\u4429y;\\u4428FTcy;\\u442ccute;\\u415a\\u0280;aeiy\\u1108\\u1109\\u110e\\u1113\\u1117\\u6abcron;\\u4160dil;\\u415erc;\\u415c;\\u4421r;\\uc000\\ud835\\udd16ort\\u0200DLRU\\u112a\\u1134\\u113e\\u1149ownArrow\\xbb\\u041eeftArrow\\xbb\\u089aightArrow\\xbb\\u0fddpArrow;\\u6191gma;\\u43a3allCircle;\\u6218pf;\\uc000\\ud835\\udd4a\\u0272\\u116d\\0\\0\\u1170t;\\u621aare\\u0200;ISU\\u117b\\u117c\\u1189\\u11af\\u65a1ntersection;\\u6293u\\u0100bp\\u118f\\u119eset\\u0100;E\\u1197\\u1198\\u628fqual;\\u6291erset\\u0100;E\\u11a8\\u11a9\\u6290qual;\\u6292nion;\\u6294cr;\\uc000\\ud835\\udcaear;\\u62c6\\u0200bcmp\\u11c8\\u11db\\u1209\\u120b\\u0100;s\\u11cd\\u11ce\\u62d0et\\u0100;E\\u11cd\\u11d5qual;\\u6286\\u0100ch\\u11e0\\u1205eeds\\u0200;EST\\u11ed\\u11ee\\u11f4\\u11ff\\u627bqual;\\u6ab0lantEqual;\\u627dilde;\\u627fTh\\xe1\\u0f8c;\\u6211\\u0180;es\\u1212\\u1213\\u1223\\u62d1rset\\u0100;E\\u121c\\u121d\\u6283qual;\\u6287et\\xbb\\u1213\\u0580HRSacfhiors\\u123e\\u1244\\u1249\\u1255\\u125e\\u1271\\u1276\\u129f\\u12c2\\u12c8\\u12d1ORN\\u803b\\xde\\u40deADE;\\u6122\\u0100Hc\\u124e\\u1252cy;\\u440by;\\u4426\\u0100bu\\u125a\\u125c;\\u4009;\\u43a4\\u0180aey\\u1265\\u126a\\u126fron;\\u4164dil;\\u4162;\\u4422r;\\uc000\\ud835\\udd17\\u0100ei\\u127b\\u1289\\u01f2\\u1280\\0\\u1287efore;\\u6234a;\\u4398\\u0100cn\\u128e\\u1298kSpace;\\uc000\\u205f\\u200aSpace;\\u6009lde\\u0200;EFT\\u12ab\\u12ac\\u12b2\\u12bc\\u623cqual;\\u6243ullEqual;\\u6245ilde;\\u6248pf;\\uc000\\ud835\\udd4bipleDot;\\u60db\\u0100ct\\u12d6\\u12dbr;\\uc000\\ud835\\udcafrok;\\u4166\\u0ae1\\u12f7\\u130e\\u131a\\u1326\\0\\u132c\\u1331\\0\\0\\0\\0\\0\\u1338\\u133d\\u1377\\u1385\\0\\u13ff\\u1404\\u140a\\u1410\\u0100cr\\u12fb\\u1301ute\\u803b\\xda\\u40dar\\u0100;o\\u1307\\u1308\\u619fcir;\\u6949r\\u01e3\\u1313\\0\\u1316y;\\u440eve;\\u416c\\u0100iy\\u131e\\u1323rc\\u803b\\xdb\\u40db;\\u4423blac;\\u4170r;\\uc000\\ud835\\udd18rave\\u803b\\xd9\\u40d9acr;\\u416a\\u0100di\\u1341\\u1369er\\u0100BP\\u1348\\u135d\\u0100ar\\u134d\\u1350r;\\u405fac\\u0100ek\\u1357\\u1359;\\u63dfet;\\u63b5arenthesis;\\u63ddon\\u0100;P\\u1370\\u1371\\u62c3lus;\\u628e\\u0100gp\\u137b\\u137fon;\\u4172f;\\uc000\\ud835\\udd4c\\u0400ADETadps\\u1395\\u13ae\\u13b8\\u13c4\\u03e8\\u13d2\\u13d7\\u13f3rrow\\u0180;BD\\u1150\\u13a0\\u13a4ar;\\u6912ownArrow;\\u61c5ownArrow;\\u6195quilibrium;\\u696eee\\u0100;A\\u13cb\\u13cc\\u62a5rrow;\\u61a5own\\xe1\\u03f3er\\u0100LR\\u13de\\u13e8eftArrow;\\u6196ightArrow;\\u6197i\\u0100;l\\u13f9\\u13fa\\u43d2on;\\u43a5ing;\\u416ecr;\\uc000\\ud835\\udcb0ilde;\\u4168ml\\u803b\\xdc\\u40dc\\u0480Dbcdefosv\\u1427\\u142c\\u1430\\u1433\\u143e\\u1485\\u148a\\u1490\\u1496ash;\\u62abar;\\u6aeby;\\u4412ash\\u0100;l\\u143b\\u143c\\u62a9;\\u6ae6\\u0100er\\u1443\\u1445;\\u62c1\\u0180bty\\u144c\\u1450\\u147aar;\\u6016\\u0100;i\\u144f\\u1455cal\\u0200BLST\\u1461\\u1465\\u146a\\u1474ar;\\u6223ine;\\u407ceparator;\\u6758ilde;\\u6240ThinSpace;\\u600ar;\\uc000\\ud835\\udd19pf;\\uc000\\ud835\\udd4dcr;\\uc000\\ud835\\udcb1dash;\\u62aa\\u0280cefos\\u14a7\\u14ac\\u14b1\\u14b6\\u14bcirc;\\u4174dge;\\u62c0r;\\uc000\\ud835\\udd1apf;\\uc000\\ud835\\udd4ecr;\\uc000\\ud835\\udcb2\\u0200fios\\u14cb\\u14d0\\u14d2\\u14d8r;\\uc000\\ud835\\udd1b;\\u439epf;\\uc000\\ud835\\udd4fcr;\\uc000\\ud835\\udcb3\\u0480AIUacfosu\\u14f1\\u14f5\\u14f9\\u14fd\\u1504\\u150f\\u1514\\u151a\\u1520cy;\\u442fcy;\\u4407cy;\\u442ecute\\u803b\\xdd\\u40dd\\u0100iy\\u1509\\u150drc;\\u4176;\\u442br;\\uc000\\ud835\\udd1cpf;\\uc000\\ud835\\udd50cr;\\uc000\\ud835\\udcb4ml;\\u4178\\u0400Hacdefos\\u1535\\u1539\\u153f\\u154b\\u154f\\u155d\\u1560\\u1564cy;\\u4416cute;\\u4179\\u0100ay\\u1544\\u1549ron;\\u417d;\\u4417ot;\\u417b\\u01f2\\u1554\\0\\u155boWidt\\xe8\\u0ad9a;\\u4396r;\\u6128pf;\\u6124cr;\\uc000\\ud835\\udcb5\\u0be1\\u1583\\u158a\\u1590\\0\\u15b0\\u15b6\\u15bf\\0\\0\\0\\0\\u15c6\\u15db\\u15eb\\u165f\\u166d\\0\\u1695\\u169b\\u16b2\\u16b9\\0\\u16becute\\u803b\\xe1\\u40e1reve;\\u4103\\u0300;Ediuy\\u159c\\u159d\\u15a1\\u15a3\\u15a8\\u15ad\\u623e;\\uc000\\u223e\\u0333;\\u623frc\\u803b\\xe2\\u40e2te\\u80bb\\xb4\\u0306;\\u4430lig\\u803b\\xe6\\u40e6\\u0100;r\\xb2\\u15ba;\\uc000\\ud835\\udd1erave\\u803b\\xe0\\u40e0\\u0100ep\\u15ca\\u15d6\\u0100fp\\u15cf\\u15d4sym;\\u6135\\xe8\\u15d3ha;\\u43b1\\u0100ap\\u15dfc\\u0100cl\\u15e4\\u15e7r;\\u4101g;\\u6a3f\\u0264\\u15f0\\0\\0\\u160a\\u0280;adsv\\u15fa\\u15fb\\u15ff\\u1601\\u1607\\u6227nd;\\u6a55;\\u6a5clope;\\u6a58;\\u6a5a\\u0380;elmrsz\\u1618\\u1619\\u161b\\u161e\\u163f\\u164f\\u1659\\u6220;\\u69a4e\\xbb\\u1619sd\\u0100;a\\u1625\\u1626\\u6221\\u0461\\u1630\\u1632\\u1634\\u1636\\u1638\\u163a\\u163c\\u163e;\\u69a8;\\u69a9;\\u69aa;\\u69ab;\\u69ac;\\u69ad;\\u69ae;\\u69aft\\u0100;v\\u1645\\u1646\\u621fb\\u0100;d\\u164c\\u164d\\u62be;\\u699d\\u0100pt\\u1654\\u1657h;\\u6222\\xbb\\xb9arr;\\u637c\\u0100gp\\u1663\\u1667on;\\u4105f;\\uc000\\ud835\\udd52\\u0380;Eaeiop\\u12c1\\u167b\\u167d\\u1682\\u1684\\u1687\\u168a;\\u6a70cir;\\u6a6f;\\u624ad;\\u624bs;\\u4027rox\\u0100;e\\u12c1\\u1692\\xf1\\u1683ing\\u803b\\xe5\\u40e5\\u0180cty\\u16a1\\u16a6\\u16a8r;\\uc000\\ud835\\udcb6;\\u402amp\\u0100;e\\u12c1\\u16af\\xf1\\u0288ilde\\u803b\\xe3\\u40e3ml\\u803b\\xe4\\u40e4\\u0100ci\\u16c2\\u16c8onin\\xf4\\u0272nt;\\u6a11\\u0800Nabcdefiklnoprsu\\u16ed\\u16f1\\u1730\\u173c\\u1743\\u1748\\u1778\\u177d\\u17e0\\u17e6\\u1839\\u1850\\u170d\\u193d\\u1948\\u1970ot;\\u6aed\\u0100cr\\u16f6\\u171ek\\u0200ceps\\u1700\\u1705\\u170d\\u1713ong;\\u624cpsilon;\\u43f6rime;\\u6035im\\u0100;e\\u171a\\u171b\\u623dq;\\u62cd\\u0176\\u1722\\u1726ee;\\u62bded\\u0100;g\\u172c\\u172d\\u6305e\\xbb\\u172drk\\u0100;t\\u135c\\u1737brk;\\u63b6\\u0100oy\\u1701\\u1741;\\u4431quo;\\u601e\\u0280cmprt\\u1753\\u175b\\u1761\\u1764\\u1768aus\\u0100;e\\u010a\\u0109ptyv;\\u69b0s\\xe9\\u170cno\\xf5\\u0113\\u0180ahw\\u176f\\u1771\\u1773;\\u43b2;\\u6136een;\\u626cr;\\uc000\\ud835\\udd1fg\\u0380costuvw\\u178d\\u179d\\u17b3\\u17c1\\u17d5\\u17db\\u17de\\u0180aiu\\u1794\\u1796\\u179a\\xf0\\u0760rc;\\u65efp\\xbb\\u1371\\u0180dpt\\u17a4\\u17a8\\u17adot;\\u6a00lus;\\u6a01imes;\\u6a02\\u0271\\u17b9\\0\\0\\u17becup;\\u6a06ar;\\u6605riangle\\u0100du\\u17cd\\u17d2own;\\u65bdp;\\u65b3plus;\\u6a04e\\xe5\\u1444\\xe5\\u14adarow;\\u690d\\u0180ako\\u17ed\\u1826\\u1835\\u0100cn\\u17f2\\u1823k\\u0180lst\\u17fa\\u05ab\\u1802ozenge;\\u69ebriangle\\u0200;dlr\\u1812\\u1813\\u1818\\u181d\\u65b4own;\\u65beeft;\\u65c2ight;\\u65b8k;\\u6423\\u01b1\\u182b\\0\\u1833\\u01b2\\u182f\\0\\u1831;\\u6592;\\u65914;\\u6593ck;\\u6588\\u0100eo\\u183e\\u184d\\u0100;q\\u1843\\u1846\\uc000=\\u20e5uiv;\\uc000\\u2261\\u20e5t;\\u6310\\u0200ptwx\\u1859\\u185e\\u1867\\u186cf;\\uc000\\ud835\\udd53\\u0100;t\\u13cb\\u1863om\\xbb\\u13cctie;\\u62c8\\u0600DHUVbdhmptuv\\u1885\\u1896\\u18aa\\u18bb\\u18d7\\u18db\\u18ec\\u18ff\\u1905\\u190a\\u1910\\u1921\\u0200LRlr\\u188e\\u1890\\u1892\\u1894;\\u6557;\\u6554;\\u6556;\\u6553\\u0280;DUdu\\u18a1\\u18a2\\u18a4\\u18a6\\u18a8\\u6550;\\u6566;\\u6569;\\u6564;\\u6567\\u0200LRlr\\u18b3\\u18b5\\u18b7\\u18b9;\\u655d;\\u655a;\\u655c;\\u6559\\u0380;HLRhlr\\u18ca\\u18cb\\u18cd\\u18cf\\u18d1\\u18d3\\u18d5\\u6551;\\u656c;\\u6563;\\u6560;\\u656b;\\u6562;\\u655fox;\\u69c9\\u0200LRlr\\u18e4\\u18e6\\u18e8\\u18ea;\\u6555;\\u6552;\\u6510;\\u650c\\u0280;DUdu\\u06bd\\u18f7\\u18f9\\u18fb\\u18fd;\\u6565;\\u6568;\\u652c;\\u6534inus;\\u629flus;\\u629eimes;\\u62a0\\u0200LRlr\\u1919\\u191b\\u191d\\u191f;\\u655b;\\u6558;\\u6518;\\u6514\\u0380;HLRhlr\\u1930\\u1931\\u1933\\u1935\\u1937\\u1939\\u193b\\u6502;\\u656a;\\u6561;\\u655e;\\u653c;\\u6524;\\u651c\\u0100ev\\u0123\\u1942bar\\u803b\\xa6\\u40a6\\u0200ceio\\u1951\\u1956\\u195a\\u1960r;\\uc000\\ud835\\udcb7mi;\\u604fm\\u0100;e\\u171a\\u171cl\\u0180;bh\\u1968\\u1969\\u196b\\u405c;\\u69c5sub;\\u67c8\\u016c\\u1974\\u197el\\u0100;e\\u1979\\u197a\\u6022t\\xbb\\u197ap\\u0180;Ee\\u012f\\u1985\\u1987;\\u6aae\\u0100;q\\u06dc\\u06db\\u0ce1\\u19a7\\0\\u19e8\\u1a11\\u1a15\\u1a32\\0\\u1a37\\u1a50\\0\\0\\u1ab4\\0\\0\\u1ac1\\0\\0\\u1b21\\u1b2e\\u1b4d\\u1b52\\0\\u1bfd\\0\\u1c0c\\u0180cpr\\u19ad\\u19b2\\u19ddute;\\u4107\\u0300;abcds\\u19bf\\u19c0\\u19c4\\u19ca\\u19d5\\u19d9\\u6229nd;\\u6a44rcup;\\u6a49\\u0100au\\u19cf\\u19d2p;\\u6a4bp;\\u6a47ot;\\u6a40;\\uc000\\u2229\\ufe00\\u0100eo\\u19e2\\u19e5t;\\u6041\\xee\\u0693\\u0200aeiu\\u19f0\\u19fb\\u1a01\\u1a05\\u01f0\\u19f5\\0\\u19f8s;\\u6a4don;\\u410ddil\\u803b\\xe7\\u40e7rc;\\u4109ps\\u0100;s\\u1a0c\\u1a0d\\u6a4cm;\\u6a50ot;\\u410b\\u0180dmn\\u1a1b\\u1a20\\u1a26il\\u80bb\\xb8\\u01adptyv;\\u69b2t\\u8100\\xa2;e\\u1a2d\\u1a2e\\u40a2r\\xe4\\u01b2r;\\uc000\\ud835\\udd20\\u0180cei\\u1a3d\\u1a40\\u1a4dy;\\u4447ck\\u0100;m\\u1a47\\u1a48\\u6713ark\\xbb\\u1a48;\\u43c7r\\u0380;Ecefms\\u1a5f\\u1a60\\u1a62\\u1a6b\\u1aa4\\u1aaa\\u1aae\\u65cb;\\u69c3\\u0180;el\\u1a69\\u1a6a\\u1a6d\\u42c6q;\\u6257e\\u0261\\u1a74\\0\\0\\u1a88rrow\\u0100lr\\u1a7c\\u1a81eft;\\u61baight;\\u61bb\\u0280RSacd\\u1a92\\u1a94\\u1a96\\u1a9a\\u1a9f\\xbb\\u0f47;\\u64c8st;\\u629birc;\\u629aash;\\u629dnint;\\u6a10id;\\u6aefcir;\\u69c2ubs\\u0100;u\\u1abb\\u1abc\\u6663it\\xbb\\u1abc\\u02ec\\u1ac7\\u1ad4\\u1afa\\0\\u1b0aon\\u0100;e\\u1acd\\u1ace\\u403a\\u0100;q\\xc7\\xc6\\u026d\\u1ad9\\0\\0\\u1ae2a\\u0100;t\\u1ade\\u1adf\\u402c;\\u4040\\u0180;fl\\u1ae8\\u1ae9\\u1aeb\\u6201\\xee\\u1160e\\u0100mx\\u1af1\\u1af6ent\\xbb\\u1ae9e\\xf3\\u024d\\u01e7\\u1afe\\0\\u1b07\\u0100;d\\u12bb\\u1b02ot;\\u6a6dn\\xf4\\u0246\\u0180fry\\u1b10\\u1b14\\u1b17;\\uc000\\ud835\\udd54o\\xe4\\u0254\\u8100\\xa9;s\\u0155\\u1b1dr;\\u6117\\u0100ao\\u1b25\\u1b29rr;\\u61b5ss;\\u6717\\u0100cu\\u1b32\\u1b37r;\\uc000\\ud835\\udcb8\\u0100bp\\u1b3c\\u1b44\\u0100;e\\u1b41\\u1b42\\u6acf;\\u6ad1\\u0100;e\\u1b49\\u1b4a\\u6ad0;\\u6ad2dot;\\u62ef\\u0380delprvw\\u1b60\\u1b6c\\u1b77\\u1b82\\u1bac\\u1bd4\\u1bf9arr\\u0100lr\\u1b68\\u1b6a;\\u6938;\\u6935\\u0270\\u1b72\\0\\0\\u1b75r;\\u62dec;\\u62dfarr\\u0100;p\\u1b7f\\u1b80\\u61b6;\\u693d\\u0300;bcdos\\u1b8f\\u1b90\\u1b96\\u1ba1\\u1ba5\\u1ba8\\u622arcap;\\u6a48\\u0100au\\u1b9b\\u1b9ep;\\u6a46p;\\u6a4aot;\\u628dr;\\u6a45;\\uc000\\u222a\\ufe00\\u0200alrv\\u1bb5\\u1bbf\\u1bde\\u1be3rr\\u0100;m\\u1bbc\\u1bbd\\u61b7;\\u693cy\\u0180evw\\u1bc7\\u1bd4\\u1bd8q\\u0270\\u1bce\\0\\0\\u1bd2re\\xe3\\u1b73u\\xe3\\u1b75ee;\\u62ceedge;\\u62cfen\\u803b\\xa4\\u40a4earrow\\u0100lr\\u1bee\\u1bf3eft\\xbb\\u1b80ight\\xbb\\u1bbde\\xe4\\u1bdd\\u0100ci\\u1c01\\u1c07onin\\xf4\\u01f7nt;\\u6231lcty;\\u632d\\u0980AHabcdefhijlorstuwz\\u1c38\\u1c3b\\u1c3f\\u1c5d\\u1c69\\u1c75\\u1c8a\\u1c9e\\u1cac\\u1cb7\\u1cfb\\u1cff\\u1d0d\\u1d7b\\u1d91\\u1dab\\u1dbb\\u1dc6\\u1dcdr\\xf2\\u0381ar;\\u6965\\u0200glrs\\u1c48\\u1c4d\\u1c52\\u1c54ger;\\u6020eth;\\u6138\\xf2\\u1133h\\u0100;v\\u1c5a\\u1c5b\\u6010\\xbb\\u090a\\u016b\\u1c61\\u1c67arow;\\u690fa\\xe3\\u0315\\u0100ay\\u1c6e\\u1c73ron;\\u410f;\\u4434\\u0180;ao\\u0332\\u1c7c\\u1c84\\u0100gr\\u02bf\\u1c81r;\\u61catseq;\\u6a77\\u0180glm\\u1c91\\u1c94\\u1c98\\u803b\\xb0\\u40b0ta;\\u43b4ptyv;\\u69b1\\u0100ir\\u1ca3\\u1ca8sht;\\u697f;\\uc000\\ud835\\udd21ar\\u0100lr\\u1cb3\\u1cb5\\xbb\\u08dc\\xbb\\u101e\\u0280aegsv\\u1cc2\\u0378\\u1cd6\\u1cdc\\u1ce0m\\u0180;os\\u0326\\u1cca\\u1cd4nd\\u0100;s\\u0326\\u1cd1uit;\\u6666amma;\\u43ddin;\\u62f2\\u0180;io\\u1ce7\\u1ce8\\u1cf8\\u40f7de\\u8100\\xf7;o\\u1ce7\\u1cf0ntimes;\\u62c7n\\xf8\\u1cf7cy;\\u4452c\\u026f\\u1d06\\0\\0\\u1d0arn;\\u631eop;\\u630d\\u0280lptuw\\u1d18\\u1d1d\\u1d22\\u1d49\\u1d55lar;\\u4024f;\\uc000\\ud835\\udd55\\u0280;emps\\u030b\\u1d2d\\u1d37\\u1d3d\\u1d42q\\u0100;d\\u0352\\u1d33ot;\\u6251inus;\\u6238lus;\\u6214quare;\\u62a1blebarwedg\\xe5\\xfan\\u0180adh\\u112e\\u1d5d\\u1d67ownarrow\\xf3\\u1c83arpoon\\u0100lr\\u1d72\\u1d76ef\\xf4\\u1cb4igh\\xf4\\u1cb6\\u0162\\u1d7f\\u1d85karo\\xf7\\u0f42\\u026f\\u1d8a\\0\\0\\u1d8ern;\\u631fop;\\u630c\\u0180cot\\u1d98\\u1da3\\u1da6\\u0100ry\\u1d9d\\u1da1;\\uc000\\ud835\\udcb9;\\u4455l;\\u69f6rok;\\u4111\\u0100dr\\u1db0\\u1db4ot;\\u62f1i\\u0100;f\\u1dba\\u1816\\u65bf\\u0100ah\\u1dc0\\u1dc3r\\xf2\\u0429a\\xf2\\u0fa6angle;\\u69a6\\u0100ci\\u1dd2\\u1dd5y;\\u445fgrarr;\\u67ff\\u0900Dacdefglmnopqrstux\\u1e01\\u1e09\\u1e19\\u1e38\\u0578\\u1e3c\\u1e49\\u1e61\\u1e7e\\u1ea5\\u1eaf\\u1ebd\\u1ee1\\u1f2a\\u1f37\\u1f44\\u1f4e\\u1f5a\\u0100Do\\u1e06\\u1d34o\\xf4\\u1c89\\u0100cs\\u1e0e\\u1e14ute\\u803b\\xe9\\u40e9ter;\\u6a6e\\u0200aioy\\u1e22\\u1e27\\u1e31\\u1e36ron;\\u411br\\u0100;c\\u1e2d\\u1e2e\\u6256\\u803b\\xea\\u40ealon;\\u6255;\\u444dot;\\u4117\\u0100Dr\\u1e41\\u1e45ot;\\u6252;\\uc000\\ud835\\udd22\\u0180;rs\\u1e50\\u1e51\\u1e57\\u6a9aave\\u803b\\xe8\\u40e8\\u0100;d\\u1e5c\\u1e5d\\u6a96ot;\\u6a98\\u0200;ils\\u1e6a\\u1e6b\\u1e72\\u1e74\\u6a99nters;\\u63e7;\\u6113\\u0100;d\\u1e79\\u1e7a\\u6a95ot;\\u6a97\\u0180aps\\u1e85\\u1e89\\u1e97cr;\\u4113ty\\u0180;sv\\u1e92\\u1e93\\u1e95\\u6205et\\xbb\\u1e93p\\u01001;\\u1e9d\\u1ea4\\u0133\\u1ea1\\u1ea3;\\u6004;\\u6005\\u6003\\u0100gs\\u1eaa\\u1eac;\\u414bp;\\u6002\\u0100gp\\u1eb4\\u1eb8on;\\u4119f;\\uc000\\ud835\\udd56\\u0180als\\u1ec4\\u1ece\\u1ed2r\\u0100;s\\u1eca\\u1ecb\\u62d5l;\\u69e3us;\\u6a71i\\u0180;lv\\u1eda\\u1edb\\u1edf\\u43b5on\\xbb\\u1edb;\\u43f5\\u0200csuv\\u1eea\\u1ef3\\u1f0b\\u1f23\\u0100io\\u1eef\\u1e31rc\\xbb\\u1e2e\\u0269\\u1ef9\\0\\0\\u1efb\\xed\\u0548ant\\u0100gl\\u1f02\\u1f06tr\\xbb\\u1e5dess\\xbb\\u1e7a\\u0180aei\\u1f12\\u1f16\\u1f1als;\\u403dst;\\u625fv\\u0100;D\\u0235\\u1f20D;\\u6a78parsl;\\u69e5\\u0100Da\\u1f2f\\u1f33ot;\\u6253rr;\\u6971\\u0180cdi\\u1f3e\\u1f41\\u1ef8r;\\u612fo\\xf4\\u0352\\u0100ah\\u1f49\\u1f4b;\\u43b7\\u803b\\xf0\\u40f0\\u0100mr\\u1f53\\u1f57l\\u803b\\xeb\\u40ebo;\\u60ac\\u0180cip\\u1f61\\u1f64\\u1f67l;\\u4021s\\xf4\\u056e\\u0100eo\\u1f6c\\u1f74ctatio\\xee\\u0559nential\\xe5\\u0579\\u09e1\\u1f92\\0\\u1f9e\\0\\u1fa1\\u1fa7\\0\\0\\u1fc6\\u1fcc\\0\\u1fd3\\0\\u1fe6\\u1fea\\u2000\\0\\u2008\\u205allingdotse\\xf1\\u1e44y;\\u4444male;\\u6640\\u0180ilr\\u1fad\\u1fb3\\u1fc1lig;\\u8000\\ufb03\\u0269\\u1fb9\\0\\0\\u1fbdg;\\u8000\\ufb00ig;\\u8000\\ufb04;\\uc000\\ud835\\udd23lig;\\u8000\\ufb01lig;\\uc000fj\\u0180alt\\u1fd9\\u1fdc\\u1fe1t;\\u666dig;\\u8000\\ufb02ns;\\u65b1of;\\u4192\\u01f0\\u1fee\\0\\u1ff3f;\\uc000\\ud835\\udd57\\u0100ak\\u05bf\\u1ff7\\u0100;v\\u1ffc\\u1ffd\\u62d4;\\u6ad9artint;\\u6a0d\\u0100ao\\u200c\\u2055\\u0100cs\\u2011\\u2052\\u03b1\\u201a\\u2030\\u2038\\u2045\\u2048\\0\\u2050\\u03b2\\u2022\\u2025\\u2027\\u202a\\u202c\\0\\u202e\\u803b\\xbd\\u40bd;\\u6153\\u803b\\xbc\\u40bc;\\u6155;\\u6159;\\u615b\\u01b3\\u2034\\0\\u2036;\\u6154;\\u6156\\u02b4\\u203e\\u2041\\0\\0\\u2043\\u803b\\xbe\\u40be;\\u6157;\\u615c5;\\u6158\\u01b6\\u204c\\0\\u204e;\\u615a;\\u615d8;\\u615el;\\u6044wn;\\u6322cr;\\uc000\\ud835\\udcbb\\u0880Eabcdefgijlnorstv\\u2082\\u2089\\u209f\\u20a5\\u20b0\\u20b4\\u20f0\\u20f5\\u20fa\\u20ff\\u2103\\u2112\\u2138\\u0317\\u213e\\u2152\\u219e\\u0100;l\\u064d\\u2087;\\u6a8c\\u0180cmp\\u2090\\u2095\\u209dute;\\u41f5ma\\u0100;d\\u209c\\u1cda\\u43b3;\\u6a86reve;\\u411f\\u0100iy\\u20aa\\u20aerc;\\u411d;\\u4433ot;\\u4121\\u0200;lqs\\u063e\\u0642\\u20bd\\u20c9\\u0180;qs\\u063e\\u064c\\u20c4lan\\xf4\\u0665\\u0200;cdl\\u0665\\u20d2\\u20d5\\u20e5c;\\u6aa9ot\\u0100;o\\u20dc\\u20dd\\u6a80\\u0100;l\\u20e2\\u20e3\\u6a82;\\u6a84\\u0100;e\\u20ea\\u20ed\\uc000\\u22db\\ufe00s;\\u6a94r;\\uc000\\ud835\\udd24\\u0100;g\\u0673\\u061bmel;\\u6137cy;\\u4453\\u0200;Eaj\\u065a\\u210c\\u210e\\u2110;\\u6a92;\\u6aa5;\\u6aa4\\u0200Eaes\\u211b\\u211d\\u2129\\u2134;\\u6269p\\u0100;p\\u2123\\u2124\\u6a8arox\\xbb\\u2124\\u0100;q\\u212e\\u212f\\u6a88\\u0100;q\\u212e\\u211bim;\\u62e7pf;\\uc000\\ud835\\udd58\\u0100ci\\u2143\\u2146r;\\u610am\\u0180;el\\u066b\\u214e\\u2150;\\u6a8e;\\u6a90\\u8300>;cdlqr\\u05ee\\u2160\\u216a\\u216e\\u2173\\u2179\\u0100ci\\u2165\\u2167;\\u6aa7r;\\u6a7aot;\\u62d7Par;\\u6995uest;\\u6a7c\\u0280adels\\u2184\\u216a\\u2190\\u0656\\u219b\\u01f0\\u2189\\0\\u218epro\\xf8\\u209er;\\u6978q\\u0100lq\\u063f\\u2196les\\xf3\\u2088i\\xed\\u066b\\u0100en\\u21a3\\u21adrtneqq;\\uc000\\u2269\\ufe00\\xc5\\u21aa\\u0500Aabcefkosy\\u21c4\\u21c7\\u21f1\\u21f5\\u21fa\\u2218\\u221d\\u222f\\u2268\\u227dr\\xf2\\u03a0\\u0200ilmr\\u21d0\\u21d4\\u21d7\\u21dbrs\\xf0\\u1484f\\xbb\\u2024il\\xf4\\u06a9\\u0100dr\\u21e0\\u21e4cy;\\u444a\\u0180;cw\\u08f4\\u21eb\\u21efir;\\u6948;\\u61adar;\\u610firc;\\u4125\\u0180alr\\u2201\\u220e\\u2213rts\\u0100;u\\u2209\\u220a\\u6665it\\xbb\\u220alip;\\u6026con;\\u62b9r;\\uc000\\ud835\\udd25s\\u0100ew\\u2223\\u2229arow;\\u6925arow;\\u6926\\u0280amopr\\u223a\\u223e\\u2243\\u225e\\u2263rr;\\u61fftht;\\u623bk\\u0100lr\\u2249\\u2253eftarrow;\\u61a9ightarrow;\\u61aaf;\\uc000\\ud835\\udd59bar;\\u6015\\u0180clt\\u226f\\u2274\\u2278r;\\uc000\\ud835\\udcbdas\\xe8\\u21f4rok;\\u4127\\u0100bp\\u2282\\u2287ull;\\u6043hen\\xbb\\u1c5b\\u0ae1\\u22a3\\0\\u22aa\\0\\u22b8\\u22c5\\u22ce\\0\\u22d5\\u22f3\\0\\0\\u22f8\\u2322\\u2367\\u2362\\u237f\\0\\u2386\\u23aa\\u23b4cute\\u803b\\xed\\u40ed\\u0180;iy\\u0771\\u22b0\\u22b5rc\\u803b\\xee\\u40ee;\\u4438\\u0100cx\\u22bc\\u22bfy;\\u4435cl\\u803b\\xa1\\u40a1\\u0100fr\\u039f\\u22c9;\\uc000\\ud835\\udd26rave\\u803b\\xec\\u40ec\\u0200;ino\\u073e\\u22dd\\u22e9\\u22ee\\u0100in\\u22e2\\u22e6nt;\\u6a0ct;\\u622dfin;\\u69dcta;\\u6129lig;\\u4133\\u0180aop\\u22fe\\u231a\\u231d\\u0180cgt\\u2305\\u2308\\u2317r;\\u412b\\u0180elp\\u071f\\u230f\\u2313in\\xe5\\u078ear\\xf4\\u0720h;\\u4131f;\\u62b7ed;\\u41b5\\u0280;cfot\\u04f4\\u232c\\u2331\\u233d\\u2341are;\\u6105in\\u0100;t\\u2338\\u2339\\u621eie;\\u69dddo\\xf4\\u2319\\u0280;celp\\u0757\\u234c\\u2350\\u235b\\u2361al;\\u62ba\\u0100gr\\u2355\\u2359er\\xf3\\u1563\\xe3\\u234darhk;\\u6a17rod;\\u6a3c\\u0200cgpt\\u236f\\u2372\\u2376\\u237by;\\u4451on;\\u412ff;\\uc000\\ud835\\udd5aa;\\u43b9uest\\u803b\\xbf\\u40bf\\u0100ci\\u238a\\u238fr;\\uc000\\ud835\\udcben\\u0280;Edsv\\u04f4\\u239b\\u239d\\u23a1\\u04f3;\\u62f9ot;\\u62f5\\u0100;v\\u23a6\\u23a7\\u62f4;\\u62f3\\u0100;i\\u0777\\u23aelde;\\u4129\\u01eb\\u23b8\\0\\u23bccy;\\u4456l\\u803b\\xef\\u40ef\\u0300cfmosu\\u23cc\\u23d7\\u23dc\\u23e1\\u23e7\\u23f5\\u0100iy\\u23d1\\u23d5rc;\\u4135;\\u4439r;\\uc000\\ud835\\udd27ath;\\u4237pf;\\uc000\\ud835\\udd5b\\u01e3\\u23ec\\0\\u23f1r;\\uc000\\ud835\\udcbfrcy;\\u4458kcy;\\u4454\\u0400acfghjos\\u240b\\u2416\\u2422\\u2427\\u242d\\u2431\\u2435\\u243bppa\\u0100;v\\u2413\\u2414\\u43ba;\\u43f0\\u0100ey\\u241b\\u2420dil;\\u4137;\\u443ar;\\uc000\\ud835\\udd28reen;\\u4138cy;\\u4445cy;\\u445cpf;\\uc000\\ud835\\udd5ccr;\\uc000\\ud835\\udcc0\\u0b80ABEHabcdefghjlmnoprstuv\\u2470\\u2481\\u2486\\u248d\\u2491\\u250e\\u253d\\u255a\\u2580\\u264e\\u265e\\u2665\\u2679\\u267d\\u269a\\u26b2\\u26d8\\u275d\\u2768\\u278b\\u27c0\\u2801\\u2812\\u0180art\\u2477\\u247a\\u247cr\\xf2\\u09c6\\xf2\\u0395ail;\\u691barr;\\u690e\\u0100;g\\u0994\\u248b;\\u6a8bar;\\u6962\\u0963\\u24a5\\0\\u24aa\\0\\u24b1\\0\\0\\0\\0\\0\\u24b5\\u24ba\\0\\u24c6\\u24c8\\u24cd\\0\\u24f9ute;\\u413amptyv;\\u69b4ra\\xee\\u084cbda;\\u43bbg\\u0180;dl\\u088e\\u24c1\\u24c3;\\u6991\\xe5\\u088e;\\u6a85uo\\u803b\\xab\\u40abr\\u0400;bfhlpst\\u0899\\u24de\\u24e6\\u24e9\\u24eb\\u24ee\\u24f1\\u24f5\\u0100;f\\u089d\\u24e3s;\\u691fs;\\u691d\\xeb\\u2252p;\\u61abl;\\u6939im;\\u6973l;\\u61a2\\u0180;ae\\u24ff\\u2500\\u2504\\u6aabil;\\u6919\\u0100;s\\u2509\\u250a\\u6aad;\\uc000\\u2aad\\ufe00\\u0180abr\\u2515\\u2519\\u251drr;\\u690crk;\\u6772\\u0100ak\\u2522\\u252cc\\u0100ek\\u2528\\u252a;\\u407b;\\u405b\\u0100es\\u2531\\u2533;\\u698bl\\u0100du\\u2539\\u253b;\\u698f;\\u698d\\u0200aeuy\\u2546\\u254b\\u2556\\u2558ron;\\u413e\\u0100di\\u2550\\u2554il;\\u413c\\xec\\u08b0\\xe2\\u2529;\\u443b\\u0200cqrs\\u2563\\u2566\\u256d\\u257da;\\u6936uo\\u0100;r\\u0e19\\u1746\\u0100du\\u2572\\u2577har;\\u6967shar;\\u694bh;\\u61b2\\u0280;fgqs\\u258b\\u258c\\u0989\\u25f3\\u25ff\\u6264t\\u0280ahlrt\\u2598\\u25a4\\u25b7\\u25c2\\u25e8rrow\\u0100;t\\u0899\\u25a1a\\xe9\\u24f6arpoon\\u0100du\\u25af\\u25b4own\\xbb\\u045ap\\xbb\\u0966eftarrows;\\u61c7ight\\u0180ahs\\u25cd\\u25d6\\u25derrow\\u0100;s\\u08f4\\u08a7arpoon\\xf3\\u0f98quigarro\\xf7\\u21f0hreetimes;\\u62cb\\u0180;qs\\u258b\\u0993\\u25falan\\xf4\\u09ac\\u0280;cdgs\\u09ac\\u260a\\u260d\\u261d\\u2628c;\\u6aa8ot\\u0100;o\\u2614\\u2615\\u6a7f\\u0100;r\\u261a\\u261b\\u6a81;\\u6a83\\u0100;e\\u2622\\u2625\\uc000\\u22da\\ufe00s;\\u6a93\\u0280adegs\\u2633\\u2639\\u263d\\u2649\\u264bppro\\xf8\\u24c6ot;\\u62d6q\\u0100gq\\u2643\\u2645\\xf4\\u0989gt\\xf2\\u248c\\xf4\\u099bi\\xed\\u09b2\\u0180ilr\\u2655\\u08e1\\u265asht;\\u697c;\\uc000\\ud835\\udd29\\u0100;E\\u099c\\u2663;\\u6a91\\u0161\\u2669\\u2676r\\u0100du\\u25b2\\u266e\\u0100;l\\u0965\\u2673;\\u696alk;\\u6584cy;\\u4459\\u0280;acht\\u0a48\\u2688\\u268b\\u2691\\u2696r\\xf2\\u25c1orne\\xf2\\u1d08ard;\\u696bri;\\u65fa\\u0100io\\u269f\\u26a4dot;\\u4140ust\\u0100;a\\u26ac\\u26ad\\u63b0che\\xbb\\u26ad\\u0200Eaes\\u26bb\\u26bd\\u26c9\\u26d4;\\u6268p\\u0100;p\\u26c3\\u26c4\\u6a89rox\\xbb\\u26c4\\u0100;q\\u26ce\\u26cf\\u6a87\\u0100;q\\u26ce\\u26bbim;\\u62e6\\u0400abnoptwz\\u26e9\\u26f4\\u26f7\\u271a\\u272f\\u2741\\u2747\\u2750\\u0100nr\\u26ee\\u26f1g;\\u67ecr;\\u61fdr\\xeb\\u08c1g\\u0180lmr\\u26ff\\u270d\\u2714eft\\u0100ar\\u09e6\\u2707ight\\xe1\\u09f2apsto;\\u67fcight\\xe1\\u09fdparrow\\u0100lr\\u2725\\u2729ef\\xf4\\u24edight;\\u61ac\\u0180afl\\u2736\\u2739\\u273dr;\\u6985;\\uc000\\ud835\\udd5dus;\\u6a2dimes;\\u6a34\\u0161\\u274b\\u274fst;\\u6217\\xe1\\u134e\\u0180;ef\\u2757\\u2758\\u1800\\u65cange\\xbb\\u2758ar\\u0100;l\\u2764\\u2765\\u4028t;\\u6993\\u0280achmt\\u2773\\u2776\\u277c\\u2785\\u2787r\\xf2\\u08a8orne\\xf2\\u1d8car\\u0100;d\\u0f98\\u2783;\\u696d;\\u600eri;\\u62bf\\u0300achiqt\\u2798\\u279d\\u0a40\\u27a2\\u27ae\\u27bbquo;\\u6039r;\\uc000\\ud835\\udcc1m\\u0180;eg\\u09b2\\u27aa\\u27ac;\\u6a8d;\\u6a8f\\u0100bu\\u252a\\u27b3o\\u0100;r\\u0e1f\\u27b9;\\u601arok;\\u4142\\u8400<;cdhilqr\\u082b\\u27d2\\u2639\\u27dc\\u27e0\\u27e5\\u27ea\\u27f0\\u0100ci\\u27d7\\u27d9;\\u6aa6r;\\u6a79re\\xe5\\u25f2mes;\\u62c9arr;\\u6976uest;\\u6a7b\\u0100Pi\\u27f5\\u27f9ar;\\u6996\\u0180;ef\\u2800\\u092d\\u181b\\u65c3r\\u0100du\\u2807\\u280dshar;\\u694ahar;\\u6966\\u0100en\\u2817\\u2821rtneqq;\\uc000\\u2268\\ufe00\\xc5\\u281e\\u0700Dacdefhilnopsu\\u2840\\u2845\\u2882\\u288e\\u2893\\u28a0\\u28a5\\u28a8\\u28da\\u28e2\\u28e4\\u0a83\\u28f3\\u2902Dot;\\u623a\\u0200clpr\\u284e\\u2852\\u2863\\u287dr\\u803b\\xaf\\u40af\\u0100et\\u2857\\u2859;\\u6642\\u0100;e\\u285e\\u285f\\u6720se\\xbb\\u285f\\u0100;s\\u103b\\u2868to\\u0200;dlu\\u103b\\u2873\\u2877\\u287bow\\xee\\u048cef\\xf4\\u090f\\xf0\\u13d1ker;\\u65ae\\u0100oy\\u2887\\u288cmma;\\u6a29;\\u443cash;\\u6014asuredangle\\xbb\\u1626r;\\uc000\\ud835\\udd2ao;\\u6127\\u0180cdn\\u28af\\u28b4\\u28c9ro\\u803b\\xb5\\u40b5\\u0200;acd\\u1464\\u28bd\\u28c0\\u28c4s\\xf4\\u16a7ir;\\u6af0ot\\u80bb\\xb7\\u01b5us\\u0180;bd\\u28d2\\u1903\\u28d3\\u6212\\u0100;u\\u1d3c\\u28d8;\\u6a2a\\u0163\\u28de\\u28e1p;\\u6adb\\xf2\\u2212\\xf0\\u0a81\\u0100dp\\u28e9\\u28eeels;\\u62a7f;\\uc000\\ud835\\udd5e\\u0100ct\\u28f8\\u28fdr;\\uc000\\ud835\\udcc2pos\\xbb\\u159d\\u0180;lm\\u2909\\u290a\\u290d\\u43bctimap;\\u62b8\\u0c00GLRVabcdefghijlmoprstuvw\\u2942\\u2953\\u297e\\u2989\\u2998\\u29da\\u29e9\\u2a15\\u2a1a\\u2a58\\u2a5d\\u2a83\\u2a95\\u2aa4\\u2aa8\\u2b04\\u2b07\\u2b44\\u2b7f\\u2bae\\u2c34\\u2c67\\u2c7c\\u2ce9\\u0100gt\\u2947\\u294b;\\uc000\\u22d9\\u0338\\u0100;v\\u2950\\u0bcf\\uc000\\u226b\\u20d2\\u0180elt\\u295a\\u2972\\u2976ft\\u0100ar\\u2961\\u2967rrow;\\u61cdightarrow;\\u61ce;\\uc000\\u22d8\\u0338\\u0100;v\\u297b\\u0c47\\uc000\\u226a\\u20d2ightarrow;\\u61cf\\u0100Dd\\u298e\\u2993ash;\\u62afash;\\u62ae\\u0280bcnpt\\u29a3\\u29a7\\u29ac\\u29b1\\u29ccla\\xbb\\u02deute;\\u4144g;\\uc000\\u2220\\u20d2\\u0280;Eiop\\u0d84\\u29bc\\u29c0\\u29c5\\u29c8;\\uc000\\u2a70\\u0338d;\\uc000\\u224b\\u0338s;\\u4149ro\\xf8\\u0d84ur\\u0100;a\\u29d3\\u29d4\\u666el\\u0100;s\\u29d3\\u0b38\\u01f3\\u29df\\0\\u29e3p\\u80bb\\xa0\\u0b37mp\\u0100;e\\u0bf9\\u0c00\\u0280aeouy\\u29f4\\u29fe\\u2a03\\u2a10\\u2a13\\u01f0\\u29f9\\0\\u29fb;\\u6a43on;\\u4148dil;\\u4146ng\\u0100;d\\u0d7e\\u2a0aot;\\uc000\\u2a6d\\u0338p;\\u6a42;\\u443dash;\\u6013\\u0380;Aadqsx\\u0b92\\u2a29\\u2a2d\\u2a3b\\u2a41\\u2a45\\u2a50rr;\\u61d7r\\u0100hr\\u2a33\\u2a36k;\\u6924\\u0100;o\\u13f2\\u13f0ot;\\uc000\\u2250\\u0338ui\\xf6\\u0b63\\u0100ei\\u2a4a\\u2a4ear;\\u6928\\xed\\u0b98ist\\u0100;s\\u0ba0\\u0b9fr;\\uc000\\ud835\\udd2b\\u0200Eest\\u0bc5\\u2a66\\u2a79\\u2a7c\\u0180;qs\\u0bbc\\u2a6d\\u0be1\\u0180;qs\\u0bbc\\u0bc5\\u2a74lan\\xf4\\u0be2i\\xed\\u0bea\\u0100;r\\u0bb6\\u2a81\\xbb\\u0bb7\\u0180Aap\\u2a8a\\u2a8d\\u2a91r\\xf2\\u2971rr;\\u61aear;\\u6af2\\u0180;sv\\u0f8d\\u2a9c\\u0f8c\\u0100;d\\u2aa1\\u2aa2\\u62fc;\\u62facy;\\u445a\\u0380AEadest\\u2ab7\\u2aba\\u2abe\\u2ac2\\u2ac5\\u2af6\\u2af9r\\xf2\\u2966;\\uc000\\u2266\\u0338rr;\\u619ar;\\u6025\\u0200;fqs\\u0c3b\\u2ace\\u2ae3\\u2aeft\\u0100ar\\u2ad4\\u2ad9rro\\xf7\\u2ac1ightarro\\xf7\\u2a90\\u0180;qs\\u0c3b\\u2aba\\u2aealan\\xf4\\u0c55\\u0100;s\\u0c55\\u2af4\\xbb\\u0c36i\\xed\\u0c5d\\u0100;r\\u0c35\\u2afei\\u0100;e\\u0c1a\\u0c25i\\xe4\\u0d90\\u0100pt\\u2b0c\\u2b11f;\\uc000\\ud835\\udd5f\\u8180\\xac;in\\u2b19\\u2b1a\\u2b36\\u40acn\\u0200;Edv\\u0b89\\u2b24\\u2b28\\u2b2e;\\uc000\\u22f9\\u0338ot;\\uc000\\u22f5\\u0338\\u01e1\\u0b89\\u2b33\\u2b35;\\u62f7;\\u62f6i\\u0100;v\\u0cb8\\u2b3c\\u01e1\\u0cb8\\u2b41\\u2b43;\\u62fe;\\u62fd\\u0180aor\\u2b4b\\u2b63\\u2b69r\\u0200;ast\\u0b7b\\u2b55\\u2b5a\\u2b5flle\\xec\\u0b7bl;\\uc000\\u2afd\\u20e5;\\uc000\\u2202\\u0338lint;\\u6a14\\u0180;ce\\u0c92\\u2b70\\u2b73u\\xe5\\u0ca5\\u0100;c\\u0c98\\u2b78\\u0100;e\\u0c92\\u2b7d\\xf1\\u0c98\\u0200Aait\\u2b88\\u2b8b\\u2b9d\\u2ba7r\\xf2\\u2988rr\\u0180;cw\\u2b94\\u2b95\\u2b99\\u619b;\\uc000\\u2933\\u0338;\\uc000\\u219d\\u0338ghtarrow\\xbb\\u2b95ri\\u0100;e\\u0ccb\\u0cd6\\u0380chimpqu\\u2bbd\\u2bcd\\u2bd9\\u2b04\\u0b78\\u2be4\\u2bef\\u0200;cer\\u0d32\\u2bc6\\u0d37\\u2bc9u\\xe5\\u0d45;\\uc000\\ud835\\udcc3ort\\u026d\\u2b05\\0\\0\\u2bd6ar\\xe1\\u2b56m\\u0100;e\\u0d6e\\u2bdf\\u0100;q\\u0d74\\u0d73su\\u0100bp\\u2beb\\u2bed\\xe5\\u0cf8\\xe5\\u0d0b\\u0180bcp\\u2bf6\\u2c11\\u2c19\\u0200;Ees\\u2bff\\u2c00\\u0d22\\u2c04\\u6284;\\uc000\\u2ac5\\u0338et\\u0100;e\\u0d1b\\u2c0bq\\u0100;q\\u0d23\\u2c00c\\u0100;e\\u0d32\\u2c17\\xf1\\u0d38\\u0200;Ees\\u2c22\\u2c23\\u0d5f\\u2c27\\u6285;\\uc000\\u2ac6\\u0338et\\u0100;e\\u0d58\\u2c2eq\\u0100;q\\u0d60\\u2c23\\u0200gilr\\u2c3d\\u2c3f\\u2c45\\u2c47\\xec\\u0bd7lde\\u803b\\xf1\\u40f1\\xe7\\u0c43iangle\\u0100lr\\u2c52\\u2c5ceft\\u0100;e\\u0c1a\\u2c5a\\xf1\\u0c26ight\\u0100;e\\u0ccb\\u2c65\\xf1\\u0cd7\\u0100;m\\u2c6c\\u2c6d\\u43bd\\u0180;es\\u2c74\\u2c75\\u2c79\\u4023ro;\\u6116p;\\u6007\\u0480DHadgilrs\\u2c8f\\u2c94\\u2c99\\u2c9e\\u2ca3\\u2cb0\\u2cb6\\u2cd3\\u2ce3ash;\\u62adarr;\\u6904p;\\uc000\\u224d\\u20d2ash;\\u62ac\\u0100et\\u2ca8\\u2cac;\\uc000\\u2265\\u20d2;\\uc000>\\u20d2nfin;\\u69de\\u0180Aet\\u2cbd\\u2cc1\\u2cc5rr;\\u6902;\\uc000\\u2264\\u20d2\\u0100;r\\u2cca\\u2ccd\\uc000<\\u20d2ie;\\uc000\\u22b4\\u20d2\\u0100At\\u2cd8\\u2cdcrr;\\u6903rie;\\uc000\\u22b5\\u20d2im;\\uc000\\u223c\\u20d2\\u0180Aan\\u2cf0\\u2cf4\\u2d02rr;\\u61d6r\\u0100hr\\u2cfa\\u2cfdk;\\u6923\\u0100;o\\u13e7\\u13e5ear;\\u6927\\u1253\\u1a95\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\u2d2d\\0\\u2d38\\u2d48\\u2d60\\u2d65\\u2d72\\u2d84\\u1b07\\0\\0\\u2d8d\\u2dab\\0\\u2dc8\\u2dce\\0\\u2ddc\\u2e19\\u2e2b\\u2e3e\\u2e43\\u0100cs\\u2d31\\u1a97ute\\u803b\\xf3\\u40f3\\u0100iy\\u2d3c\\u2d45r\\u0100;c\\u1a9e\\u2d42\\u803b\\xf4\\u40f4;\\u443e\\u0280abios\\u1aa0\\u2d52\\u2d57\\u01c8\\u2d5alac;\\u4151v;\\u6a38old;\\u69bclig;\\u4153\\u0100cr\\u2d69\\u2d6dir;\\u69bf;\\uc000\\ud835\\udd2c\\u036f\\u2d79\\0\\0\\u2d7c\\0\\u2d82n;\\u42dbave\\u803b\\xf2\\u40f2;\\u69c1\\u0100bm\\u2d88\\u0df4ar;\\u69b5\\u0200acit\\u2d95\\u2d98\\u2da5\\u2da8r\\xf2\\u1a80\\u0100ir\\u2d9d\\u2da0r;\\u69beoss;\\u69bbn\\xe5\\u0e52;\\u69c0\\u0180aei\\u2db1\\u2db5\\u2db9cr;\\u414dga;\\u43c9\\u0180cdn\\u2dc0\\u2dc5\\u01cdron;\\u43bf;\\u69b6pf;\\uc000\\ud835\\udd60\\u0180ael\\u2dd4\\u2dd7\\u01d2r;\\u69b7rp;\\u69b9\\u0380;adiosv\\u2dea\\u2deb\\u2dee\\u2e08\\u2e0d\\u2e10\\u2e16\\u6228r\\xf2\\u1a86\\u0200;efm\\u2df7\\u2df8\\u2e02\\u2e05\\u6a5dr\\u0100;o\\u2dfe\\u2dff\\u6134f\\xbb\\u2dff\\u803b\\xaa\\u40aa\\u803b\\xba\\u40bagof;\\u62b6r;\\u6a56lope;\\u6a57;\\u6a5b\\u0180clo\\u2e1f\\u2e21\\u2e27\\xf2\\u2e01ash\\u803b\\xf8\\u40f8l;\\u6298i\\u016c\\u2e2f\\u2e34de\\u803b\\xf5\\u40f5es\\u0100;a\\u01db\\u2e3as;\\u6a36ml\\u803b\\xf6\\u40f6bar;\\u633d\\u0ae1\\u2e5e\\0\\u2e7d\\0\\u2e80\\u2e9d\\0\\u2ea2\\u2eb9\\0\\0\\u2ecb\\u0e9c\\0\\u2f13\\0\\0\\u2f2b\\u2fbc\\0\\u2fc8r\\u0200;ast\\u0403\\u2e67\\u2e72\\u0e85\\u8100\\xb6;l\\u2e6d\\u2e6e\\u40b6le\\xec\\u0403\\u0269\\u2e78\\0\\0\\u2e7bm;\\u6af3;\\u6afdy;\\u443fr\\u0280cimpt\\u2e8b\\u2e8f\\u2e93\\u1865\\u2e97nt;\\u4025od;\\u402eil;\\u6030enk;\\u6031r;\\uc000\\ud835\\udd2d\\u0180imo\\u2ea8\\u2eb0\\u2eb4\\u0100;v\\u2ead\\u2eae\\u43c6;\\u43d5ma\\xf4\\u0a76ne;\\u660e\\u0180;tv\\u2ebf\\u2ec0\\u2ec8\\u43c0chfork\\xbb\\u1ffd;\\u43d6\\u0100au\\u2ecf\\u2edfn\\u0100ck\\u2ed5\\u2eddk\\u0100;h\\u21f4\\u2edb;\\u610e\\xf6\\u21f4s\\u0480;abcdemst\\u2ef3\\u2ef4\\u1908\\u2ef9\\u2efd\\u2f04\\u2f06\\u2f0a\\u2f0e\\u402bcir;\\u6a23ir;\\u6a22\\u0100ou\\u1d40\\u2f02;\\u6a25;\\u6a72n\\u80bb\\xb1\\u0e9dim;\\u6a26wo;\\u6a27\\u0180ipu\\u2f19\\u2f20\\u2f25ntint;\\u6a15f;\\uc000\\ud835\\udd61nd\\u803b\\xa3\\u40a3\\u0500;Eaceinosu\\u0ec8\\u2f3f\\u2f41\\u2f44\\u2f47\\u2f81\\u2f89\\u2f92\\u2f7e\\u2fb6;\\u6ab3p;\\u6ab7u\\xe5\\u0ed9\\u0100;c\\u0ece\\u2f4c\\u0300;acens\\u0ec8\\u2f59\\u2f5f\\u2f66\\u2f68\\u2f7eppro\\xf8\\u2f43urlye\\xf1\\u0ed9\\xf1\\u0ece\\u0180aes\\u2f6f\\u2f76\\u2f7approx;\\u6ab9qq;\\u6ab5im;\\u62e8i\\xed\\u0edfme\\u0100;s\\u2f88\\u0eae\\u6032\\u0180Eas\\u2f78\\u2f90\\u2f7a\\xf0\\u2f75\\u0180dfp\\u0eec\\u2f99\\u2faf\\u0180als\\u2fa0\\u2fa5\\u2faalar;\\u632eine;\\u6312urf;\\u6313\\u0100;t\\u0efb\\u2fb4\\xef\\u0efbrel;\\u62b0\\u0100ci\\u2fc0\\u2fc5r;\\uc000\\ud835\\udcc5;\\u43c8ncsp;\\u6008\\u0300fiopsu\\u2fda\\u22e2\\u2fdf\\u2fe5\\u2feb\\u2ff1r;\\uc000\\ud835\\udd2epf;\\uc000\\ud835\\udd62rime;\\u6057cr;\\uc000\\ud835\\udcc6\\u0180aeo\\u2ff8\\u3009\\u3013t\\u0100ei\\u2ffe\\u3005rnion\\xf3\\u06b0nt;\\u6a16st\\u0100;e\\u3010\\u3011\\u403f\\xf1\\u1f19\\xf4\\u0f14\\u0a80ABHabcdefhilmnoprstux\\u3040\\u3051\\u3055\\u3059\\u30e0\\u310e\\u312b\\u3147\\u3162\\u3172\\u318e\\u3206\\u3215\\u3224\\u3229\\u3258\\u326e\\u3272\\u3290\\u32b0\\u32b7\\u0180art\\u3047\\u304a\\u304cr\\xf2\\u10b3\\xf2\\u03ddail;\\u691car\\xf2\\u1c65ar;\\u6964\\u0380cdenqrt\\u3068\\u3075\\u3078\\u307f\\u308f\\u3094\\u30cc\\u0100eu\\u306d\\u3071;\\uc000\\u223d\\u0331te;\\u4155i\\xe3\\u116emptyv;\\u69b3g\\u0200;del\\u0fd1\\u3089\\u308b\\u308d;\\u6992;\\u69a5\\xe5\\u0fd1uo\\u803b\\xbb\\u40bbr\\u0580;abcfhlpstw\\u0fdc\\u30ac\\u30af\\u30b7\\u30b9\\u30bc\\u30be\\u30c0\\u30c3\\u30c7\\u30cap;\\u6975\\u0100;f\\u0fe0\\u30b4s;\\u6920;\\u6933s;\\u691e\\xeb\\u225d\\xf0\\u272el;\\u6945im;\\u6974l;\\u61a3;\\u619d\\u0100ai\\u30d1\\u30d5il;\\u691ao\\u0100;n\\u30db\\u30dc\\u6236al\\xf3\\u0f1e\\u0180abr\\u30e7\\u30ea\\u30eer\\xf2\\u17e5rk;\\u6773\\u0100ak\\u30f3\\u30fdc\\u0100ek\\u30f9\\u30fb;\\u407d;\\u405d\\u0100es\\u3102\\u3104;\\u698cl\\u0100du\\u310a\\u310c;\\u698e;\\u6990\\u0200aeuy\\u3117\\u311c\\u3127\\u3129ron;\\u4159\\u0100di\\u3121\\u3125il;\\u4157\\xec\\u0ff2\\xe2\\u30fa;\\u4440\\u0200clqs\\u3134\\u3137\\u313d\\u3144a;\\u6937dhar;\\u6969uo\\u0100;r\\u020e\\u020dh;\\u61b3\\u0180acg\\u314e\\u315f\\u0f44l\\u0200;ips\\u0f78\\u3158\\u315b\\u109cn\\xe5\\u10bbar\\xf4\\u0fa9t;\\u65ad\\u0180ilr\\u3169\\u1023\\u316esht;\\u697d;\\uc000\\ud835\\udd2f\\u0100ao\\u3177\\u3186r\\u0100du\\u317d\\u317f\\xbb\\u047b\\u0100;l\\u1091\\u3184;\\u696c\\u0100;v\\u318b\\u318c\\u43c1;\\u43f1\\u0180gns\\u3195\\u31f9\\u31fcht\\u0300ahlrst\\u31a4\\u31b0\\u31c2\\u31d8\\u31e4\\u31eerrow\\u0100;t\\u0fdc\\u31ada\\xe9\\u30c8arpoon\\u0100du\\u31bb\\u31bfow\\xee\\u317ep\\xbb\\u1092eft\\u0100ah\\u31ca\\u31d0rrow\\xf3\\u0feaarpoon\\xf3\\u0551ightarrows;\\u61c9quigarro\\xf7\\u30cbhreetimes;\\u62ccg;\\u42daingdotse\\xf1\\u1f32\\u0180ahm\\u320d\\u3210\\u3213r\\xf2\\u0feaa\\xf2\\u0551;\\u600foust\\u0100;a\\u321e\\u321f\\u63b1che\\xbb\\u321fmid;\\u6aee\\u0200abpt\\u3232\\u323d\\u3240\\u3252\\u0100nr\\u3237\\u323ag;\\u67edr;\\u61fer\\xeb\\u1003\\u0180afl\\u3247\\u324a\\u324er;\\u6986;\\uc000\\ud835\\udd63us;\\u6a2eimes;\\u6a35\\u0100ap\\u325d\\u3267r\\u0100;g\\u3263\\u3264\\u4029t;\\u6994olint;\\u6a12ar\\xf2\\u31e3\\u0200achq\\u327b\\u3280\\u10bc\\u3285quo;\\u603ar;\\uc000\\ud835\\udcc7\\u0100bu\\u30fb\\u328ao\\u0100;r\\u0214\\u0213\\u0180hir\\u3297\\u329b\\u32a0re\\xe5\\u31f8mes;\\u62cai\\u0200;efl\\u32aa\\u1059\\u1821\\u32ab\\u65b9tri;\\u69celuhar;\\u6968;\\u611e\\u0d61\\u32d5\\u32db\\u32df\\u332c\\u3338\\u3371\\0\\u337a\\u33a4\\0\\0\\u33ec\\u33f0\\0\\u3428\\u3448\\u345a\\u34ad\\u34b1\\u34ca\\u34f1\\0\\u3616\\0\\0\\u3633cute;\\u415bqu\\xef\\u27ba\\u0500;Eaceinpsy\\u11ed\\u32f3\\u32f5\\u32ff\\u3302\\u330b\\u330f\\u331f\\u3326\\u3329;\\u6ab4\\u01f0\\u32fa\\0\\u32fc;\\u6ab8on;\\u4161u\\xe5\\u11fe\\u0100;d\\u11f3\\u3307il;\\u415frc;\\u415d\\u0180Eas\\u3316\\u3318\\u331b;\\u6ab6p;\\u6abaim;\\u62e9olint;\\u6a13i\\xed\\u1204;\\u4441ot\\u0180;be\\u3334\\u1d47\\u3335\\u62c5;\\u6a66\\u0380Aacmstx\\u3346\\u334a\\u3357\\u335b\\u335e\\u3363\\u336drr;\\u61d8r\\u0100hr\\u3350\\u3352\\xeb\\u2228\\u0100;o\\u0a36\\u0a34t\\u803b\\xa7\\u40a7i;\\u403bwar;\\u6929m\\u0100in\\u3369\\xf0nu\\xf3\\xf1t;\\u6736r\\u0100;o\\u3376\\u2055\\uc000\\ud835\\udd30\\u0200acoy\\u3382\\u3386\\u3391\\u33a0rp;\\u666f\\u0100hy\\u338b\\u338fcy;\\u4449;\\u4448rt\\u026d\\u3399\\0\\0\\u339ci\\xe4\\u1464ara\\xec\\u2e6f\\u803b\\xad\\u40ad\\u0100gm\\u33a8\\u33b4ma\\u0180;fv\\u33b1\\u33b2\\u33b2\\u43c3;\\u43c2\\u0400;deglnpr\\u12ab\\u33c5\\u33c9\\u33ce\\u33d6\\u33de\\u33e1\\u33e6ot;\\u6a6a\\u0100;q\\u12b1\\u12b0\\u0100;E\\u33d3\\u33d4\\u6a9e;\\u6aa0\\u0100;E\\u33db\\u33dc\\u6a9d;\\u6a9fe;\\u6246lus;\\u6a24arr;\\u6972ar\\xf2\\u113d\\u0200aeit\\u33f8\\u3408\\u340f\\u3417\\u0100ls\\u33fd\\u3404lsetm\\xe9\\u336ahp;\\u6a33parsl;\\u69e4\\u0100dl\\u1463\\u3414e;\\u6323\\u0100;e\\u341c\\u341d\\u6aaa\\u0100;s\\u3422\\u3423\\u6aac;\\uc000\\u2aac\\ufe00\\u0180flp\\u342e\\u3433\\u3442tcy;\\u444c\\u0100;b\\u3438\\u3439\\u402f\\u0100;a\\u343e\\u343f\\u69c4r;\\u633ff;\\uc000\\ud835\\udd64a\\u0100dr\\u344d\\u0402es\\u0100;u\\u3454\\u3455\\u6660it\\xbb\\u3455\\u0180csu\\u3460\\u3479\\u349f\\u0100au\\u3465\\u346fp\\u0100;s\\u1188\\u346b;\\uc000\\u2293\\ufe00p\\u0100;s\\u11b4\\u3475;\\uc000\\u2294\\ufe00u\\u0100bp\\u347f\\u348f\\u0180;es\\u1197\\u119c\\u3486et\\u0100;e\\u1197\\u348d\\xf1\\u119d\\u0180;es\\u11a8\\u11ad\\u3496et\\u0100;e\\u11a8\\u349d\\xf1\\u11ae\\u0180;af\\u117b\\u34a6\\u05b0r\\u0165\\u34ab\\u05b1\\xbb\\u117car\\xf2\\u1148\\u0200cemt\\u34b9\\u34be\\u34c2\\u34c5r;\\uc000\\ud835\\udcc8tm\\xee\\xf1i\\xec\\u3415ar\\xe6\\u11be\\u0100ar\\u34ce\\u34d5r\\u0100;f\\u34d4\\u17bf\\u6606\\u0100an\\u34da\\u34edight\\u0100ep\\u34e3\\u34eapsilo\\xee\\u1ee0h\\xe9\\u2eafs\\xbb\\u2852\\u0280bcmnp\\u34fb\\u355e\\u1209\\u358b\\u358e\\u0480;Edemnprs\\u350e\\u350f\\u3511\\u3515\\u351e\\u3523\\u352c\\u3531\\u3536\\u6282;\\u6ac5ot;\\u6abd\\u0100;d\\u11da\\u351aot;\\u6ac3ult;\\u6ac1\\u0100Ee\\u3528\\u352a;\\u6acb;\\u628alus;\\u6abfarr;\\u6979\\u0180eiu\\u353d\\u3552\\u3555t\\u0180;en\\u350e\\u3545\\u354bq\\u0100;q\\u11da\\u350feq\\u0100;q\\u352b\\u3528m;\\u6ac7\\u0100bp\\u355a\\u355c;\\u6ad5;\\u6ad3c\\u0300;acens\\u11ed\\u356c\\u3572\\u3579\\u357b\\u3326ppro\\xf8\\u32faurlye\\xf1\\u11fe\\xf1\\u11f3\\u0180aes\\u3582\\u3588\\u331bppro\\xf8\\u331aq\\xf1\\u3317g;\\u666a\\u0680123;Edehlmnps\\u35a9\\u35ac\\u35af\\u121c\\u35b2\\u35b4\\u35c0\\u35c9\\u35d5\\u35da\\u35df\\u35e8\\u35ed\\u803b\\xb9\\u40b9\\u803b\\xb2\\u40b2\\u803b\\xb3\\u40b3;\\u6ac6\\u0100os\\u35b9\\u35bct;\\u6abeub;\\u6ad8\\u0100;d\\u1222\\u35c5ot;\\u6ac4s\\u0100ou\\u35cf\\u35d2l;\\u67c9b;\\u6ad7arr;\\u697bult;\\u6ac2\\u0100Ee\\u35e4\\u35e6;\\u6acc;\\u628blus;\\u6ac0\\u0180eiu\\u35f4\\u3609\\u360ct\\u0180;en\\u121c\\u35fc\\u3602q\\u0100;q\\u1222\\u35b2eq\\u0100;q\\u35e7\\u35e4m;\\u6ac8\\u0100bp\\u3611\\u3613;\\u6ad4;\\u6ad6\\u0180Aan\\u361c\\u3620\\u362drr;\\u61d9r\\u0100hr\\u3626\\u3628\\xeb\\u222e\\u0100;o\\u0a2b\\u0a29war;\\u692alig\\u803b\\xdf\\u40df\\u0be1\\u3651\\u365d\\u3660\\u12ce\\u3673\\u3679\\0\\u367e\\u36c2\\0\\0\\0\\0\\0\\u36db\\u3703\\0\\u3709\\u376c\\0\\0\\0\\u3787\\u0272\\u3656\\0\\0\\u365bget;\\u6316;\\u43c4r\\xeb\\u0e5f\\u0180aey\\u3666\\u366b\\u3670ron;\\u4165dil;\\u4163;\\u4442lrec;\\u6315r;\\uc000\\ud835\\udd31\\u0200eiko\\u3686\\u369d\\u36b5\\u36bc\\u01f2\\u368b\\0\\u3691e\\u01004f\\u1284\\u1281a\\u0180;sv\\u3698\\u3699\\u369b\\u43b8ym;\\u43d1\\u0100cn\\u36a2\\u36b2k\\u0100as\\u36a8\\u36aeppro\\xf8\\u12c1im\\xbb\\u12acs\\xf0\\u129e\\u0100as\\u36ba\\u36ae\\xf0\\u12c1rn\\u803b\\xfe\\u40fe\\u01ec\\u031f\\u36c6\\u22e7es\\u8180\\xd7;bd\\u36cf\\u36d0\\u36d8\\u40d7\\u0100;a\\u190f\\u36d5r;\\u6a31;\\u6a30\\u0180eps\\u36e1\\u36e3\\u3700\\xe1\\u2a4d\\u0200;bcf\\u0486\\u36ec\\u36f0\\u36f4ot;\\u6336ir;\\u6af1\\u0100;o\\u36f9\\u36fc\\uc000\\ud835\\udd65rk;\\u6ada\\xe1\\u3362rime;\\u6034\\u0180aip\\u370f\\u3712\\u3764d\\xe5\\u1248\\u0380adempst\\u3721\\u374d\\u3740\\u3751\\u3757\\u375c\\u375fngle\\u0280;dlqr\\u3730\\u3731\\u3736\\u3740\\u3742\\u65b5own\\xbb\\u1dbbeft\\u0100;e\\u2800\\u373e\\xf1\\u092e;\\u625cight\\u0100;e\\u32aa\\u374b\\xf1\\u105aot;\\u65ecinus;\\u6a3alus;\\u6a39b;\\u69cdime;\\u6a3bezium;\\u63e2\\u0180cht\\u3772\\u377d\\u3781\\u0100ry\\u3777\\u377b;\\uc000\\ud835\\udcc9;\\u4446cy;\\u445brok;\\u4167\\u0100io\\u378b\\u378ex\\xf4\\u1777head\\u0100lr\\u3797\\u37a0eftarro\\xf7\\u084fightarrow\\xbb\\u0f5d\\u0900AHabcdfghlmoprstuw\\u37d0\\u37d3\\u37d7\\u37e4\\u37f0\\u37fc\\u380e\\u381c\\u3823\\u3834\\u3851\\u385d\\u386b\\u38a9\\u38cc\\u38d2\\u38ea\\u38f6r\\xf2\\u03edar;\\u6963\\u0100cr\\u37dc\\u37e2ute\\u803b\\xfa\\u40fa\\xf2\\u1150r\\u01e3\\u37ea\\0\\u37edy;\\u445eve;\\u416d\\u0100iy\\u37f5\\u37farc\\u803b\\xfb\\u40fb;\\u4443\\u0180abh\\u3803\\u3806\\u380br\\xf2\\u13adlac;\\u4171a\\xf2\\u13c3\\u0100ir\\u3813\\u3818sht;\\u697e;\\uc000\\ud835\\udd32rave\\u803b\\xf9\\u40f9\\u0161\\u3827\\u3831r\\u0100lr\\u382c\\u382e\\xbb\\u0957\\xbb\\u1083lk;\\u6580\\u0100ct\\u3839\\u384d\\u026f\\u383f\\0\\0\\u384arn\\u0100;e\\u3845\\u3846\\u631cr\\xbb\\u3846op;\\u630fri;\\u65f8\\u0100al\\u3856\\u385acr;\\u416b\\u80bb\\xa8\\u0349\\u0100gp\\u3862\\u3866on;\\u4173f;\\uc000\\ud835\\udd66\\u0300adhlsu\\u114b\\u3878\\u387d\\u1372\\u3891\\u38a0own\\xe1\\u13b3arpoon\\u0100lr\\u3888\\u388cef\\xf4\\u382digh\\xf4\\u382fi\\u0180;hl\\u3899\\u389a\\u389c\\u43c5\\xbb\\u13faon\\xbb\\u389aparrows;\\u61c8\\u0180cit\\u38b0\\u38c4\\u38c8\\u026f\\u38b6\\0\\0\\u38c1rn\\u0100;e\\u38bc\\u38bd\\u631dr\\xbb\\u38bdop;\\u630eng;\\u416fri;\\u65f9cr;\\uc000\\ud835\\udcca\\u0180dir\\u38d9\\u38dd\\u38e2ot;\\u62f0lde;\\u4169i\\u0100;f\\u3730\\u38e8\\xbb\\u1813\\u0100am\\u38ef\\u38f2r\\xf2\\u38a8l\\u803b\\xfc\\u40fcangle;\\u69a7\\u0780ABDacdeflnoprsz\\u391c\\u391f\\u3929\\u392d\\u39b5\\u39b8\\u39bd\\u39df\\u39e4\\u39e8\\u39f3\\u39f9\\u39fd\\u3a01\\u3a20r\\xf2\\u03f7ar\\u0100;v\\u3926\\u3927\\u6ae8;\\u6ae9as\\xe8\\u03e1\\u0100nr\\u3932\\u3937grt;\\u699c\\u0380eknprst\\u34e3\\u3946\\u394b\\u3952\\u395d\\u3964\\u3996app\\xe1\\u2415othin\\xe7\\u1e96\\u0180hir\\u34eb\\u2ec8\\u3959op\\xf4\\u2fb5\\u0100;h\\u13b7\\u3962\\xef\\u318d\\u0100iu\\u3969\\u396dgm\\xe1\\u33b3\\u0100bp\\u3972\\u3984setneq\\u0100;q\\u397d\\u3980\\uc000\\u228a\\ufe00;\\uc000\\u2acb\\ufe00setneq\\u0100;q\\u398f\\u3992\\uc000\\u228b\\ufe00;\\uc000\\u2acc\\ufe00\\u0100hr\\u399b\\u399fet\\xe1\\u369ciangle\\u0100lr\\u39aa\\u39afeft\\xbb\\u0925ight\\xbb\\u1051y;\\u4432ash\\xbb\\u1036\\u0180elr\\u39c4\\u39d2\\u39d7\\u0180;be\\u2dea\\u39cb\\u39cfar;\\u62bbq;\\u625alip;\\u62ee\\u0100bt\\u39dc\\u1468a\\xf2\\u1469r;\\uc000\\ud835\\udd33tr\\xe9\\u39aesu\\u0100bp\\u39ef\\u39f1\\xbb\\u0d1c\\xbb\\u0d59pf;\\uc000\\ud835\\udd67ro\\xf0\\u0efbtr\\xe9\\u39b4\\u0100cu\\u3a06\\u3a0br;\\uc000\\ud835\\udccb\\u0100bp\\u3a10\\u3a18n\\u0100Ee\\u3980\\u3a16\\xbb\\u397en\\u0100Ee\\u3992\\u3a1e\\xbb\\u3990igzag;\\u699a\\u0380cefoprs\\u3a36\\u3a3b\\u3a56\\u3a5b\\u3a54\\u3a61\\u3a6airc;\\u4175\\u0100di\\u3a40\\u3a51\\u0100bg\\u3a45\\u3a49ar;\\u6a5fe\\u0100;q\\u15fa\\u3a4f;\\u6259erp;\\u6118r;\\uc000\\ud835\\udd34pf;\\uc000\\ud835\\udd68\\u0100;e\\u1479\\u3a66at\\xe8\\u1479cr;\\uc000\\ud835\\udccc\\u0ae3\\u178e\\u3a87\\0\\u3a8b\\0\\u3a90\\u3a9b\\0\\0\\u3a9d\\u3aa8\\u3aab\\u3aaf\\0\\0\\u3ac3\\u3ace\\0\\u3ad8\\u17dc\\u17dftr\\xe9\\u17d1r;\\uc000\\ud835\\udd35\\u0100Aa\\u3a94\\u3a97r\\xf2\\u03c3r\\xf2\\u09f6;\\u43be\\u0100Aa\\u3aa1\\u3aa4r\\xf2\\u03b8r\\xf2\\u09eba\\xf0\\u2713is;\\u62fb\\u0180dpt\\u17a4\\u3ab5\\u3abe\\u0100fl\\u3aba\\u17a9;\\uc000\\ud835\\udd69im\\xe5\\u17b2\\u0100Aa\\u3ac7\\u3acar\\xf2\\u03cer\\xf2\\u0a01\\u0100cq\\u3ad2\\u17b8r;\\uc000\\ud835\\udccd\\u0100pt\\u17d6\\u3adcr\\xe9\\u17d4\\u0400acefiosu\\u3af0\\u3afd\\u3b08\\u3b0c\\u3b11\\u3b15\\u3b1b\\u3b21c\\u0100uy\\u3af6\\u3afbte\\u803b\\xfd\\u40fd;\\u444f\\u0100iy\\u3b02\\u3b06rc;\\u4177;\\u444bn\\u803b\\xa5\\u40a5r;\\uc000\\ud835\\udd36cy;\\u4457pf;\\uc000\\ud835\\udd6acr;\\uc000\\ud835\\udcce\\u0100cm\\u3b26\\u3b29y;\\u444el\\u803b\\xff\\u40ff\\u0500acdefhiosw\\u3b42\\u3b48\\u3b54\\u3b58\\u3b64\\u3b69\\u3b6d\\u3b74\\u3b7a\\u3b80cute;\\u417a\\u0100ay\\u3b4d\\u3b52ron;\\u417e;\\u4437ot;\\u417c\\u0100et\\u3b5d\\u3b61tr\\xe6\\u155fa;\\u43b6r;\\uc000\\ud835\\udd37cy;\\u4436grarr;\\u61ddpf;\\uc000\\ud835\\udd6bcr;\\uc000\\ud835\\udccf\\u0100jn\\u3b85\\u3b87;\\u600dj;\\u600c\"\n    .split(\"\")\n    .map((c) => c.charCodeAt(0)));\n//# sourceMappingURL=decode-data-html.js.map","// Generated using scripts/write-decode-map.ts\nexport default new Uint16Array(\n// prettier-ignore\n\"\\u0200aglq\\t\\x15\\x18\\x1b\\u026d\\x0f\\0\\0\\x12p;\\u4026os;\\u4027t;\\u403et;\\u403cuot;\\u4022\"\n    .split(\"\")\n    .map((c) => c.charCodeAt(0)));\n//# sourceMappingURL=decode-data-xml.js.map","export const xmlReplacer = /[\"&'<>$\\x80-\\uFFFF]/g;\nconst xmlCodeMap = new Map([\n    [34, \"&quot;\"],\n    [38, \"&amp;\"],\n    [39, \"&apos;\"],\n    [60, \"&lt;\"],\n    [62, \"&gt;\"],\n]);\n// For compatibility with node < 4, we wrap `codePointAt`\nexport const getCodePoint = \n// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\nString.prototype.codePointAt != null\n    ? (str, index) => str.codePointAt(index)\n    : // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n        (c, index) => (c.charCodeAt(index) & 0xfc00) === 0xd800\n            ? (c.charCodeAt(index) - 0xd800) * 0x400 +\n                c.charCodeAt(index + 1) -\n                0xdc00 +\n                0x10000\n            : c.charCodeAt(index);\n/**\n * Encodes all non-ASCII characters, as well as characters not valid in XML\n * documents using XML entities.\n *\n * If a character has no equivalent entity, a\n * numeric hexadecimal reference (eg. `&#xfc;`) will be used.\n */\nexport function encodeXML(str) {\n    let ret = \"\";\n    let lastIdx = 0;\n    let match;\n    while ((match = xmlReplacer.exec(str)) !== null) {\n        const i = match.index;\n        const char = str.charCodeAt(i);\n        const next = xmlCodeMap.get(char);\n        if (next !== undefined) {\n            ret += str.substring(lastIdx, i) + next;\n            lastIdx = i + 1;\n        }\n        else {\n            ret += `${str.substring(lastIdx, i)}&#x${getCodePoint(str, i).toString(16)};`;\n            // Increase by 1 if we have a surrogate pair\n            lastIdx = xmlReplacer.lastIndex += Number((char & 0xfc00) === 0xd800);\n        }\n    }\n    return ret + str.substr(lastIdx);\n}\n/**\n * Encodes all non-ASCII characters, as well as characters not valid in XML\n * documents using numeric hexadecimal reference (eg. `&#xfc;`).\n *\n * Have a look at `escapeUTF8` if you want a more concise output at the expense\n * of reduced transportability.\n *\n * @param data String to escape.\n */\nexport const escape = encodeXML;\n/**\n * Creates a function that escapes all characters matched by the given regular\n * expression using the given map of characters to escape to their entities.\n *\n * @param regex Regular expression to match characters to escape.\n * @param map Map of characters to escape to their entities.\n *\n * @returns Function that escapes all characters matched by the given regular\n * expression using the given map of characters to escape to their entities.\n */\nfunction getEscaper(regex, map) {\n    return function escape(data) {\n        let match;\n        let lastIdx = 0;\n        let result = \"\";\n        while ((match = regex.exec(data))) {\n            if (lastIdx !== match.index) {\n                result += data.substring(lastIdx, match.index);\n            }\n            // We know that this character will be in the map.\n            result += map.get(match[0].charCodeAt(0));\n            // Every match will be of length 1\n            lastIdx = match.index + 1;\n        }\n        return result + data.substring(lastIdx);\n    };\n}\n/**\n * Encodes all characters not valid in XML documents using XML entities.\n *\n * Note that the output will be character-set dependent.\n *\n * @param data String to escape.\n */\nexport const escapeUTF8 = getEscaper(/[&<>'\"]/g, xmlCodeMap);\n/**\n * Encodes all characters that have to be escaped in HTML attributes,\n * following {@link https://html.spec.whatwg.org/multipage/parsing.html#escapingString}.\n *\n * @param data String to escape.\n */\nexport const escapeAttribute = getEscaper(/[\"&\\u00A0]/g, new Map([\n    [34, \"&quot;\"],\n    [38, \"&amp;\"],\n    [160, \"&nbsp;\"],\n]));\n/**\n * Encodes all characters that have to be escaped in HTML text,\n * following {@link https://html.spec.whatwg.org/multipage/parsing.html#escapingString}.\n *\n * @param data String to escape.\n */\nexport const escapeText = getEscaper(/[&<>\\u00A0]/g, new Map([\n    [38, \"&amp;\"],\n    [60, \"&lt;\"],\n    [62, \"&gt;\"],\n    [160, \"&nbsp;\"],\n]));\n//# sourceMappingURL=escape.js.map","export const elementNames = new Map([\n    \"altGlyph\",\n    \"altGlyphDef\",\n    \"altGlyphItem\",\n    \"animateColor\",\n    \"animateMotion\",\n    \"animateTransform\",\n    \"clipPath\",\n    \"feBlend\",\n    \"feColorMatrix\",\n    \"feComponentTransfer\",\n    \"feComposite\",\n    \"feConvolveMatrix\",\n    \"feDiffuseLighting\",\n    \"feDisplacementMap\",\n    \"feDistantLight\",\n    \"feDropShadow\",\n    \"feFlood\",\n    \"feFuncA\",\n    \"feFuncB\",\n    \"feFuncG\",\n    \"feFuncR\",\n    \"feGaussianBlur\",\n    \"feImage\",\n    \"feMerge\",\n    \"feMergeNode\",\n    \"feMorphology\",\n    \"feOffset\",\n    \"fePointLight\",\n    \"feSpecularLighting\",\n    \"feSpotLight\",\n    \"feTile\",\n    \"feTurbulence\",\n    \"foreignObject\",\n    \"glyphRef\",\n    \"linearGradient\",\n    \"radialGradient\",\n    \"textPath\",\n].map((val) => [val.toLowerCase(), val]));\nexport const attributeNames = new Map([\n    \"definitionURL\",\n    \"attributeName\",\n    \"attributeType\",\n    \"baseFrequency\",\n    \"baseProfile\",\n    \"calcMode\",\n    \"clipPathUnits\",\n    \"diffuseConstant\",\n    \"edgeMode\",\n    \"filterUnits\",\n    \"glyphRef\",\n    \"gradientTransform\",\n    \"gradientUnits\",\n    \"kernelMatrix\",\n    \"kernelUnitLength\",\n    \"keyPoints\",\n    \"keySplines\",\n    \"keyTimes\",\n    \"lengthAdjust\",\n    \"limitingConeAngle\",\n    \"markerHeight\",\n    \"markerUnits\",\n    \"markerWidth\",\n    \"maskContentUnits\",\n    \"maskUnits\",\n    \"numOctaves\",\n    \"pathLength\",\n    \"patternContentUnits\",\n    \"patternTransform\",\n    \"patternUnits\",\n    \"pointsAtX\",\n    \"pointsAtY\",\n    \"pointsAtZ\",\n    \"preserveAlpha\",\n    \"preserveAspectRatio\",\n    \"primitiveUnits\",\n    \"refX\",\n    \"refY\",\n    \"repeatCount\",\n    \"repeatDur\",\n    \"requiredExtensions\",\n    \"requiredFeatures\",\n    \"specularConstant\",\n    \"specularExponent\",\n    \"spreadMethod\",\n    \"startOffset\",\n    \"stdDeviation\",\n    \"stitchTiles\",\n    \"surfaceScale\",\n    \"systemLanguage\",\n    \"tableValues\",\n    \"targetX\",\n    \"targetY\",\n    \"textLength\",\n    \"viewBox\",\n    \"viewTarget\",\n    \"xChannelSelector\",\n    \"yChannelSelector\",\n    \"zoomAndPan\",\n].map((val) => [val.toLowerCase(), val]));\n","/*\n * Module dependencies\n */\nimport * as ElementType from \"domelementtype\";\nimport { encodeXML, escapeAttribute, escapeText } from \"entities\";\n/**\n * Mixed-case SVG and MathML tags & attributes\n * recognized by the HTML parser.\n *\n * @see https://html.spec.whatwg.org/multipage/parsing.html#parsing-main-inforeign\n */\nimport { elementNames, attributeNames } from \"./foreignNames.js\";\nconst unencodedElements = new Set([\n    \"style\",\n    \"script\",\n    \"xmp\",\n    \"iframe\",\n    \"noembed\",\n    \"noframes\",\n    \"plaintext\",\n    \"noscript\",\n]);\nfunction replaceQuotes(value) {\n    return value.replace(/\"/g, \"&quot;\");\n}\n/**\n * Format attributes\n */\nfunction formatAttributes(attributes, opts) {\n    var _a;\n    if (!attributes)\n        return;\n    const encode = ((_a = opts.encodeEntities) !== null && _a !== void 0 ? _a : opts.decodeEntities) === false\n        ? replaceQuotes\n        : opts.xmlMode || opts.encodeEntities !== \"utf8\"\n            ? encodeXML\n            : escapeAttribute;\n    return Object.keys(attributes)\n        .map((key) => {\n        var _a, _b;\n        const value = (_a = attributes[key]) !== null && _a !== void 0 ? _a : \"\";\n        if (opts.xmlMode === \"foreign\") {\n            /* Fix up mixed-case attribute names */\n            key = (_b = attributeNames.get(key)) !== null && _b !== void 0 ? _b : key;\n        }\n        if (!opts.emptyAttrs && !opts.xmlMode && value === \"\") {\n            return key;\n        }\n        return `${key}=\"${encode(value)}\"`;\n    })\n        .join(\" \");\n}\n/**\n * Self-enclosing tags\n */\nconst singleTag = new Set([\n    \"area\",\n    \"base\",\n    \"basefont\",\n    \"br\",\n    \"col\",\n    \"command\",\n    \"embed\",\n    \"frame\",\n    \"hr\",\n    \"img\",\n    \"input\",\n    \"isindex\",\n    \"keygen\",\n    \"link\",\n    \"meta\",\n    \"param\",\n    \"source\",\n    \"track\",\n    \"wbr\",\n]);\n/**\n * Renders a DOM node or an array of DOM nodes to a string.\n *\n * Can be thought of as the equivalent of the `outerHTML` of the passed node(s).\n *\n * @param node Node to be rendered.\n * @param options Changes serialization behavior\n */\nexport function render(node, options = {}) {\n    const nodes = \"length\" in node ? node : [node];\n    let output = \"\";\n    for (let i = 0; i < nodes.length; i++) {\n        output += renderNode(nodes[i], options);\n    }\n    return output;\n}\nexport default render;\nfunction renderNode(node, options) {\n    switch (node.type) {\n        case ElementType.Root:\n            return render(node.children, options);\n        // @ts-expect-error We don't use `Doctype` yet\n        case ElementType.Doctype:\n        case ElementType.Directive:\n            return renderDirective(node);\n        case ElementType.Comment:\n            return renderComment(node);\n        case ElementType.CDATA:\n            return renderCdata(node);\n        case ElementType.Script:\n        case ElementType.Style:\n        case ElementType.Tag:\n            return renderTag(node, options);\n        case ElementType.Text:\n            return renderText(node, options);\n    }\n}\nconst foreignModeIntegrationPoints = new Set([\n    \"mi\",\n    \"mo\",\n    \"mn\",\n    \"ms\",\n    \"mtext\",\n    \"annotation-xml\",\n    \"foreignObject\",\n    \"desc\",\n    \"title\",\n]);\nconst foreignElements = new Set([\"svg\", \"math\"]);\nfunction renderTag(elem, opts) {\n    var _a;\n    // Handle SVG / MathML in HTML\n    if (opts.xmlMode === \"foreign\") {\n        /* Fix up mixed-case element names */\n        elem.name = (_a = elementNames.get(elem.name)) !== null && _a !== void 0 ? _a : elem.name;\n        /* Exit foreign mode at integration points */\n        if (elem.parent &&\n            foreignModeIntegrationPoints.has(elem.parent.name)) {\n            opts = { ...opts, xmlMode: false };\n        }\n    }\n    if (!opts.xmlMode && foreignElements.has(elem.name)) {\n        opts = { ...opts, xmlMode: \"foreign\" };\n    }\n    let tag = `<${elem.name}`;\n    const attribs = formatAttributes(elem.attribs, opts);\n    if (attribs) {\n        tag += ` ${attribs}`;\n    }\n    if (elem.children.length === 0 &&\n        (opts.xmlMode\n            ? // In XML mode or foreign mode, and user hasn't explicitly turned off self-closing tags\n                opts.selfClosingTags !== false\n            : // User explicitly asked for self-closing tags, even in HTML mode\n                opts.selfClosingTags && singleTag.has(elem.name))) {\n        if (!opts.xmlMode)\n            tag += \" \";\n        tag += \"/>\";\n    }\n    else {\n        tag += \">\";\n        if (elem.children.length > 0) {\n            tag += render(elem.children, opts);\n        }\n        if (opts.xmlMode || !singleTag.has(elem.name)) {\n            tag += `</${elem.name}>`;\n        }\n    }\n    return tag;\n}\nfunction renderDirective(elem) {\n    return `<${elem.data}>`;\n}\nfunction renderText(elem, opts) {\n    var _a;\n    let data = elem.data || \"\";\n    // If entities weren't decoded, no need to encode them back\n    if (((_a = opts.encodeEntities) !== null && _a !== void 0 ? _a : opts.decodeEntities) !== false &&\n        !(!opts.xmlMode &&\n            elem.parent &&\n            unencodedElements.has(elem.parent.name))) {\n        data =\n            opts.xmlMode || opts.encodeEntities !== \"utf8\"\n                ? encodeXML(data)\n                : escapeText(data);\n    }\n    return data;\n}\nfunction renderCdata(elem) {\n    return `<![CDATA[${elem.children[0].data}]]>`;\n}\nfunction renderComment(elem) {\n    return `<!--${elem.data}-->`;\n}\n","import { isTag, hasChildren, } from \"domhandler\";\n/**\n * Get a node's children.\n *\n * @category Traversal\n * @param elem Node to get the children of.\n * @returns `elem`'s children, or an empty array.\n */\nexport function getChildren(elem) {\n    return hasChildren(elem) ? elem.children : [];\n}\n/**\n * Get a node's parent.\n *\n * @category Traversal\n * @param elem Node to get the parent of.\n * @returns `elem`'s parent node, or `null` if `elem` is a root node.\n */\nexport function getParent(elem) {\n    return elem.parent || null;\n}\n/**\n * Gets an elements siblings, including the element itself.\n *\n * Attempts to get the children through the element's parent first. If we don't\n * have a parent (the element is a root node), we walk the element's `prev` &\n * `next` to get all remaining nodes.\n *\n * @category Traversal\n * @param elem Element to get the siblings of.\n * @returns `elem`'s siblings, including `elem`.\n */\nexport function getSiblings(elem) {\n    const parent = getParent(elem);\n    if (parent != null)\n        return getChildren(parent);\n    const siblings = [elem];\n    let { prev, next } = elem;\n    while (prev != null) {\n        siblings.unshift(prev);\n        ({ prev } = prev);\n    }\n    while (next != null) {\n        siblings.push(next);\n        ({ next } = next);\n    }\n    return siblings;\n}\n/**\n * Gets an attribute from an element.\n *\n * @category Traversal\n * @param elem Element to check.\n * @param name Attribute name to retrieve.\n * @returns The element's attribute value, or `undefined`.\n */\nexport function getAttributeValue(elem, name) {\n    var _a;\n    return (_a = elem.attribs) === null || _a === void 0 ? void 0 : _a[name];\n}\n/**\n * Checks whether an element has an attribute.\n *\n * @category Traversal\n * @param elem Element to check.\n * @param name Attribute name to look for.\n * @returns Returns whether `elem` has the attribute `name`.\n */\nexport function hasAttrib(elem, name) {\n    return (elem.attribs != null &&\n        Object.prototype.hasOwnProperty.call(elem.attribs, name) &&\n        elem.attribs[name] != null);\n}\n/**\n * Get the tag name of an element.\n *\n * @category Traversal\n * @param elem The element to get the name for.\n * @returns The tag name of `elem`.\n */\nexport function getName(elem) {\n    return elem.name;\n}\n/**\n * Returns the next element sibling of a node.\n *\n * @category Traversal\n * @param elem The element to get the next sibling of.\n * @returns `elem`'s next sibling that is a tag, or `null` if there is no next\n * sibling.\n */\nexport function nextElementSibling(elem) {\n    let { next } = elem;\n    while (next !== null && !isTag(next))\n        ({ next } = next);\n    return next;\n}\n/**\n * Returns the previous element sibling of a node.\n *\n * @category Traversal\n * @param elem The element to get the previous sibling of.\n * @returns `elem`'s previous sibling that is a tag, or `null` if there is no\n * previous sibling.\n */\nexport function prevElementSibling(elem) {\n    let { prev } = elem;\n    while (prev !== null && !isTag(prev))\n        ({ prev } = prev);\n    return prev;\n}\n//# sourceMappingURL=traversal.js.map","/**\n * Remove an element from the dom\n *\n * @category Manipulation\n * @param elem The element to be removed\n */\nexport function removeElement(elem) {\n    if (elem.prev)\n        elem.prev.next = elem.next;\n    if (elem.next)\n        elem.next.prev = elem.prev;\n    if (elem.parent) {\n        const childs = elem.parent.children;\n        const childsIndex = childs.lastIndexOf(elem);\n        if (childsIndex >= 0) {\n            childs.splice(childsIndex, 1);\n        }\n    }\n    elem.next = null;\n    elem.prev = null;\n    elem.parent = null;\n}\n/**\n * Replace an element in the dom\n *\n * @category Manipulation\n * @param elem The element to be replaced\n * @param replacement The element to be added\n */\nexport function replaceElement(elem, replacement) {\n    const prev = (replacement.prev = elem.prev);\n    if (prev) {\n        prev.next = replacement;\n    }\n    const next = (replacement.next = elem.next);\n    if (next) {\n        next.prev = replacement;\n    }\n    const parent = (replacement.parent = elem.parent);\n    if (parent) {\n        const childs = parent.children;\n        childs[childs.lastIndexOf(elem)] = replacement;\n        elem.parent = null;\n    }\n}\n/**\n * Append a child to an element.\n *\n * @category Manipulation\n * @param parent The element to append to.\n * @param child The element to be added as a child.\n */\nexport function appendChild(parent, child) {\n    removeElement(child);\n    child.next = null;\n    child.parent = parent;\n    if (parent.children.push(child) > 1) {\n        const sibling = parent.children[parent.children.length - 2];\n        sibling.next = child;\n        child.prev = sibling;\n    }\n    else {\n        child.prev = null;\n    }\n}\n/**\n * Append an element after another.\n *\n * @category Manipulation\n * @param elem The element to append after.\n * @param next The element be added.\n */\nexport function append(elem, next) {\n    removeElement(next);\n    const { parent } = elem;\n    const currNext = elem.next;\n    next.next = currNext;\n    next.prev = elem;\n    elem.next = next;\n    next.parent = parent;\n    if (currNext) {\n        currNext.prev = next;\n        if (parent) {\n            const childs = parent.children;\n            childs.splice(childs.lastIndexOf(currNext), 0, next);\n        }\n    }\n    else if (parent) {\n        parent.children.push(next);\n    }\n}\n/**\n * Prepend a child to an element.\n *\n * @category Manipulation\n * @param parent The element to prepend before.\n * @param child The element to be added as a child.\n */\nexport function prependChild(parent, child) {\n    removeElement(child);\n    child.parent = parent;\n    child.prev = null;\n    if (parent.children.unshift(child) !== 1) {\n        const sibling = parent.children[1];\n        sibling.prev = child;\n        child.next = sibling;\n    }\n    else {\n        child.next = null;\n    }\n}\n/**\n * Prepend an element before another.\n *\n * @category Manipulation\n * @param elem The element to prepend before.\n * @param prev The element be added.\n */\nexport function prepend(elem, prev) {\n    removeElement(prev);\n    const { parent } = elem;\n    if (parent) {\n        const childs = parent.children;\n        childs.splice(childs.indexOf(elem), 0, prev);\n    }\n    if (elem.prev) {\n        elem.prev.next = prev;\n    }\n    prev.parent = parent;\n    prev.prev = elem.prev;\n    prev.next = elem;\n    elem.prev = prev;\n}\n//# sourceMappingURL=manipulation.js.map","import { isTag, isText } from \"domhandler\";\nimport { filter, findOne } from \"./querying.js\";\n/**\n * A map of functions to check nodes against.\n */\nconst Checks = {\n    tag_name(name) {\n        if (typeof name === \"function\") {\n            return (elem) => isTag(elem) && name(elem.name);\n        }\n        else if (name === \"*\") {\n            return isTag;\n        }\n        return (elem) => isTag(elem) && elem.name === name;\n    },\n    tag_type(type) {\n        if (typeof type === \"function\") {\n            return (elem) => type(elem.type);\n        }\n        return (elem) => elem.type === type;\n    },\n    tag_contains(data) {\n        if (typeof data === \"function\") {\n            return (elem) => isText(elem) && data(elem.data);\n        }\n        return (elem) => isText(elem) && elem.data === data;\n    },\n};\n/**\n * Returns a function to check whether a node has an attribute with a particular\n * value.\n *\n * @param attrib Attribute to check.\n * @param value Attribute value to look for.\n * @returns A function to check whether the a node has an attribute with a\n *   particular value.\n */\nfunction getAttribCheck(attrib, value) {\n    if (typeof value === \"function\") {\n        return (elem) => isTag(elem) && value(elem.attribs[attrib]);\n    }\n    return (elem) => isTag(elem) && elem.attribs[attrib] === value;\n}\n/**\n * Returns a function that returns `true` if either of the input functions\n * returns `true` for a node.\n *\n * @param a First function to combine.\n * @param b Second function to combine.\n * @returns A function taking a node and returning `true` if either of the input\n *   functions returns `true` for the node.\n */\nfunction combineFuncs(a, b) {\n    return (elem) => a(elem) || b(elem);\n}\n/**\n * Returns a function that executes all checks in `options` and returns `true`\n * if any of them match a node.\n *\n * @param options An object describing nodes to look for.\n * @returns A function that executes all checks in `options` and returns `true`\n *   if any of them match a node.\n */\nfunction compileTest(options) {\n    const funcs = Object.keys(options).map((key) => {\n        const value = options[key];\n        return Object.prototype.hasOwnProperty.call(Checks, key)\n            ? Checks[key](value)\n            : getAttribCheck(key, value);\n    });\n    return funcs.length === 0 ? null : funcs.reduce(combineFuncs);\n}\n/**\n * Checks whether a node matches the description in `options`.\n *\n * @category Legacy Query Functions\n * @param options An object describing nodes to look for.\n * @param node The element to test.\n * @returns Whether the element matches the description in `options`.\n */\nexport function testElement(options, node) {\n    const test = compileTest(options);\n    return test ? test(node) : true;\n}\n/**\n * Returns all nodes that match `options`.\n *\n * @category Legacy Query Functions\n * @param options An object describing nodes to look for.\n * @param nodes Nodes to search through.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes that match `options`.\n */\nexport function getElements(options, nodes, recurse, limit = Infinity) {\n    const test = compileTest(options);\n    return test ? filter(test, nodes, recurse, limit) : [];\n}\n/**\n * Returns the node with the supplied ID.\n *\n * @category Legacy Query Functions\n * @param id The unique ID attribute value to look for.\n * @param nodes Nodes to search through.\n * @param recurse Also consider child nodes.\n * @returns The node with the supplied ID.\n */\nexport function getElementById(id, nodes, recurse = true) {\n    if (!Array.isArray(nodes))\n        nodes = [nodes];\n    return findOne(getAttribCheck(\"id\", id), nodes, recurse);\n}\n/**\n * Returns all nodes with the supplied `tagName`.\n *\n * @category Legacy Query Functions\n * @param tagName Tag name to search for.\n * @param nodes Nodes to search through.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes with the supplied `tagName`.\n */\nexport function getElementsByTagName(tagName, nodes, recurse = true, limit = Infinity) {\n    return filter(Checks[\"tag_name\"](tagName), nodes, recurse, limit);\n}\n/**\n * Returns all nodes with the supplied `type`.\n *\n * @category Legacy Query Functions\n * @param type Element type to look for.\n * @param nodes Nodes to search through.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes with the supplied `type`.\n */\nexport function getElementsByTagType(type, nodes, recurse = true, limit = Infinity) {\n    return filter(Checks[\"tag_type\"](type), nodes, recurse, limit);\n}\n//# sourceMappingURL=legacy.js.map","import { textContent } from \"./stringify.js\";\nimport { getElementsByTagName } from \"./legacy.js\";\n/**\n * Get the feed object from the root of a DOM tree.\n *\n * @category Feeds\n * @param doc - The DOM to to extract the feed from.\n * @returns The feed.\n */\nexport function getFeed(doc) {\n    const feedRoot = getOneElement(isValidFeed, doc);\n    return !feedRoot\n        ? null\n        : feedRoot.name === \"feed\"\n            ? getAtomFeed(feedRoot)\n            : getRssFeed(feedRoot);\n}\n/**\n * Parse an Atom feed.\n *\n * @param feedRoot The root of the feed.\n * @returns The parsed feed.\n */\nfunction getAtomFeed(feedRoot) {\n    var _a;\n    const childs = feedRoot.children;\n    const feed = {\n        type: \"atom\",\n        items: getElementsByTagName(\"entry\", childs).map((item) => {\n            var _a;\n            const { children } = item;\n            const entry = { media: getMediaElements(children) };\n            addConditionally(entry, \"id\", \"id\", children);\n            addConditionally(entry, \"title\", \"title\", children);\n            const href = (_a = getOneElement(\"link\", children)) === null || _a === void 0 ? void 0 : _a.attribs[\"href\"];\n            if (href) {\n                entry.link = href;\n            }\n            const description = fetch(\"summary\", children) || fetch(\"content\", children);\n            if (description) {\n                entry.description = description;\n            }\n            const pubDate = fetch(\"updated\", children);\n            if (pubDate) {\n                entry.pubDate = new Date(pubDate);\n            }\n            return entry;\n        }),\n    };\n    addConditionally(feed, \"id\", \"id\", childs);\n    addConditionally(feed, \"title\", \"title\", childs);\n    const href = (_a = getOneElement(\"link\", childs)) === null || _a === void 0 ? void 0 : _a.attribs[\"href\"];\n    if (href) {\n        feed.link = href;\n    }\n    addConditionally(feed, \"description\", \"subtitle\", childs);\n    const updated = fetch(\"updated\", childs);\n    if (updated) {\n        feed.updated = new Date(updated);\n    }\n    addConditionally(feed, \"author\", \"email\", childs, true);\n    return feed;\n}\n/**\n * Parse a RSS feed.\n *\n * @param feedRoot The root of the feed.\n * @returns The parsed feed.\n */\nfunction getRssFeed(feedRoot) {\n    var _a, _b;\n    const childs = (_b = (_a = getOneElement(\"channel\", feedRoot.children)) === null || _a === void 0 ? void 0 : _a.children) !== null && _b !== void 0 ? _b : [];\n    const feed = {\n        type: feedRoot.name.substr(0, 3),\n        id: \"\",\n        items: getElementsByTagName(\"item\", feedRoot.children).map((item) => {\n            const { children } = item;\n            const entry = { media: getMediaElements(children) };\n            addConditionally(entry, \"id\", \"guid\", children);\n            addConditionally(entry, \"title\", \"title\", children);\n            addConditionally(entry, \"link\", \"link\", children);\n            addConditionally(entry, \"description\", \"description\", children);\n            const pubDate = fetch(\"pubDate\", children) || fetch(\"dc:date\", children);\n            if (pubDate)\n                entry.pubDate = new Date(pubDate);\n            return entry;\n        }),\n    };\n    addConditionally(feed, \"title\", \"title\", childs);\n    addConditionally(feed, \"link\", \"link\", childs);\n    addConditionally(feed, \"description\", \"description\", childs);\n    const updated = fetch(\"lastBuildDate\", childs);\n    if (updated) {\n        feed.updated = new Date(updated);\n    }\n    addConditionally(feed, \"author\", \"managingEditor\", childs, true);\n    return feed;\n}\nconst MEDIA_KEYS_STRING = [\"url\", \"type\", \"lang\"];\nconst MEDIA_KEYS_INT = [\n    \"fileSize\",\n    \"bitrate\",\n    \"framerate\",\n    \"samplingrate\",\n    \"channels\",\n    \"duration\",\n    \"height\",\n    \"width\",\n];\n/**\n * Get all media elements of a feed item.\n *\n * @param where Nodes to search in.\n * @returns Media elements.\n */\nfunction getMediaElements(where) {\n    return getElementsByTagName(\"media:content\", where).map((elem) => {\n        const { attribs } = elem;\n        const media = {\n            medium: attribs[\"medium\"],\n            isDefault: !!attribs[\"isDefault\"],\n        };\n        for (const attrib of MEDIA_KEYS_STRING) {\n            if (attribs[attrib]) {\n                media[attrib] = attribs[attrib];\n            }\n        }\n        for (const attrib of MEDIA_KEYS_INT) {\n            if (attribs[attrib]) {\n                media[attrib] = parseInt(attribs[attrib], 10);\n            }\n        }\n        if (attribs[\"expression\"]) {\n            media.expression = attribs[\"expression\"];\n        }\n        return media;\n    });\n}\n/**\n * Get one element by tag name.\n *\n * @param tagName Tag name to look for\n * @param node Node to search in\n * @returns The element or null\n */\nfunction getOneElement(tagName, node) {\n    return getElementsByTagName(tagName, node, true, 1)[0];\n}\n/**\n * Get the text content of an element with a certain tag name.\n *\n * @param tagName Tag name to look for.\n * @param where Node to search in.\n * @param recurse Whether to recurse into child nodes.\n * @returns The text content of the element.\n */\nfunction fetch(tagName, where, recurse = false) {\n    return textContent(getElementsByTagName(tagName, where, recurse, 1)).trim();\n}\n/**\n * Adds a property to an object if it has a value.\n *\n * @param obj Object to be extended\n * @param prop Property name\n * @param tagName Tag name that contains the conditionally added property\n * @param where Element to search for the property\n * @param recurse Whether to recurse into child nodes.\n */\nfunction addConditionally(obj, prop, tagName, where, recurse = false) {\n    const val = fetch(tagName, where, recurse);\n    if (val)\n        obj[prop] = val;\n}\n/**\n * Checks if an element is a feed root node.\n *\n * @param value The name of the element to check.\n * @returns Whether an element is a feed root node.\n */\nfunction isValidFeed(value) {\n    return value === \"rss\" || value === \"feed\" || value === \"rdf:RDF\";\n}\n//# sourceMappingURL=feeds.js.map","import { textContent } from 'domutils';\nimport { flattenOptions as flattenOptions, } from './options.js';\n/**\n * Helper function to render a DOM.\n *\n * @param that - Cheerio instance to render.\n * @param dom - The DOM to render. Defaults to `that`'s root.\n * @param options - Options for rendering.\n * @returns The rendered document.\n */\nfunction render(that, dom, options) {\n    if (!that)\n        return '';\n    return that(dom !== null && dom !== void 0 ? dom : that._root.children, null, undefined, options).toString();\n}\n/**\n * Checks if a passed object is an options object.\n *\n * @param dom - Object to check if it is an options object.\n * @param options - Options object.\n * @returns Whether the object is an options object.\n */\nfunction isOptions(dom, options) {\n    return (!options &&\n        typeof dom === 'object' &&\n        dom != null &&\n        !('length' in dom) &&\n        !('type' in dom));\n}\nexport function html(dom, options) {\n    /*\n     * Be flexible about parameters, sometimes we call html(),\n     * with options as only parameter\n     * check dom argument for dom element specific properties\n     * assume there is no 'length' or 'type' properties in the options object\n     */\n    const toRender = isOptions(dom) ? ((options = dom), undefined) : dom;\n    /*\n     * Sometimes `$.html()` is used without preloading html,\n     * so fallback non-existing options to the default ones.\n     */\n    const opts = {\n        ...this === null || this === void 0 ? void 0 : this._options,\n        ...flattenOptions(options),\n    };\n    return render(this, toRender, opts);\n}\n/**\n * Render the document as XML.\n *\n * @category Static\n * @param dom - Element to render.\n * @returns THe rendered document.\n */\nexport function xml(dom) {\n    const options = { ...this._options, xmlMode: true };\n    return render(this, dom, options);\n}\n/**\n * Render the document as text.\n *\n * This returns the `textContent` of the passed elements. The result will\n * include the contents of `<script>` and `<style>` elements. To avoid this, use\n * `.prop('innerText')` instead.\n *\n * @category Static\n * @param elements - Elements to render.\n * @returns The rendered document.\n */\nexport function text(elements) {\n    const elems = elements !== null && elements !== void 0 ? elements : (this ? this.root() : []);\n    let ret = '';\n    for (let i = 0; i < elems.length; i++) {\n        ret += textContent(elems[i]);\n    }\n    return ret;\n}\nexport function parseHTML(data, context, keepScripts = typeof context === 'boolean' ? context : false) {\n    if (!data || typeof data !== 'string') {\n        return null;\n    }\n    if (typeof context === 'boolean') {\n        keepScripts = context;\n    }\n    const parsed = this.load(data, this._options, false);\n    if (!keepScripts) {\n        parsed('script').remove();\n    }\n    /*\n     * The `children` array is used by Cheerio internally to group elements that\n     * share the same parents. When nodes created through `parseHTML` are\n     * inserted into previously-existing DOM structures, they will be removed\n     * from the `children` array. The results of `parseHTML` should remain\n     * constant across these operations, so a shallow copy should be returned.\n     */\n    return [...parsed.root()[0].children];\n}\n/**\n * Sometimes you need to work with the top-level root element. To query it, you\n * can use `$.root()`.\n *\n * @category Static\n * @example\n *\n * ```js\n * $.root().append('<ul id=\"vegetables\"></ul>').html();\n * //=> <ul id=\"fruits\">...</ul><ul id=\"vegetables\"></ul>\n * ```\n *\n * @returns Cheerio instance wrapping the root node.\n * @alias Cheerio.root\n */\nexport function root() {\n    return this(this._root);\n}\n/**\n * Checks to see if the `contained` DOM element is a descendant of the\n * `container` DOM element.\n *\n * @category Static\n * @param container - Potential parent node.\n * @param contained - Potential child node.\n * @returns Indicates if the nodes contain one another.\n * @alias Cheerio.contains\n * @see {@link https://api.jquery.com/jQuery.contains/}\n */\nexport function contains(container, contained) {\n    // According to the jQuery API, an element does not \"contain\" itself\n    if (contained === container) {\n        return false;\n    }\n    /*\n     * Step up the descendants, stopping when the root element is reached\n     * (signaled by `.parent` returning a reference to the same object)\n     */\n    let next = contained;\n    while (next && next !== next.parent) {\n        next = next.parent;\n        if (next === container) {\n            return true;\n        }\n    }\n    return false;\n}\n/**\n * Extract multiple values from a document, and store them in an object.\n *\n * @category Static\n * @param map - An object containing key-value pairs. The keys are the names of\n *   the properties to be created on the object, and the values are the\n *   selectors to be used to extract the values.\n * @returns An object containing the extracted values.\n */\nexport function extract(map) {\n    return this.root().extract(map);\n}\n/**\n * $.merge().\n *\n * @category Static\n * @param arr1 - First array.\n * @param arr2 - Second array.\n * @returns `arr1`, with elements of `arr2` inserted.\n * @alias Cheerio.merge\n * @see {@link https://api.jquery.com/jQuery.merge/}\n */\nexport function merge(arr1, arr2) {\n    if (!isArrayLike(arr1) || !isArrayLike(arr2)) {\n        return;\n    }\n    let newLength = arr1.length;\n    const len = +arr2.length;\n    for (let i = 0; i < len; i++) {\n        arr1[newLength++] = arr2[i];\n    }\n    arr1.length = newLength;\n    return arr1;\n}\n/**\n * Checks if an object is array-like.\n *\n * @category Static\n * @param item - Item to check.\n * @returns Indicates if the item is array-like.\n */\nfunction isArrayLike(item) {\n    if (Array.isArray(item)) {\n        return true;\n    }\n    if (typeof item !== 'object' ||\n        item === null ||\n        !('length' in item) ||\n        typeof item.length !== 'number' ||\n        item.length < 0) {\n        return false;\n    }\n    for (let i = 0; i < item.length; i++) {\n        if (!(i in item)) {\n            return false;\n        }\n    }\n    return true;\n}\n//# sourceMappingURL=static.js.map","/**\n * Methods for getting and modifying attributes.\n *\n * @module cheerio/attributes\n */\nimport { text } from '../static.js';\nimport { domEach, camelCase, cssCase } from '../utils.js';\nimport { isTag } from 'domhandler';\nimport { innerText, textContent } from 'domutils';\nconst hasOwn = Object.prototype.hasOwnProperty;\nconst rspace = /\\s+/;\nconst dataAttrPrefix = 'data-';\n// Attributes that are booleans\nconst rboolean = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i;\n// Matches strings that look like JSON objects or arrays\nconst rbrace = /^{[^]*}$|^\\[[^]*]$/;\nfunction getAttr(elem, name, xmlMode) {\n    var _a;\n    if (!elem || !isTag(elem))\n        return undefined;\n    (_a = elem.attribs) !== null && _a !== void 0 ? _a : (elem.attribs = {});\n    // Return the entire attribs object if no attribute specified\n    if (!name) {\n        return elem.attribs;\n    }\n    if (hasOwn.call(elem.attribs, name)) {\n        // Get the (decoded) attribute\n        return !xmlMode && rboolean.test(name) ? name : elem.attribs[name];\n    }\n    // Mimic the DOM and return text content as value for `option's`\n    if (elem.name === 'option' && name === 'value') {\n        return text(elem.children);\n    }\n    // Mimic DOM with default value for radios/checkboxes\n    if (elem.name === 'input' &&\n        (elem.attribs['type'] === 'radio' || elem.attribs['type'] === 'checkbox') &&\n        name === 'value') {\n        return 'on';\n    }\n    return undefined;\n}\n/**\n * Sets the value of an attribute. The attribute will be deleted if the value is\n * `null`.\n *\n * @private\n * @param el - The element to set the attribute on.\n * @param name - The attribute's name.\n * @param value - The attribute's value.\n */\nfunction setAttr(el, name, value) {\n    if (value === null) {\n        removeAttribute(el, name);\n    }\n    else {\n        el.attribs[name] = `${value}`;\n    }\n}\nexport function attr(name, value) {\n    // Set the value (with attr map support)\n    if (typeof name === 'object' || value !== undefined) {\n        if (typeof value === 'function') {\n            if (typeof name !== 'string') {\n                {\n                    throw new Error('Bad combination of arguments.');\n                }\n            }\n            return domEach(this, (el, i) => {\n                if (isTag(el))\n                    setAttr(el, name, value.call(el, i, el.attribs[name]));\n            });\n        }\n        return domEach(this, (el) => {\n            if (!isTag(el))\n                return;\n            if (typeof name === 'object') {\n                for (const objName of Object.keys(name)) {\n                    const objValue = name[objName];\n                    setAttr(el, objName, objValue);\n                }\n            }\n            else {\n                setAttr(el, name, value);\n            }\n        });\n    }\n    return arguments.length > 1\n        ? this\n        : getAttr(this[0], name, this.options.xmlMode);\n}\n/**\n * Gets a node's prop.\n *\n * @private\n * @category Attributes\n * @param el - Element to get the prop of.\n * @param name - Name of the prop.\n * @param xmlMode - Disable handling of special HTML attributes.\n * @returns The prop's value.\n */\nfunction getProp(el, name, xmlMode) {\n    return name in el\n        ? // @ts-expect-error TS doesn't like us accessing the value directly here.\n            el[name]\n        : !xmlMode && rboolean.test(name)\n            ? getAttr(el, name, false) !== undefined\n            : getAttr(el, name, xmlMode);\n}\n/**\n * Sets the value of a prop.\n *\n * @private\n * @param el - The element to set the prop on.\n * @param name - The prop's name.\n * @param value - The prop's value.\n * @param xmlMode - Disable handling of special HTML attributes.\n */\nfunction setProp(el, name, value, xmlMode) {\n    if (name in el) {\n        // @ts-expect-error Overriding value\n        el[name] = value;\n    }\n    else {\n        setAttr(el, name, !xmlMode && rboolean.test(name) ? (value ? '' : null) : `${value}`);\n    }\n}\nexport function prop(name, value) {\n    var _a;\n    if (typeof name === 'string' && value === undefined) {\n        const el = this[0];\n        if (!el || !isTag(el))\n            return undefined;\n        switch (name) {\n            case 'style': {\n                const property = this.css();\n                const keys = Object.keys(property);\n                for (let i = 0; i < keys.length; i++) {\n                    property[i] = keys[i];\n                }\n                property.length = keys.length;\n                return property;\n            }\n            case 'tagName':\n            case 'nodeName': {\n                return el.name.toUpperCase();\n            }\n            case 'href':\n            case 'src': {\n                const prop = (_a = el.attribs) === null || _a === void 0 ? void 0 : _a[name];\n                if (typeof URL !== 'undefined' &&\n                    ((name === 'href' && (el.tagName === 'a' || el.tagName === 'link')) ||\n                        (name === 'src' &&\n                            (el.tagName === 'img' ||\n                                el.tagName === 'iframe' ||\n                                el.tagName === 'audio' ||\n                                el.tagName === 'video' ||\n                                el.tagName === 'source'))) &&\n                    prop !== undefined &&\n                    this.options.baseURI) {\n                    return new URL(prop, this.options.baseURI).href;\n                }\n                return prop;\n            }\n            case 'innerText': {\n                return innerText(el);\n            }\n            case 'textContent': {\n                return textContent(el);\n            }\n            case 'outerHTML': {\n                return this.clone().wrap('<container />').parent().html();\n            }\n            case 'innerHTML': {\n                return this.html();\n            }\n            default: {\n                return getProp(el, name, this.options.xmlMode);\n            }\n        }\n    }\n    if (typeof name === 'object' || value !== undefined) {\n        if (typeof value === 'function') {\n            if (typeof name === 'object') {\n                throw new TypeError('Bad combination of arguments.');\n            }\n            return domEach(this, (el, i) => {\n                if (isTag(el)) {\n                    setProp(el, name, value.call(el, i, getProp(el, name, this.options.xmlMode)), this.options.xmlMode);\n                }\n            });\n        }\n        return domEach(this, (el) => {\n            if (!isTag(el))\n                return;\n            if (typeof name === 'object') {\n                for (const key of Object.keys(name)) {\n                    const val = name[key];\n                    setProp(el, key, val, this.options.xmlMode);\n                }\n            }\n            else {\n                setProp(el, name, value, this.options.xmlMode);\n            }\n        });\n    }\n    return undefined;\n}\n/**\n * Sets the value of a data attribute.\n *\n * @private\n * @param elem - The element to set the data attribute on.\n * @param name - The data attribute's name.\n * @param value - The data attribute's value.\n */\nfunction setData(elem, name, value) {\n    var _a;\n    (_a = elem.data) !== null && _a !== void 0 ? _a : (elem.data = {});\n    if (typeof name === 'object')\n        Object.assign(elem.data, name);\n    else if (typeof name === 'string' && value !== undefined) {\n        elem.data[name] = value;\n    }\n}\n/**\n * Read _all_ HTML5 `data-*` attributes from the equivalent HTML5 `data-*`\n * attribute, and cache the value in the node's internal data store.\n *\n * @private\n * @category Attributes\n * @param el - Element to get the data attribute of.\n * @returns A map with all of the data attributes.\n */\nfunction readAllData(el) {\n    for (const domName of Object.keys(el.attribs)) {\n        if (!domName.startsWith(dataAttrPrefix)) {\n            continue;\n        }\n        const jsName = camelCase(domName.slice(dataAttrPrefix.length));\n        if (!hasOwn.call(el.data, jsName)) {\n            el.data[jsName] = parseDataValue(el.attribs[domName]);\n        }\n    }\n    return el.data;\n}\n/**\n * Read the specified attribute from the equivalent HTML5 `data-*` attribute,\n * and (if present) cache the value in the node's internal data store.\n *\n * @private\n * @category Attributes\n * @param el - Element to get the data attribute of.\n * @param name - Name of the data attribute.\n * @returns The data attribute's value.\n */\nfunction readData(el, name) {\n    const domName = dataAttrPrefix + cssCase(name);\n    const data = el.data;\n    if (hasOwn.call(data, name)) {\n        return data[name];\n    }\n    if (hasOwn.call(el.attribs, domName)) {\n        return (data[name] = parseDataValue(el.attribs[domName]));\n    }\n    return undefined;\n}\n/**\n * Coerce string data-* attributes to their corresponding JavaScript primitives.\n *\n * @private\n * @category Attributes\n * @param value - The value to parse.\n * @returns The parsed value.\n */\nfunction parseDataValue(value) {\n    if (value === 'null')\n        return null;\n    if (value === 'true')\n        return true;\n    if (value === 'false')\n        return false;\n    const num = Number(value);\n    if (value === String(num))\n        return num;\n    if (rbrace.test(value)) {\n        try {\n            return JSON.parse(value);\n        }\n        catch {\n            /* Ignore */\n        }\n    }\n    return value;\n}\nexport function data(name, value) {\n    var _a;\n    const elem = this[0];\n    if (!elem || !isTag(elem))\n        return;\n    const dataEl = elem;\n    (_a = dataEl.data) !== null && _a !== void 0 ? _a : (dataEl.data = {});\n    // Return the entire data object if no data specified\n    if (name == null) {\n        return readAllData(dataEl);\n    }\n    // Set the value (with attr map support)\n    if (typeof name === 'object' || value !== undefined) {\n        domEach(this, (el) => {\n            if (isTag(el)) {\n                if (typeof name === 'object')\n                    setData(el, name);\n                else\n                    setData(el, name, value);\n            }\n        });\n        return this;\n    }\n    return readData(dataEl, name);\n}\nexport function val(value) {\n    const querying = arguments.length === 0;\n    const element = this[0];\n    if (!element || !isTag(element))\n        return querying ? undefined : this;\n    switch (element.name) {\n        case 'textarea': {\n            return this.text(value);\n        }\n        case 'select': {\n            const option = this.find('option:selected');\n            if (!querying) {\n                if (this.attr('multiple') == null && typeof value === 'object') {\n                    return this;\n                }\n                this.find('option').removeAttr('selected');\n                const values = typeof value === 'object' ? value : [value];\n                for (const val of values) {\n                    this.find(`option[value=\"${val}\"]`).attr('selected', '');\n                }\n                return this;\n            }\n            return this.attr('multiple')\n                ? option.toArray().map((el) => text(el.children))\n                : option.attr('value');\n        }\n        case 'input':\n        case 'option': {\n            return querying\n                ? this.attr('value')\n                : this.attr('value', value);\n        }\n    }\n    return undefined;\n}\n/**\n * Remove an attribute.\n *\n * @private\n * @param elem - Node to remove attribute from.\n * @param name - Name of the attribute to remove.\n */\nfunction removeAttribute(elem, name) {\n    if (!elem.attribs || !hasOwn.call(elem.attribs, name))\n        return;\n    delete elem.attribs[name];\n}\n/**\n * Splits a space-separated list of names to individual names.\n *\n * @category Attributes\n * @param names - Names to split.\n * @returns - Split names.\n */\nfunction splitNames(names) {\n    return names ? names.trim().split(rspace) : [];\n}\n/**\n * Method for removing attributes by `name`.\n *\n * @category Attributes\n * @example\n *\n * ```js\n * $('.pear').removeAttr('class').html();\n * //=> <li>Pear</li>\n *\n * $('.apple').attr('id', 'favorite');\n * $('.apple').removeAttr('id class').html();\n * //=> <li>Apple</li>\n * ```\n *\n * @param name - Name of the attribute.\n * @returns The instance itself.\n * @see {@link https://api.jquery.com/removeAttr/}\n */\nexport function removeAttr(name) {\n    const attrNames = splitNames(name);\n    for (const attrName of attrNames) {\n        domEach(this, (elem) => {\n            if (isTag(elem))\n                removeAttribute(elem, attrName);\n        });\n    }\n    return this;\n}\n/**\n * Check to see if _any_ of the matched elements have the given `className`.\n *\n * @category Attributes\n * @example\n *\n * ```js\n * $('.pear').hasClass('pear');\n * //=> true\n *\n * $('apple').hasClass('fruit');\n * //=> false\n *\n * $('li').hasClass('pear');\n * //=> true\n * ```\n *\n * @param className - Name of the class.\n * @returns Indicates if an element has the given `className`.\n * @see {@link https://api.jquery.com/hasClass/}\n */\nexport function hasClass(className) {\n    return this.toArray().some((elem) => {\n        const clazz = isTag(elem) && elem.attribs['class'];\n        let idx = -1;\n        if (clazz && className.length > 0) {\n            while ((idx = clazz.indexOf(className, idx + 1)) > -1) {\n                const end = idx + className.length;\n                if ((idx === 0 || rspace.test(clazz[idx - 1])) &&\n                    (end === clazz.length || rspace.test(clazz[end]))) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    });\n}\n/**\n * Adds class(es) to all of the matched elements. Also accepts a `function`.\n *\n * @category Attributes\n * @example\n *\n * ```js\n * $('.pear').addClass('fruit').html();\n * //=> <li class=\"pear fruit\">Pear</li>\n *\n * $('.apple').addClass('fruit red').html();\n * //=> <li class=\"apple fruit red\">Apple</li>\n * ```\n *\n * @param value - Name of new class.\n * @returns The instance itself.\n * @see {@link https://api.jquery.com/addClass/}\n */\nexport function addClass(value) {\n    // Support functions\n    if (typeof value === 'function') {\n        return domEach(this, (el, i) => {\n            if (isTag(el)) {\n                const className = el.attribs['class'] || '';\n                addClass.call([el], value.call(el, i, className));\n            }\n        });\n    }\n    // Return if no value or not a string or function\n    if (!value || typeof value !== 'string')\n        return this;\n    const classNames = value.split(rspace);\n    const numElements = this.length;\n    for (let i = 0; i < numElements; i++) {\n        const el = this[i];\n        // If selected element isn't a tag, move on\n        if (!isTag(el))\n            continue;\n        // If we don't already have classes  always set xmlMode to false here, as it doesn't matter for classes\n        const className = getAttr(el, 'class', false);\n        if (className) {\n            let setClass = ` ${className} `;\n            // Check if class already exists\n            for (const cn of classNames) {\n                const appendClass = `${cn} `;\n                if (!setClass.includes(` ${appendClass}`))\n                    setClass += appendClass;\n            }\n            setAttr(el, 'class', setClass.trim());\n        }\n        else {\n            setAttr(el, 'class', classNames.join(' ').trim());\n        }\n    }\n    return this;\n}\n/**\n * Removes one or more space-separated classes from the selected elements. If no\n * `className` is defined, all classes will be removed. Also accepts a\n * `function`.\n *\n * @category Attributes\n * @example\n *\n * ```js\n * $('.pear').removeClass('pear').html();\n * //=> <li class=\"\">Pear</li>\n *\n * $('.apple').addClass('red').removeClass().html();\n * //=> <li class=\"\">Apple</li>\n * ```\n *\n * @param name - Name of the class. If not specified, removes all elements.\n * @returns The instance itself.\n * @see {@link https://api.jquery.com/removeClass/}\n */\nexport function removeClass(name) {\n    // Handle if value is a function\n    if (typeof name === 'function') {\n        return domEach(this, (el, i) => {\n            if (isTag(el)) {\n                removeClass.call([el], name.call(el, i, el.attribs['class'] || ''));\n            }\n        });\n    }\n    const classes = splitNames(name);\n    const numClasses = classes.length;\n    const removeAll = arguments.length === 0;\n    return domEach(this, (el) => {\n        if (!isTag(el))\n            return;\n        if (removeAll) {\n            // Short circuit the remove all case as this is the nice one\n            el.attribs['class'] = '';\n        }\n        else {\n            const elClasses = splitNames(el.attribs['class']);\n            let changed = false;\n            for (let j = 0; j < numClasses; j++) {\n                const index = elClasses.indexOf(classes[j]);\n                if (index >= 0) {\n                    elClasses.splice(index, 1);\n                    changed = true;\n                    /*\n                     * We have to do another pass to ensure that there are not duplicate\n                     * classes listed\n                     */\n                    j--;\n                }\n            }\n            if (changed) {\n                el.attribs['class'] = elClasses.join(' ');\n            }\n        }\n    });\n}\n/**\n * Add or remove class(es) from the matched elements, depending on either the\n * class's presence or the value of the switch argument. Also accepts a\n * `function`.\n *\n * @category Attributes\n * @example\n *\n * ```js\n * $('.apple.green').toggleClass('fruit green red').html();\n * //=> <li class=\"apple fruit red\">Apple</li>\n *\n * $('.apple.green').toggleClass('fruit green red', true).html();\n * //=> <li class=\"apple green fruit red\">Apple</li>\n * ```\n *\n * @param value - Name of the class. Can also be a function.\n * @param stateVal - If specified the state of the class.\n * @returns The instance itself.\n * @see {@link https://api.jquery.com/toggleClass/}\n */\nexport function toggleClass(value, stateVal) {\n    // Support functions\n    if (typeof value === 'function') {\n        return domEach(this, (el, i) => {\n            if (isTag(el)) {\n                toggleClass.call([el], value.call(el, i, el.attribs['class'] || '', stateVal), stateVal);\n            }\n        });\n    }\n    // Return if no value or not a string or function\n    if (!value || typeof value !== 'string')\n        return this;\n    const classNames = value.split(rspace);\n    const numClasses = classNames.length;\n    const state = typeof stateVal === 'boolean' ? (stateVal ? 1 : -1) : 0;\n    const numElements = this.length;\n    for (let i = 0; i < numElements; i++) {\n        const el = this[i];\n        // If selected element isn't a tag, move on\n        if (!isTag(el))\n            continue;\n        const elementClasses = splitNames(el.attribs['class']);\n        // Check if class already exists\n        for (let j = 0; j < numClasses; j++) {\n            // Check if the class name is currently defined\n            const index = elementClasses.indexOf(classNames[j]);\n            // Add if stateValue === true or we are toggling and there is no value\n            if (state >= 0 && index < 0) {\n                elementClasses.push(classNames[j]);\n            }\n            else if (state <= 0 && index >= 0) {\n                // Otherwise remove but only if the item exists\n                elementClasses.splice(index, 1);\n            }\n        }\n        el.attribs['class'] = elementClasses.join(' ');\n    }\n    return this;\n}\n//# sourceMappingURL=attributes.js.map","import { AttributeAction, SelectorType } from \"css-what\";\nconst procedure = new Map([\n    [SelectorType.Universal, 50],\n    [SelectorType.Tag, 30],\n    [SelectorType.Attribute, 1],\n    [SelectorType.Pseudo, 0],\n]);\nexport function isTraversal(token) {\n    return !procedure.has(token.type);\n}\nconst attributes = new Map([\n    [AttributeAction.Exists, 10],\n    [AttributeAction.Equals, 8],\n    [AttributeAction.Not, 7],\n    [AttributeAction.Start, 6],\n    [AttributeAction.End, 6],\n    [AttributeAction.Any, 5],\n]);\n/**\n * Sort the parts of the passed selector,\n * as there is potential for optimization\n * (some types of selectors are faster than others)\n *\n * @param arr Selector to sort\n */\nexport default function sortByProcedure(arr) {\n    const procs = arr.map(getProcedure);\n    for (let i = 1; i < arr.length; i++) {\n        const procNew = procs[i];\n        if (procNew < 0)\n            continue;\n        for (let j = i - 1; j >= 0 && procNew < procs[j]; j--) {\n            const token = arr[j + 1];\n            arr[j + 1] = arr[j];\n            arr[j] = token;\n            procs[j + 1] = procs[j];\n            procs[j] = procNew;\n        }\n    }\n}\nfunction getProcedure(token) {\n    var _a, _b;\n    let proc = (_a = procedure.get(token.type)) !== null && _a !== void 0 ? _a : -1;\n    if (token.type === SelectorType.Attribute) {\n        proc = (_b = attributes.get(token.action)) !== null && _b !== void 0 ? _b : 4;\n        if (token.action === AttributeAction.Equals && token.name === \"id\") {\n            // Prefer ID selectors (eg. #ID)\n            proc = 9;\n        }\n        if (token.ignoreCase) {\n            /*\n             * IgnoreCase adds some overhead, prefer \"normal\" token\n             * this is a binary operation, to ensure it's still an int\n             */\n            proc >>= 1;\n        }\n    }\n    else if (token.type === SelectorType.Pseudo) {\n        if (!token.data) {\n            proc = 3;\n        }\n        else if (token.name === \"has\" || token.name === \"contains\") {\n            proc = 0; // Expensive in any case\n        }\n        else if (Array.isArray(token.data)) {\n            // Eg. :matches, :not\n            proc = Math.min(...token.data.map((d) => Math.min(...d.map(getProcedure))));\n            // If we have traversals, try to avoid executing this selector\n            if (proc < 0) {\n                proc = 0;\n            }\n        }\n        else {\n            proc = 2;\n        }\n    }\n    return proc;\n}\n//# sourceMappingURL=sort.js.map","import boolbase from \"boolbase\";\n/**\n * All reserved characters in a regex, used for escaping.\n *\n * Taken from XRegExp, (c) 2007-2020 Steven Levithan under the MIT license\n * https://github.com/slevithan/xregexp/blob/95eeebeb8fac8754d54eafe2b4743661ac1cf028/src/xregexp.js#L794\n */\nconst reChars = /[-[\\]{}()*+?.,\\\\^$|#\\s]/g;\nfunction escapeRegex(value) {\n    return value.replace(reChars, \"\\\\$&\");\n}\n/**\n * Attributes that are case-insensitive in HTML.\n *\n * @private\n * @see https://html.spec.whatwg.org/multipage/semantics-other.html#case-sensitivity-of-selectors\n */\nconst caseInsensitiveAttributes = new Set([\n    \"accept\",\n    \"accept-charset\",\n    \"align\",\n    \"alink\",\n    \"axis\",\n    \"bgcolor\",\n    \"charset\",\n    \"checked\",\n    \"clear\",\n    \"codetype\",\n    \"color\",\n    \"compact\",\n    \"declare\",\n    \"defer\",\n    \"dir\",\n    \"direction\",\n    \"disabled\",\n    \"enctype\",\n    \"face\",\n    \"frame\",\n    \"hreflang\",\n    \"http-equiv\",\n    \"lang\",\n    \"language\",\n    \"link\",\n    \"media\",\n    \"method\",\n    \"multiple\",\n    \"nohref\",\n    \"noresize\",\n    \"noshade\",\n    \"nowrap\",\n    \"readonly\",\n    \"rel\",\n    \"rev\",\n    \"rules\",\n    \"scope\",\n    \"scrolling\",\n    \"selected\",\n    \"shape\",\n    \"target\",\n    \"text\",\n    \"type\",\n    \"valign\",\n    \"valuetype\",\n    \"vlink\",\n]);\nfunction shouldIgnoreCase(selector, options) {\n    return typeof selector.ignoreCase === \"boolean\"\n        ? selector.ignoreCase\n        : selector.ignoreCase === \"quirks\"\n            ? !!options.quirksMode\n            : !options.xmlMode && caseInsensitiveAttributes.has(selector.name);\n}\n/**\n * Attribute selectors\n */\nexport const attributeRules = {\n    equals(next, data, options) {\n        const { adapter } = options;\n        const { name } = data;\n        let { value } = data;\n        if (shouldIgnoreCase(data, options)) {\n            value = value.toLowerCase();\n            return (elem) => {\n                const attr = adapter.getAttributeValue(elem, name);\n                return (attr != null &&\n                    attr.length === value.length &&\n                    attr.toLowerCase() === value &&\n                    next(elem));\n            };\n        }\n        return (elem) => adapter.getAttributeValue(elem, name) === value && next(elem);\n    },\n    hyphen(next, data, options) {\n        const { adapter } = options;\n        const { name } = data;\n        let { value } = data;\n        const len = value.length;\n        if (shouldIgnoreCase(data, options)) {\n            value = value.toLowerCase();\n            return function hyphenIC(elem) {\n                const attr = adapter.getAttributeValue(elem, name);\n                return (attr != null &&\n                    (attr.length === len || attr.charAt(len) === \"-\") &&\n                    attr.substr(0, len).toLowerCase() === value &&\n                    next(elem));\n            };\n        }\n        return function hyphen(elem) {\n            const attr = adapter.getAttributeValue(elem, name);\n            return (attr != null &&\n                (attr.length === len || attr.charAt(len) === \"-\") &&\n                attr.substr(0, len) === value &&\n                next(elem));\n        };\n    },\n    element(next, data, options) {\n        const { adapter } = options;\n        const { name, value } = data;\n        if (/\\s/.test(value)) {\n            return boolbase.falseFunc;\n        }\n        const regex = new RegExp(`(?:^|\\\\s)${escapeRegex(value)}(?:$|\\\\s)`, shouldIgnoreCase(data, options) ? \"i\" : \"\");\n        return function element(elem) {\n            const attr = adapter.getAttributeValue(elem, name);\n            return (attr != null &&\n                attr.length >= value.length &&\n                regex.test(attr) &&\n                next(elem));\n        };\n    },\n    exists(next, { name }, { adapter }) {\n        return (elem) => adapter.hasAttrib(elem, name) && next(elem);\n    },\n    start(next, data, options) {\n        const { adapter } = options;\n        const { name } = data;\n        let { value } = data;\n        const len = value.length;\n        if (len === 0) {\n            return boolbase.falseFunc;\n        }\n        if (shouldIgnoreCase(data, options)) {\n            value = value.toLowerCase();\n            return (elem) => {\n                const attr = adapter.getAttributeValue(elem, name);\n                return (attr != null &&\n                    attr.length >= len &&\n                    attr.substr(0, len).toLowerCase() === value &&\n                    next(elem));\n            };\n        }\n        return (elem) => {\n            var _a;\n            return !!((_a = adapter.getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.startsWith(value)) &&\n                next(elem);\n        };\n    },\n    end(next, data, options) {\n        const { adapter } = options;\n        const { name } = data;\n        let { value } = data;\n        const len = -value.length;\n        if (len === 0) {\n            return boolbase.falseFunc;\n        }\n        if (shouldIgnoreCase(data, options)) {\n            value = value.toLowerCase();\n            return (elem) => {\n                var _a;\n                return ((_a = adapter\n                    .getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.substr(len).toLowerCase()) === value && next(elem);\n            };\n        }\n        return (elem) => {\n            var _a;\n            return !!((_a = adapter.getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.endsWith(value)) &&\n                next(elem);\n        };\n    },\n    any(next, data, options) {\n        const { adapter } = options;\n        const { name, value } = data;\n        if (value === \"\") {\n            return boolbase.falseFunc;\n        }\n        if (shouldIgnoreCase(data, options)) {\n            const regex = new RegExp(escapeRegex(value), \"i\");\n            return function anyIC(elem) {\n                const attr = adapter.getAttributeValue(elem, name);\n                return (attr != null &&\n                    attr.length >= value.length &&\n                    regex.test(attr) &&\n                    next(elem));\n            };\n        }\n        return (elem) => {\n            var _a;\n            return !!((_a = adapter.getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.includes(value)) &&\n                next(elem);\n        };\n    },\n    not(next, data, options) {\n        const { adapter } = options;\n        const { name } = data;\n        let { value } = data;\n        if (value === \"\") {\n            return (elem) => !!adapter.getAttributeValue(elem, name) && next(elem);\n        }\n        else if (shouldIgnoreCase(data, options)) {\n            value = value.toLowerCase();\n            return (elem) => {\n                const attr = adapter.getAttributeValue(elem, name);\n                return ((attr == null ||\n                    attr.length !== value.length ||\n                    attr.toLowerCase() !== value) &&\n                    next(elem));\n            };\n        }\n        return (elem) => adapter.getAttributeValue(elem, name) !== value && next(elem);\n    },\n};\n//# sourceMappingURL=attributes.js.map","// Following http://www.w3.org/TR/css3-selectors/#nth-child-pseudo\n// Whitespace as per https://www.w3.org/TR/selectors-3/#lex is \" \\t\\r\\n\\f\"\nconst whitespace = new Set([9, 10, 12, 13, 32]);\nconst ZERO = \"0\".charCodeAt(0);\nconst NINE = \"9\".charCodeAt(0);\n/**\n * Parses an expression.\n *\n * @throws An `Error` if parsing fails.\n * @returns An array containing the integer step size and the integer offset of the nth rule.\n * @example nthCheck.parse(\"2n+3\"); // returns [2, 3]\n */\nexport function parse(formula) {\n    formula = formula.trim().toLowerCase();\n    if (formula === \"even\") {\n        return [2, 0];\n    }\n    else if (formula === \"odd\") {\n        return [2, 1];\n    }\n    // Parse [ ['-'|'+']? INTEGER? {N} [ S* ['-'|'+'] S* INTEGER ]?\n    let idx = 0;\n    let a = 0;\n    let sign = readSign();\n    let number = readNumber();\n    if (idx < formula.length && formula.charAt(idx) === \"n\") {\n        idx++;\n        a = sign * (number !== null && number !== void 0 ? number : 1);\n        skipWhitespace();\n        if (idx < formula.length) {\n            sign = readSign();\n            skipWhitespace();\n            number = readNumber();\n        }\n        else {\n            sign = number = 0;\n        }\n    }\n    // Throw if there is anything else\n    if (number === null || idx < formula.length) {\n        throw new Error(`n-th rule couldn't be parsed ('${formula}')`);\n    }\n    return [a, sign * number];\n    function readSign() {\n        if (formula.charAt(idx) === \"-\") {\n            idx++;\n            return -1;\n        }\n        if (formula.charAt(idx) === \"+\") {\n            idx++;\n        }\n        return 1;\n    }\n    function readNumber() {\n        const start = idx;\n        let value = 0;\n        while (idx < formula.length &&\n            formula.charCodeAt(idx) >= ZERO &&\n            formula.charCodeAt(idx) <= NINE) {\n            value = value * 10 + (formula.charCodeAt(idx) - ZERO);\n            idx++;\n        }\n        // Return `null` if we didn't read anything.\n        return idx === start ? null : value;\n    }\n    function skipWhitespace() {\n        while (idx < formula.length &&\n            whitespace.has(formula.charCodeAt(idx))) {\n            idx++;\n        }\n    }\n}\n//# sourceMappingURL=parse.js.map","import { parse } from \"./parse.js\";\nimport { compile, generate } from \"./compile.js\";\nexport { parse, compile, generate };\n/**\n * Parses and compiles a formula to a highly optimized function.\n * Combination of {@link parse} and {@link compile}.\n *\n * If the formula doesn't match any elements,\n * it returns [`boolbase`](https://github.com/fb55/boolbase)'s `falseFunc`.\n * Otherwise, a function accepting an _index_ is returned, which returns\n * whether or not the passed _index_ matches the formula.\n *\n * Note: The nth-rule starts counting at `1`, the returned function at `0`.\n *\n * @param formula The formula to compile.\n * @example\n * const check = nthCheck(\"2n+3\");\n *\n * check(0); // `false`\n * check(1); // `false`\n * check(2); // `true`\n * check(3); // `false`\n * check(4); // `true`\n * check(5); // `false`\n * check(6); // `true`\n */\nexport default function nthCheck(formula) {\n    return compile(parse(formula));\n}\n/**\n * Parses and compiles a formula to a generator that produces a sequence of indices.\n * Combination of {@link parse} and {@link generate}.\n *\n * @param formula The formula to compile.\n * @returns A function that produces a sequence of indices.\n * @example <caption>Always increasing</caption>\n *\n * ```js\n * const gen = nthCheck.sequence('2n+3')\n *\n * gen() // `1`\n * gen() // `3`\n * gen() // `5`\n * gen() // `8`\n * gen() // `11`\n * ```\n *\n * @example <caption>With end value</caption>\n *\n * ```js\n *\n * const gen = nthCheck.sequence('-2n+5');\n *\n * gen() // 0\n * gen() // 2\n * gen() // 4\n * gen() // null\n * ```\n */\nexport function sequence(formula) {\n    return generate(parse(formula));\n}\n//# sourceMappingURL=index.js.map","import boolbase from \"boolbase\";\n/**\n * Returns a function that checks if an elements index matches the given rule\n * highly optimized to return the fastest solution.\n *\n * @param parsed A tuple [a, b], as returned by `parse`.\n * @returns A highly optimized function that returns whether an index matches the nth-check.\n * @example\n *\n * ```js\n * const check = nthCheck.compile([2, 3]);\n *\n * check(0); // `false`\n * check(1); // `false`\n * check(2); // `true`\n * check(3); // `false`\n * check(4); // `true`\n * check(5); // `false`\n * check(6); // `true`\n * ```\n */\nexport function compile(parsed) {\n    const a = parsed[0];\n    // Subtract 1 from `b`, to convert from one- to zero-indexed.\n    const b = parsed[1] - 1;\n    /*\n     * When `b <= 0`, `a * n` won't be lead to any matches for `a < 0`.\n     * Besides, the specification states that no elements are\n     * matched when `a` and `b` are 0.\n     *\n     * `b < 0` here as we subtracted 1 from `b` above.\n     */\n    if (b < 0 && a <= 0)\n        return boolbase.falseFunc;\n    // When `a` is in the range -1..1, it matches any element (so only `b` is checked).\n    if (a === -1)\n        return (index) => index <= b;\n    if (a === 0)\n        return (index) => index === b;\n    // When `b <= 0` and `a === 1`, they match any element.\n    if (a === 1)\n        return b < 0 ? boolbase.trueFunc : (index) => index >= b;\n    /*\n     * Otherwise, modulo can be used to check if there is a match.\n     *\n     * Modulo doesn't care about the sign, so let's use `a`s absolute value.\n     */\n    const absA = Math.abs(a);\n    // Get `b mod a`, + a if this is negative.\n    const bMod = ((b % absA) + absA) % absA;\n    return a > 1\n        ? (index) => index >= b && index % absA === bMod\n        : (index) => index <= b && index % absA === bMod;\n}\n/**\n * Returns a function that produces a monotonously increasing sequence of indices.\n *\n * If the sequence has an end, the returned function will return `null` after\n * the last index in the sequence.\n *\n * @param parsed A tuple [a, b], as returned by `parse`.\n * @returns A function that produces a sequence of indices.\n * @example <caption>Always increasing (2n+3)</caption>\n *\n * ```js\n * const gen = nthCheck.generate([2, 3])\n *\n * gen() // `1`\n * gen() // `3`\n * gen() // `5`\n * gen() // `8`\n * gen() // `11`\n * ```\n *\n * @example <caption>With end value (-2n+10)</caption>\n *\n * ```js\n *\n * const gen = nthCheck.generate([-2, 5]);\n *\n * gen() // 0\n * gen() // 2\n * gen() // 4\n * gen() // null\n * ```\n */\nexport function generate(parsed) {\n    const a = parsed[0];\n    // Subtract 1 from `b`, to convert from one- to zero-indexed.\n    let b = parsed[1] - 1;\n    let n = 0;\n    // Make sure to always return an increasing sequence\n    if (a < 0) {\n        const aPos = -a;\n        // Get `b mod a`\n        const minValue = ((b % aPos) + aPos) % aPos;\n        return () => {\n            const val = minValue + aPos * n++;\n            return val > b ? null : val;\n        };\n    }\n    if (a === 0)\n        return b < 0\n            ? // There are no result  always return `null`\n                () => null\n            : // Return `b` exactly once\n                () => (n++ === 0 ? b : null);\n    if (b < 0) {\n        b += a * Math.ceil(-b / a);\n    }\n    return () => a * n++ + b;\n}\n//# sourceMappingURL=compile.js.map","import getNCheck from \"nth-check\";\nimport boolbase from \"boolbase\";\nfunction getChildFunc(next, adapter) {\n    return (elem) => {\n        const parent = adapter.getParent(elem);\n        return parent != null && adapter.isTag(parent) && next(elem);\n    };\n}\nexport const filters = {\n    contains(next, text, { adapter }) {\n        return function contains(elem) {\n            return next(elem) && adapter.getText(elem).includes(text);\n        };\n    },\n    icontains(next, text, { adapter }) {\n        const itext = text.toLowerCase();\n        return function icontains(elem) {\n            return (next(elem) &&\n                adapter.getText(elem).toLowerCase().includes(itext));\n        };\n    },\n    // Location specific methods\n    \"nth-child\"(next, rule, { adapter, equals }) {\n        const func = getNCheck(rule);\n        if (func === boolbase.falseFunc)\n            return boolbase.falseFunc;\n        if (func === boolbase.trueFunc)\n            return getChildFunc(next, adapter);\n        return function nthChild(elem) {\n            const siblings = adapter.getSiblings(elem);\n            let pos = 0;\n            for (let i = 0; i < siblings.length; i++) {\n                if (equals(elem, siblings[i]))\n                    break;\n                if (adapter.isTag(siblings[i])) {\n                    pos++;\n                }\n            }\n            return func(pos) && next(elem);\n        };\n    },\n    \"nth-last-child\"(next, rule, { adapter, equals }) {\n        const func = getNCheck(rule);\n        if (func === boolbase.falseFunc)\n            return boolbase.falseFunc;\n        if (func === boolbase.trueFunc)\n            return getChildFunc(next, adapter);\n        return function nthLastChild(elem) {\n            const siblings = adapter.getSiblings(elem);\n            let pos = 0;\n            for (let i = siblings.length - 1; i >= 0; i--) {\n                if (equals(elem, siblings[i]))\n                    break;\n                if (adapter.isTag(siblings[i])) {\n                    pos++;\n                }\n            }\n            return func(pos) && next(elem);\n        };\n    },\n    \"nth-of-type\"(next, rule, { adapter, equals }) {\n        const func = getNCheck(rule);\n        if (func === boolbase.falseFunc)\n            return boolbase.falseFunc;\n        if (func === boolbase.trueFunc)\n            return getChildFunc(next, adapter);\n        return function nthOfType(elem) {\n            const siblings = adapter.getSiblings(elem);\n            let pos = 0;\n            for (let i = 0; i < siblings.length; i++) {\n                const currentSibling = siblings[i];\n                if (equals(elem, currentSibling))\n                    break;\n                if (adapter.isTag(currentSibling) &&\n                    adapter.getName(currentSibling) === adapter.getName(elem)) {\n                    pos++;\n                }\n            }\n            return func(pos) && next(elem);\n        };\n    },\n    \"nth-last-of-type\"(next, rule, { adapter, equals }) {\n        const func = getNCheck(rule);\n        if (func === boolbase.falseFunc)\n            return boolbase.falseFunc;\n        if (func === boolbase.trueFunc)\n            return getChildFunc(next, adapter);\n        return function nthLastOfType(elem) {\n            const siblings = adapter.getSiblings(elem);\n            let pos = 0;\n            for (let i = siblings.length - 1; i >= 0; i--) {\n                const currentSibling = siblings[i];\n                if (equals(elem, currentSibling))\n                    break;\n                if (adapter.isTag(currentSibling) &&\n                    adapter.getName(currentSibling) === adapter.getName(elem)) {\n                    pos++;\n                }\n            }\n            return func(pos) && next(elem);\n        };\n    },\n    // TODO determine the actual root element\n    root(next, _rule, { adapter }) {\n        return (elem) => {\n            const parent = adapter.getParent(elem);\n            return (parent == null || !adapter.isTag(parent)) && next(elem);\n        };\n    },\n    scope(next, rule, options, context) {\n        const { equals } = options;\n        if (!context || context.length === 0) {\n            // Equivalent to :root\n            return filters[\"root\"](next, rule, options);\n        }\n        if (context.length === 1) {\n            // NOTE: can't be unpacked, as :has uses this for side-effects\n            return (elem) => equals(context[0], elem) && next(elem);\n        }\n        return (elem) => context.includes(elem) && next(elem);\n    },\n    hover: dynamicStatePseudo(\"isHovered\"),\n    visited: dynamicStatePseudo(\"isVisited\"),\n    active: dynamicStatePseudo(\"isActive\"),\n};\n/**\n * Dynamic state pseudos. These depend on optional Adapter methods.\n *\n * @param name The name of the adapter method to call.\n * @returns Pseudo for the `filters` object.\n */\nfunction dynamicStatePseudo(name) {\n    return function dynamicPseudo(next, _rule, { adapter }) {\n        const func = adapter[name];\n        if (typeof func !== \"function\") {\n            return boolbase.falseFunc;\n        }\n        return function active(elem) {\n            return func(elem) && next(elem);\n        };\n    };\n}\n//# sourceMappingURL=filters.js.map","// While filters are precompiled, pseudos get called when they are needed\nexport const pseudos = {\n    empty(elem, { adapter }) {\n        return !adapter.getChildren(elem).some((elem) => \n        // FIXME: `getText` call is potentially expensive.\n        adapter.isTag(elem) || adapter.getText(elem) !== \"\");\n    },\n    \"first-child\"(elem, { adapter, equals }) {\n        if (adapter.prevElementSibling) {\n            return adapter.prevElementSibling(elem) == null;\n        }\n        const firstChild = adapter\n            .getSiblings(elem)\n            .find((elem) => adapter.isTag(elem));\n        return firstChild != null && equals(elem, firstChild);\n    },\n    \"last-child\"(elem, { adapter, equals }) {\n        const siblings = adapter.getSiblings(elem);\n        for (let i = siblings.length - 1; i >= 0; i--) {\n            if (equals(elem, siblings[i]))\n                return true;\n            if (adapter.isTag(siblings[i]))\n                break;\n        }\n        return false;\n    },\n    \"first-of-type\"(elem, { adapter, equals }) {\n        const siblings = adapter.getSiblings(elem);\n        const elemName = adapter.getName(elem);\n        for (let i = 0; i < siblings.length; i++) {\n            const currentSibling = siblings[i];\n            if (equals(elem, currentSibling))\n                return true;\n            if (adapter.isTag(currentSibling) &&\n                adapter.getName(currentSibling) === elemName) {\n                break;\n            }\n        }\n        return false;\n    },\n    \"last-of-type\"(elem, { adapter, equals }) {\n        const siblings = adapter.getSiblings(elem);\n        const elemName = adapter.getName(elem);\n        for (let i = siblings.length - 1; i >= 0; i--) {\n            const currentSibling = siblings[i];\n            if (equals(elem, currentSibling))\n                return true;\n            if (adapter.isTag(currentSibling) &&\n                adapter.getName(currentSibling) === elemName) {\n                break;\n            }\n        }\n        return false;\n    },\n    \"only-of-type\"(elem, { adapter, equals }) {\n        const elemName = adapter.getName(elem);\n        return adapter\n            .getSiblings(elem)\n            .every((sibling) => equals(elem, sibling) ||\n            !adapter.isTag(sibling) ||\n            adapter.getName(sibling) !== elemName);\n    },\n    \"only-child\"(elem, { adapter, equals }) {\n        return adapter\n            .getSiblings(elem)\n            .every((sibling) => equals(elem, sibling) || !adapter.isTag(sibling));\n    },\n};\nexport function verifyPseudoArgs(func, name, subselect, argIndex) {\n    if (subselect === null) {\n        if (func.length > argIndex) {\n            throw new Error(`Pseudo-class :${name} requires an argument`);\n        }\n    }\n    else if (func.length === argIndex) {\n        throw new Error(`Pseudo-class :${name} doesn't have any arguments`);\n    }\n}\n//# sourceMappingURL=pseudos.js.map","/**\n * Aliases are pseudos that are expressed as selectors.\n */\nexport const aliases = {\n    // Links\n    \"any-link\": \":is(a, area, link)[href]\",\n    link: \":any-link:not(:visited)\",\n    // Forms\n    // https://html.spec.whatwg.org/multipage/scripting.html#disabled-elements\n    disabled: `:is(\n        :is(button, input, select, textarea, optgroup, option)[disabled],\n        optgroup[disabled] > option,\n        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)\n    )`,\n    enabled: \":not(:disabled)\",\n    checked: \":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)\",\n    required: \":is(input, select, textarea)[required]\",\n    optional: \":is(input, select, textarea):not([required])\",\n    // JQuery extensions\n    // https://html.spec.whatwg.org/multipage/form-elements.html#concept-option-selectedness\n    selected: \"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)\",\n    checkbox: \"[type=checkbox]\",\n    file: \"[type=file]\",\n    password: \"[type=password]\",\n    radio: \"[type=radio]\",\n    reset: \"[type=reset]\",\n    image: \"[type=image]\",\n    submit: \"[type=submit]\",\n    parent: \":not(:empty)\",\n    header: \":is(h1, h2, h3, h4, h5, h6)\",\n    button: \":is(button, input[type=button])\",\n    input: \":is(input, textarea, select, button)\",\n    text: \"input:is(:not([type!='']), [type=text])\",\n};\n//# sourceMappingURL=aliases.js.map","import boolbase from \"boolbase\";\nimport { isTraversal } from \"../sort.js\";\n/** Used as a placeholder for :has. Will be replaced with the actual element. */\nexport const PLACEHOLDER_ELEMENT = {};\nexport function ensureIsTag(next, adapter) {\n    if (next === boolbase.falseFunc)\n        return boolbase.falseFunc;\n    return (elem) => adapter.isTag(elem) && next(elem);\n}\nexport function getNextSiblings(elem, adapter) {\n    const siblings = adapter.getSiblings(elem);\n    if (siblings.length <= 1)\n        return [];\n    const elemIndex = siblings.indexOf(elem);\n    if (elemIndex < 0 || elemIndex === siblings.length - 1)\n        return [];\n    return siblings.slice(elemIndex + 1).filter(adapter.isTag);\n}\nfunction copyOptions(options) {\n    // Not copied: context, rootFunc\n    return {\n        xmlMode: !!options.xmlMode,\n        lowerCaseAttributeNames: !!options.lowerCaseAttributeNames,\n        lowerCaseTags: !!options.lowerCaseTags,\n        quirksMode: !!options.quirksMode,\n        cacheResults: !!options.cacheResults,\n        pseudos: options.pseudos,\n        adapter: options.adapter,\n        equals: options.equals,\n    };\n}\nconst is = (next, token, options, context, compileToken) => {\n    const func = compileToken(token, copyOptions(options), context);\n    return func === boolbase.trueFunc\n        ? next\n        : func === boolbase.falseFunc\n            ? boolbase.falseFunc\n            : (elem) => func(elem) && next(elem);\n};\n/*\n * :not, :has, :is, :matches and :where have to compile selectors\n * doing this in src/pseudos.ts would lead to circular dependencies,\n * so we add them here\n */\nexport const subselects = {\n    is,\n    /**\n     * `:matches` and `:where` are aliases for `:is`.\n     */\n    matches: is,\n    where: is,\n    not(next, token, options, context, compileToken) {\n        const func = compileToken(token, copyOptions(options), context);\n        return func === boolbase.falseFunc\n            ? next\n            : func === boolbase.trueFunc\n                ? boolbase.falseFunc\n                : (elem) => !func(elem) && next(elem);\n    },\n    has(next, subselect, options, _context, compileToken) {\n        const { adapter } = options;\n        const opts = copyOptions(options);\n        opts.relativeSelector = true;\n        const context = subselect.some((s) => s.some(isTraversal))\n            ? // Used as a placeholder. Will be replaced with the actual element.\n                [PLACEHOLDER_ELEMENT]\n            : undefined;\n        const compiled = compileToken(subselect, opts, context);\n        if (compiled === boolbase.falseFunc)\n            return boolbase.falseFunc;\n        const hasElement = ensureIsTag(compiled, adapter);\n        // If `compiled` is `trueFunc`, we can skip this.\n        if (context && compiled !== boolbase.trueFunc) {\n            /*\n             * `shouldTestNextSiblings` will only be true if the query starts with\n             * a traversal (sibling or adjacent). That means we will always have a context.\n             */\n            const { shouldTestNextSiblings = false } = compiled;\n            return (elem) => {\n                if (!next(elem))\n                    return false;\n                context[0] = elem;\n                const childs = adapter.getChildren(elem);\n                const nextElements = shouldTestNextSiblings\n                    ? [...childs, ...getNextSiblings(elem, adapter)]\n                    : childs;\n                return adapter.existsOne(hasElement, nextElements);\n            };\n        }\n        return (elem) => next(elem) &&\n            adapter.existsOne(hasElement, adapter.getChildren(elem));\n    },\n};\n//# sourceMappingURL=subselects.js.map","import { attributeRules } from \"./attributes.js\";\nimport { compilePseudoSelector } from \"./pseudo-selectors/index.js\";\nimport { SelectorType } from \"css-what\";\nfunction getElementParent(node, adapter) {\n    const parent = adapter.getParent(node);\n    if (parent && adapter.isTag(parent)) {\n        return parent;\n    }\n    return null;\n}\n/*\n * All available rules\n */\nexport function compileGeneralSelector(next, selector, options, context, compileToken) {\n    const { adapter, equals } = options;\n    switch (selector.type) {\n        case SelectorType.PseudoElement: {\n            throw new Error(\"Pseudo-elements are not supported by css-select\");\n        }\n        case SelectorType.ColumnCombinator: {\n            throw new Error(\"Column combinators are not yet supported by css-select\");\n        }\n        case SelectorType.Attribute: {\n            if (selector.namespace != null) {\n                throw new Error(\"Namespaced attributes are not yet supported by css-select\");\n            }\n            if (!options.xmlMode || options.lowerCaseAttributeNames) {\n                selector.name = selector.name.toLowerCase();\n            }\n            return attributeRules[selector.action](next, selector, options);\n        }\n        case SelectorType.Pseudo: {\n            return compilePseudoSelector(next, selector, options, context, compileToken);\n        }\n        // Tags\n        case SelectorType.Tag: {\n            if (selector.namespace != null) {\n                throw new Error(\"Namespaced tag names are not yet supported by css-select\");\n            }\n            let { name } = selector;\n            if (!options.xmlMode || options.lowerCaseTags) {\n                name = name.toLowerCase();\n            }\n            return function tag(elem) {\n                return adapter.getName(elem) === name && next(elem);\n            };\n        }\n        // Traversal\n        case SelectorType.Descendant: {\n            if (options.cacheResults === false ||\n                typeof WeakSet === \"undefined\") {\n                return function descendant(elem) {\n                    let current = elem;\n                    while ((current = getElementParent(current, adapter))) {\n                        if (next(current)) {\n                            return true;\n                        }\n                    }\n                    return false;\n                };\n            }\n            // @ts-expect-error `ElementNode` is not extending object\n            const isFalseCache = new WeakSet();\n            return function cachedDescendant(elem) {\n                let current = elem;\n                while ((current = getElementParent(current, adapter))) {\n                    if (!isFalseCache.has(current)) {\n                        if (adapter.isTag(current) && next(current)) {\n                            return true;\n                        }\n                        isFalseCache.add(current);\n                    }\n                }\n                return false;\n            };\n        }\n        case \"_flexibleDescendant\": {\n            // Include element itself, only used while querying an array\n            return function flexibleDescendant(elem) {\n                let current = elem;\n                do {\n                    if (next(current))\n                        return true;\n                } while ((current = getElementParent(current, adapter)));\n                return false;\n            };\n        }\n        case SelectorType.Parent: {\n            return function parent(elem) {\n                return adapter\n                    .getChildren(elem)\n                    .some((elem) => adapter.isTag(elem) && next(elem));\n            };\n        }\n        case SelectorType.Child: {\n            return function child(elem) {\n                const parent = adapter.getParent(elem);\n                return parent != null && adapter.isTag(parent) && next(parent);\n            };\n        }\n        case SelectorType.Sibling: {\n            return function sibling(elem) {\n                const siblings = adapter.getSiblings(elem);\n                for (let i = 0; i < siblings.length; i++) {\n                    const currentSibling = siblings[i];\n                    if (equals(elem, currentSibling))\n                        break;\n                    if (adapter.isTag(currentSibling) && next(currentSibling)) {\n                        return true;\n                    }\n                }\n                return false;\n            };\n        }\n        case SelectorType.Adjacent: {\n            if (adapter.prevElementSibling) {\n                return function adjacent(elem) {\n                    const previous = adapter.prevElementSibling(elem);\n                    return previous != null && next(previous);\n                };\n            }\n            return function adjacent(elem) {\n                const siblings = adapter.getSiblings(elem);\n                let lastElement;\n                for (let i = 0; i < siblings.length; i++) {\n                    const currentSibling = siblings[i];\n                    if (equals(elem, currentSibling))\n                        break;\n                    if (adapter.isTag(currentSibling)) {\n                        lastElement = currentSibling;\n                    }\n                }\n                return !!lastElement && next(lastElement);\n            };\n        }\n        case SelectorType.Universal: {\n            if (selector.namespace != null && selector.namespace !== \"*\") {\n                throw new Error(\"Namespaced universal selectors are not yet supported by css-select\");\n            }\n            return next;\n        }\n    }\n}\n//# sourceMappingURL=general.js.map","import { parse, SelectorType } from \"css-what\";\nimport boolbase from \"boolbase\";\nimport sortRules, { isTraversal } from \"./sort.js\";\nimport { compileGeneralSelector } from \"./general.js\";\nimport { ensureIsTag, PLACEHOLDER_ELEMENT, } from \"./pseudo-selectors/subselects.js\";\n/**\n * Compiles a selector to an executable function.\n *\n * @param selector Selector to compile.\n * @param options Compilation options.\n * @param context Optional context for the selector.\n */\nexport function compile(selector, options, context) {\n    const next = compileUnsafe(selector, options, context);\n    return ensureIsTag(next, options.adapter);\n}\nexport function compileUnsafe(selector, options, context) {\n    const token = typeof selector === \"string\" ? parse(selector) : selector;\n    return compileToken(token, options, context);\n}\nfunction includesScopePseudo(t) {\n    return (t.type === SelectorType.Pseudo &&\n        (t.name === \"scope\" ||\n            (Array.isArray(t.data) &&\n                t.data.some((data) => data.some(includesScopePseudo)))));\n}\nconst DESCENDANT_TOKEN = { type: SelectorType.Descendant };\nconst FLEXIBLE_DESCENDANT_TOKEN = {\n    type: \"_flexibleDescendant\",\n};\nconst SCOPE_TOKEN = {\n    type: SelectorType.Pseudo,\n    name: \"scope\",\n    data: null,\n};\n/*\n * CSS 4 Spec (Draft): 3.4.1. Absolutizing a Relative Selector\n * http://www.w3.org/TR/selectors4/#absolutizing\n */\nfunction absolutize(token, { adapter }, context) {\n    // TODO Use better check if the context is a document\n    const hasContext = !!(context === null || context === void 0 ? void 0 : context.every((e) => {\n        const parent = adapter.isTag(e) && adapter.getParent(e);\n        return e === PLACEHOLDER_ELEMENT || (parent && adapter.isTag(parent));\n    }));\n    for (const t of token) {\n        if (t.length > 0 &&\n            isTraversal(t[0]) &&\n            t[0].type !== SelectorType.Descendant) {\n            // Don't continue in else branch\n        }\n        else if (hasContext && !t.some(includesScopePseudo)) {\n            t.unshift(DESCENDANT_TOKEN);\n        }\n        else {\n            continue;\n        }\n        t.unshift(SCOPE_TOKEN);\n    }\n}\nexport function compileToken(token, options, context) {\n    var _a;\n    token.forEach(sortRules);\n    context = (_a = options.context) !== null && _a !== void 0 ? _a : context;\n    const isArrayContext = Array.isArray(context);\n    const finalContext = context && (Array.isArray(context) ? context : [context]);\n    // Check if the selector is relative\n    if (options.relativeSelector !== false) {\n        absolutize(token, options, finalContext);\n    }\n    else if (token.some((t) => t.length > 0 && isTraversal(t[0]))) {\n        throw new Error(\"Relative selectors are not allowed when the `relativeSelector` option is disabled\");\n    }\n    let shouldTestNextSiblings = false;\n    const query = token\n        .map((rules) => {\n        if (rules.length >= 2) {\n            const [first, second] = rules;\n            if (first.type !== SelectorType.Pseudo ||\n                first.name !== \"scope\") {\n                // Ignore\n            }\n            else if (isArrayContext &&\n                second.type === SelectorType.Descendant) {\n                rules[1] = FLEXIBLE_DESCENDANT_TOKEN;\n            }\n            else if (second.type === SelectorType.Adjacent ||\n                second.type === SelectorType.Sibling) {\n                shouldTestNextSiblings = true;\n            }\n        }\n        return compileRules(rules, options, finalContext);\n    })\n        .reduce(reduceRules, boolbase.falseFunc);\n    query.shouldTestNextSiblings = shouldTestNextSiblings;\n    return query;\n}\nfunction compileRules(rules, options, context) {\n    var _a;\n    return rules.reduce((previous, rule) => previous === boolbase.falseFunc\n        ? boolbase.falseFunc\n        : compileGeneralSelector(previous, rule, options, context, compileToken), (_a = options.rootFunc) !== null && _a !== void 0 ? _a : boolbase.trueFunc);\n}\nfunction reduceRules(a, b) {\n    if (b === boolbase.falseFunc || a === boolbase.trueFunc) {\n        return a;\n    }\n    if (a === boolbase.falseFunc || b === boolbase.trueFunc) {\n        return b;\n    }\n    return function combine(elem) {\n        return a(elem) || b(elem);\n    };\n}\n//# sourceMappingURL=compile.js.map","import { parse } from \"css-what\";\nimport { filters } from \"./filters.js\";\nimport { pseudos, verifyPseudoArgs } from \"./pseudos.js\";\nimport { aliases } from \"./aliases.js\";\nimport { subselects } from \"./subselects.js\";\nexport { filters, pseudos, aliases };\nexport function compilePseudoSelector(next, selector, options, context, compileToken) {\n    var _a;\n    const { name, data } = selector;\n    if (Array.isArray(data)) {\n        if (!(name in subselects)) {\n            throw new Error(`Unknown pseudo-class :${name}(${data})`);\n        }\n        return subselects[name](next, data, options, context, compileToken);\n    }\n    const userPseudo = (_a = options.pseudos) === null || _a === void 0 ? void 0 : _a[name];\n    const stringPseudo = typeof userPseudo === \"string\" ? userPseudo : aliases[name];\n    if (typeof stringPseudo === \"string\") {\n        if (data != null) {\n            throw new Error(`Pseudo ${name} doesn't have any arguments`);\n        }\n        // The alias has to be parsed here, to make sure options are respected.\n        const alias = parse(stringPseudo);\n        return subselects[\"is\"](next, alias, options, context, compileToken);\n    }\n    if (typeof userPseudo === \"function\") {\n        verifyPseudoArgs(userPseudo, name, data, 1);\n        return (elem) => userPseudo(elem, data) && next(elem);\n    }\n    if (name in filters) {\n        return filters[name](next, data, options, context);\n    }\n    if (name in pseudos) {\n        const pseudo = pseudos[name];\n        verifyPseudoArgs(pseudo, name, data, 2);\n        return (elem) => pseudo(elem, options, data) && next(elem);\n    }\n    throw new Error(`Unknown pseudo-class :${name}`);\n}\n//# sourceMappingURL=index.js.map","import * as DomUtils from \"domutils\";\nimport boolbase from \"boolbase\";\nimport { compile as compileRaw, compileUnsafe, compileToken, } from \"./compile.js\";\nimport { getNextSiblings } from \"./pseudo-selectors/subselects.js\";\nconst defaultEquals = (a, b) => a === b;\nconst defaultOptions = {\n    adapter: DomUtils,\n    equals: defaultEquals,\n};\nfunction convertOptionFormats(options) {\n    var _a, _b, _c, _d;\n    /*\n     * We force one format of options to the other one.\n     */\n    // @ts-expect-error Default options may have incompatible `Node` / `ElementNode`.\n    const opts = options !== null && options !== void 0 ? options : defaultOptions;\n    // @ts-expect-error Same as above.\n    (_a = opts.adapter) !== null && _a !== void 0 ? _a : (opts.adapter = DomUtils);\n    // @ts-expect-error `equals` does not exist on `Options`\n    (_b = opts.equals) !== null && _b !== void 0 ? _b : (opts.equals = (_d = (_c = opts.adapter) === null || _c === void 0 ? void 0 : _c.equals) !== null && _d !== void 0 ? _d : defaultEquals);\n    return opts;\n}\nfunction wrapCompile(func) {\n    return function addAdapter(selector, options, context) {\n        const opts = convertOptionFormats(options);\n        return func(selector, opts, context);\n    };\n}\n/**\n * Compiles the query, returns a function.\n */\nexport const compile = wrapCompile(compileRaw);\nexport const _compileUnsafe = wrapCompile(compileUnsafe);\nexport const _compileToken = wrapCompile(compileToken);\nfunction getSelectorFunc(searchFunc) {\n    return function select(query, elements, options) {\n        const opts = convertOptionFormats(options);\n        if (typeof query !== \"function\") {\n            query = compileUnsafe(query, opts, elements);\n        }\n        const filteredElements = prepareContext(elements, opts.adapter, query.shouldTestNextSiblings);\n        return searchFunc(query, filteredElements, opts);\n    };\n}\nexport function prepareContext(elems, adapter, shouldTestNextSiblings = false) {\n    /*\n     * Add siblings if the query requires them.\n     * See https://github.com/fb55/css-select/pull/43#issuecomment-225414692\n     */\n    if (shouldTestNextSiblings) {\n        elems = appendNextSiblings(elems, adapter);\n    }\n    return Array.isArray(elems)\n        ? adapter.removeSubsets(elems)\n        : adapter.getChildren(elems);\n}\nfunction appendNextSiblings(elem, adapter) {\n    // Order matters because jQuery seems to check the children before the siblings\n    const elems = Array.isArray(elem) ? elem.slice(0) : [elem];\n    const elemsLength = elems.length;\n    for (let i = 0; i < elemsLength; i++) {\n        const nextSiblings = getNextSiblings(elems[i], adapter);\n        elems.push(...nextSiblings);\n    }\n    return elems;\n}\n/**\n * @template Node The generic Node type for the DOM adapter being used.\n * @template ElementNode The Node type for elements for the DOM adapter being used.\n * @param elems Elements to query. If it is an element, its children will be queried..\n * @param query can be either a CSS selector string or a compiled query function.\n * @param [options] options for querying the document.\n * @see compile for supported selector queries.\n * @returns All matching elements.\n *\n */\nexport const selectAll = getSelectorFunc((query, elems, options) => query === boolbase.falseFunc || !elems || elems.length === 0\n    ? []\n    : options.adapter.findAll(query, elems));\n/**\n * @template Node The generic Node type for the DOM adapter being used.\n * @template ElementNode The Node type for elements for the DOM adapter being used.\n * @param elems Elements to query. If it is an element, its children will be queried..\n * @param query can be either a CSS selector string or a compiled query function.\n * @param [options] options for querying the document.\n * @see compile for supported selector queries.\n * @returns the first match, or null if there was no match.\n */\nexport const selectOne = getSelectorFunc((query, elems, options) => query === boolbase.falseFunc || !elems || elems.length === 0\n    ? null\n    : options.adapter.findOne(query, elems));\n/**\n * Tests whether or not an element is matched by query.\n *\n * @template Node The generic Node type for the DOM adapter being used.\n * @template ElementNode The Node type for elements for the DOM adapter being used.\n * @param elem The element to test if it matches the query.\n * @param query can be either a CSS selector string or a compiled query function.\n * @param [options] options for querying the document.\n * @see compile for supported selector queries.\n * @returns\n */\nexport function is(elem, query, options) {\n    const opts = convertOptionFormats(options);\n    return (typeof query === \"function\" ? query : compileRaw(query, opts))(elem);\n}\n/**\n * Alias for selectAll(query, elems, options).\n * @see [compile] for supported selector queries.\n */\nexport default selectAll;\n// Export filters, pseudos and aliases to allow users to supply their own.\n/** @deprecated Use the `pseudos` option instead. */\nexport { filters, pseudos, aliases } from \"./pseudo-selectors/index.js\";\n//# sourceMappingURL=index.js.map","export const filterNames = new Set([\n    \"first\",\n    \"last\",\n    \"eq\",\n    \"gt\",\n    \"nth\",\n    \"lt\",\n    \"even\",\n    \"odd\",\n]);\nexport function isFilter(s) {\n    if (s.type !== \"pseudo\")\n        return false;\n    if (filterNames.has(s.name))\n        return true;\n    if (s.name === \"not\" && Array.isArray(s.data)) {\n        // Only consider `:not` with embedded filters\n        return s.data.some((s) => s.some(isFilter));\n    }\n    return false;\n}\nexport function getLimit(filter, data, partLimit) {\n    const num = data != null ? parseInt(data, 10) : NaN;\n    switch (filter) {\n        case \"first\":\n            return 1;\n        case \"nth\":\n        case \"eq\":\n            return isFinite(num) ? (num >= 0 ? num + 1 : Infinity) : 0;\n        case \"lt\":\n            return isFinite(num)\n                ? num >= 0\n                    ? Math.min(num, partLimit)\n                    : Infinity\n                : 0;\n        case \"gt\":\n            return isFinite(num) ? Infinity : 0;\n        case \"odd\":\n            return 2 * partLimit;\n        case \"even\":\n            return 2 * partLimit - 1;\n        case \"last\":\n        case \"not\":\n            return Infinity;\n    }\n}\n//# sourceMappingURL=positionals.js.map","import { isFilter } from \"./positionals.js\";\nexport function getDocumentRoot(node) {\n    while (node.parent)\n        node = node.parent;\n    return node;\n}\nexport function groupSelectors(selectors) {\n    const filteredSelectors = [];\n    const plainSelectors = [];\n    for (const selector of selectors) {\n        if (selector.some(isFilter)) {\n            filteredSelectors.push(selector);\n        }\n        else {\n            plainSelectors.push(selector);\n        }\n    }\n    return [plainSelectors, filteredSelectors];\n}\n//# sourceMappingURL=helpers.js.map","import { parse, SelectorType, isTraversal } from \"css-what\";\nimport { _compileToken as compileToken, prepareContext, } from \"css-select\";\nimport * as DomUtils from \"domutils\";\nimport * as boolbase from \"boolbase\";\nimport { getDocumentRoot, groupSelectors } from \"./helpers.js\";\nimport { isFilter, getLimit, } from \"./positionals.js\";\n// Re-export pseudo extension points\nexport { filters, pseudos, aliases } from \"css-select\";\nconst UNIVERSAL_SELECTOR = {\n    type: SelectorType.Universal,\n    namespace: null,\n};\nconst SCOPE_PSEUDO = {\n    type: SelectorType.Pseudo,\n    name: \"scope\",\n    data: null,\n};\nexport function is(element, selector, options = {}) {\n    return some([element], selector, options);\n}\nexport function some(elements, selector, options = {}) {\n    if (typeof selector === \"function\")\n        return elements.some(selector);\n    const [plain, filtered] = groupSelectors(parse(selector));\n    return ((plain.length > 0 && elements.some(compileToken(plain, options))) ||\n        filtered.some((sel) => filterBySelector(sel, elements, options).length > 0));\n}\nfunction filterByPosition(filter, elems, data, options) {\n    const num = typeof data === \"string\" ? parseInt(data, 10) : NaN;\n    switch (filter) {\n        case \"first\":\n        case \"lt\":\n            // Already done in `getLimit`\n            return elems;\n        case \"last\":\n            return elems.length > 0 ? [elems[elems.length - 1]] : elems;\n        case \"nth\":\n        case \"eq\":\n            return isFinite(num) && Math.abs(num) < elems.length\n                ? [num < 0 ? elems[elems.length + num] : elems[num]]\n                : [];\n        case \"gt\":\n            return isFinite(num) ? elems.slice(num + 1) : [];\n        case \"even\":\n            return elems.filter((_, i) => i % 2 === 0);\n        case \"odd\":\n            return elems.filter((_, i) => i % 2 === 1);\n        case \"not\": {\n            const filtered = new Set(filterParsed(data, elems, options));\n            return elems.filter((e) => !filtered.has(e));\n        }\n    }\n}\nexport function filter(selector, elements, options = {}) {\n    return filterParsed(parse(selector), elements, options);\n}\n/**\n * Filter a set of elements by a selector.\n *\n * Will return elements in the original order.\n *\n * @param selector Selector to filter by.\n * @param elements Elements to filter.\n * @param options Options for selector.\n */\nfunction filterParsed(selector, elements, options) {\n    if (elements.length === 0)\n        return [];\n    const [plainSelectors, filteredSelectors] = groupSelectors(selector);\n    let found;\n    if (plainSelectors.length) {\n        const filtered = filterElements(elements, plainSelectors, options);\n        // If there are no filters, just return\n        if (filteredSelectors.length === 0) {\n            return filtered;\n        }\n        // Otherwise, we have to do some filtering\n        if (filtered.length) {\n            found = new Set(filtered);\n        }\n    }\n    for (let i = 0; i < filteredSelectors.length && (found === null || found === void 0 ? void 0 : found.size) !== elements.length; i++) {\n        const filteredSelector = filteredSelectors[i];\n        const missing = found\n            ? elements.filter((e) => DomUtils.isTag(e) && !found.has(e))\n            : elements;\n        if (missing.length === 0)\n            break;\n        const filtered = filterBySelector(filteredSelector, elements, options);\n        if (filtered.length) {\n            if (!found) {\n                /*\n                 * If we haven't found anything before the last selector,\n                 * just return what we found now.\n                 */\n                if (i === filteredSelectors.length - 1) {\n                    return filtered;\n                }\n                found = new Set(filtered);\n            }\n            else {\n                filtered.forEach((el) => found.add(el));\n            }\n        }\n    }\n    return typeof found !== \"undefined\"\n        ? (found.size === elements.length\n            ? elements\n            : // Filter elements to preserve order\n                elements.filter((el) => found.has(el)))\n        : [];\n}\nfunction filterBySelector(selector, elements, options) {\n    var _a;\n    if (selector.some(isTraversal)) {\n        /*\n         * Get root node, run selector with the scope\n         * set to all of our nodes.\n         */\n        const root = (_a = options.root) !== null && _a !== void 0 ? _a : getDocumentRoot(elements[0]);\n        const opts = { ...options, context: elements, relativeSelector: false };\n        selector.push(SCOPE_PSEUDO);\n        return findFilterElements(root, selector, opts, true, elements.length);\n    }\n    // Performance optimization: If we don't have to traverse, just filter set.\n    return findFilterElements(elements, selector, options, false, elements.length);\n}\nexport function select(selector, root, options = {}, limit = Infinity) {\n    if (typeof selector === \"function\") {\n        return find(root, selector);\n    }\n    const [plain, filtered] = groupSelectors(parse(selector));\n    const results = filtered.map((sel) => findFilterElements(root, sel, options, true, limit));\n    // Plain selectors can be queried in a single go\n    if (plain.length) {\n        results.push(findElements(root, plain, options, limit));\n    }\n    if (results.length === 0) {\n        return [];\n    }\n    // If there was only a single selector, just return the result\n    if (results.length === 1) {\n        return results[0];\n    }\n    // Sort results, filtering for duplicates\n    return DomUtils.uniqueSort(results.reduce((a, b) => [...a, ...b]));\n}\n/**\n *\n * @param root Element(s) to search from.\n * @param selector Selector to look for.\n * @param options Options for querying.\n * @param queryForSelector Query multiple levels deep for the initial selector, even if it doesn't contain a traversal.\n */\nfunction findFilterElements(root, selector, options, queryForSelector, totalLimit) {\n    const filterIndex = selector.findIndex(isFilter);\n    const sub = selector.slice(0, filterIndex);\n    const filter = selector[filterIndex];\n    // If we are at the end of the selector, we can limit the number of elements to retrieve.\n    const partLimit = selector.length - 1 === filterIndex ? totalLimit : Infinity;\n    /*\n     * Set the number of elements to retrieve.\n     * Eg. for :first, we only have to get a single element.\n     */\n    const limit = getLimit(filter.name, filter.data, partLimit);\n    if (limit === 0)\n        return [];\n    /*\n     * Skip `findElements` call if our selector starts with a positional\n     * pseudo.\n     */\n    const elemsNoLimit = sub.length === 0 && !Array.isArray(root)\n        ? DomUtils.getChildren(root).filter(DomUtils.isTag)\n        : sub.length === 0\n            ? (Array.isArray(root) ? root : [root]).filter(DomUtils.isTag)\n            : queryForSelector || sub.some(isTraversal)\n                ? findElements(root, [sub], options, limit)\n                : filterElements(root, [sub], options);\n    const elems = elemsNoLimit.slice(0, limit);\n    let result = filterByPosition(filter.name, elems, filter.data, options);\n    if (result.length === 0 || selector.length === filterIndex + 1) {\n        return result;\n    }\n    const remainingSelector = selector.slice(filterIndex + 1);\n    const remainingHasTraversal = remainingSelector.some(isTraversal);\n    if (remainingHasTraversal) {\n        if (isTraversal(remainingSelector[0])) {\n            const { type } = remainingSelector[0];\n            if (type === SelectorType.Sibling ||\n                type === SelectorType.Adjacent) {\n                // If we have a sibling traversal, we need to also look at the siblings.\n                result = prepareContext(result, DomUtils, true);\n            }\n            // Avoid a traversal-first selector error.\n            remainingSelector.unshift(UNIVERSAL_SELECTOR);\n        }\n        options = {\n            ...options,\n            // Avoid absolutizing the selector\n            relativeSelector: false,\n            /*\n             * Add a custom root func, to make sure traversals don't match elements\n             * that aren't a part of the considered tree.\n             */\n            rootFunc: (el) => result.includes(el),\n        };\n    }\n    else if (options.rootFunc && options.rootFunc !== boolbase.trueFunc) {\n        options = { ...options, rootFunc: boolbase.trueFunc };\n    }\n    /*\n     * If we have another filter, recursively call `findFilterElements`,\n     * with the `recursive` flag disabled. We only have to look for more\n     * elements when we see a traversal.\n     *\n     * Otherwise,\n     */\n    return remainingSelector.some(isFilter)\n        ? findFilterElements(result, remainingSelector, options, false, totalLimit)\n        : remainingHasTraversal\n            ? // Query existing elements to resolve traversal.\n                findElements(result, [remainingSelector], options, totalLimit)\n            : // If we don't have any more traversals, simply filter elements.\n                filterElements(result, [remainingSelector], options);\n}\nfunction findElements(root, sel, options, limit) {\n    const query = compileToken(sel, options, root);\n    return find(root, query, limit);\n}\nfunction find(root, query, limit = Infinity) {\n    const elems = prepareContext(root, DomUtils, query.shouldTestNextSiblings);\n    return DomUtils.find((node) => DomUtils.isTag(node) && query(node), elems, true, limit);\n}\nfunction filterElements(elements, sel, options) {\n    const els = (Array.isArray(elements) ? elements : [elements]).filter(DomUtils.isTag);\n    if (els.length === 0)\n        return els;\n    const query = compileToken(sel, options);\n    return query === boolbase.trueFunc ? els : els.filter(query);\n}\n//# sourceMappingURL=index.js.map","/**\n * Methods for traversing the DOM structure.\n *\n * @module cheerio/traversing\n */\nimport { isTag, hasChildren, isDocument, } from 'domhandler';\nimport * as select from 'cheerio-select';\nimport { domEach, isCheerio } from '../utils.js';\nimport { contains } from '../static.js';\nimport { getChildren, getSiblings, nextElementSibling, prevElementSibling, uniqueSort, } from 'domutils';\nconst reSiblingSelector = /^\\s*[+~]/;\n/**\n * Get the descendants of each element in the current set of matched elements,\n * filtered by a selector, jQuery object, or element.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('#fruits').find('li').length;\n * //=> 3\n * $('#fruits').find($('.apple')).length;\n * //=> 1\n * ```\n *\n * @param selectorOrHaystack - Element to look for.\n * @returns The found elements.\n * @see {@link https://api.jquery.com/find/}\n */\nexport function find(selectorOrHaystack) {\n    if (!selectorOrHaystack) {\n        return this._make([]);\n    }\n    if (typeof selectorOrHaystack !== 'string') {\n        const haystack = isCheerio(selectorOrHaystack)\n            ? selectorOrHaystack.toArray()\n            : [selectorOrHaystack];\n        const context = this.toArray();\n        return this._make(haystack.filter((elem) => context.some((node) => contains(node, elem))));\n    }\n    return this._findBySelector(selectorOrHaystack, Number.POSITIVE_INFINITY);\n}\n/**\n * Find elements by a specific selector.\n *\n * @private\n * @category Traversing\n * @param selector - Selector to filter by.\n * @param limit - Maximum number of elements to match.\n * @returns The found elements.\n */\nexport function _findBySelector(selector, limit) {\n    var _a;\n    const context = this.toArray();\n    const elems = reSiblingSelector.test(selector)\n        ? context\n        : this.children().toArray();\n    const options = {\n        context,\n        root: (_a = this._root) === null || _a === void 0 ? void 0 : _a[0],\n        // Pass options that are recognized by `cheerio-select`\n        xmlMode: this.options.xmlMode,\n        lowerCaseTags: this.options.lowerCaseTags,\n        lowerCaseAttributeNames: this.options.lowerCaseAttributeNames,\n        pseudos: this.options.pseudos,\n        quirksMode: this.options.quirksMode,\n    };\n    return this._make(select.select(selector, elems, options, limit));\n}\n/**\n * Creates a matcher, using a particular mapping function. Matchers provide a\n * function that finds elements using a generating function, supporting\n * filtering.\n *\n * @private\n * @param matchMap - Mapping function.\n * @returns - Function for wrapping generating functions.\n */\nfunction _getMatcher(matchMap) {\n    return function (fn, ...postFns) {\n        return function (selector) {\n            var _a;\n            let matched = matchMap(fn, this);\n            if (selector) {\n                matched = filterArray(matched, selector, this.options.xmlMode, (_a = this._root) === null || _a === void 0 ? void 0 : _a[0]);\n            }\n            return this._make(\n            // Post processing is only necessary if there is more than one element.\n            this.length > 1 && matched.length > 1\n                ? postFns.reduce((elems, fn) => fn(elems), matched)\n                : matched);\n        };\n    };\n}\n/** Matcher that adds multiple elements for each entry in the input. */\nconst _matcher = _getMatcher((fn, elems) => {\n    let ret = [];\n    for (let i = 0; i < elems.length; i++) {\n        const value = fn(elems[i]);\n        if (value.length > 0)\n            ret = ret.concat(value);\n    }\n    return ret;\n});\n/** Matcher that adds at most one element for each entry in the input. */\nconst _singleMatcher = _getMatcher((fn, elems) => {\n    const ret = [];\n    for (let i = 0; i < elems.length; i++) {\n        const value = fn(elems[i]);\n        if (value !== null) {\n            ret.push(value);\n        }\n    }\n    return ret;\n});\n/**\n * Matcher that supports traversing until a condition is met.\n *\n * @param nextElem - Function that returns the next element.\n * @param postFns - Post processing functions.\n * @returns A function usable for `*Until` methods.\n */\nfunction _matchUntil(nextElem, ...postFns) {\n    // We use a variable here that is used from within the matcher.\n    let matches = null;\n    const innerMatcher = _getMatcher((nextElem, elems) => {\n        const matched = [];\n        domEach(elems, (elem) => {\n            for (let next; (next = nextElem(elem)); elem = next) {\n                // FIXME: `matched` might contain duplicates here and the index is too large.\n                if (matches === null || matches === void 0 ? void 0 : matches(next, matched.length))\n                    break;\n                matched.push(next);\n            }\n        });\n        return matched;\n    })(nextElem, ...postFns);\n    return function (selector, filterSelector) {\n        // Override `matches` variable with the new target.\n        matches =\n            typeof selector === 'string'\n                ? (elem) => select.is(elem, selector, this.options)\n                : selector\n                    ? getFilterFn(selector)\n                    : null;\n        const ret = innerMatcher.call(this, filterSelector);\n        // Set `matches` to `null`, so we don't waste memory.\n        matches = null;\n        return ret;\n    };\n}\nfunction _removeDuplicates(elems) {\n    return elems.length > 1 ? Array.from(new Set(elems)) : elems;\n}\n/**\n * Get the parent of each element in the current set of matched elements,\n * optionally filtered by a selector.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.pear').parent().attr('id');\n * //=> fruits\n * ```\n *\n * @param selector - If specified filter for parent.\n * @returns The parents.\n * @see {@link https://api.jquery.com/parent/}\n */\nexport const parent = _singleMatcher(({ parent }) => (parent && !isDocument(parent) ? parent : null), _removeDuplicates);\n/**\n * Get a set of parents filtered by `selector` of each element in the current\n * set of match elements.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.orange').parents().length;\n * //=> 2\n * $('.orange').parents('#fruits').length;\n * //=> 1\n * ```\n *\n * @param selector - If specified filter for parents.\n * @returns The parents.\n * @see {@link https://api.jquery.com/parents/}\n */\nexport const parents = _matcher((elem) => {\n    const matched = [];\n    while (elem.parent && !isDocument(elem.parent)) {\n        matched.push(elem.parent);\n        elem = elem.parent;\n    }\n    return matched;\n}, uniqueSort, (elems) => elems.reverse());\n/**\n * Get the ancestors of each element in the current set of matched elements, up\n * to but not including the element matched by the selector, DOM node, or\n * cheerio object.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.orange').parentsUntil('#food').length;\n * //=> 1\n * ```\n *\n * @param selector - Selector for element to stop at.\n * @param filterSelector - Optional filter for parents.\n * @returns The parents.\n * @see {@link https://api.jquery.com/parentsUntil/}\n */\nexport const parentsUntil = _matchUntil(({ parent }) => (parent && !isDocument(parent) ? parent : null), uniqueSort, (elems) => elems.reverse());\n/**\n * For each element in the set, get the first element that matches the selector\n * by testing the element itself and traversing up through its ancestors in the\n * DOM tree.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.orange').closest();\n * //=> []\n *\n * $('.orange').closest('.apple');\n * // => []\n *\n * $('.orange').closest('li');\n * //=> [<li class=\"orange\">Orange</li>]\n *\n * $('.orange').closest('#fruits');\n * //=> [<ul id=\"fruits\"> ... </ul>]\n * ```\n *\n * @param selector - Selector for the element to find.\n * @returns The closest nodes.\n * @see {@link https://api.jquery.com/closest/}\n */\nexport function closest(selector) {\n    var _a;\n    const set = [];\n    if (!selector) {\n        return this._make(set);\n    }\n    const selectOpts = {\n        xmlMode: this.options.xmlMode,\n        root: (_a = this._root) === null || _a === void 0 ? void 0 : _a[0],\n    };\n    const selectFn = typeof selector === 'string'\n        ? (elem) => select.is(elem, selector, selectOpts)\n        : getFilterFn(selector);\n    domEach(this, (elem) => {\n        if (elem && !isDocument(elem) && !isTag(elem)) {\n            elem = elem.parent;\n        }\n        while (elem && isTag(elem)) {\n            if (selectFn(elem, 0)) {\n                // Do not add duplicate elements to the set\n                if (!set.includes(elem)) {\n                    set.push(elem);\n                }\n                break;\n            }\n            elem = elem.parent;\n        }\n    });\n    return this._make(set);\n}\n/**\n * Gets the next sibling of each selected element, optionally filtered by a\n * selector.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.apple').next().hasClass('orange');\n * //=> true\n * ```\n *\n * @param selector - If specified filter for sibling.\n * @returns The next nodes.\n * @see {@link https://api.jquery.com/next/}\n */\nexport const next = _singleMatcher((elem) => nextElementSibling(elem));\n/**\n * Gets all the following siblings of the each selected element, optionally\n * filtered by a selector.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.apple').nextAll();\n * //=> [<li class=\"orange\">Orange</li>, <li class=\"pear\">Pear</li>]\n * $('.apple').nextAll('.orange');\n * //=> [<li class=\"orange\">Orange</li>]\n * ```\n *\n * @param selector - If specified filter for siblings.\n * @returns The next nodes.\n * @see {@link https://api.jquery.com/nextAll/}\n */\nexport const nextAll = _matcher((elem) => {\n    const matched = [];\n    while (elem.next) {\n        elem = elem.next;\n        if (isTag(elem))\n            matched.push(elem);\n    }\n    return matched;\n}, _removeDuplicates);\n/**\n * Gets all the following siblings up to but not including the element matched\n * by the selector, optionally filtered by another selector.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.apple').nextUntil('.pear');\n * //=> [<li class=\"orange\">Orange</li>]\n * ```\n *\n * @param selector - Selector for element to stop at.\n * @param filterSelector - If specified filter for siblings.\n * @returns The next nodes.\n * @see {@link https://api.jquery.com/nextUntil/}\n */\nexport const nextUntil = _matchUntil((el) => nextElementSibling(el), _removeDuplicates);\n/**\n * Gets the previous sibling of each selected element optionally filtered by a\n * selector.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.orange').prev().hasClass('apple');\n * //=> true\n * ```\n *\n * @param selector - If specified filter for siblings.\n * @returns The previous nodes.\n * @see {@link https://api.jquery.com/prev/}\n */\nexport const prev = _singleMatcher((elem) => prevElementSibling(elem));\n/**\n * Gets all the preceding siblings of each selected element, optionally filtered\n * by a selector.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.pear').prevAll();\n * //=> [<li class=\"orange\">Orange</li>, <li class=\"apple\">Apple</li>]\n *\n * $('.pear').prevAll('.orange');\n * //=> [<li class=\"orange\">Orange</li>]\n * ```\n *\n * @param selector - If specified filter for siblings.\n * @returns The previous nodes.\n * @see {@link https://api.jquery.com/prevAll/}\n */\nexport const prevAll = _matcher((elem) => {\n    const matched = [];\n    while (elem.prev) {\n        elem = elem.prev;\n        if (isTag(elem))\n            matched.push(elem);\n    }\n    return matched;\n}, _removeDuplicates);\n/**\n * Gets all the preceding siblings up to but not including the element matched\n * by the selector, optionally filtered by another selector.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.pear').prevUntil('.apple');\n * //=> [<li class=\"orange\">Orange</li>]\n * ```\n *\n * @param selector - Selector for element to stop at.\n * @param filterSelector - If specified filter for siblings.\n * @returns The previous nodes.\n * @see {@link https://api.jquery.com/prevUntil/}\n */\nexport const prevUntil = _matchUntil((el) => prevElementSibling(el), _removeDuplicates);\n/**\n * Get the siblings of each element (excluding the element) in the set of\n * matched elements, optionally filtered by a selector.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.pear').siblings().length;\n * //=> 2\n *\n * $('.pear').siblings('.orange').length;\n * //=> 1\n * ```\n *\n * @param selector - If specified filter for siblings.\n * @returns The siblings.\n * @see {@link https://api.jquery.com/siblings/}\n */\nexport const siblings = _matcher((elem) => getSiblings(elem).filter((el) => isTag(el) && el !== elem), uniqueSort);\n/**\n * Gets the element children of each element in the set of matched elements.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('#fruits').children().length;\n * //=> 3\n *\n * $('#fruits').children('.pear').text();\n * //=> Pear\n * ```\n *\n * @param selector - If specified filter for children.\n * @returns The children.\n * @see {@link https://api.jquery.com/children/}\n */\nexport const children = _matcher((elem) => getChildren(elem).filter(isTag), _removeDuplicates);\n/**\n * Gets the children of each element in the set of matched elements, including\n * text and comment nodes.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('#fruits').contents().length;\n * //=> 3\n * ```\n *\n * @returns The children.\n * @see {@link https://api.jquery.com/contents/}\n */\nexport function contents() {\n    const elems = this.toArray().reduce((newElems, elem) => hasChildren(elem) ? newElems.concat(elem.children) : newElems, []);\n    return this._make(elems);\n}\n/**\n * Iterates over a cheerio object, executing a function for each matched\n * element. When the callback is fired, the function is fired in the context of\n * the DOM element, so `this` refers to the current element, which is equivalent\n * to the function parameter `element`. To break out of the `each` loop early,\n * return with `false`.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * const fruits = [];\n *\n * $('li').each(function (i, elem) {\n *   fruits[i] = $(this).text();\n * });\n *\n * fruits.join(', ');\n * //=> Apple, Orange, Pear\n * ```\n *\n * @param fn - Function to execute.\n * @returns The instance itself, useful for chaining.\n * @see {@link https://api.jquery.com/each/}\n */\nexport function each(fn) {\n    let i = 0;\n    const len = this.length;\n    while (i < len && fn.call(this[i], i, this[i]) !== false)\n        ++i;\n    return this;\n}\n/**\n * Pass each element in the current matched set through a function, producing a\n * new Cheerio object containing the return values. The function can return an\n * individual data item or an array of data items to be inserted into the\n * resulting set. If an array is returned, the elements inside the array are\n * inserted into the set. If the function returns null or undefined, no element\n * will be inserted.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('li')\n *   .map(function (i, el) {\n *     // this === el\n *     return $(this).text();\n *   })\n *   .toArray()\n *   .join(' ');\n * //=> \"apple orange pear\"\n * ```\n *\n * @param fn - Function to execute.\n * @returns The mapped elements, wrapped in a Cheerio collection.\n * @see {@link https://api.jquery.com/map/}\n */\nexport function map(fn) {\n    let elems = [];\n    for (let i = 0; i < this.length; i++) {\n        const el = this[i];\n        const val = fn.call(el, i, el);\n        if (val != null) {\n            elems = elems.concat(val);\n        }\n    }\n    return this._make(elems);\n}\n/**\n * Creates a function to test if a filter is matched.\n *\n * @param match - A filter.\n * @returns A function that determines if a filter has been matched.\n */\nfunction getFilterFn(match) {\n    if (typeof match === 'function') {\n        return (el, i) => match.call(el, i, el);\n    }\n    if (isCheerio(match)) {\n        return (el) => Array.prototype.includes.call(match, el);\n    }\n    return function (el) {\n        return match === el;\n    };\n}\nexport function filter(match) {\n    var _a;\n    return this._make(filterArray(this.toArray(), match, this.options.xmlMode, (_a = this._root) === null || _a === void 0 ? void 0 : _a[0]));\n}\nexport function filterArray(nodes, match, xmlMode, root) {\n    return typeof match === 'string'\n        ? select.filter(match, nodes, { xmlMode, root })\n        : nodes.filter(getFilterFn(match));\n}\n/**\n * Checks the current list of elements and returns `true` if _any_ of the\n * elements match the selector. If using an element or Cheerio selection,\n * returns `true` if _any_ of the elements match. If using a predicate function,\n * the function is executed in the context of the selected element, so `this`\n * refers to the current element.\n *\n * @category Traversing\n * @param selector - Selector for the selection.\n * @returns Whether or not the selector matches an element of the instance.\n * @see {@link https://api.jquery.com/is/}\n */\nexport function is(selector) {\n    const nodes = this.toArray();\n    return typeof selector === 'string'\n        ? select.some(nodes.filter(isTag), selector, this.options)\n        : selector\n            ? nodes.some(getFilterFn(selector))\n            : false;\n}\n/**\n * Remove elements from the set of matched elements. Given a Cheerio object that\n * represents a set of DOM elements, the `.not()` method constructs a new\n * Cheerio object from a subset of the matching elements. The supplied selector\n * is tested against each element; the elements that don't match the selector\n * will be included in the result.\n *\n * The `.not()` method can take a function as its argument in the same way that\n * `.filter()` does. Elements for which the function returns `true` are excluded\n * from the filtered set; all other elements are included.\n *\n * @category Traversing\n * @example <caption>Selector</caption>\n *\n * ```js\n * $('li').not('.apple').length;\n * //=> 2\n * ```\n *\n * @example <caption>Function</caption>\n *\n * ```js\n * $('li').not(function (i, el) {\n *   // this === el\n *   return $(this).attr('class') === 'orange';\n * }).length; //=> 2\n * ```\n *\n * @param match - Value to look for, following the rules above.\n * @returns The filtered collection.\n * @see {@link https://api.jquery.com/not/}\n */\nexport function not(match) {\n    let nodes = this.toArray();\n    if (typeof match === 'string') {\n        const matches = new Set(select.filter(match, nodes, this.options));\n        nodes = nodes.filter((el) => !matches.has(el));\n    }\n    else {\n        const filterFn = getFilterFn(match);\n        nodes = nodes.filter((el, i) => !filterFn(el, i));\n    }\n    return this._make(nodes);\n}\n/**\n * Filters the set of matched elements to only those which have the given DOM\n * element as a descendant or which have a descendant that matches the given\n * selector. Equivalent to `.filter(':has(selector)')`.\n *\n * @category Traversing\n * @example <caption>Selector</caption>\n *\n * ```js\n * $('ul').has('.pear').attr('id');\n * //=> fruits\n * ```\n *\n * @example <caption>Element</caption>\n *\n * ```js\n * $('ul').has($('.pear')[0]).attr('id');\n * //=> fruits\n * ```\n *\n * @param selectorOrHaystack - Element to look for.\n * @returns The filtered collection.\n * @see {@link https://api.jquery.com/has/}\n */\nexport function has(selectorOrHaystack) {\n    return this.filter(typeof selectorOrHaystack === 'string'\n        ? // Using the `:has` selector here short-circuits searches.\n            `:has(${selectorOrHaystack})`\n        : (_, el) => this._make(el).find(selectorOrHaystack).length > 0);\n}\n/**\n * Will select the first element of a cheerio object.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('#fruits').children().first().text();\n * //=> Apple\n * ```\n *\n * @returns The first element.\n * @see {@link https://api.jquery.com/first/}\n */\nexport function first() {\n    return this.length > 1 ? this._make(this[0]) : this;\n}\n/**\n * Will select the last element of a cheerio object.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('#fruits').children().last().text();\n * //=> Pear\n * ```\n *\n * @returns The last element.\n * @see {@link https://api.jquery.com/last/}\n */\nexport function last() {\n    return this.length > 0 ? this._make(this[this.length - 1]) : this;\n}\n/**\n * Reduce the set of matched elements to the one at the specified index. Use\n * `.eq(-i)` to count backwards from the last selected element.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('li').eq(0).text();\n * //=> Apple\n *\n * $('li').eq(-1).text();\n * //=> Pear\n * ```\n *\n * @param i - Index of the element to select.\n * @returns The element at the `i`th position.\n * @see {@link https://api.jquery.com/eq/}\n */\nexport function eq(i) {\n    var _a;\n    i = +i;\n    // Use the first identity optimization if possible\n    if (i === 0 && this.length <= 1)\n        return this;\n    if (i < 0)\n        i = this.length + i;\n    return this._make((_a = this[i]) !== null && _a !== void 0 ? _a : []);\n}\nexport function get(i) {\n    if (i == null) {\n        return this.toArray();\n    }\n    return this[i < 0 ? this.length + i : i];\n}\n/**\n * Retrieve all the DOM elements contained in the jQuery set as an array.\n *\n * @example\n *\n * ```js\n * $('li').toArray();\n * //=> [ {...}, {...}, {...} ]\n * ```\n *\n * @returns The contained items.\n */\nexport function toArray() {\n    return Array.prototype.slice.call(this);\n}\n/**\n * Search for a given element from among the matched elements.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.pear').index();\n * //=> 2 $('.orange').index('li');\n * //=> 1\n * $('.apple').index($('#fruit, li'));\n * //=> 1\n * ```\n *\n * @param selectorOrNeedle - Element to look for.\n * @returns The index of the element.\n * @see {@link https://api.jquery.com/index/}\n */\nexport function index(selectorOrNeedle) {\n    let $haystack;\n    let needle;\n    if (selectorOrNeedle == null) {\n        $haystack = this.parent().children();\n        needle = this[0];\n    }\n    else if (typeof selectorOrNeedle === 'string') {\n        $haystack = this._make(selectorOrNeedle);\n        needle = this[0];\n    }\n    else {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias, unicorn/no-this-assignment\n        $haystack = this;\n        needle = isCheerio(selectorOrNeedle)\n            ? selectorOrNeedle[0]\n            : selectorOrNeedle;\n    }\n    return Array.prototype.indexOf.call($haystack, needle);\n}\n/**\n * Gets the elements matching the specified range (0-based position).\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('li').slice(1).eq(0).text();\n * //=> 'Orange'\n *\n * $('li').slice(1, 2).length;\n * //=> 1\n * ```\n *\n * @param start - A position at which the elements begin to be selected. If\n *   negative, it indicates an offset from the end of the set.\n * @param end - A position at which the elements stop being selected. If\n *   negative, it indicates an offset from the end of the set. If omitted, the\n *   range continues until the end of the set.\n * @returns The elements matching the specified range.\n * @see {@link https://api.jquery.com/slice/}\n */\nexport function slice(start, end) {\n    return this._make(Array.prototype.slice.call(this, start, end));\n}\n/**\n * End the most recent filtering operation in the current chain and return the\n * set of matched elements to its previous state.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('li').eq(0).end().length;\n * //=> 3\n * ```\n *\n * @returns The previous state of the set of matched elements.\n * @see {@link https://api.jquery.com/end/}\n */\nexport function end() {\n    var _a;\n    return (_a = this.prevObject) !== null && _a !== void 0 ? _a : this._make([]);\n}\n/**\n * Add elements to the set of matched elements.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('.apple').add('.orange').length;\n * //=> 2\n * ```\n *\n * @param other - Elements to add.\n * @param context - Optionally the context of the new selection.\n * @returns The combined set.\n * @see {@link https://api.jquery.com/add/}\n */\nexport function add(other, context) {\n    const selection = this._make(other, context);\n    const contents = uniqueSort([...this.get(), ...selection.get()]);\n    return this._make(contents);\n}\n/**\n * Add the previous set of elements on the stack to the current set, optionally\n * filtered by a selector.\n *\n * @category Traversing\n * @example\n *\n * ```js\n * $('li').eq(0).addBack('.orange').length;\n * //=> 2\n * ```\n *\n * @param selector - Selector for the elements to add.\n * @returns The combined set.\n * @see {@link https://api.jquery.com/addBack/}\n */\nexport function addBack(selector) {\n    return this.prevObject\n        ? this.add(selector ? this.prevObject.filter(selector) : this.prevObject)\n        : this;\n}\n//# sourceMappingURL=traversing.js.map","/**\n * Methods for modifying the DOM structure.\n *\n * @module cheerio/manipulation\n */\nimport { isTag, Text, hasChildren, cloneNode, Document, } from 'domhandler';\nimport { update as updateDOM } from '../parse.js';\nimport { text as staticText } from '../static.js';\nimport { domEach, isHtml, isCheerio } from '../utils.js';\nimport { removeElement } from 'domutils';\n/**\n * Create an array of nodes, recursing into arrays and parsing strings if\n * necessary.\n *\n * @private\n * @category Manipulation\n * @param elem - Elements to make an array of.\n * @param clone - Optionally clone nodes.\n * @returns The array of nodes.\n */\nexport function _makeDomArray(elem, clone) {\n    if (elem == null) {\n        return [];\n    }\n    if (typeof elem === 'string') {\n        return this._parse(elem, this.options, false, null).children.slice(0);\n    }\n    if ('length' in elem) {\n        if (elem.length === 1) {\n            return this._makeDomArray(elem[0], clone);\n        }\n        const result = [];\n        for (let i = 0; i < elem.length; i++) {\n            const el = elem[i];\n            if (typeof el === 'object') {\n                if (el == null) {\n                    continue;\n                }\n                if (!('length' in el)) {\n                    result.push(clone ? cloneNode(el, true) : el);\n                    continue;\n                }\n            }\n            result.push(...this._makeDomArray(el, clone));\n        }\n        return result;\n    }\n    return [clone ? cloneNode(elem, true) : elem];\n}\nfunction _insert(concatenator) {\n    return function (...elems) {\n        const lastIdx = this.length - 1;\n        return domEach(this, (el, i) => {\n            if (!hasChildren(el))\n                return;\n            const domSrc = typeof elems[0] === 'function'\n                ? elems[0].call(el, i, this._render(el.children))\n                : elems;\n            const dom = this._makeDomArray(domSrc, i < lastIdx);\n            concatenator(dom, el.children, el);\n        });\n    };\n}\n/**\n * Modify an array in-place, removing some number of elements and adding new\n * elements directly following them.\n *\n * @private\n * @category Manipulation\n * @param array - Target array to splice.\n * @param spliceIdx - Index at which to begin changing the array.\n * @param spliceCount - Number of elements to remove from the array.\n * @param newElems - Elements to insert into the array.\n * @param parent - The parent of the node.\n * @returns The spliced array.\n */\nfunction uniqueSplice(array, spliceIdx, spliceCount, newElems, parent) {\n    var _a, _b;\n    const spliceArgs = [\n        spliceIdx,\n        spliceCount,\n        ...newElems,\n    ];\n    const prev = spliceIdx === 0 ? null : array[spliceIdx - 1];\n    const next = spliceIdx + spliceCount >= array.length\n        ? null\n        : array[spliceIdx + spliceCount];\n    /*\n     * Before splicing in new elements, ensure they do not already appear in the\n     * current array.\n     */\n    for (let idx = 0; idx < newElems.length; ++idx) {\n        const node = newElems[idx];\n        const oldParent = node.parent;\n        if (oldParent) {\n            const oldSiblings = oldParent.children;\n            const prevIdx = oldSiblings.indexOf(node);\n            if (prevIdx > -1) {\n                oldParent.children.splice(prevIdx, 1);\n                if (parent === oldParent && spliceIdx > prevIdx) {\n                    spliceArgs[0]--;\n                }\n            }\n        }\n        node.parent = parent;\n        if (node.prev) {\n            node.prev.next = (_a = node.next) !== null && _a !== void 0 ? _a : null;\n        }\n        if (node.next) {\n            node.next.prev = (_b = node.prev) !== null && _b !== void 0 ? _b : null;\n        }\n        node.prev = idx === 0 ? prev : newElems[idx - 1];\n        node.next = idx === newElems.length - 1 ? next : newElems[idx + 1];\n    }\n    if (prev) {\n        prev.next = newElems[0];\n    }\n    if (next) {\n        next.prev = newElems[newElems.length - 1];\n    }\n    return array.splice(...spliceArgs);\n}\n/**\n * Insert every element in the set of matched elements to the end of the target.\n *\n * @category Manipulation\n * @example\n *\n * ```js\n * $('<li class=\"plum\">Plum</li>').appendTo('#fruits');\n * $.html();\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"orange\">Orange</li>\n * //      <li class=\"pear\">Pear</li>\n * //      <li class=\"plum\">Plum</li>\n * //    </ul>\n * ```\n *\n * @param target - Element to append elements to.\n * @returns The instance itself.\n * @see {@link https://api.jquery.com/appendTo/}\n */\nexport function appendTo(target) {\n    const appendTarget = isCheerio(target) ? target : this._make(target);\n    appendTarget.append(this);\n    return this;\n}\n/**\n * Insert every element in the set of matched elements to the beginning of the\n * target.\n *\n * @category Manipulation\n * @example\n *\n * ```js\n * $('<li class=\"plum\">Plum</li>').prependTo('#fruits');\n * $.html();\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"plum\">Plum</li>\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"orange\">Orange</li>\n * //      <li class=\"pear\">Pear</li>\n * //    </ul>\n * ```\n *\n * @param target - Element to prepend elements to.\n * @returns The instance itself.\n * @see {@link https://api.jquery.com/prependTo/}\n */\nexport function prependTo(target) {\n    const prependTarget = isCheerio(target) ? target : this._make(target);\n    prependTarget.prepend(this);\n    return this;\n}\n/**\n * Inserts content as the _last_ child of each of the selected elements.\n *\n * @category Manipulation\n * @example\n *\n * ```js\n * $('ul').append('<li class=\"plum\">Plum</li>');\n * $.html();\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"orange\">Orange</li>\n * //      <li class=\"pear\">Pear</li>\n * //      <li class=\"plum\">Plum</li>\n * //    </ul>\n * ```\n *\n * @see {@link https://api.jquery.com/append/}\n */\nexport const append = _insert((dom, children, parent) => {\n    uniqueSplice(children, children.length, 0, dom, parent);\n});\n/**\n * Inserts content as the _first_ child of each of the selected elements.\n *\n * @category Manipulation\n * @example\n *\n * ```js\n * $('ul').prepend('<li class=\"plum\">Plum</li>');\n * $.html();\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"plum\">Plum</li>\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"orange\">Orange</li>\n * //      <li class=\"pear\">Pear</li>\n * //    </ul>\n * ```\n *\n * @see {@link https://api.jquery.com/prepend/}\n */\nexport const prepend = _insert((dom, children, parent) => {\n    uniqueSplice(children, 0, 0, dom, parent);\n});\nfunction _wrap(insert) {\n    return function (wrapper) {\n        const lastIdx = this.length - 1;\n        const lastParent = this.parents().last();\n        for (let i = 0; i < this.length; i++) {\n            const el = this[i];\n            const wrap = typeof wrapper === 'function'\n                ? wrapper.call(el, i, el)\n                : typeof wrapper === 'string' && !isHtml(wrapper)\n                    ? lastParent.find(wrapper).clone()\n                    : wrapper;\n            const [wrapperDom] = this._makeDomArray(wrap, i < lastIdx);\n            if (!wrapperDom || !hasChildren(wrapperDom))\n                continue;\n            let elInsertLocation = wrapperDom;\n            /*\n             * Find the deepest child. Only consider the first tag child of each node\n             * (ignore text); stop if no children are found.\n             */\n            let j = 0;\n            while (j < elInsertLocation.children.length) {\n                const child = elInsertLocation.children[j];\n                if (isTag(child)) {\n                    elInsertLocation = child;\n                    j = 0;\n                }\n                else {\n                    j++;\n                }\n            }\n            insert(el, elInsertLocation, [wrapperDom]);\n        }\n        return this;\n    };\n}\n/**\n * The .wrap() function can take any string or object that could be passed to\n * the $() factory function to specify a DOM structure. This structure may be\n * nested several levels deep, but should contain only one inmost element. A\n * copy of this structure will be wrapped around each of the elements in the set\n * of matched elements. This method returns the original set of elements for\n * chaining purposes.\n *\n * @category Manipulation\n * @example\n *\n * ```js\n * const redFruit = $('<div class=\"red-fruit\"></div>');\n * $('.apple').wrap(redFruit);\n *\n * //=> <ul id=\"fruits\">\n * //     <div class=\"red-fruit\">\n * //      <li class=\"apple\">Apple</li>\n * //     </div>\n * //     <li class=\"orange\">Orange</li>\n * //     <li class=\"plum\">Plum</li>\n * //   </ul>\n *\n * const healthy = $('<div class=\"healthy\"></div>');\n * $('li').wrap(healthy);\n *\n * //=> <ul id=\"fruits\">\n * //     <div class=\"healthy\">\n * //       <li class=\"apple\">Apple</li>\n * //     </div>\n * //     <div class=\"healthy\">\n * //       <li class=\"orange\">Orange</li>\n * //     </div>\n * //     <div class=\"healthy\">\n * //        <li class=\"plum\">Plum</li>\n * //     </div>\n * //   </ul>\n * ```\n *\n * @param wrapper - The DOM structure to wrap around each element in the\n *   selection.\n * @see {@link https://api.jquery.com/wrap/}\n */\nexport const wrap = _wrap((el, elInsertLocation, wrapperDom) => {\n    const { parent } = el;\n    if (!parent)\n        return;\n    const siblings = parent.children;\n    const index = siblings.indexOf(el);\n    updateDOM([el], elInsertLocation);\n    /*\n     * The previous operation removed the current element from the `siblings`\n     * array, so the `dom` array can be inserted without removing any\n     * additional elements.\n     */\n    uniqueSplice(siblings, index, 0, wrapperDom, parent);\n});\n/**\n * The .wrapInner() function can take any string or object that could be passed\n * to the $() factory function to specify a DOM structure. This structure may be\n * nested several levels deep, but should contain only one inmost element. The\n * structure will be wrapped around the content of each of the elements in the\n * set of matched elements.\n *\n * @category Manipulation\n * @example\n *\n * ```js\n * const redFruit = $('<div class=\"red-fruit\"></div>');\n * $('.apple').wrapInner(redFruit);\n *\n * //=> <ul id=\"fruits\">\n * //     <li class=\"apple\">\n * //       <div class=\"red-fruit\">Apple</div>\n * //     </li>\n * //     <li class=\"orange\">Orange</li>\n * //     <li class=\"pear\">Pear</li>\n * //   </ul>\n *\n * const healthy = $('<div class=\"healthy\"></div>');\n * $('li').wrapInner(healthy);\n *\n * //=> <ul id=\"fruits\">\n * //     <li class=\"apple\">\n * //       <div class=\"healthy\">Apple</div>\n * //     </li>\n * //     <li class=\"orange\">\n * //       <div class=\"healthy\">Orange</div>\n * //     </li>\n * //     <li class=\"pear\">\n * //       <div class=\"healthy\">Pear</div>\n * //     </li>\n * //   </ul>\n * ```\n *\n * @param wrapper - The DOM structure to wrap around the content of each element\n *   in the selection.\n * @returns The instance itself, for chaining.\n * @see {@link https://api.jquery.com/wrapInner/}\n */\nexport const wrapInner = _wrap((el, elInsertLocation, wrapperDom) => {\n    if (!hasChildren(el))\n        return;\n    updateDOM(el.children, elInsertLocation);\n    updateDOM(wrapperDom, el);\n});\n/**\n * The .unwrap() function, removes the parents of the set of matched elements\n * from the DOM, leaving the matched elements in their place.\n *\n * @category Manipulation\n * @example <caption>without selector</caption>\n *\n * ```js\n * const $ = cheerio.load(\n *   '<div id=test>\\n  <div><p>Hello</p></div>\\n  <div><p>World</p></div>\\n</div>',\n * );\n * $('#test p').unwrap();\n *\n * //=> <div id=test>\n * //     <p>Hello</p>\n * //     <p>World</p>\n * //   </div>\n * ```\n *\n * @example <caption>with selector</caption>\n *\n * ```js\n * const $ = cheerio.load(\n *   '<div id=test>\\n  <p>Hello</p>\\n  <b><p>World</p></b>\\n</div>',\n * );\n * $('#test p').unwrap('b');\n *\n * //=> <div id=test>\n * //     <p>Hello</p>\n * //     <p>World</p>\n * //   </div>\n * ```\n *\n * @param selector - A selector to check the parent element against. If an\n *   element's parent does not match the selector, the element won't be\n *   unwrapped.\n * @returns The instance itself, for chaining.\n * @see {@link https://api.jquery.com/unwrap/}\n */\nexport function unwrap(selector) {\n    this.parent(selector)\n        .not('body')\n        .each((_, el) => {\n        this._make(el).replaceWith(el.children);\n    });\n    return this;\n}\n/**\n * The .wrapAll() function can take any string or object that could be passed to\n * the $() function to specify a DOM structure. This structure may be nested\n * several levels deep, but should contain only one inmost element. The\n * structure will be wrapped around all of the elements in the set of matched\n * elements, as a single group.\n *\n * @category Manipulation\n * @example <caption>With markup passed to `wrapAll`</caption>\n *\n * ```js\n * const $ = cheerio.load(\n *   '<div class=\"container\"><div class=\"inner\">First</div><div class=\"inner\">Second</div></div>',\n * );\n * $('.inner').wrapAll(\"<div class='new'></div>\");\n *\n * //=> <div class=\"container\">\n * //     <div class='new'>\n * //       <div class=\"inner\">First</div>\n * //       <div class=\"inner\">Second</div>\n * //     </div>\n * //   </div>\n * ```\n *\n * @example <caption>With an existing cheerio instance</caption>\n *\n * ```js\n * const $ = cheerio.load(\n *   '<span>Span 1</span><strong>Strong</strong><span>Span 2</span>',\n * );\n * const wrap = $('<div><p><em><b></b></em></p></div>');\n * $('span').wrapAll(wrap);\n *\n * //=> <div>\n * //     <p>\n * //       <em>\n * //         <b>\n * //           <span>Span 1</span>\n * //           <span>Span 2</span>\n * //         </b>\n * //       </em>\n * //     </p>\n * //   </div>\n * //   <strong>Strong</strong>\n * ```\n *\n * @param wrapper - The DOM structure to wrap around all matched elements in the\n *   selection.\n * @returns The instance itself.\n * @see {@link https://api.jquery.com/wrapAll/}\n */\nexport function wrapAll(wrapper) {\n    const el = this[0];\n    if (el) {\n        const wrap = this._make(typeof wrapper === 'function' ? wrapper.call(el, 0, el) : wrapper).insertBefore(el);\n        // If html is given as wrapper, wrap may contain text elements\n        let elInsertLocation;\n        for (let i = 0; i < wrap.length; i++) {\n            if (wrap[i].type === 'tag')\n                elInsertLocation = wrap[i];\n        }\n        let j = 0;\n        /*\n         * Find the deepest child. Only consider the first tag child of each node\n         * (ignore text); stop if no children are found.\n         */\n        while (elInsertLocation && j < elInsertLocation.children.length) {\n            const child = elInsertLocation.children[j];\n            if (child.type === 'tag') {\n                elInsertLocation = child;\n                j = 0;\n            }\n            else {\n                j++;\n            }\n        }\n        if (elInsertLocation)\n            this._make(elInsertLocation).append(this);\n    }\n    return this;\n}\n/**\n * Insert content next to each element in the set of matched elements.\n *\n * @category Manipulation\n * @example\n *\n * ```js\n * $('.apple').after('<li class=\"plum\">Plum</li>');\n * $.html();\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"plum\">Plum</li>\n * //      <li class=\"orange\">Orange</li>\n * //      <li class=\"pear\">Pear</li>\n * //    </ul>\n * ```\n *\n * @param elems - HTML string, DOM element, array of DOM elements or Cheerio to\n *   insert after each element in the set of matched elements.\n * @returns The instance itself.\n * @see {@link https://api.jquery.com/after/}\n */\nexport function after(...elems) {\n    const lastIdx = this.length - 1;\n    return domEach(this, (el, i) => {\n        if (!hasChildren(el) || !el.parent) {\n            return;\n        }\n        const siblings = el.parent.children;\n        const index = siblings.indexOf(el);\n        // If not found, move on\n        /* istanbul ignore next */\n        if (index < 0)\n            return;\n        const domSrc = typeof elems[0] === 'function'\n            ? elems[0].call(el, i, this._render(el.children))\n            : elems;\n        const dom = this._makeDomArray(domSrc, i < lastIdx);\n        // Add element after `this` element\n        uniqueSplice(siblings, index + 1, 0, dom, el.parent);\n    });\n}\n/**\n * Insert every element in the set of matched elements after the target.\n *\n * @category Manipulation\n * @example\n *\n * ```js\n * $('<li class=\"plum\">Plum</li>').insertAfter('.apple');\n * $.html();\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"plum\">Plum</li>\n * //      <li class=\"orange\">Orange</li>\n * //      <li class=\"pear\">Pear</li>\n * //    </ul>\n * ```\n *\n * @param target - Element to insert elements after.\n * @returns The set of newly inserted elements.\n * @see {@link https://api.jquery.com/insertAfter/}\n */\nexport function insertAfter(target) {\n    if (typeof target === 'string') {\n        target = this._make(target);\n    }\n    this.remove();\n    const clones = [];\n    for (const el of this._makeDomArray(target)) {\n        const clonedSelf = this.clone().toArray();\n        const { parent } = el;\n        if (!parent) {\n            continue;\n        }\n        const siblings = parent.children;\n        const index = siblings.indexOf(el);\n        // If not found, move on\n        /* istanbul ignore next */\n        if (index < 0)\n            continue;\n        // Add cloned `this` element(s) after target element\n        uniqueSplice(siblings, index + 1, 0, clonedSelf, parent);\n        clones.push(...clonedSelf);\n    }\n    return this._make(clones);\n}\n/**\n * Insert content previous to each element in the set of matched elements.\n *\n * @category Manipulation\n * @example\n *\n * ```js\n * $('.apple').before('<li class=\"plum\">Plum</li>');\n * $.html();\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"plum\">Plum</li>\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"orange\">Orange</li>\n * //      <li class=\"pear\">Pear</li>\n * //    </ul>\n * ```\n *\n * @param elems - HTML string, DOM element, array of DOM elements or Cheerio to\n *   insert before each element in the set of matched elements.\n * @returns The instance itself.\n * @see {@link https://api.jquery.com/before/}\n */\nexport function before(...elems) {\n    const lastIdx = this.length - 1;\n    return domEach(this, (el, i) => {\n        if (!hasChildren(el) || !el.parent) {\n            return;\n        }\n        const siblings = el.parent.children;\n        const index = siblings.indexOf(el);\n        // If not found, move on\n        /* istanbul ignore next */\n        if (index < 0)\n            return;\n        const domSrc = typeof elems[0] === 'function'\n            ? elems[0].call(el, i, this._render(el.children))\n            : elems;\n        const dom = this._makeDomArray(domSrc, i < lastIdx);\n        // Add element before `el` element\n        uniqueSplice(siblings, index, 0, dom, el.parent);\n    });\n}\n/**\n * Insert every element in the set of matched elements before the target.\n *\n * @category Manipulation\n * @example\n *\n * ```js\n * $('<li class=\"plum\">Plum</li>').insertBefore('.apple');\n * $.html();\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"plum\">Plum</li>\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"orange\">Orange</li>\n * //      <li class=\"pear\">Pear</li>\n * //    </ul>\n * ```\n *\n * @param target - Element to insert elements before.\n * @returns The set of newly inserted elements.\n * @see {@link https://api.jquery.com/insertBefore/}\n */\nexport function insertBefore(target) {\n    const targetArr = this._make(target);\n    this.remove();\n    const clones = [];\n    domEach(targetArr, (el) => {\n        const clonedSelf = this.clone().toArray();\n        const { parent } = el;\n        if (!parent) {\n            return;\n        }\n        const siblings = parent.children;\n        const index = siblings.indexOf(el);\n        // If not found, move on\n        /* istanbul ignore next */\n        if (index < 0)\n            return;\n        // Add cloned `this` element(s) after target element\n        uniqueSplice(siblings, index, 0, clonedSelf, parent);\n        clones.push(...clonedSelf);\n    });\n    return this._make(clones);\n}\n/**\n * Removes the set of matched elements from the DOM and all their children.\n * `selector` filters the set of matched elements to be removed.\n *\n * @category Manipulation\n * @example\n *\n * ```js\n * $('.pear').remove();\n * $.html();\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"orange\">Orange</li>\n * //    </ul>\n * ```\n *\n * @param selector - Optional selector for elements to remove.\n * @returns The instance itself.\n * @see {@link https://api.jquery.com/remove/}\n */\nexport function remove(selector) {\n    // Filter if we have selector\n    const elems = selector ? this.filter(selector) : this;\n    domEach(elems, (el) => {\n        removeElement(el);\n        el.prev = el.next = el.parent = null;\n    });\n    return this;\n}\n/**\n * Replaces matched elements with `content`.\n *\n * @category Manipulation\n * @example\n *\n * ```js\n * const plum = $('<li class=\"plum\">Plum</li>');\n * $('.pear').replaceWith(plum);\n * $.html();\n * //=> <ul id=\"fruits\">\n * //     <li class=\"apple\">Apple</li>\n * //     <li class=\"orange\">Orange</li>\n * //     <li class=\"plum\">Plum</li>\n * //   </ul>\n * ```\n *\n * @param content - Replacement for matched elements.\n * @returns The instance itself.\n * @see {@link https://api.jquery.com/replaceWith/}\n */\nexport function replaceWith(content) {\n    return domEach(this, (el, i) => {\n        const { parent } = el;\n        if (!parent) {\n            return;\n        }\n        const siblings = parent.children;\n        const cont = typeof content === 'function' ? content.call(el, i, el) : content;\n        const dom = this._makeDomArray(cont);\n        /*\n         * In the case that `dom` contains nodes that already exist in other\n         * structures, ensure those nodes are properly removed.\n         */\n        updateDOM(dom, null);\n        const index = siblings.indexOf(el);\n        // Completely remove old element\n        uniqueSplice(siblings, index, 1, dom, parent);\n        if (!dom.includes(el)) {\n            el.parent = el.prev = el.next = null;\n        }\n    });\n}\n/**\n * Removes all children from each item in the selection. Text nodes and comment\n * nodes are left as is.\n *\n * @category Manipulation\n * @example\n *\n * ```js\n * $('ul').empty();\n * $.html();\n * //=>  <ul id=\"fruits\"></ul>\n * ```\n *\n * @returns The instance itself.\n * @see {@link https://api.jquery.com/empty/}\n */\nexport function empty() {\n    return domEach(this, (el) => {\n        if (!hasChildren(el))\n            return;\n        for (const child of el.children) {\n            child.next = child.prev = child.parent = null;\n        }\n        el.children.length = 0;\n    });\n}\nexport function html(str) {\n    if (str === undefined) {\n        const el = this[0];\n        if (!el || !hasChildren(el))\n            return null;\n        return this._render(el.children);\n    }\n    return domEach(this, (el) => {\n        if (!hasChildren(el))\n            return;\n        for (const child of el.children) {\n            child.next = child.prev = child.parent = null;\n        }\n        const content = isCheerio(str)\n            ? str.toArray()\n            : this._parse(`${str}`, this.options, false, el).children;\n        updateDOM(content, el);\n    });\n}\n/**\n * Turns the collection to a string. Alias for `.html()`.\n *\n * @category Manipulation\n * @returns The rendered document.\n */\nexport function toString() {\n    return this._render(this);\n}\nexport function text(str) {\n    // If `str` is undefined, act as a \"getter\"\n    if (str === undefined) {\n        return staticText(this);\n    }\n    if (typeof str === 'function') {\n        // Function support\n        return domEach(this, (el, i) => this._make(el).text(str.call(el, i, staticText([el]))));\n    }\n    // Append text node to each selected elements\n    return domEach(this, (el) => {\n        if (!hasChildren(el))\n            return;\n        for (const child of el.children) {\n            child.next = child.prev = child.parent = null;\n        }\n        const textNode = new Text(`${str}`);\n        updateDOM(textNode, el);\n    });\n}\n/**\n * Clone the cheerio object.\n *\n * @category Manipulation\n * @example\n *\n * ```js\n * const moreFruit = $('#fruits').clone();\n * ```\n *\n * @returns The cloned object.\n * @see {@link https://api.jquery.com/clone/}\n */\nexport function clone() {\n    const clone = Array.prototype.map.call(this.get(), (el) => cloneNode(el, true));\n    // Add a root node around the cloned nodes\n    const root = new Document(clone);\n    for (const node of clone) {\n        node.parent = root;\n    }\n    return this._make(clone);\n}\n//# sourceMappingURL=manipulation.js.map","import { domEach } from '../utils.js';\nimport { isTag } from 'domhandler';\n/**\n * Set multiple CSS properties for every matched element.\n *\n * @category CSS\n * @param prop - The names of the properties.\n * @param val - The new values.\n * @returns The instance itself.\n * @see {@link https://api.jquery.com/css/}\n */\nexport function css(prop, val) {\n    if ((prop != null && val != null) ||\n        // When `prop` is a \"plain\" object\n        (typeof prop === 'object' && !Array.isArray(prop))) {\n        return domEach(this, (el, i) => {\n            if (isTag(el)) {\n                // `prop` can't be an array here anymore.\n                setCss(el, prop, val, i);\n            }\n        });\n    }\n    if (this.length === 0) {\n        return undefined;\n    }\n    return getCss(this[0], prop);\n}\n/**\n * Set styles of all elements.\n *\n * @private\n * @param el - Element to set style of.\n * @param prop - Name of property.\n * @param value - Value to set property to.\n * @param idx - Optional index within the selection.\n */\nfunction setCss(el, prop, value, idx) {\n    if (typeof prop === 'string') {\n        const styles = getCss(el);\n        const val = typeof value === 'function' ? value.call(el, idx, styles[prop]) : value;\n        if (val === '') {\n            delete styles[prop];\n        }\n        else if (val != null) {\n            styles[prop] = val;\n        }\n        el.attribs['style'] = stringify(styles);\n    }\n    else if (typeof prop === 'object') {\n        const keys = Object.keys(prop);\n        for (let i = 0; i < keys.length; i++) {\n            const k = keys[i];\n            setCss(el, k, prop[k], i);\n        }\n    }\n}\nfunction getCss(el, prop) {\n    if (!el || !isTag(el))\n        return;\n    const styles = parse(el.attribs['style']);\n    if (typeof prop === 'string') {\n        return styles[prop];\n    }\n    if (Array.isArray(prop)) {\n        const newStyles = {};\n        for (const item of prop) {\n            if (styles[item] != null) {\n                newStyles[item] = styles[item];\n            }\n        }\n        return newStyles;\n    }\n    return styles;\n}\n/**\n * Stringify `obj` to styles.\n *\n * @private\n * @category CSS\n * @param obj - Object to stringify.\n * @returns The serialized styles.\n */\nfunction stringify(obj) {\n    return Object.keys(obj).reduce((str, prop) => `${str}${str ? ' ' : ''}${prop}: ${obj[prop]};`, '');\n}\n/**\n * Parse `styles`.\n *\n * @private\n * @category CSS\n * @param styles - Styles to be parsed.\n * @returns The parsed styles.\n */\nfunction parse(styles) {\n    styles = (styles || '').trim();\n    if (!styles)\n        return {};\n    const obj = {};\n    let key;\n    for (const str of styles.split(';')) {\n        const n = str.indexOf(':');\n        // If there is no :, or if it is the first/last character, add to the previous item's value\n        if (n < 1 || n === str.length - 1) {\n            const trimmed = str.trimEnd();\n            if (trimmed.length > 0 && key !== undefined) {\n                obj[key] += `;${trimmed}`;\n            }\n        }\n        else {\n            key = str.slice(0, n).trim();\n            obj[key] = str.slice(n + 1).trim();\n        }\n    }\n    return obj;\n}\n//# sourceMappingURL=css.js.map","import { isTag } from 'domhandler';\n/*\n * https://github.com/jquery/jquery/blob/2.1.3/src/manipulation/var/rcheckableType.js\n * https://github.com/jquery/jquery/blob/2.1.3/src/serialize.js\n */\nconst submittableSelector = 'input,select,textarea,keygen';\nconst r20 = /%20/g;\nconst rCRLF = /\\r?\\n/g;\n/**\n * Encode a set of form elements as a string for submission.\n *\n * @category Forms\n * @example\n *\n * ```js\n * $('<form><input name=\"foo\" value=\"bar\" /></form>').serialize();\n * //=> 'foo=bar'\n * ```\n *\n * @returns The serialized form.\n * @see {@link https://api.jquery.com/serialize/}\n */\nexport function serialize() {\n    // Convert form elements into name/value objects\n    const arr = this.serializeArray();\n    // Serialize each element into a key/value string\n    const retArr = arr.map((data) => `${encodeURIComponent(data.name)}=${encodeURIComponent(data.value)}`);\n    // Return the resulting serialization\n    return retArr.join('&').replace(r20, '+');\n}\n/**\n * Encode a set of form elements as an array of names and values.\n *\n * @category Forms\n * @example\n *\n * ```js\n * $('<form><input name=\"foo\" value=\"bar\" /></form>').serializeArray();\n * //=> [ { name: 'foo', value: 'bar' } ]\n * ```\n *\n * @returns The serialized form.\n * @see {@link https://api.jquery.com/serializeArray/}\n */\nexport function serializeArray() {\n    // Resolve all form elements from either forms or collections of form elements\n    return this.map((_, elem) => {\n        const $elem = this._make(elem);\n        if (isTag(elem) && elem.name === 'form') {\n            return $elem.find(submittableSelector).toArray();\n        }\n        return $elem.filter(submittableSelector).toArray();\n    })\n        .filter(\n    // Verify elements have a name (`attr.name`) and are not disabled (`:enabled`)\n    '[name!=\"\"]:enabled' +\n        // And cannot be clicked (`[type=submit]`) or are used in `x-www-form-urlencoded` (`[type=file]`)\n        ':not(:submit, :button, :image, :reset, :file)' +\n        // And are either checked/don't have a checkable state\n        ':matches([checked], :not(:checkbox, :radio))')\n        .map((_, elem) => {\n        var _a;\n        const $elem = this._make(elem);\n        const name = $elem.attr('name'); // We have filtered for elements with a name before.\n        // If there is no value set (e.g. `undefined`, `null`), then default value to empty\n        const value = (_a = $elem.val()) !== null && _a !== void 0 ? _a : '';\n        // If we have an array of values (e.g. `<select multiple>`), return an array of key/value pairs\n        if (Array.isArray(value)) {\n            return value.map((val) => \n            /*\n             * We trim replace any line endings (e.g. `\\r` or `\\r\\n` with `\\r\\n`) to guarantee consistency across platforms\n             * These can occur inside of `<textarea>'s`\n             */\n            ({ name, value: val.replace(rCRLF, '\\r\\n') }));\n        }\n        // Otherwise (e.g. `<input type=\"text\">`, return only one key/value pair\n        return { name, value: value.replace(rCRLF, '\\r\\n') };\n    })\n        .toArray();\n}\n//# sourceMappingURL=forms.js.map","function getExtractDescr(descr) {\n    var _a;\n    if (typeof descr === 'string') {\n        return { selector: descr, value: 'textContent' };\n    }\n    return {\n        selector: descr.selector,\n        value: (_a = descr.value) !== null && _a !== void 0 ? _a : 'textContent',\n    };\n}\n/**\n * Extract multiple values from a document, and store them in an object.\n *\n * @param map - An object containing key-value pairs. The keys are the names of\n *   the properties to be created on the object, and the values are the\n *   selectors to be used to extract the values.\n * @returns An object containing the extracted values.\n */\nexport function extract(map) {\n    const ret = {};\n    for (const key in map) {\n        const descr = map[key];\n        const isArray = Array.isArray(descr);\n        const { selector, value } = getExtractDescr(isArray ? descr[0] : descr);\n        const fn = typeof value === 'function'\n            ? value\n            : typeof value === 'string'\n                ? (el) => this._make(el).prop(value)\n                : (el) => this._make(el).extract(value);\n        if (isArray) {\n            ret[key] = this._findBySelector(selector, Number.POSITIVE_INFINITY)\n                .map((_, el) => fn(el, key, ret))\n                .get();\n        }\n        else {\n            const $ = this._findBySelector(selector, 1);\n            ret[key] = $.length > 0 ? fn($[0], key, ret) : undefined;\n        }\n    }\n    return ret;\n}\n//# sourceMappingURL=extract.js.map","import * as Attributes from './api/attributes.js';\nimport * as Traversing from './api/traversing.js';\nimport * as Manipulation from './api/manipulation.js';\nimport * as Css from './api/css.js';\nimport * as Forms from './api/forms.js';\nimport * as Extract from './api/extract.js';\n/**\n * The cheerio class is the central class of the library. It wraps a set of\n * elements and provides an API for traversing, modifying, and interacting with\n * the set.\n *\n * Loading a document will return the Cheerio class bound to the root element of\n * the document. The class will be instantiated when querying the document (when\n * calling `$('selector')`).\n *\n * @example This is the HTML markup we will be using in all of the API examples:\n *\n * ```html\n * <ul id=\"fruits\">\n *   <li class=\"apple\">Apple</li>\n *   <li class=\"orange\">Orange</li>\n *   <li class=\"pear\">Pear</li>\n * </ul>\n * ```\n */\nexport class Cheerio {\n    /**\n     * Instance of cheerio. Methods are specified in the modules. Usage of this\n     * constructor is not recommended. Please use `$.load` instead.\n     *\n     * @private\n     * @param elements - The new selection.\n     * @param root - Sets the root node.\n     * @param options - Options for the instance.\n     */\n    constructor(elements, root, options) {\n        this.length = 0;\n        this.options = options;\n        this._root = root;\n        if (elements) {\n            for (let idx = 0; idx < elements.length; idx++) {\n                this[idx] = elements[idx];\n            }\n            this.length = elements.length;\n        }\n    }\n}\n/** Set a signature of the object. */\nCheerio.prototype.cheerio = '[cheerio object]';\n/*\n * Make cheerio an array-like object\n */\nCheerio.prototype.splice = Array.prototype.splice;\n// Support for (const element of $(...)) iteration:\nCheerio.prototype[Symbol.iterator] = Array.prototype[Symbol.iterator];\n// Plug in the API\nObject.assign(Cheerio.prototype, Attributes, Traversing, Manipulation, Css, Forms, Extract);\n//# sourceMappingURL=cheerio.js.map","import { CODE_POINTS as $, getSurrogatePairCodePoint, isControlCodePoint, isSurrogate, isSurrogatePair, isUndefinedCodePoint, } from '../common/unicode.js';\nimport { ERR } from '../common/error-codes.js';\n//Const\nconst DEFAULT_BUFFER_WATERLINE = 1 << 16;\n//Preprocessor\n//NOTE: HTML input preprocessing\n//(see: http://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#preprocessing-the-input-stream)\nexport class Preprocessor {\n    constructor(handler) {\n        this.handler = handler;\n        this.html = '';\n        this.pos = -1;\n        // NOTE: Initial `lastGapPos` is -2, to ensure `col` on initialisation is 0\n        this.lastGapPos = -2;\n        this.gapStack = [];\n        this.skipNextNewLine = false;\n        this.lastChunkWritten = false;\n        this.endOfChunkHit = false;\n        this.bufferWaterline = DEFAULT_BUFFER_WATERLINE;\n        this.isEol = false;\n        this.lineStartPos = 0;\n        this.droppedBufferSize = 0;\n        this.line = 1;\n        //NOTE: avoid reporting errors twice on advance/retreat\n        this.lastErrOffset = -1;\n    }\n    /** The column on the current line. If we just saw a gap (eg. a surrogate pair), return the index before. */\n    get col() {\n        return this.pos - this.lineStartPos + Number(this.lastGapPos !== this.pos);\n    }\n    get offset() {\n        return this.droppedBufferSize + this.pos;\n    }\n    getError(code) {\n        const { line, col, offset } = this;\n        return {\n            code,\n            startLine: line,\n            endLine: line,\n            startCol: col,\n            endCol: col,\n            startOffset: offset,\n            endOffset: offset,\n        };\n    }\n    _err(code) {\n        if (this.handler.onParseError && this.lastErrOffset !== this.offset) {\n            this.lastErrOffset = this.offset;\n            this.handler.onParseError(this.getError(code));\n        }\n    }\n    _addGap() {\n        this.gapStack.push(this.lastGapPos);\n        this.lastGapPos = this.pos;\n    }\n    _processSurrogate(cp) {\n        //NOTE: try to peek a surrogate pair\n        if (this.pos !== this.html.length - 1) {\n            const nextCp = this.html.charCodeAt(this.pos + 1);\n            if (isSurrogatePair(nextCp)) {\n                //NOTE: we have a surrogate pair. Peek pair character and recalculate code point.\n                this.pos++;\n                //NOTE: add a gap that should be avoided during retreat\n                this._addGap();\n                return getSurrogatePairCodePoint(cp, nextCp);\n            }\n        }\n        //NOTE: we are at the end of a chunk, therefore we can't infer the surrogate pair yet.\n        else if (!this.lastChunkWritten) {\n            this.endOfChunkHit = true;\n            return $.EOF;\n        }\n        //NOTE: isolated surrogate\n        this._err(ERR.surrogateInInputStream);\n        return cp;\n    }\n    willDropParsedChunk() {\n        return this.pos > this.bufferWaterline;\n    }\n    dropParsedChunk() {\n        if (this.willDropParsedChunk()) {\n            this.html = this.html.substring(this.pos);\n            this.lineStartPos -= this.pos;\n            this.droppedBufferSize += this.pos;\n            this.pos = 0;\n            this.lastGapPos = -2;\n            this.gapStack.length = 0;\n        }\n    }\n    write(chunk, isLastChunk) {\n        if (this.html.length > 0) {\n            this.html += chunk;\n        }\n        else {\n            this.html = chunk;\n        }\n        this.endOfChunkHit = false;\n        this.lastChunkWritten = isLastChunk;\n    }\n    insertHtmlAtCurrentPos(chunk) {\n        this.html = this.html.substring(0, this.pos + 1) + chunk + this.html.substring(this.pos + 1);\n        this.endOfChunkHit = false;\n    }\n    startsWith(pattern, caseSensitive) {\n        // Check if our buffer has enough characters\n        if (this.pos + pattern.length > this.html.length) {\n            this.endOfChunkHit = !this.lastChunkWritten;\n            return false;\n        }\n        if (caseSensitive) {\n            return this.html.startsWith(pattern, this.pos);\n        }\n        for (let i = 0; i < pattern.length; i++) {\n            const cp = this.html.charCodeAt(this.pos + i) | 0x20;\n            if (cp !== pattern.charCodeAt(i)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    peek(offset) {\n        const pos = this.pos + offset;\n        if (pos >= this.html.length) {\n            this.endOfChunkHit = !this.lastChunkWritten;\n            return $.EOF;\n        }\n        const code = this.html.charCodeAt(pos);\n        return code === $.CARRIAGE_RETURN ? $.LINE_FEED : code;\n    }\n    advance() {\n        this.pos++;\n        //NOTE: LF should be in the last column of the line\n        if (this.isEol) {\n            this.isEol = false;\n            this.line++;\n            this.lineStartPos = this.pos;\n        }\n        if (this.pos >= this.html.length) {\n            this.endOfChunkHit = !this.lastChunkWritten;\n            return $.EOF;\n        }\n        let cp = this.html.charCodeAt(this.pos);\n        //NOTE: all U+000D CARRIAGE RETURN (CR) characters must be converted to U+000A LINE FEED (LF) characters\n        if (cp === $.CARRIAGE_RETURN) {\n            this.isEol = true;\n            this.skipNextNewLine = true;\n            return $.LINE_FEED;\n        }\n        //NOTE: any U+000A LINE FEED (LF) characters that immediately follow a U+000D CARRIAGE RETURN (CR) character\n        //must be ignored.\n        if (cp === $.LINE_FEED) {\n            this.isEol = true;\n            if (this.skipNextNewLine) {\n                // `line` will be bumped again in the recursive call.\n                this.line--;\n                this.skipNextNewLine = false;\n                this._addGap();\n                return this.advance();\n            }\n        }\n        this.skipNextNewLine = false;\n        if (isSurrogate(cp)) {\n            cp = this._processSurrogate(cp);\n        }\n        //OPTIMIZATION: first check if code point is in the common allowed\n        //range (ASCII alphanumeric, whitespaces, big chunk of BMP)\n        //before going into detailed performance cost validation.\n        const isCommonValidRange = this.handler.onParseError === null ||\n            (cp > 0x1f && cp < 0x7f) ||\n            cp === $.LINE_FEED ||\n            cp === $.CARRIAGE_RETURN ||\n            (cp > 0x9f && cp < 64976);\n        if (!isCommonValidRange) {\n            this._checkForProblematicCharacters(cp);\n        }\n        return cp;\n    }\n    _checkForProblematicCharacters(cp) {\n        if (isControlCodePoint(cp)) {\n            this._err(ERR.controlCharacterInInputStream);\n        }\n        else if (isUndefinedCodePoint(cp)) {\n            this._err(ERR.noncharacterInInputStream);\n        }\n    }\n    retreat(count) {\n        this.pos -= count;\n        while (this.pos < this.lastGapPos) {\n            this.lastGapPos = this.gapStack.pop();\n            this.pos--;\n        }\n        this.isEol = false;\n    }\n}\n//# sourceMappingURL=preprocessor.js.map","import { TAG_ID as $, NS, isNumberedHeader } from '../common/html.js';\n//Element utils\nconst IMPLICIT_END_TAG_REQUIRED = new Set([$.DD, $.DT, $.LI, $.OPTGROUP, $.OPTION, $.P, $.RB, $.RP, $.RT, $.RTC]);\nconst IMPLICIT_END_TAG_REQUIRED_THOROUGHLY = new Set([\n    ...IMPLICIT_END_TAG_REQUIRED,\n    $.CAPTION,\n    $.COLGROUP,\n    $.TBODY,\n    $.TD,\n    $.TFOOT,\n    $.TH,\n    $.THEAD,\n    $.TR,\n]);\nconst SCOPING_ELEMENT_NS = new Map([\n    [$.APPLET, NS.HTML],\n    [$.CAPTION, NS.HTML],\n    [$.HTML, NS.HTML],\n    [$.MARQUEE, NS.HTML],\n    [$.OBJECT, NS.HTML],\n    [$.TABLE, NS.HTML],\n    [$.TD, NS.HTML],\n    [$.TEMPLATE, NS.HTML],\n    [$.TH, NS.HTML],\n    [$.ANNOTATION_XML, NS.MATHML],\n    [$.MI, NS.MATHML],\n    [$.MN, NS.MATHML],\n    [$.MO, NS.MATHML],\n    [$.MS, NS.MATHML],\n    [$.MTEXT, NS.MATHML],\n    [$.DESC, NS.SVG],\n    [$.FOREIGN_OBJECT, NS.SVG],\n    [$.TITLE, NS.SVG],\n]);\nconst NAMED_HEADERS = [$.H1, $.H2, $.H3, $.H4, $.H5, $.H6];\nconst TABLE_ROW_CONTEXT = [$.TR, $.TEMPLATE, $.HTML];\nconst TABLE_BODY_CONTEXT = [$.TBODY, $.TFOOT, $.THEAD, $.TEMPLATE, $.HTML];\nconst TABLE_CONTEXT = [$.TABLE, $.TEMPLATE, $.HTML];\nconst TABLE_CELLS = [$.TD, $.TH];\n//Stack of open elements\nexport class OpenElementStack {\n    get currentTmplContentOrNode() {\n        return this._isInTemplate() ? this.treeAdapter.getTemplateContent(this.current) : this.current;\n    }\n    constructor(document, treeAdapter, handler) {\n        this.treeAdapter = treeAdapter;\n        this.handler = handler;\n        this.items = [];\n        this.tagIDs = [];\n        this.stackTop = -1;\n        this.tmplCount = 0;\n        this.currentTagId = $.UNKNOWN;\n        this.current = document;\n    }\n    //Index of element\n    _indexOf(element) {\n        return this.items.lastIndexOf(element, this.stackTop);\n    }\n    //Update current element\n    _isInTemplate() {\n        return this.currentTagId === $.TEMPLATE && this.treeAdapter.getNamespaceURI(this.current) === NS.HTML;\n    }\n    _updateCurrentElement() {\n        this.current = this.items[this.stackTop];\n        this.currentTagId = this.tagIDs[this.stackTop];\n    }\n    //Mutations\n    push(element, tagID) {\n        this.stackTop++;\n        this.items[this.stackTop] = element;\n        this.current = element;\n        this.tagIDs[this.stackTop] = tagID;\n        this.currentTagId = tagID;\n        if (this._isInTemplate()) {\n            this.tmplCount++;\n        }\n        this.handler.onItemPush(element, tagID, true);\n    }\n    pop() {\n        const popped = this.current;\n        if (this.tmplCount > 0 && this._isInTemplate()) {\n            this.tmplCount--;\n        }\n        this.stackTop--;\n        this._updateCurrentElement();\n        this.handler.onItemPop(popped, true);\n    }\n    replace(oldElement, newElement) {\n        const idx = this._indexOf(oldElement);\n        this.items[idx] = newElement;\n        if (idx === this.stackTop) {\n            this.current = newElement;\n        }\n    }\n    insertAfter(referenceElement, newElement, newElementID) {\n        const insertionIdx = this._indexOf(referenceElement) + 1;\n        this.items.splice(insertionIdx, 0, newElement);\n        this.tagIDs.splice(insertionIdx, 0, newElementID);\n        this.stackTop++;\n        if (insertionIdx === this.stackTop) {\n            this._updateCurrentElement();\n        }\n        this.handler.onItemPush(this.current, this.currentTagId, insertionIdx === this.stackTop);\n    }\n    popUntilTagNamePopped(tagName) {\n        let targetIdx = this.stackTop + 1;\n        do {\n            targetIdx = this.tagIDs.lastIndexOf(tagName, targetIdx - 1);\n        } while (targetIdx > 0 && this.treeAdapter.getNamespaceURI(this.items[targetIdx]) !== NS.HTML);\n        this.shortenToLength(targetIdx < 0 ? 0 : targetIdx);\n    }\n    shortenToLength(idx) {\n        while (this.stackTop >= idx) {\n            const popped = this.current;\n            if (this.tmplCount > 0 && this._isInTemplate()) {\n                this.tmplCount -= 1;\n            }\n            this.stackTop--;\n            this._updateCurrentElement();\n            this.handler.onItemPop(popped, this.stackTop < idx);\n        }\n    }\n    popUntilElementPopped(element) {\n        const idx = this._indexOf(element);\n        this.shortenToLength(idx < 0 ? 0 : idx);\n    }\n    popUntilPopped(tagNames, targetNS) {\n        const idx = this._indexOfTagNames(tagNames, targetNS);\n        this.shortenToLength(idx < 0 ? 0 : idx);\n    }\n    popUntilNumberedHeaderPopped() {\n        this.popUntilPopped(NAMED_HEADERS, NS.HTML);\n    }\n    popUntilTableCellPopped() {\n        this.popUntilPopped(TABLE_CELLS, NS.HTML);\n    }\n    popAllUpToHtmlElement() {\n        //NOTE: here we assume that the root <html> element is always first in the open element stack, so\n        //we perform this fast stack clean up.\n        this.tmplCount = 0;\n        this.shortenToLength(1);\n    }\n    _indexOfTagNames(tagNames, namespace) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            if (tagNames.includes(this.tagIDs[i]) && this.treeAdapter.getNamespaceURI(this.items[i]) === namespace) {\n                return i;\n            }\n        }\n        return -1;\n    }\n    clearBackTo(tagNames, targetNS) {\n        const idx = this._indexOfTagNames(tagNames, targetNS);\n        this.shortenToLength(idx + 1);\n    }\n    clearBackToTableContext() {\n        this.clearBackTo(TABLE_CONTEXT, NS.HTML);\n    }\n    clearBackToTableBodyContext() {\n        this.clearBackTo(TABLE_BODY_CONTEXT, NS.HTML);\n    }\n    clearBackToTableRowContext() {\n        this.clearBackTo(TABLE_ROW_CONTEXT, NS.HTML);\n    }\n    remove(element) {\n        const idx = this._indexOf(element);\n        if (idx >= 0) {\n            if (idx === this.stackTop) {\n                this.pop();\n            }\n            else {\n                this.items.splice(idx, 1);\n                this.tagIDs.splice(idx, 1);\n                this.stackTop--;\n                this._updateCurrentElement();\n                this.handler.onItemPop(element, false);\n            }\n        }\n    }\n    //Search\n    tryPeekProperlyNestedBodyElement() {\n        //Properly nested <body> element (should be second element in stack).\n        return this.stackTop >= 1 && this.tagIDs[1] === $.BODY ? this.items[1] : null;\n    }\n    contains(element) {\n        return this._indexOf(element) > -1;\n    }\n    getCommonAncestor(element) {\n        const elementIdx = this._indexOf(element) - 1;\n        return elementIdx >= 0 ? this.items[elementIdx] : null;\n    }\n    isRootHtmlElementCurrent() {\n        return this.stackTop === 0 && this.tagIDs[0] === $.HTML;\n    }\n    //Element in scope\n    hasInScope(tagName) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.tagIDs[i];\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n            if (tn === tagName && ns === NS.HTML) {\n                return true;\n            }\n            if (SCOPING_ELEMENT_NS.get(tn) === ns) {\n                return false;\n            }\n        }\n        return true;\n    }\n    hasNumberedHeaderInScope() {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.tagIDs[i];\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n            if (isNumberedHeader(tn) && ns === NS.HTML) {\n                return true;\n            }\n            if (SCOPING_ELEMENT_NS.get(tn) === ns) {\n                return false;\n            }\n        }\n        return true;\n    }\n    hasInListItemScope(tagName) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.tagIDs[i];\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n            if (tn === tagName && ns === NS.HTML) {\n                return true;\n            }\n            if (((tn === $.UL || tn === $.OL) && ns === NS.HTML) || SCOPING_ELEMENT_NS.get(tn) === ns) {\n                return false;\n            }\n        }\n        return true;\n    }\n    hasInButtonScope(tagName) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.tagIDs[i];\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n            if (tn === tagName && ns === NS.HTML) {\n                return true;\n            }\n            if ((tn === $.BUTTON && ns === NS.HTML) || SCOPING_ELEMENT_NS.get(tn) === ns) {\n                return false;\n            }\n        }\n        return true;\n    }\n    hasInTableScope(tagName) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.tagIDs[i];\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n            if (ns !== NS.HTML) {\n                continue;\n            }\n            if (tn === tagName) {\n                return true;\n            }\n            if (tn === $.TABLE || tn === $.TEMPLATE || tn === $.HTML) {\n                return false;\n            }\n        }\n        return true;\n    }\n    hasTableBodyContextInTableScope() {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.tagIDs[i];\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n            if (ns !== NS.HTML) {\n                continue;\n            }\n            if (tn === $.TBODY || tn === $.THEAD || tn === $.TFOOT) {\n                return true;\n            }\n            if (tn === $.TABLE || tn === $.HTML) {\n                return false;\n            }\n        }\n        return true;\n    }\n    hasInSelectScope(tagName) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.tagIDs[i];\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n            if (ns !== NS.HTML) {\n                continue;\n            }\n            if (tn === tagName) {\n                return true;\n            }\n            if (tn !== $.OPTION && tn !== $.OPTGROUP) {\n                return false;\n            }\n        }\n        return true;\n    }\n    //Implied end tags\n    generateImpliedEndTags() {\n        while (IMPLICIT_END_TAG_REQUIRED.has(this.currentTagId)) {\n            this.pop();\n        }\n    }\n    generateImpliedEndTagsThoroughly() {\n        while (IMPLICIT_END_TAG_REQUIRED_THOROUGHLY.has(this.currentTagId)) {\n            this.pop();\n        }\n    }\n    generateImpliedEndTagsWithExclusion(exclusionId) {\n        while (this.currentTagId !== exclusionId && IMPLICIT_END_TAG_REQUIRED_THOROUGHLY.has(this.currentTagId)) {\n            this.pop();\n        }\n    }\n}\n//# sourceMappingURL=open-element-stack.js.map","import { DOCUMENT_MODE } from '../common/html.js';\nfunction createTextNode(value) {\n    return {\n        nodeName: '#text',\n        value,\n        parentNode: null,\n    };\n}\nexport const defaultTreeAdapter = {\n    //Node construction\n    createDocument() {\n        return {\n            nodeName: '#document',\n            mode: DOCUMENT_MODE.NO_QUIRKS,\n            childNodes: [],\n        };\n    },\n    createDocumentFragment() {\n        return {\n            nodeName: '#document-fragment',\n            childNodes: [],\n        };\n    },\n    createElement(tagName, namespaceURI, attrs) {\n        return {\n            nodeName: tagName,\n            tagName,\n            attrs,\n            namespaceURI,\n            childNodes: [],\n            parentNode: null,\n        };\n    },\n    createCommentNode(data) {\n        return {\n            nodeName: '#comment',\n            data,\n            parentNode: null,\n        };\n    },\n    //Tree mutation\n    appendChild(parentNode, newNode) {\n        parentNode.childNodes.push(newNode);\n        newNode.parentNode = parentNode;\n    },\n    insertBefore(parentNode, newNode, referenceNode) {\n        const insertionIdx = parentNode.childNodes.indexOf(referenceNode);\n        parentNode.childNodes.splice(insertionIdx, 0, newNode);\n        newNode.parentNode = parentNode;\n    },\n    setTemplateContent(templateElement, contentElement) {\n        templateElement.content = contentElement;\n    },\n    getTemplateContent(templateElement) {\n        return templateElement.content;\n    },\n    setDocumentType(document, name, publicId, systemId) {\n        const doctypeNode = document.childNodes.find((node) => node.nodeName === '#documentType');\n        if (doctypeNode) {\n            doctypeNode.name = name;\n            doctypeNode.publicId = publicId;\n            doctypeNode.systemId = systemId;\n        }\n        else {\n            const node = {\n                nodeName: '#documentType',\n                name,\n                publicId,\n                systemId,\n                parentNode: null,\n            };\n            defaultTreeAdapter.appendChild(document, node);\n        }\n    },\n    setDocumentMode(document, mode) {\n        document.mode = mode;\n    },\n    getDocumentMode(document) {\n        return document.mode;\n    },\n    detachNode(node) {\n        if (node.parentNode) {\n            const idx = node.parentNode.childNodes.indexOf(node);\n            node.parentNode.childNodes.splice(idx, 1);\n            node.parentNode = null;\n        }\n    },\n    insertText(parentNode, text) {\n        if (parentNode.childNodes.length > 0) {\n            const prevNode = parentNode.childNodes[parentNode.childNodes.length - 1];\n            if (defaultTreeAdapter.isTextNode(prevNode)) {\n                prevNode.value += text;\n                return;\n            }\n        }\n        defaultTreeAdapter.appendChild(parentNode, createTextNode(text));\n    },\n    insertTextBefore(parentNode, text, referenceNode) {\n        const prevNode = parentNode.childNodes[parentNode.childNodes.indexOf(referenceNode) - 1];\n        if (prevNode && defaultTreeAdapter.isTextNode(prevNode)) {\n            prevNode.value += text;\n        }\n        else {\n            defaultTreeAdapter.insertBefore(parentNode, createTextNode(text), referenceNode);\n        }\n    },\n    adoptAttributes(recipient, attrs) {\n        const recipientAttrsMap = new Set(recipient.attrs.map((attr) => attr.name));\n        for (let j = 0; j < attrs.length; j++) {\n            if (!recipientAttrsMap.has(attrs[j].name)) {\n                recipient.attrs.push(attrs[j]);\n            }\n        }\n    },\n    //Tree traversing\n    getFirstChild(node) {\n        return node.childNodes[0];\n    },\n    getChildNodes(node) {\n        return node.childNodes;\n    },\n    getParentNode(node) {\n        return node.parentNode;\n    },\n    getAttrList(element) {\n        return element.attrs;\n    },\n    //Node data\n    getTagName(element) {\n        return element.tagName;\n    },\n    getNamespaceURI(element) {\n        return element.namespaceURI;\n    },\n    getTextNodeContent(textNode) {\n        return textNode.value;\n    },\n    getCommentNodeContent(commentNode) {\n        return commentNode.data;\n    },\n    getDocumentTypeNodeName(doctypeNode) {\n        return doctypeNode.name;\n    },\n    getDocumentTypeNodePublicId(doctypeNode) {\n        return doctypeNode.publicId;\n    },\n    getDocumentTypeNodeSystemId(doctypeNode) {\n        return doctypeNode.systemId;\n    },\n    //Node types\n    isTextNode(node) {\n        return node.nodeName === '#text';\n    },\n    isCommentNode(node) {\n        return node.nodeName === '#comment';\n    },\n    isDocumentTypeNode(node) {\n        return node.nodeName === '#documentType';\n    },\n    isElementNode(node) {\n        return Object.prototype.hasOwnProperty.call(node, 'tagName');\n    },\n    // Source code location\n    setNodeSourceCodeLocation(node, location) {\n        node.sourceCodeLocation = location;\n    },\n    getNodeSourceCodeLocation(node) {\n        return node.sourceCodeLocation;\n    },\n    updateNodeSourceCodeLocation(node, endLocation) {\n        node.sourceCodeLocation = { ...node.sourceCodeLocation, ...endLocation };\n    },\n};\n//# sourceMappingURL=default.js.map","import { DOCUMENT_MODE } from './html.js';\n//Const\nconst VALID_DOCTYPE_NAME = 'html';\nconst VALID_SYSTEM_ID = 'about:legacy-compat';\nconst QUIRKS_MODE_SYSTEM_ID = 'http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd';\nconst QUIRKS_MODE_PUBLIC_ID_PREFIXES = [\n    '+//silmaril//dtd html pro v0r11 19970101//',\n    '-//as//dtd html 3.0 aswedit + extensions//',\n    '-//advasoft ltd//dtd html 3.0 aswedit + extensions//',\n    '-//ietf//dtd html 2.0 level 1//',\n    '-//ietf//dtd html 2.0 level 2//',\n    '-//ietf//dtd html 2.0 strict level 1//',\n    '-//ietf//dtd html 2.0 strict level 2//',\n    '-//ietf//dtd html 2.0 strict//',\n    '-//ietf//dtd html 2.0//',\n    '-//ietf//dtd html 2.1e//',\n    '-//ietf//dtd html 3.0//',\n    '-//ietf//dtd html 3.2 final//',\n    '-//ietf//dtd html 3.2//',\n    '-//ietf//dtd html 3//',\n    '-//ietf//dtd html level 0//',\n    '-//ietf//dtd html level 1//',\n    '-//ietf//dtd html level 2//',\n    '-//ietf//dtd html level 3//',\n    '-//ietf//dtd html strict level 0//',\n    '-//ietf//dtd html strict level 1//',\n    '-//ietf//dtd html strict level 2//',\n    '-//ietf//dtd html strict level 3//',\n    '-//ietf//dtd html strict//',\n    '-//ietf//dtd html//',\n    '-//metrius//dtd metrius presentational//',\n    '-//microsoft//dtd internet explorer 2.0 html strict//',\n    '-//microsoft//dtd internet explorer 2.0 html//',\n    '-//microsoft//dtd internet explorer 2.0 tables//',\n    '-//microsoft//dtd internet explorer 3.0 html strict//',\n    '-//microsoft//dtd internet explorer 3.0 html//',\n    '-//microsoft//dtd internet explorer 3.0 tables//',\n    '-//netscape comm. corp.//dtd html//',\n    '-//netscape comm. corp.//dtd strict html//',\n    \"-//o'reilly and associates//dtd html 2.0//\",\n    \"-//o'reilly and associates//dtd html extended 1.0//\",\n    \"-//o'reilly and associates//dtd html extended relaxed 1.0//\",\n    '-//sq//dtd html 2.0 hotmetal + extensions//',\n    '-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//',\n    '-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//',\n    '-//spyglass//dtd html 2.0 extended//',\n    '-//sun microsystems corp.//dtd hotjava html//',\n    '-//sun microsystems corp.//dtd hotjava strict html//',\n    '-//w3c//dtd html 3 1995-03-24//',\n    '-//w3c//dtd html 3.2 draft//',\n    '-//w3c//dtd html 3.2 final//',\n    '-//w3c//dtd html 3.2//',\n    '-//w3c//dtd html 3.2s draft//',\n    '-//w3c//dtd html 4.0 frameset//',\n    '-//w3c//dtd html 4.0 transitional//',\n    '-//w3c//dtd html experimental 19960712//',\n    '-//w3c//dtd html experimental 970421//',\n    '-//w3c//dtd w3 html//',\n    '-//w3o//dtd w3 html 3.0//',\n    '-//webtechs//dtd mozilla html 2.0//',\n    '-//webtechs//dtd mozilla html//',\n];\nconst QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES = [\n    ...QUIRKS_MODE_PUBLIC_ID_PREFIXES,\n    '-//w3c//dtd html 4.01 frameset//',\n    '-//w3c//dtd html 4.01 transitional//',\n];\nconst QUIRKS_MODE_PUBLIC_IDS = new Set([\n    '-//w3o//dtd w3 html strict 3.0//en//',\n    '-/w3c/dtd html 4.0 transitional/en',\n    'html',\n]);\nconst LIMITED_QUIRKS_PUBLIC_ID_PREFIXES = ['-//w3c//dtd xhtml 1.0 frameset//', '-//w3c//dtd xhtml 1.0 transitional//'];\nconst LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES = [\n    ...LIMITED_QUIRKS_PUBLIC_ID_PREFIXES,\n    '-//w3c//dtd html 4.01 frameset//',\n    '-//w3c//dtd html 4.01 transitional//',\n];\n//Utils\nfunction hasPrefix(publicId, prefixes) {\n    return prefixes.some((prefix) => publicId.startsWith(prefix));\n}\n//API\nexport function isConforming(token) {\n    return (token.name === VALID_DOCTYPE_NAME &&\n        token.publicId === null &&\n        (token.systemId === null || token.systemId === VALID_SYSTEM_ID));\n}\nexport function getDocumentMode(token) {\n    if (token.name !== VALID_DOCTYPE_NAME) {\n        return DOCUMENT_MODE.QUIRKS;\n    }\n    const { systemId } = token;\n    if (systemId && systemId.toLowerCase() === QUIRKS_MODE_SYSTEM_ID) {\n        return DOCUMENT_MODE.QUIRKS;\n    }\n    let { publicId } = token;\n    if (publicId !== null) {\n        publicId = publicId.toLowerCase();\n        if (QUIRKS_MODE_PUBLIC_IDS.has(publicId)) {\n            return DOCUMENT_MODE.QUIRKS;\n        }\n        let prefixes = systemId === null ? QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES : QUIRKS_MODE_PUBLIC_ID_PREFIXES;\n        if (hasPrefix(publicId, prefixes)) {\n            return DOCUMENT_MODE.QUIRKS;\n        }\n        prefixes =\n            systemId === null ? LIMITED_QUIRKS_PUBLIC_ID_PREFIXES : LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES;\n        if (hasPrefix(publicId, prefixes)) {\n            return DOCUMENT_MODE.LIMITED_QUIRKS;\n        }\n    }\n    return DOCUMENT_MODE.NO_QUIRKS;\n}\n//# sourceMappingURL=doctype.js.map","import { TAG_ID as $, NS, ATTRS, getTagID } from './html.js';\n//MIME types\nconst MIME_TYPES = {\n    TEXT_HTML: 'text/html',\n    APPLICATION_XML: 'application/xhtml+xml',\n};\n//Attributes\nconst DEFINITION_URL_ATTR = 'definitionurl';\nconst ADJUSTED_DEFINITION_URL_ATTR = 'definitionURL';\nconst SVG_ATTRS_ADJUSTMENT_MAP = new Map([\n    'attributeName',\n    'attributeType',\n    'baseFrequency',\n    'baseProfile',\n    'calcMode',\n    'clipPathUnits',\n    'diffuseConstant',\n    'edgeMode',\n    'filterUnits',\n    'glyphRef',\n    'gradientTransform',\n    'gradientUnits',\n    'kernelMatrix',\n    'kernelUnitLength',\n    'keyPoints',\n    'keySplines',\n    'keyTimes',\n    'lengthAdjust',\n    'limitingConeAngle',\n    'markerHeight',\n    'markerUnits',\n    'markerWidth',\n    'maskContentUnits',\n    'maskUnits',\n    'numOctaves',\n    'pathLength',\n    'patternContentUnits',\n    'patternTransform',\n    'patternUnits',\n    'pointsAtX',\n    'pointsAtY',\n    'pointsAtZ',\n    'preserveAlpha',\n    'preserveAspectRatio',\n    'primitiveUnits',\n    'refX',\n    'refY',\n    'repeatCount',\n    'repeatDur',\n    'requiredExtensions',\n    'requiredFeatures',\n    'specularConstant',\n    'specularExponent',\n    'spreadMethod',\n    'startOffset',\n    'stdDeviation',\n    'stitchTiles',\n    'surfaceScale',\n    'systemLanguage',\n    'tableValues',\n    'targetX',\n    'targetY',\n    'textLength',\n    'viewBox',\n    'viewTarget',\n    'xChannelSelector',\n    'yChannelSelector',\n    'zoomAndPan',\n].map((attr) => [attr.toLowerCase(), attr]));\nconst XML_ATTRS_ADJUSTMENT_MAP = new Map([\n    ['xlink:actuate', { prefix: 'xlink', name: 'actuate', namespace: NS.XLINK }],\n    ['xlink:arcrole', { prefix: 'xlink', name: 'arcrole', namespace: NS.XLINK }],\n    ['xlink:href', { prefix: 'xlink', name: 'href', namespace: NS.XLINK }],\n    ['xlink:role', { prefix: 'xlink', name: 'role', namespace: NS.XLINK }],\n    ['xlink:show', { prefix: 'xlink', name: 'show', namespace: NS.XLINK }],\n    ['xlink:title', { prefix: 'xlink', name: 'title', namespace: NS.XLINK }],\n    ['xlink:type', { prefix: 'xlink', name: 'type', namespace: NS.XLINK }],\n    ['xml:base', { prefix: 'xml', name: 'base', namespace: NS.XML }],\n    ['xml:lang', { prefix: 'xml', name: 'lang', namespace: NS.XML }],\n    ['xml:space', { prefix: 'xml', name: 'space', namespace: NS.XML }],\n    ['xmlns', { prefix: '', name: 'xmlns', namespace: NS.XMLNS }],\n    ['xmlns:xlink', { prefix: 'xmlns', name: 'xlink', namespace: NS.XMLNS }],\n]);\n//SVG tag names adjustment map\nexport const SVG_TAG_NAMES_ADJUSTMENT_MAP = new Map([\n    'altGlyph',\n    'altGlyphDef',\n    'altGlyphItem',\n    'animateColor',\n    'animateMotion',\n    'animateTransform',\n    'clipPath',\n    'feBlend',\n    'feColorMatrix',\n    'feComponentTransfer',\n    'feComposite',\n    'feConvolveMatrix',\n    'feDiffuseLighting',\n    'feDisplacementMap',\n    'feDistantLight',\n    'feFlood',\n    'feFuncA',\n    'feFuncB',\n    'feFuncG',\n    'feFuncR',\n    'feGaussianBlur',\n    'feImage',\n    'feMerge',\n    'feMergeNode',\n    'feMorphology',\n    'feOffset',\n    'fePointLight',\n    'feSpecularLighting',\n    'feSpotLight',\n    'feTile',\n    'feTurbulence',\n    'foreignObject',\n    'glyphRef',\n    'linearGradient',\n    'radialGradient',\n    'textPath',\n].map((tn) => [tn.toLowerCase(), tn]));\n//Tags that causes exit from foreign content\nconst EXITS_FOREIGN_CONTENT = new Set([\n    $.B,\n    $.BIG,\n    $.BLOCKQUOTE,\n    $.BODY,\n    $.BR,\n    $.CENTER,\n    $.CODE,\n    $.DD,\n    $.DIV,\n    $.DL,\n    $.DT,\n    $.EM,\n    $.EMBED,\n    $.H1,\n    $.H2,\n    $.H3,\n    $.H4,\n    $.H5,\n    $.H6,\n    $.HEAD,\n    $.HR,\n    $.I,\n    $.IMG,\n    $.LI,\n    $.LISTING,\n    $.MENU,\n    $.META,\n    $.NOBR,\n    $.OL,\n    $.P,\n    $.PRE,\n    $.RUBY,\n    $.S,\n    $.SMALL,\n    $.SPAN,\n    $.STRONG,\n    $.STRIKE,\n    $.SUB,\n    $.SUP,\n    $.TABLE,\n    $.TT,\n    $.U,\n    $.UL,\n    $.VAR,\n]);\n//Check exit from foreign content\nexport function causesExit(startTagToken) {\n    const tn = startTagToken.tagID;\n    const isFontWithAttrs = tn === $.FONT &&\n        startTagToken.attrs.some(({ name }) => name === ATTRS.COLOR || name === ATTRS.SIZE || name === ATTRS.FACE);\n    return isFontWithAttrs || EXITS_FOREIGN_CONTENT.has(tn);\n}\n//Token adjustments\nexport function adjustTokenMathMLAttrs(token) {\n    for (let i = 0; i < token.attrs.length; i++) {\n        if (token.attrs[i].name === DEFINITION_URL_ATTR) {\n            token.attrs[i].name = ADJUSTED_DEFINITION_URL_ATTR;\n            break;\n        }\n    }\n}\nexport function adjustTokenSVGAttrs(token) {\n    for (let i = 0; i < token.attrs.length; i++) {\n        const adjustedAttrName = SVG_ATTRS_ADJUSTMENT_MAP.get(token.attrs[i].name);\n        if (adjustedAttrName != null) {\n            token.attrs[i].name = adjustedAttrName;\n        }\n    }\n}\nexport function adjustTokenXMLAttrs(token) {\n    for (let i = 0; i < token.attrs.length; i++) {\n        const adjustedAttrEntry = XML_ATTRS_ADJUSTMENT_MAP.get(token.attrs[i].name);\n        if (adjustedAttrEntry) {\n            token.attrs[i].prefix = adjustedAttrEntry.prefix;\n            token.attrs[i].name = adjustedAttrEntry.name;\n            token.attrs[i].namespace = adjustedAttrEntry.namespace;\n        }\n    }\n}\nexport function adjustTokenSVGTagName(token) {\n    const adjustedTagName = SVG_TAG_NAMES_ADJUSTMENT_MAP.get(token.tagName);\n    if (adjustedTagName != null) {\n        token.tagName = adjustedTagName;\n        token.tagID = getTagID(token.tagName);\n    }\n}\n//Integration points\nfunction isMathMLTextIntegrationPoint(tn, ns) {\n    return ns === NS.MATHML && (tn === $.MI || tn === $.MO || tn === $.MN || tn === $.MS || tn === $.MTEXT);\n}\nfunction isHtmlIntegrationPoint(tn, ns, attrs) {\n    if (ns === NS.MATHML && tn === $.ANNOTATION_XML) {\n        for (let i = 0; i < attrs.length; i++) {\n            if (attrs[i].name === ATTRS.ENCODING) {\n                const value = attrs[i].value.toLowerCase();\n                return value === MIME_TYPES.TEXT_HTML || value === MIME_TYPES.APPLICATION_XML;\n            }\n        }\n    }\n    return ns === NS.SVG && (tn === $.FOREIGN_OBJECT || tn === $.DESC || tn === $.TITLE);\n}\nexport function isIntegrationPoint(tn, ns, attrs, foreignNS) {\n    return (((!foreignNS || foreignNS === NS.HTML) && isHtmlIntegrationPoint(tn, ns, attrs)) ||\n        ((!foreignNS || foreignNS === NS.MATHML) && isMathMLTextIntegrationPoint(tn, ns)));\n}\n//# sourceMappingURL=foreign-content.js.map","import { TAG_NAMES as $, NS, hasUnescapedText } from '../common/html.js';\nimport { escapeText, escapeAttribute } from 'entities/lib/escape.js';\nimport { defaultTreeAdapter } from '../tree-adapters/default.js';\n// Sets\nconst VOID_ELEMENTS = new Set([\n    $.AREA,\n    $.BASE,\n    $.BASEFONT,\n    $.BGSOUND,\n    $.BR,\n    $.COL,\n    $.EMBED,\n    $.FRAME,\n    $.HR,\n    $.IMG,\n    $.INPUT,\n    $.KEYGEN,\n    $.LINK,\n    $.META,\n    $.PARAM,\n    $.SOURCE,\n    $.TRACK,\n    $.WBR,\n]);\nfunction isVoidElement(node, options) {\n    return (options.treeAdapter.isElementNode(node) &&\n        options.treeAdapter.getNamespaceURI(node) === NS.HTML &&\n        VOID_ELEMENTS.has(options.treeAdapter.getTagName(node)));\n}\nconst defaultOpts = { treeAdapter: defaultTreeAdapter, scriptingEnabled: true };\n/**\n * Serializes an AST node to an HTML string.\n *\n * @example\n *\n * ```js\n * const parse5 = require('parse5');\n *\n * const document = parse5.parse('<!DOCTYPE html><html><head></head><body>Hi there!</body></html>');\n *\n * // Serializes a document.\n * const html = parse5.serialize(document);\n *\n * // Serializes the <html> element content.\n * const str = parse5.serialize(document.childNodes[1]);\n *\n * console.log(str); //> '<head></head><body>Hi there!</body>'\n * ```\n *\n * @param node Node to serialize.\n * @param options Serialization options.\n */\nexport function serialize(node, options) {\n    const opts = { ...defaultOpts, ...options };\n    if (isVoidElement(node, opts)) {\n        return '';\n    }\n    return serializeChildNodes(node, opts);\n}\n/**\n * Serializes an AST element node to an HTML string, including the element node.\n *\n * @example\n *\n * ```js\n * const parse5 = require('parse5');\n *\n * const document = parse5.parseFragment('<div>Hello, <b>world</b>!</div>');\n *\n * // Serializes the <div> element.\n * const html = parse5.serializeOuter(document.childNodes[0]);\n *\n * console.log(str); //> '<div>Hello, <b>world</b>!</div>'\n * ```\n *\n * @param node Node to serialize.\n * @param options Serialization options.\n */\nexport function serializeOuter(node, options) {\n    const opts = { ...defaultOpts, ...options };\n    return serializeNode(node, opts);\n}\nfunction serializeChildNodes(parentNode, options) {\n    let html = '';\n    // Get container of the child nodes\n    const container = options.treeAdapter.isElementNode(parentNode) &&\n        options.treeAdapter.getTagName(parentNode) === $.TEMPLATE &&\n        options.treeAdapter.getNamespaceURI(parentNode) === NS.HTML\n        ? options.treeAdapter.getTemplateContent(parentNode)\n        : parentNode;\n    const childNodes = options.treeAdapter.getChildNodes(container);\n    if (childNodes) {\n        for (const currentNode of childNodes) {\n            html += serializeNode(currentNode, options);\n        }\n    }\n    return html;\n}\nfunction serializeNode(node, options) {\n    if (options.treeAdapter.isElementNode(node)) {\n        return serializeElement(node, options);\n    }\n    if (options.treeAdapter.isTextNode(node)) {\n        return serializeTextNode(node, options);\n    }\n    if (options.treeAdapter.isCommentNode(node)) {\n        return serializeCommentNode(node, options);\n    }\n    if (options.treeAdapter.isDocumentTypeNode(node)) {\n        return serializeDocumentTypeNode(node, options);\n    }\n    // Return an empty string for unknown nodes\n    return '';\n}\nfunction serializeElement(node, options) {\n    const tn = options.treeAdapter.getTagName(node);\n    return `<${tn}${serializeAttributes(node, options)}>${isVoidElement(node, options) ? '' : `${serializeChildNodes(node, options)}</${tn}>`}`;\n}\nfunction serializeAttributes(node, { treeAdapter }) {\n    let html = '';\n    for (const attr of treeAdapter.getAttrList(node)) {\n        html += ' ';\n        if (!attr.namespace) {\n            html += attr.name;\n        }\n        else\n            switch (attr.namespace) {\n                case NS.XML: {\n                    html += `xml:${attr.name}`;\n                    break;\n                }\n                case NS.XMLNS: {\n                    if (attr.name !== 'xmlns') {\n                        html += 'xmlns:';\n                    }\n                    html += attr.name;\n                    break;\n                }\n                case NS.XLINK: {\n                    html += `xlink:${attr.name}`;\n                    break;\n                }\n                default: {\n                    html += `${attr.prefix}:${attr.name}`;\n                }\n            }\n        html += `=\"${escapeAttribute(attr.value)}\"`;\n    }\n    return html;\n}\nfunction serializeTextNode(node, options) {\n    const { treeAdapter } = options;\n    const content = treeAdapter.getTextNodeContent(node);\n    const parent = treeAdapter.getParentNode(node);\n    const parentTn = parent && treeAdapter.isElementNode(parent) && treeAdapter.getTagName(parent);\n    return parentTn &&\n        treeAdapter.getNamespaceURI(parent) === NS.HTML &&\n        hasUnescapedText(parentTn, options.scriptingEnabled)\n        ? content\n        : escapeText(content);\n}\nfunction serializeCommentNode(node, { treeAdapter }) {\n    return `<!--${treeAdapter.getCommentNodeContent(node)}-->`;\n}\nfunction serializeDocumentTypeNode(node, { treeAdapter }) {\n    return `<!DOCTYPE ${treeAdapter.getDocumentTypeNodeName(node)}>`;\n}\n//# sourceMappingURL=index.js.map","import { html } from 'parse5';\nimport { Element, Document, ProcessingInstruction, Comment, Text, isDirective, isText, isComment, isTag, } from 'domhandler';\nfunction createTextNode(value) {\n    return new Text(value);\n}\nfunction enquoteDoctypeId(id) {\n    const quote = id.includes('\"') ? \"'\" : '\"';\n    return quote + id + quote;\n}\n/** @internal */\nexport function serializeDoctypeContent(name, publicId, systemId) {\n    let str = '!DOCTYPE ';\n    if (name) {\n        str += name;\n    }\n    if (publicId) {\n        str += ` PUBLIC ${enquoteDoctypeId(publicId)}`;\n    }\n    else if (systemId) {\n        str += ' SYSTEM';\n    }\n    if (systemId) {\n        str += ` ${enquoteDoctypeId(systemId)}`;\n    }\n    return str;\n}\nexport const adapter = {\n    // Re-exports from domhandler\n    isCommentNode: isComment,\n    isElementNode: isTag,\n    isTextNode: isText,\n    //Node construction\n    createDocument() {\n        const node = new Document([]);\n        node['x-mode'] = html.DOCUMENT_MODE.NO_QUIRKS;\n        return node;\n    },\n    createDocumentFragment() {\n        return new Document([]);\n    },\n    createElement(tagName, namespaceURI, attrs) {\n        const attribs = Object.create(null);\n        const attribsNamespace = Object.create(null);\n        const attribsPrefix = Object.create(null);\n        for (let i = 0; i < attrs.length; i++) {\n            const attrName = attrs[i].name;\n            attribs[attrName] = attrs[i].value;\n            attribsNamespace[attrName] = attrs[i].namespace;\n            attribsPrefix[attrName] = attrs[i].prefix;\n        }\n        const node = new Element(tagName, attribs, []);\n        node.namespace = namespaceURI;\n        node['x-attribsNamespace'] = attribsNamespace;\n        node['x-attribsPrefix'] = attribsPrefix;\n        return node;\n    },\n    createCommentNode(data) {\n        return new Comment(data);\n    },\n    //Tree mutation\n    appendChild(parentNode, newNode) {\n        const prev = parentNode.children[parentNode.children.length - 1];\n        if (prev) {\n            prev.next = newNode;\n            newNode.prev = prev;\n        }\n        parentNode.children.push(newNode);\n        newNode.parent = parentNode;\n    },\n    insertBefore(parentNode, newNode, referenceNode) {\n        const insertionIdx = parentNode.children.indexOf(referenceNode);\n        const { prev } = referenceNode;\n        if (prev) {\n            prev.next = newNode;\n            newNode.prev = prev;\n        }\n        referenceNode.prev = newNode;\n        newNode.next = referenceNode;\n        parentNode.children.splice(insertionIdx, 0, newNode);\n        newNode.parent = parentNode;\n    },\n    setTemplateContent(templateElement, contentElement) {\n        adapter.appendChild(templateElement, contentElement);\n    },\n    getTemplateContent(templateElement) {\n        return templateElement.children[0];\n    },\n    setDocumentType(document, name, publicId, systemId) {\n        const data = serializeDoctypeContent(name, publicId, systemId);\n        let doctypeNode = document.children.find((node) => isDirective(node) && node.name === '!doctype');\n        if (doctypeNode) {\n            doctypeNode.data = data !== null && data !== void 0 ? data : null;\n        }\n        else {\n            doctypeNode = new ProcessingInstruction('!doctype', data);\n            adapter.appendChild(document, doctypeNode);\n        }\n        doctypeNode['x-name'] = name !== null && name !== void 0 ? name : undefined;\n        doctypeNode['x-publicId'] = publicId !== null && publicId !== void 0 ? publicId : undefined;\n        doctypeNode['x-systemId'] = systemId !== null && systemId !== void 0 ? systemId : undefined;\n    },\n    setDocumentMode(document, mode) {\n        document['x-mode'] = mode;\n    },\n    getDocumentMode(document) {\n        return document['x-mode'];\n    },\n    detachNode(node) {\n        if (node.parent) {\n            const idx = node.parent.children.indexOf(node);\n            const { prev, next } = node;\n            node.prev = null;\n            node.next = null;\n            if (prev) {\n                prev.next = next;\n            }\n            if (next) {\n                next.prev = prev;\n            }\n            node.parent.children.splice(idx, 1);\n            node.parent = null;\n        }\n    },\n    insertText(parentNode, text) {\n        const lastChild = parentNode.children[parentNode.children.length - 1];\n        if (lastChild && isText(lastChild)) {\n            lastChild.data += text;\n        }\n        else {\n            adapter.appendChild(parentNode, createTextNode(text));\n        }\n    },\n    insertTextBefore(parentNode, text, referenceNode) {\n        const prevNode = parentNode.children[parentNode.children.indexOf(referenceNode) - 1];\n        if (prevNode && isText(prevNode)) {\n            prevNode.data += text;\n        }\n        else {\n            adapter.insertBefore(parentNode, createTextNode(text), referenceNode);\n        }\n    },\n    adoptAttributes(recipient, attrs) {\n        for (let i = 0; i < attrs.length; i++) {\n            const attrName = attrs[i].name;\n            if (typeof recipient.attribs[attrName] === 'undefined') {\n                recipient.attribs[attrName] = attrs[i].value;\n                recipient['x-attribsNamespace'][attrName] = attrs[i].namespace;\n                recipient['x-attribsPrefix'][attrName] = attrs[i].prefix;\n            }\n        }\n    },\n    //Tree traversing\n    getFirstChild(node) {\n        return node.children[0];\n    },\n    getChildNodes(node) {\n        return node.children;\n    },\n    getParentNode(node) {\n        return node.parent;\n    },\n    getAttrList(element) {\n        return element.attributes;\n    },\n    //Node data\n    getTagName(element) {\n        return element.name;\n    },\n    getNamespaceURI(element) {\n        return element.namespace;\n    },\n    getTextNodeContent(textNode) {\n        return textNode.data;\n    },\n    getCommentNodeContent(commentNode) {\n        return commentNode.data;\n    },\n    getDocumentTypeNodeName(doctypeNode) {\n        var _a;\n        return (_a = doctypeNode['x-name']) !== null && _a !== void 0 ? _a : '';\n    },\n    getDocumentTypeNodePublicId(doctypeNode) {\n        var _a;\n        return (_a = doctypeNode['x-publicId']) !== null && _a !== void 0 ? _a : '';\n    },\n    getDocumentTypeNodeSystemId(doctypeNode) {\n        var _a;\n        return (_a = doctypeNode['x-systemId']) !== null && _a !== void 0 ? _a : '';\n    },\n    //Node types\n    isDocumentTypeNode(node) {\n        return isDirective(node) && node.name === '!doctype';\n    },\n    // Source code location\n    setNodeSourceCodeLocation(node, location) {\n        if (location) {\n            node.startIndex = location.startOffset;\n            node.endIndex = location.endOffset;\n        }\n        node.sourceCodeLocation = location;\n    },\n    getNodeSourceCodeLocation(node) {\n        return node.sourceCodeLocation;\n    },\n    updateNodeSourceCodeLocation(node, endLocation) {\n        if (endLocation.endOffset != null)\n            node.endIndex = endLocation.endOffset;\n        node.sourceCodeLocation = {\n            ...node.sourceCodeLocation,\n            ...endLocation,\n        };\n    },\n};\n//# sourceMappingURL=index.js.map","import { isDocument, } from 'domhandler';\nimport { parse as parseDocument, parseFragment, serializeOuter } from 'parse5';\nimport { adapter as htmlparser2Adapter } from 'parse5-htmlparser2-tree-adapter';\n/**\n * Parse the content with `parse5` in the context of the given `ParentNode`.\n *\n * @param content - The content to parse.\n * @param options - A set of options to use to parse.\n * @param isDocument - Whether to parse the content as a full HTML document.\n * @param context - The context in which to parse the content.\n * @returns The parsed content.\n */\nexport function parseWithParse5(content, options, isDocument, context) {\n    var _a;\n    (_a = options.treeAdapter) !== null && _a !== void 0 ? _a : (options.treeAdapter = htmlparser2Adapter);\n    if (options.scriptingEnabled !== false) {\n        options.scriptingEnabled = true;\n    }\n    return isDocument\n        ? parseDocument(content, options)\n        : parseFragment(context, content, options);\n}\nconst renderOpts = { treeAdapter: htmlparser2Adapter };\n/**\n * Renders the given DOM tree with `parse5` and returns the result as a string.\n *\n * @param dom - The DOM tree to render.\n * @returns The rendered document.\n */\nexport function renderWithParse5(dom) {\n    /*\n     * `dom-serializer` passes over the special \"root\" node and renders the\n     * node's children in its place. To mimic this behavior with `parse5`, an\n     * equivalent operation must be applied to the input array.\n     */\n    const nodes = 'length' in dom ? dom : [dom];\n    for (let index = 0; index < nodes.length; index += 1) {\n        const node = nodes[index];\n        if (isDocument(node)) {\n            Array.prototype.splice.call(nodes, index, 1, ...node.children);\n        }\n    }\n    let result = '';\n    for (let index = 0; index < nodes.length; index += 1) {\n        const node = nodes[index];\n        result += serializeOuter(node, renderOpts);\n    }\n    return result;\n}\n//# sourceMappingURL=parse5-adapter.js.map","import Tokenizer, { QuoteType } from \"./Tokenizer.js\";\nimport { fromCodePoint } from \"entities/lib/decode.js\";\nconst formTags = new Set([\n    \"input\",\n    \"option\",\n    \"optgroup\",\n    \"select\",\n    \"button\",\n    \"datalist\",\n    \"textarea\",\n]);\nconst pTag = new Set([\"p\"]);\nconst tableSectionTags = new Set([\"thead\", \"tbody\"]);\nconst ddtTags = new Set([\"dd\", \"dt\"]);\nconst rtpTags = new Set([\"rt\", \"rp\"]);\nconst openImpliesClose = new Map([\n    [\"tr\", new Set([\"tr\", \"th\", \"td\"])],\n    [\"th\", new Set([\"th\"])],\n    [\"td\", new Set([\"thead\", \"th\", \"td\"])],\n    [\"body\", new Set([\"head\", \"link\", \"script\"])],\n    [\"li\", new Set([\"li\"])],\n    [\"p\", pTag],\n    [\"h1\", pTag],\n    [\"h2\", pTag],\n    [\"h3\", pTag],\n    [\"h4\", pTag],\n    [\"h5\", pTag],\n    [\"h6\", pTag],\n    [\"select\", formTags],\n    [\"input\", formTags],\n    [\"output\", formTags],\n    [\"button\", formTags],\n    [\"datalist\", formTags],\n    [\"textarea\", formTags],\n    [\"option\", new Set([\"option\"])],\n    [\"optgroup\", new Set([\"optgroup\", \"option\"])],\n    [\"dd\", ddtTags],\n    [\"dt\", ddtTags],\n    [\"address\", pTag],\n    [\"article\", pTag],\n    [\"aside\", pTag],\n    [\"blockquote\", pTag],\n    [\"details\", pTag],\n    [\"div\", pTag],\n    [\"dl\", pTag],\n    [\"fieldset\", pTag],\n    [\"figcaption\", pTag],\n    [\"figure\", pTag],\n    [\"footer\", pTag],\n    [\"form\", pTag],\n    [\"header\", pTag],\n    [\"hr\", pTag],\n    [\"main\", pTag],\n    [\"nav\", pTag],\n    [\"ol\", pTag],\n    [\"pre\", pTag],\n    [\"section\", pTag],\n    [\"table\", pTag],\n    [\"ul\", pTag],\n    [\"rt\", rtpTags],\n    [\"rp\", rtpTags],\n    [\"tbody\", tableSectionTags],\n    [\"tfoot\", tableSectionTags],\n]);\nconst voidElements = new Set([\n    \"area\",\n    \"base\",\n    \"basefont\",\n    \"br\",\n    \"col\",\n    \"command\",\n    \"embed\",\n    \"frame\",\n    \"hr\",\n    \"img\",\n    \"input\",\n    \"isindex\",\n    \"keygen\",\n    \"link\",\n    \"meta\",\n    \"param\",\n    \"source\",\n    \"track\",\n    \"wbr\",\n]);\nconst foreignContextElements = new Set([\"math\", \"svg\"]);\nconst htmlIntegrationElements = new Set([\n    \"mi\",\n    \"mo\",\n    \"mn\",\n    \"ms\",\n    \"mtext\",\n    \"annotation-xml\",\n    \"foreignobject\",\n    \"desc\",\n    \"title\",\n]);\nconst reNameEnd = /\\s|\\//;\nexport class Parser {\n    constructor(cbs, options = {}) {\n        var _a, _b, _c, _d, _e, _f;\n        this.options = options;\n        /** The start index of the last event. */\n        this.startIndex = 0;\n        /** The end index of the last event. */\n        this.endIndex = 0;\n        /**\n         * Store the start index of the current open tag,\n         * so we can update the start index for attributes.\n         */\n        this.openTagStart = 0;\n        this.tagname = \"\";\n        this.attribname = \"\";\n        this.attribvalue = \"\";\n        this.attribs = null;\n        this.stack = [];\n        this.buffers = [];\n        this.bufferOffset = 0;\n        /** The index of the last written buffer. Used when resuming after a `pause()`. */\n        this.writeIndex = 0;\n        /** Indicates whether the parser has finished running / `.end` has been called. */\n        this.ended = false;\n        this.cbs = cbs !== null && cbs !== void 0 ? cbs : {};\n        this.htmlMode = !this.options.xmlMode;\n        this.lowerCaseTagNames = (_a = options.lowerCaseTags) !== null && _a !== void 0 ? _a : this.htmlMode;\n        this.lowerCaseAttributeNames =\n            (_b = options.lowerCaseAttributeNames) !== null && _b !== void 0 ? _b : this.htmlMode;\n        this.recognizeSelfClosing =\n            (_c = options.recognizeSelfClosing) !== null && _c !== void 0 ? _c : !this.htmlMode;\n        this.tokenizer = new ((_d = options.Tokenizer) !== null && _d !== void 0 ? _d : Tokenizer)(this.options, this);\n        this.foreignContext = [!this.htmlMode];\n        (_f = (_e = this.cbs).onparserinit) === null || _f === void 0 ? void 0 : _f.call(_e, this);\n    }\n    // Tokenizer event handlers\n    /** @internal */\n    ontext(start, endIndex) {\n        var _a, _b;\n        const data = this.getSlice(start, endIndex);\n        this.endIndex = endIndex - 1;\n        (_b = (_a = this.cbs).ontext) === null || _b === void 0 ? void 0 : _b.call(_a, data);\n        this.startIndex = endIndex;\n    }\n    /** @internal */\n    ontextentity(cp, endIndex) {\n        var _a, _b;\n        this.endIndex = endIndex - 1;\n        (_b = (_a = this.cbs).ontext) === null || _b === void 0 ? void 0 : _b.call(_a, fromCodePoint(cp));\n        this.startIndex = endIndex;\n    }\n    /**\n     * Checks if the current tag is a void element. Override this if you want\n     * to specify your own additional void elements.\n     */\n    isVoidElement(name) {\n        return this.htmlMode && voidElements.has(name);\n    }\n    /** @internal */\n    onopentagname(start, endIndex) {\n        this.endIndex = endIndex;\n        let name = this.getSlice(start, endIndex);\n        if (this.lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n        this.emitOpenTag(name);\n    }\n    emitOpenTag(name) {\n        var _a, _b, _c, _d;\n        this.openTagStart = this.startIndex;\n        this.tagname = name;\n        const impliesClose = this.htmlMode && openImpliesClose.get(name);\n        if (impliesClose) {\n            while (this.stack.length > 0 && impliesClose.has(this.stack[0])) {\n                const element = this.stack.shift();\n                (_b = (_a = this.cbs).onclosetag) === null || _b === void 0 ? void 0 : _b.call(_a, element, true);\n            }\n        }\n        if (!this.isVoidElement(name)) {\n            this.stack.unshift(name);\n            if (this.htmlMode) {\n                if (foreignContextElements.has(name)) {\n                    this.foreignContext.unshift(true);\n                }\n                else if (htmlIntegrationElements.has(name)) {\n                    this.foreignContext.unshift(false);\n                }\n            }\n        }\n        (_d = (_c = this.cbs).onopentagname) === null || _d === void 0 ? void 0 : _d.call(_c, name);\n        if (this.cbs.onopentag)\n            this.attribs = {};\n    }\n    endOpenTag(isImplied) {\n        var _a, _b;\n        this.startIndex = this.openTagStart;\n        if (this.attribs) {\n            (_b = (_a = this.cbs).onopentag) === null || _b === void 0 ? void 0 : _b.call(_a, this.tagname, this.attribs, isImplied);\n            this.attribs = null;\n        }\n        if (this.cbs.onclosetag && this.isVoidElement(this.tagname)) {\n            this.cbs.onclosetag(this.tagname, true);\n        }\n        this.tagname = \"\";\n    }\n    /** @internal */\n    onopentagend(endIndex) {\n        this.endIndex = endIndex;\n        this.endOpenTag(false);\n        // Set `startIndex` for next node\n        this.startIndex = endIndex + 1;\n    }\n    /** @internal */\n    onclosetag(start, endIndex) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        this.endIndex = endIndex;\n        let name = this.getSlice(start, endIndex);\n        if (this.lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n        if (this.htmlMode &&\n            (foreignContextElements.has(name) ||\n                htmlIntegrationElements.has(name))) {\n            this.foreignContext.shift();\n        }\n        if (!this.isVoidElement(name)) {\n            const pos = this.stack.indexOf(name);\n            if (pos !== -1) {\n                for (let index = 0; index <= pos; index++) {\n                    const element = this.stack.shift();\n                    // We know the stack has sufficient elements.\n                    (_b = (_a = this.cbs).onclosetag) === null || _b === void 0 ? void 0 : _b.call(_a, element, index !== pos);\n                }\n            }\n            else if (this.htmlMode && name === \"p\") {\n                // Implicit open before close\n                this.emitOpenTag(\"p\");\n                this.closeCurrentTag(true);\n            }\n        }\n        else if (this.htmlMode && name === \"br\") {\n            // We can't use `emitOpenTag` for implicit open, as `br` would be implicitly closed.\n            (_d = (_c = this.cbs).onopentagname) === null || _d === void 0 ? void 0 : _d.call(_c, \"br\");\n            (_f = (_e = this.cbs).onopentag) === null || _f === void 0 ? void 0 : _f.call(_e, \"br\", {}, true);\n            (_h = (_g = this.cbs).onclosetag) === null || _h === void 0 ? void 0 : _h.call(_g, \"br\", false);\n        }\n        // Set `startIndex` for next node\n        this.startIndex = endIndex + 1;\n    }\n    /** @internal */\n    onselfclosingtag(endIndex) {\n        this.endIndex = endIndex;\n        if (this.recognizeSelfClosing || this.foreignContext[0]) {\n            this.closeCurrentTag(false);\n            // Set `startIndex` for next node\n            this.startIndex = endIndex + 1;\n        }\n        else {\n            // Ignore the fact that the tag is self-closing.\n            this.onopentagend(endIndex);\n        }\n    }\n    closeCurrentTag(isOpenImplied) {\n        var _a, _b;\n        const name = this.tagname;\n        this.endOpenTag(isOpenImplied);\n        // Self-closing tags will be on the top of the stack\n        if (this.stack[0] === name) {\n            // If the opening tag isn't implied, the closing tag has to be implied.\n            (_b = (_a = this.cbs).onclosetag) === null || _b === void 0 ? void 0 : _b.call(_a, name, !isOpenImplied);\n            this.stack.shift();\n        }\n    }\n    /** @internal */\n    onattribname(start, endIndex) {\n        this.startIndex = start;\n        const name = this.getSlice(start, endIndex);\n        this.attribname = this.lowerCaseAttributeNames\n            ? name.toLowerCase()\n            : name;\n    }\n    /** @internal */\n    onattribdata(start, endIndex) {\n        this.attribvalue += this.getSlice(start, endIndex);\n    }\n    /** @internal */\n    onattribentity(cp) {\n        this.attribvalue += fromCodePoint(cp);\n    }\n    /** @internal */\n    onattribend(quote, endIndex) {\n        var _a, _b;\n        this.endIndex = endIndex;\n        (_b = (_a = this.cbs).onattribute) === null || _b === void 0 ? void 0 : _b.call(_a, this.attribname, this.attribvalue, quote === QuoteType.Double\n            ? '\"'\n            : quote === QuoteType.Single\n                ? \"'\"\n                : quote === QuoteType.NoValue\n                    ? undefined\n                    : null);\n        if (this.attribs &&\n            !Object.prototype.hasOwnProperty.call(this.attribs, this.attribname)) {\n            this.attribs[this.attribname] = this.attribvalue;\n        }\n        this.attribvalue = \"\";\n    }\n    getInstructionName(value) {\n        const index = value.search(reNameEnd);\n        let name = index < 0 ? value : value.substr(0, index);\n        if (this.lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n        return name;\n    }\n    /** @internal */\n    ondeclaration(start, endIndex) {\n        this.endIndex = endIndex;\n        const value = this.getSlice(start, endIndex);\n        if (this.cbs.onprocessinginstruction) {\n            const name = this.getInstructionName(value);\n            this.cbs.onprocessinginstruction(`!${name}`, `!${value}`);\n        }\n        // Set `startIndex` for next node\n        this.startIndex = endIndex + 1;\n    }\n    /** @internal */\n    onprocessinginstruction(start, endIndex) {\n        this.endIndex = endIndex;\n        const value = this.getSlice(start, endIndex);\n        if (this.cbs.onprocessinginstruction) {\n            const name = this.getInstructionName(value);\n            this.cbs.onprocessinginstruction(`?${name}`, `?${value}`);\n        }\n        // Set `startIndex` for next node\n        this.startIndex = endIndex + 1;\n    }\n    /** @internal */\n    oncomment(start, endIndex, offset) {\n        var _a, _b, _c, _d;\n        this.endIndex = endIndex;\n        (_b = (_a = this.cbs).oncomment) === null || _b === void 0 ? void 0 : _b.call(_a, this.getSlice(start, endIndex - offset));\n        (_d = (_c = this.cbs).oncommentend) === null || _d === void 0 ? void 0 : _d.call(_c);\n        // Set `startIndex` for next node\n        this.startIndex = endIndex + 1;\n    }\n    /** @internal */\n    oncdata(start, endIndex, offset) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n        this.endIndex = endIndex;\n        const value = this.getSlice(start, endIndex - offset);\n        if (!this.htmlMode || this.options.recognizeCDATA) {\n            (_b = (_a = this.cbs).oncdatastart) === null || _b === void 0 ? void 0 : _b.call(_a);\n            (_d = (_c = this.cbs).ontext) === null || _d === void 0 ? void 0 : _d.call(_c, value);\n            (_f = (_e = this.cbs).oncdataend) === null || _f === void 0 ? void 0 : _f.call(_e);\n        }\n        else {\n            (_h = (_g = this.cbs).oncomment) === null || _h === void 0 ? void 0 : _h.call(_g, `[CDATA[${value}]]`);\n            (_k = (_j = this.cbs).oncommentend) === null || _k === void 0 ? void 0 : _k.call(_j);\n        }\n        // Set `startIndex` for next node\n        this.startIndex = endIndex + 1;\n    }\n    /** @internal */\n    onend() {\n        var _a, _b;\n        if (this.cbs.onclosetag) {\n            // Set the end index for all remaining tags\n            this.endIndex = this.startIndex;\n            for (let index = 0; index < this.stack.length; index++) {\n                this.cbs.onclosetag(this.stack[index], true);\n            }\n        }\n        (_b = (_a = this.cbs).onend) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    /**\n     * Resets the parser to a blank state, ready to parse a new HTML document\n     */\n    reset() {\n        var _a, _b, _c, _d;\n        (_b = (_a = this.cbs).onreset) === null || _b === void 0 ? void 0 : _b.call(_a);\n        this.tokenizer.reset();\n        this.tagname = \"\";\n        this.attribname = \"\";\n        this.attribs = null;\n        this.stack.length = 0;\n        this.startIndex = 0;\n        this.endIndex = 0;\n        (_d = (_c = this.cbs).onparserinit) === null || _d === void 0 ? void 0 : _d.call(_c, this);\n        this.buffers.length = 0;\n        this.foreignContext.length = 0;\n        this.foreignContext.unshift(!this.htmlMode);\n        this.bufferOffset = 0;\n        this.writeIndex = 0;\n        this.ended = false;\n    }\n    /**\n     * Resets the parser, then parses a complete document and\n     * pushes it to the handler.\n     *\n     * @param data Document to parse.\n     */\n    parseComplete(data) {\n        this.reset();\n        this.end(data);\n    }\n    getSlice(start, end) {\n        while (start - this.bufferOffset >= this.buffers[0].length) {\n            this.shiftBuffer();\n        }\n        let slice = this.buffers[0].slice(start - this.bufferOffset, end - this.bufferOffset);\n        while (end - this.bufferOffset > this.buffers[0].length) {\n            this.shiftBuffer();\n            slice += this.buffers[0].slice(0, end - this.bufferOffset);\n        }\n        return slice;\n    }\n    shiftBuffer() {\n        this.bufferOffset += this.buffers[0].length;\n        this.writeIndex--;\n        this.buffers.shift();\n    }\n    /**\n     * Parses a chunk of data and calls the corresponding callbacks.\n     *\n     * @param chunk Chunk to parse.\n     */\n    write(chunk) {\n        var _a, _b;\n        if (this.ended) {\n            (_b = (_a = this.cbs).onerror) === null || _b === void 0 ? void 0 : _b.call(_a, new Error(\".write() after done!\"));\n            return;\n        }\n        this.buffers.push(chunk);\n        if (this.tokenizer.running) {\n            this.tokenizer.write(chunk);\n            this.writeIndex++;\n        }\n    }\n    /**\n     * Parses the end of the buffer and clears the stack, calls onend.\n     *\n     * @param chunk Optional final chunk to parse.\n     */\n    end(chunk) {\n        var _a, _b;\n        if (this.ended) {\n            (_b = (_a = this.cbs).onerror) === null || _b === void 0 ? void 0 : _b.call(_a, new Error(\".end() after done!\"));\n            return;\n        }\n        if (chunk)\n            this.write(chunk);\n        this.ended = true;\n        this.tokenizer.end();\n    }\n    /**\n     * Pauses parsing. The parser won't emit events until `resume` is called.\n     */\n    pause() {\n        this.tokenizer.pause();\n    }\n    /**\n     * Resumes parsing after `pause` was called.\n     */\n    resume() {\n        this.tokenizer.resume();\n        while (this.tokenizer.running &&\n            this.writeIndex < this.buffers.length) {\n            this.tokenizer.write(this.buffers[this.writeIndex++]);\n        }\n        if (this.ended)\n            this.tokenizer.end();\n    }\n    /**\n     * Alias of `write`, for backwards compatibility.\n     *\n     * @param chunk Chunk to parse.\n     * @deprecated\n     */\n    parseChunk(chunk) {\n        this.write(chunk);\n    }\n    /**\n     * Alias of `end`, for backwards compatibility.\n     *\n     * @param chunk Optional final chunk to parse.\n     * @deprecated\n     */\n    done(chunk) {\n        this.end(chunk);\n    }\n}\n//# sourceMappingURL=Parser.js.map","import { getLoad } from './load.js';\nimport { getParse } from './parse.js';\nimport { renderWithParse5, parseWithParse5 } from './parsers/parse5-adapter.js';\nimport renderWithHtmlparser2 from 'dom-serializer';\nimport { parseDocument as parseWithHtmlparser2 } from 'htmlparser2';\nconst parse = getParse((content, options, isDocument, context) => options._useHtmlParser2\n    ? parseWithHtmlparser2(content, options)\n    : parseWithParse5(content, options, isDocument, context));\n// Duplicate docs due to https://github.com/TypeStrong/typedoc/issues/1616\n/**\n * Create a querying function, bound to a document created from the provided\n * markup.\n *\n * Note that similar to web browser contexts, this operation may introduce\n * `<html>`, `<head>`, and `<body>` elements; set `isDocument` to `false` to\n * switch to fragment mode and disable this.\n *\n * @category Loading\n * @param content - Markup to be loaded.\n * @param options - Options for the created instance.\n * @param isDocument - Allows parser to be switched to fragment mode.\n * @returns The loaded document.\n * @see {@link https://cheerio.js.org#loading} for additional usage information.\n */\nexport const load = getLoad(parse, (dom, options) => options._useHtmlParser2\n    ? renderWithHtmlparser2(dom, options)\n    : renderWithParse5(dom));\n//# sourceMappingURL=load-parse.js.map","import { Parser } from './parser/index.js';\nexport { defaultTreeAdapter } from './tree-adapters/default.js';\nexport { /** @internal */ Parser } from './parser/index.js';\nexport { serialize, serializeOuter } from './serializer/index.js';\nexport { ERR as ErrorCodes } from './common/error-codes.js';\n/** @internal */\nexport * as foreignContent from './common/foreign-content.js';\n/** @internal */\nexport * as html from './common/html.js';\n/** @internal */\nexport * as Token from './common/token.js';\n/** @internal */\nexport { Tokenizer, TokenizerMode } from './tokenizer/index.js';\n// Shorthands\n/**\n * Parses an HTML string.\n *\n * @param html Input HTML string.\n * @param options Parsing options.\n * @returns Document\n *\n * @example\n *\n * ```js\n * const parse5 = require('parse5');\n *\n * const document = parse5.parse('<!DOCTYPE html><html><head></head><body>Hi there!</body></html>');\n *\n * console.log(document.childNodes[1].tagName); //> 'html'\n *```\n */\nexport function parse(html, options) {\n    return Parser.parse(html, options);\n}\nexport function parseFragment(fragmentContext, html, options) {\n    if (typeof fragmentContext === 'string') {\n        options = html;\n        html = fragmentContext;\n        fragmentContext = null;\n    }\n    const parser = Parser.getFragmentParser(fragmentContext, options);\n    parser.tokenizer.write(html, true);\n    return parser.getFragment();\n}\n//# sourceMappingURL=index.js.map","import { Parser } from \"./Parser.js\";\nexport { Parser } from \"./Parser.js\";\nimport { DomHandler, } from \"domhandler\";\nexport { DomHandler, \n// Old name for DomHandler\nDomHandler as DefaultHandler, } from \"domhandler\";\n// Helper methods\n/**\n * Parses the data, returns the resulting document.\n *\n * @param data The data that should be parsed.\n * @param options Optional options for the parser and DOM handler.\n */\nexport function parseDocument(data, options) {\n    const handler = new DomHandler(undefined, options);\n    new Parser(handler, options).end(data);\n    return handler.root;\n}\n/**\n * Parses data, returns an array of the root nodes.\n *\n * Note that the root nodes still have a `Document` node as their parent.\n * Use `parseDocument` to get the `Document` node instead.\n *\n * @param data The data that should be parsed.\n * @param options Optional options for the parser and DOM handler.\n * @deprecated Use `parseDocument` instead.\n */\nexport function parseDOM(data, options) {\n    return parseDocument(data, options).children;\n}\n/**\n * Creates a parser instance, with an attached DOM handler.\n *\n * @param callback A callback that will be called once parsing has been completed, with the resulting document.\n * @param options Optional options for the parser and DOM handler.\n * @param elementCallback An optional callback that will be called every time a tag has been completed inside of the DOM.\n */\nexport function createDocumentStream(callback, options, elementCallback) {\n    const handler = new DomHandler((error) => callback(error, handler.root), options, elementCallback);\n    return new Parser(handler, options);\n}\n/**\n * Creates a parser instance, with an attached DOM handler.\n *\n * @param callback A callback that will be called once parsing has been completed, with an array of root nodes.\n * @param options Optional options for the parser and DOM handler.\n * @param elementCallback An optional callback that will be called every time a tag has been completed inside of the DOM.\n * @deprecated Use `createDocumentStream` instead.\n */\nexport function createDomStream(callback, options, elementCallback) {\n    const handler = new DomHandler(callback, options, elementCallback);\n    return new Parser(handler, options);\n}\nexport { default as Tokenizer, QuoteType, } from \"./Tokenizer.js\";\n/*\n * All of the following exports exist for backwards-compatibility.\n * They should probably be removed eventually.\n */\nexport * as ElementType from \"domelementtype\";\nimport { getFeed } from \"domutils\";\nexport { getFeed } from \"domutils\";\nconst parseFeedDefaultOptions = { xmlMode: true };\n/**\n * Parse a feed.\n *\n * @param feed The feed that should be parsed, as a string.\n * @param options Optionally, options for parsing. When using this, you should set `xmlMode` to `true`.\n */\nexport function parseFeed(feed, options = parseFeedDefaultOptions) {\n    return getFeed(parseDOM(feed, options));\n}\nexport * as DomUtils from \"domutils\";\n//# sourceMappingURL=index.js.map","/* eslint-disable no-bitwise */\n\nconst decodeCache = {}\n\nfunction getDecodeCache (exclude) {\n  let cache = decodeCache[exclude]\n  if (cache) { return cache }\n\n  cache = decodeCache[exclude] = []\n\n  for (let i = 0; i < 128; i++) {\n    const ch = String.fromCharCode(i)\n    cache.push(ch)\n  }\n\n  for (let i = 0; i < exclude.length; i++) {\n    const ch = exclude.charCodeAt(i)\n    cache[ch] = '%' + ('0' + ch.toString(16).toUpperCase()).slice(-2)\n  }\n\n  return cache\n}\n\n// Decode percent-encoded string.\n//\nfunction decode (string, exclude) {\n  if (typeof exclude !== 'string') {\n    exclude = decode.defaultChars\n  }\n\n  const cache = getDecodeCache(exclude)\n\n  return string.replace(/(%[a-f0-9]{2})+/gi, function (seq) {\n    let result = ''\n\n    for (let i = 0, l = seq.length; i < l; i += 3) {\n      const b1 = parseInt(seq.slice(i + 1, i + 3), 16)\n\n      if (b1 < 0x80) {\n        result += cache[b1]\n        continue\n      }\n\n      if ((b1 & 0xE0) === 0xC0 && (i + 3 < l)) {\n        // 110xxxxx 10xxxxxx\n        const b2 = parseInt(seq.slice(i + 4, i + 6), 16)\n\n        if ((b2 & 0xC0) === 0x80) {\n          const chr = ((b1 << 6) & 0x7C0) | (b2 & 0x3F)\n\n          if (chr < 0x80) {\n            result += '\\ufffd\\ufffd'\n          } else {\n            result += String.fromCharCode(chr)\n          }\n\n          i += 3\n          continue\n        }\n      }\n\n      if ((b1 & 0xF0) === 0xE0 && (i + 6 < l)) {\n        // 1110xxxx 10xxxxxx 10xxxxxx\n        const b2 = parseInt(seq.slice(i + 4, i + 6), 16)\n        const b3 = parseInt(seq.slice(i + 7, i + 9), 16)\n\n        if ((b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80) {\n          const chr = ((b1 << 12) & 0xF000) | ((b2 << 6) & 0xFC0) | (b3 & 0x3F)\n\n          if (chr < 0x800 || (chr >= 0xD800 && chr <= 0xDFFF)) {\n            result += '\\ufffd\\ufffd\\ufffd'\n          } else {\n            result += String.fromCharCode(chr)\n          }\n\n          i += 6\n          continue\n        }\n      }\n\n      if ((b1 & 0xF8) === 0xF0 && (i + 9 < l)) {\n        // 111110xx 10xxxxxx 10xxxxxx 10xxxxxx\n        const b2 = parseInt(seq.slice(i + 4, i + 6), 16)\n        const b3 = parseInt(seq.slice(i + 7, i + 9), 16)\n        const b4 = parseInt(seq.slice(i + 10, i + 12), 16)\n\n        if ((b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80 && (b4 & 0xC0) === 0x80) {\n          let chr = ((b1 << 18) & 0x1C0000) | ((b2 << 12) & 0x3F000) | ((b3 << 6) & 0xFC0) | (b4 & 0x3F)\n\n          if (chr < 0x10000 || chr > 0x10FFFF) {\n            result += '\\ufffd\\ufffd\\ufffd\\ufffd'\n          } else {\n            chr -= 0x10000\n            result += String.fromCharCode(0xD800 + (chr >> 10), 0xDC00 + (chr & 0x3FF))\n          }\n\n          i += 9\n          continue\n        }\n      }\n\n      result += '\\ufffd'\n    }\n\n    return result\n  })\n}\n\ndecode.defaultChars = ';/?:@&=+$,#'\ndecode.componentChars = ''\n\nexport default decode\n","const encodeCache = {}\n\n// Create a lookup array where anything but characters in `chars` string\n// and alphanumeric chars is percent-encoded.\n//\nfunction getEncodeCache (exclude) {\n  let cache = encodeCache[exclude]\n  if (cache) { return cache }\n\n  cache = encodeCache[exclude] = []\n\n  for (let i = 0; i < 128; i++) {\n    const ch = String.fromCharCode(i)\n\n    if (/^[0-9a-z]$/i.test(ch)) {\n      // always allow unencoded alphanumeric characters\n      cache.push(ch)\n    } else {\n      cache.push('%' + ('0' + i.toString(16).toUpperCase()).slice(-2))\n    }\n  }\n\n  for (let i = 0; i < exclude.length; i++) {\n    cache[exclude.charCodeAt(i)] = exclude[i]\n  }\n\n  return cache\n}\n\n// Encode unsafe characters with percent-encoding, skipping already\n// encoded sequences.\n//\n//  - string       - string to encode\n//  - exclude      - list of characters to ignore (in addition to a-zA-Z0-9)\n//  - keepEscaped  - don't encode '%' in a correct escape sequence (default: true)\n//\nfunction encode (string, exclude, keepEscaped) {\n  if (typeof exclude !== 'string') {\n    // encode(string, keepEscaped)\n    keepEscaped = exclude\n    exclude = encode.defaultChars\n  }\n\n  if (typeof keepEscaped === 'undefined') {\n    keepEscaped = true\n  }\n\n  const cache = getEncodeCache(exclude)\n  let result = ''\n\n  for (let i = 0, l = string.length; i < l; i++) {\n    const code = string.charCodeAt(i)\n\n    if (keepEscaped && code === 0x25 /* % */ && i + 2 < l) {\n      if (/^[0-9a-f]{2}$/i.test(string.slice(i + 1, i + 3))) {\n        result += string.slice(i, i + 3)\n        i += 2\n        continue\n      }\n    }\n\n    if (code < 128) {\n      result += cache[code]\n      continue\n    }\n\n    if (code >= 0xD800 && code <= 0xDFFF) {\n      if (code >= 0xD800 && code <= 0xDBFF && i + 1 < l) {\n        const nextCode = string.charCodeAt(i + 1)\n        if (nextCode >= 0xDC00 && nextCode <= 0xDFFF) {\n          result += encodeURIComponent(string[i] + string[i + 1])\n          i++\n          continue\n        }\n      }\n      result += '%EF%BF%BD'\n      continue\n    }\n\n    result += encodeURIComponent(string[i])\n  }\n\n  return result\n}\n\nencode.defaultChars = \";/?:@&=+$,-_.!~*'()#\"\nencode.componentChars = \"-_.!~*'()\"\n\nexport default encode\n","export default function format (url) {\n  let result = ''\n\n  result += url.protocol || ''\n  result += url.slashes ? '//' : ''\n  result += url.auth ? url.auth + '@' : ''\n\n  if (url.hostname && url.hostname.indexOf(':') !== -1) {\n    // ipv6 address\n    result += '[' + url.hostname + ']'\n  } else {\n    result += url.hostname || ''\n  }\n\n  result += url.port ? ':' + url.port : ''\n  result += url.pathname || ''\n  result += url.search || ''\n  result += url.hash || ''\n\n  return result\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n//\n// Changes from joyent/node:\n//\n// 1. No leading slash in paths,\n//    e.g. in `url.parse('http://foo?bar')` pathname is ``, not `/`\n//\n// 2. Backslashes are not replaced with slashes,\n//    so `http:\\\\example.org\\` is treated like a relative path\n//\n// 3. Trailing colon is treated like a part of the path,\n//    i.e. in `http://example.org:foo` pathname is `:foo`\n//\n// 4. Nothing is URL-encoded in the resulting object,\n//    (in joyent/node some chars in auth and paths are encoded)\n//\n// 5. `url.parse()` does not have `parseQueryString` argument\n//\n// 6. Removed extraneous result properties: `host`, `path`, `query`, etc.,\n//    which can be constructed using other parts of the url.\n//\n\nfunction Url () {\n  this.protocol = null\n  this.slashes = null\n  this.auth = null\n  this.port = null\n  this.hostname = null\n  this.hash = null\n  this.search = null\n  this.pathname = null\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nconst protocolPattern = /^([a-z0-9.+-]+:)/i\nconst portPattern = /:[0-9]*$/\n\n// Special case for a simple path URL\n/* eslint-disable-next-line no-useless-escape */\nconst simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/\n\n// RFC 2396: characters reserved for delimiting URLs.\n// We actually just auto-escape these.\nconst delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t']\n\n// RFC 2396: characters not allowed for various reasons.\nconst unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims)\n\n// Allowed by RFCs, but cause of XSS attacks.  Always escape these.\nconst autoEscape = ['\\''].concat(unwise)\n// Characters that are never ever allowed in a hostname.\n// Note that any invalid chars are also handled, but these\n// are the ones that are *expected* to be seen, so we fast-path\n// them.\nconst nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape)\nconst hostEndingChars = ['/', '?', '#']\nconst hostnameMaxLen = 255\nconst hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/\nconst hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/\n// protocols that can allow \"unsafe\" and \"unwise\" chars.\n// protocols that never have a hostname.\nconst hostlessProtocol = {\n  javascript: true,\n  'javascript:': true\n}\n// protocols that always contain a // bit.\nconst slashedProtocol = {\n  http: true,\n  https: true,\n  ftp: true,\n  gopher: true,\n  file: true,\n  'http:': true,\n  'https:': true,\n  'ftp:': true,\n  'gopher:': true,\n  'file:': true\n}\n\nfunction urlParse (url, slashesDenoteHost) {\n  if (url && url instanceof Url) return url\n\n  const u = new Url()\n  u.parse(url, slashesDenoteHost)\n  return u\n}\n\nUrl.prototype.parse = function (url, slashesDenoteHost) {\n  let lowerProto, hec, slashes\n  let rest = url\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim()\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    const simplePath = simplePathPattern.exec(rest)\n    if (simplePath) {\n      this.pathname = simplePath[1]\n      if (simplePath[2]) {\n        this.search = simplePath[2]\n      }\n      return this\n    }\n  }\n\n  let proto = protocolPattern.exec(rest)\n  if (proto) {\n    proto = proto[0]\n    lowerProto = proto.toLowerCase()\n    this.protocol = proto\n    rest = rest.substr(proto.length)\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  /* eslint-disable-next-line no-useless-escape */\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    slashes = rest.substr(0, 2) === '//'\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2)\n      this.slashes = true\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    let hostEnd = -1\n    for (let i = 0; i < hostEndingChars.length; i++) {\n      hec = rest.indexOf(hostEndingChars[i])\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) {\n        hostEnd = hec\n      }\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    let auth, atSign\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@')\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd)\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign)\n      rest = rest.slice(atSign + 1)\n      this.auth = auth\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1\n    for (let i = 0; i < nonHostChars.length; i++) {\n      hec = rest.indexOf(nonHostChars[i])\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) {\n        hostEnd = hec\n      }\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1) {\n      hostEnd = rest.length\n    }\n\n    if (rest[hostEnd - 1] === ':') { hostEnd-- }\n    const host = rest.slice(0, hostEnd)\n    rest = rest.slice(hostEnd)\n\n    // pull out port.\n    this.parseHost(host)\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || ''\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    const ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']'\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      const hostparts = this.hostname.split(/\\./)\n      for (let i = 0, l = hostparts.length; i < l; i++) {\n        const part = hostparts[i]\n        if (!part) { continue }\n        if (!part.match(hostnamePartPattern)) {\n          let newpart = ''\n          for (let j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x'\n            } else {\n              newpart += part[j]\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            const validParts = hostparts.slice(0, i)\n            const notHost = hostparts.slice(i + 1)\n            const bit = part.match(hostnamePartStart)\n            if (bit) {\n              validParts.push(bit[1])\n              notHost.unshift(bit[2])\n            }\n            if (notHost.length) {\n              rest = notHost.join('.') + rest\n            }\n            this.hostname = validParts.join('.')\n            break\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = ''\n    }\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2)\n    }\n  }\n\n  // chop off from the tail first.\n  const hash = rest.indexOf('#')\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash)\n    rest = rest.slice(0, hash)\n  }\n  const qm = rest.indexOf('?')\n  if (qm !== -1) {\n    this.search = rest.substr(qm)\n    rest = rest.slice(0, qm)\n  }\n  if (rest) { this.pathname = rest }\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = ''\n  }\n\n  return this\n}\n\nUrl.prototype.parseHost = function (host) {\n  let port = portPattern.exec(host)\n  if (port) {\n    port = port[0]\n    if (port !== ':') {\n      this.port = port.substr(1)\n    }\n    host = host.substr(0, host.length - port.length)\n  }\n  if (host) { this.hostname = host }\n}\n\nexport default urlParse\n","export default /[!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061D-\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C77\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1B7D\\u1B7E\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4F\\u2E52-\\u2E5D\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD803[\\uDEAD\\uDF55-\\uDF59\\uDF86-\\uDF89]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC8\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDC4B-\\uDC4F\\uDC5A\\uDC5B\\uDC5D\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDE60-\\uDE6C\\uDEB9\\uDF3C-\\uDF3E]|\\uD806[\\uDC3B\\uDD44-\\uDD46\\uDDE2\\uDE3F-\\uDE46\\uDE9A-\\uDE9C\\uDE9E-\\uDEA2\\uDF00-\\uDF09]|\\uD807[\\uDC41-\\uDC45\\uDC70\\uDC71\\uDEF7\\uDEF8\\uDF43-\\uDF4F\\uDFFF]|\\uD809[\\uDC70-\\uDC74]|\\uD80B[\\uDFF1\\uDFF2]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD81B[\\uDE97-\\uDE9A\\uDFE2]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]|\\uD83A[\\uDD5E\\uDD5F]/","export default /[\\$\\+<->\\^`\\|~\\xA2-\\xA6\\xA8\\xA9\\xAC\\xAE-\\xB1\\xB4\\xB8\\xD7\\xF7\\u02C2-\\u02C5\\u02D2-\\u02DF\\u02E5-\\u02EB\\u02ED\\u02EF-\\u02FF\\u0375\\u0384\\u0385\\u03F6\\u0482\\u058D-\\u058F\\u0606-\\u0608\\u060B\\u060E\\u060F\\u06DE\\u06E9\\u06FD\\u06FE\\u07F6\\u07FE\\u07FF\\u0888\\u09F2\\u09F3\\u09FA\\u09FB\\u0AF1\\u0B70\\u0BF3-\\u0BFA\\u0C7F\\u0D4F\\u0D79\\u0E3F\\u0F01-\\u0F03\\u0F13\\u0F15-\\u0F17\\u0F1A-\\u0F1F\\u0F34\\u0F36\\u0F38\\u0FBE-\\u0FC5\\u0FC7-\\u0FCC\\u0FCE\\u0FCF\\u0FD5-\\u0FD8\\u109E\\u109F\\u1390-\\u1399\\u166D\\u17DB\\u1940\\u19DE-\\u19FF\\u1B61-\\u1B6A\\u1B74-\\u1B7C\\u1FBD\\u1FBF-\\u1FC1\\u1FCD-\\u1FCF\\u1FDD-\\u1FDF\\u1FED-\\u1FEF\\u1FFD\\u1FFE\\u2044\\u2052\\u207A-\\u207C\\u208A-\\u208C\\u20A0-\\u20C0\\u2100\\u2101\\u2103-\\u2106\\u2108\\u2109\\u2114\\u2116-\\u2118\\u211E-\\u2123\\u2125\\u2127\\u2129\\u212E\\u213A\\u213B\\u2140-\\u2144\\u214A-\\u214D\\u214F\\u218A\\u218B\\u2190-\\u2307\\u230C-\\u2328\\u232B-\\u2426\\u2440-\\u244A\\u249C-\\u24E9\\u2500-\\u2767\\u2794-\\u27C4\\u27C7-\\u27E5\\u27F0-\\u2982\\u2999-\\u29D7\\u29DC-\\u29FB\\u29FE-\\u2B73\\u2B76-\\u2B95\\u2B97-\\u2BFF\\u2CE5-\\u2CEA\\u2E50\\u2E51\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFF\\u3004\\u3012\\u3013\\u3020\\u3036\\u3037\\u303E\\u303F\\u309B\\u309C\\u3190\\u3191\\u3196-\\u319F\\u31C0-\\u31E3\\u31EF\\u3200-\\u321E\\u322A-\\u3247\\u3250\\u3260-\\u327F\\u328A-\\u32B0\\u32C0-\\u33FF\\u4DC0-\\u4DFF\\uA490-\\uA4C6\\uA700-\\uA716\\uA720\\uA721\\uA789\\uA78A\\uA828-\\uA82B\\uA836-\\uA839\\uAA77-\\uAA79\\uAB5B\\uAB6A\\uAB6B\\uFB29\\uFBB2-\\uFBC2\\uFD40-\\uFD4F\\uFDCF\\uFDFC-\\uFDFF\\uFE62\\uFE64-\\uFE66\\uFE69\\uFF04\\uFF0B\\uFF1C-\\uFF1E\\uFF3E\\uFF40\\uFF5C\\uFF5E\\uFFE0-\\uFFE6\\uFFE8-\\uFFEE\\uFFFC\\uFFFD]|\\uD800[\\uDD37-\\uDD3F\\uDD79-\\uDD89\\uDD8C-\\uDD8E\\uDD90-\\uDD9C\\uDDA0\\uDDD0-\\uDDFC]|\\uD802[\\uDC77\\uDC78\\uDEC8]|\\uD805\\uDF3F|\\uD807[\\uDFD5-\\uDFF1]|\\uD81A[\\uDF3C-\\uDF3F\\uDF45]|\\uD82F\\uDC9C|\\uD833[\\uDF50-\\uDFC3]|\\uD834[\\uDC00-\\uDCF5\\uDD00-\\uDD26\\uDD29-\\uDD64\\uDD6A-\\uDD6C\\uDD83\\uDD84\\uDD8C-\\uDDA9\\uDDAE-\\uDDEA\\uDE00-\\uDE41\\uDE45\\uDF00-\\uDF56]|\\uD835[\\uDEC1\\uDEDB\\uDEFB\\uDF15\\uDF35\\uDF4F\\uDF6F\\uDF89\\uDFA9\\uDFC3]|\\uD836[\\uDC00-\\uDDFF\\uDE37-\\uDE3A\\uDE6D-\\uDE74\\uDE76-\\uDE83\\uDE85\\uDE86]|\\uD838[\\uDD4F\\uDEFF]|\\uD83B[\\uDCAC\\uDCB0\\uDD2E\\uDEF0\\uDEF1]|\\uD83C[\\uDC00-\\uDC2B\\uDC30-\\uDC93\\uDCA0-\\uDCAE\\uDCB1-\\uDCBF\\uDCC1-\\uDCCF\\uDCD1-\\uDCF5\\uDD0D-\\uDDAD\\uDDE6-\\uDE02\\uDE10-\\uDE3B\\uDE40-\\uDE48\\uDE50\\uDE51\\uDE60-\\uDE65\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDED7\\uDEDC-\\uDEEC\\uDEF0-\\uDEFC\\uDF00-\\uDF76\\uDF7B-\\uDFD9\\uDFE0-\\uDFEB\\uDFF0]|\\uD83E[\\uDC00-\\uDC0B\\uDC10-\\uDC47\\uDC50-\\uDC59\\uDC60-\\uDC87\\uDC90-\\uDCAD\\uDCB0\\uDCB1\\uDD00-\\uDE53\\uDE60-\\uDE6D\\uDE70-\\uDE7C\\uDE80-\\uDE88\\uDE90-\\uDEBD\\uDEBF-\\uDEC5\\uDECE-\\uDEDB\\uDEE0-\\uDEE8\\uDEF0-\\uDEF8\\uDF00-\\uDF92\\uDF94-\\uDFCA]/","export default /[\\0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/","export default /[\\0-\\x1F\\x7F-\\x9F]/","export default /[\\xAD\\u0600-\\u0605\\u061C\\u06DD\\u070F\\u0890\\u0891\\u08E2\\u180E\\u200B-\\u200F\\u202A-\\u202E\\u2060-\\u2064\\u2066-\\u206F\\uFEFF\\uFFF9-\\uFFFB]|\\uD804[\\uDCBD\\uDCCD]|\\uD80D[\\uDC30-\\uDC3F]|\\uD82F[\\uDCA0-\\uDCA3]|\\uD834[\\uDD73-\\uDD7A]|\\uDB40[\\uDC01\\uDC20-\\uDC7F]/","export default /[ \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000]/","// Utilities\n//\n\nimport * as mdurl from 'mdurl'\nimport * as ucmicro from 'uc.micro'\nimport { decodeHTML } from 'entities'\n\nfunction _class (obj) { return Object.prototype.toString.call(obj) }\n\nfunction isString (obj) { return _class(obj) === '[object String]' }\n\nconst _hasOwnProperty = Object.prototype.hasOwnProperty\n\nfunction has (object, key) {\n  return _hasOwnProperty.call(object, key)\n}\n\n// Merge objects\n//\nfunction assign (obj /* from1, from2, from3, ... */) {\n  const sources = Array.prototype.slice.call(arguments, 1)\n\n  sources.forEach(function (source) {\n    if (!source) { return }\n\n    if (typeof source !== 'object') {\n      throw new TypeError(source + 'must be object')\n    }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key]\n    })\n  })\n\n  return obj\n}\n\n// Remove element from array and put another array at those position.\n// Useful for some operations with tokens\nfunction arrayReplaceAt (src, pos, newElements) {\n  return [].concat(src.slice(0, pos), newElements, src.slice(pos + 1))\n}\n\nfunction isValidEntityCode (c) {\n  /* eslint no-bitwise:0 */\n  // broken sequence\n  if (c >= 0xD800 && c <= 0xDFFF) { return false }\n  // never used\n  if (c >= 0xFDD0 && c <= 0xFDEF) { return false }\n  if ((c & 0xFFFF) === 0xFFFF || (c & 0xFFFF) === 0xFFFE) { return false }\n  // control codes\n  if (c >= 0x00 && c <= 0x08) { return false }\n  if (c === 0x0B) { return false }\n  if (c >= 0x0E && c <= 0x1F) { return false }\n  if (c >= 0x7F && c <= 0x9F) { return false }\n  // out of range\n  if (c > 0x10FFFF) { return false }\n  return true\n}\n\nfunction fromCodePoint (c) {\n  /* eslint no-bitwise:0 */\n  if (c > 0xffff) {\n    c -= 0x10000\n    const surrogate1 = 0xd800 + (c >> 10)\n    const surrogate2 = 0xdc00 + (c & 0x3ff)\n\n    return String.fromCharCode(surrogate1, surrogate2)\n  }\n  return String.fromCharCode(c)\n}\n\nconst UNESCAPE_MD_RE  = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@[\\\\\\]^_`{|}~])/g\nconst ENTITY_RE       = /&([a-z#][a-z0-9]{1,31});/gi\nconst UNESCAPE_ALL_RE = new RegExp(UNESCAPE_MD_RE.source + '|' + ENTITY_RE.source, 'gi')\n\nconst DIGITAL_ENTITY_TEST_RE = /^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i\n\nfunction replaceEntityPattern (match, name) {\n  if (name.charCodeAt(0) === 0x23/* # */ && DIGITAL_ENTITY_TEST_RE.test(name)) {\n    const code = name[1].toLowerCase() === 'x'\n      ? parseInt(name.slice(2), 16)\n      : parseInt(name.slice(1), 10)\n\n    if (isValidEntityCode(code)) {\n      return fromCodePoint(code)\n    }\n\n    return match\n  }\n\n  const decoded = decodeHTML(match)\n  if (decoded !== match) {\n    return decoded\n  }\n\n  return match\n}\n\n/* function replaceEntities(str) {\n  if (str.indexOf('&') < 0) { return str; }\n\n  return str.replace(ENTITY_RE, replaceEntityPattern);\n} */\n\nfunction unescapeMd (str) {\n  if (str.indexOf('\\\\') < 0) { return str }\n  return str.replace(UNESCAPE_MD_RE, '$1')\n}\n\nfunction unescapeAll (str) {\n  if (str.indexOf('\\\\') < 0 && str.indexOf('&') < 0) { return str }\n\n  return str.replace(UNESCAPE_ALL_RE, function (match, escaped, entity) {\n    if (escaped) { return escaped }\n    return replaceEntityPattern(match, entity)\n  })\n}\n\nconst HTML_ESCAPE_TEST_RE = /[&<>\"]/\nconst HTML_ESCAPE_REPLACE_RE = /[&<>\"]/g\nconst HTML_REPLACEMENTS = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n}\n\nfunction replaceUnsafeChar (ch) {\n  return HTML_REPLACEMENTS[ch]\n}\n\nfunction escapeHtml (str) {\n  if (HTML_ESCAPE_TEST_RE.test(str)) {\n    return str.replace(HTML_ESCAPE_REPLACE_RE, replaceUnsafeChar)\n  }\n  return str\n}\n\nconst REGEXP_ESCAPE_RE = /[.?*+^$[\\]\\\\(){}|-]/g\n\nfunction escapeRE (str) {\n  return str.replace(REGEXP_ESCAPE_RE, '\\\\$&')\n}\n\nfunction isSpace (code) {\n  switch (code) {\n    case 0x09:\n    case 0x20:\n      return true\n  }\n  return false\n}\n\n// Zs (unicode class) || [\\t\\f\\v\\r\\n]\nfunction isWhiteSpace (code) {\n  if (code >= 0x2000 && code <= 0x200A) { return true }\n  switch (code) {\n    case 0x09: // \\t\n    case 0x0A: // \\n\n    case 0x0B: // \\v\n    case 0x0C: // \\f\n    case 0x0D: // \\r\n    case 0x20:\n    case 0xA0:\n    case 0x1680:\n    case 0x202F:\n    case 0x205F:\n    case 0x3000:\n      return true\n  }\n  return false\n}\n\n/* eslint-disable max-len */\n\n// Currently without astral characters support.\nfunction isPunctChar (ch) {\n  return ucmicro.P.test(ch) || ucmicro.S.test(ch)\n}\n\n// Markdown ASCII punctuation characters.\n//\n// !, \", #, $, %, &, ', (, ), *, +, ,, -, ., /, :, ;, <, =, >, ?, @, [, \\, ], ^, _, `, {, |, }, or ~\n// http://spec.commonmark.org/0.15/#ascii-punctuation-character\n//\n// Don't confuse with unicode punctuation !!! It lacks some chars in ascii range.\n//\nfunction isMdAsciiPunct (ch) {\n  switch (ch) {\n    case 0x21/* ! */:\n    case 0x22/* \" */:\n    case 0x23/* # */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x26/* & */:\n    case 0x27/* ' */:\n    case 0x28/* ( */:\n    case 0x29/* ) */:\n    case 0x2A/* * */:\n    case 0x2B/* + */:\n    case 0x2C/* , */:\n    case 0x2D/* - */:\n    case 0x2E/* . */:\n    case 0x2F/* / */:\n    case 0x3A/* : */:\n    case 0x3B/* ; */:\n    case 0x3C/* < */:\n    case 0x3D/* = */:\n    case 0x3E/* > */:\n    case 0x3F/* ? */:\n    case 0x40/* @ */:\n    case 0x5B/* [ */:\n    case 0x5C/* \\ */:\n    case 0x5D/* ] */:\n    case 0x5E/* ^ */:\n    case 0x5F/* _ */:\n    case 0x60/* ` */:\n    case 0x7B/* { */:\n    case 0x7C/* | */:\n    case 0x7D/* } */:\n    case 0x7E/* ~ */:\n      return true\n    default:\n      return false\n  }\n}\n\n// Hepler to unify [reference labels].\n//\nfunction normalizeReference (str) {\n  // Trim and collapse whitespace\n  //\n  str = str.trim().replace(/\\s+/g, ' ')\n\n  // In node v10 ''.toLowerCase() === '', which is presumed to be a bug\n  // fixed in v12 (couldn't find any details).\n  //\n  // So treat this one as a special case\n  // (remove this when node v10 is no longer supported).\n  //\n  if (''.toLowerCase() === '') {\n    str = str.replace(//g, '')\n  }\n\n  // .toLowerCase().toUpperCase() should get rid of all differences\n  // between letter variants.\n  //\n  // Simple .toLowerCase() doesn't normalize 125 code points correctly,\n  // and .toUpperCase doesn't normalize 6 of them (list of exceptions:\n  // , , , , ,  - those are already uppercased, but have differently\n  // uppercased versions).\n  //\n  // Here's an example showing how it happens. Lets take greek letter omega:\n  // uppercase U+0398 (), U+03f4 () and lowercase U+03b8 (), U+03d1 ()\n  //\n  // Unicode entries:\n  // 0398;GREEK CAPITAL LETTER THETA;Lu;0;L;;;;;N;;;;03B8;\n  // 03B8;GREEK SMALL LETTER THETA;Ll;0;L;;;;;N;;;0398;;0398\n  // 03D1;GREEK THETA SYMBOL;Ll;0;L;<compat> 03B8;;;;N;GREEK SMALL LETTER SCRIPT THETA;;0398;;0398\n  // 03F4;GREEK CAPITAL THETA SYMBOL;Lu;0;L;<compat> 0398;;;;N;;;;03B8;\n  //\n  // Case-insensitive comparison should treat all of them as equivalent.\n  //\n  // But .toLowerCase() doesn't change  (it's already lowercase),\n  // and .toUpperCase() doesn't change  (already uppercase).\n  //\n  // Applying first lower then upper case normalizes any character:\n  // '\\u0398\\u03f4\\u03b8\\u03d1'.toLowerCase().toUpperCase() === '\\u0398\\u0398\\u0398\\u0398'\n  //\n  // Note: this is equivalent to unicode case folding; unicode normalization\n  // is a different step that is not required here.\n  //\n  // Final result should be uppercased, because it's later stored in an object\n  // (this avoid a conflict with Object.prototype members,\n  // most notably, `__proto__`)\n  //\n  return str.toLowerCase().toUpperCase()\n}\n\n// Re-export libraries commonly used in both markdown-it and its plugins,\n// so plugins won't have to depend on them explicitly, which reduces their\n// bundled size (e.g. a browser build).\n//\nconst lib = { mdurl, ucmicro }\n\nexport {\n  lib,\n  assign,\n  isString,\n  has,\n  unescapeMd,\n  unescapeAll,\n  isValidEntityCode,\n  fromCodePoint,\n  escapeHtml,\n  arrayReplaceAt,\n  isSpace,\n  isWhiteSpace,\n  isMdAsciiPunct,\n  isPunctChar,\n  escapeRE,\n  normalizeReference\n}\n","// Parse link label\n//\n// this function assumes that first character (\"[\") already matches;\n// returns the end of the label\n//\n\nexport default function parseLinkLabel (state, start, disableNested) {\n  let level, found, marker, prevPos\n\n  const max = state.posMax\n  const oldPos = state.pos\n\n  state.pos = start + 1\n  level = 1\n\n  while (state.pos < max) {\n    marker = state.src.charCodeAt(state.pos)\n    if (marker === 0x5D /* ] */) {\n      level--\n      if (level === 0) {\n        found = true\n        break\n      }\n    }\n\n    prevPos = state.pos\n    state.md.inline.skipToken(state)\n    if (marker === 0x5B /* [ */) {\n      if (prevPos === state.pos - 1) {\n        // increase level if we find text `[`, which is not a part of any token\n        level++\n      } else if (disableNested) {\n        state.pos = oldPos\n        return -1\n      }\n    }\n  }\n\n  let labelEnd = -1\n\n  if (found) {\n    labelEnd = state.pos\n  }\n\n  // restore old state\n  state.pos = oldPos\n\n  return labelEnd\n}\n","// Parse link destination\n//\n\nimport { unescapeAll } from '../common/utils.mjs'\n\nexport default function parseLinkDestination (str, start, max) {\n  let code\n  let pos = start\n\n  const result = {\n    ok: false,\n    pos: 0,\n    str: ''\n  }\n\n  if (str.charCodeAt(pos) === 0x3C /* < */) {\n    pos++\n    while (pos < max) {\n      code = str.charCodeAt(pos)\n      if (code === 0x0A /* \\n */) { return result }\n      if (code === 0x3C /* < */) { return result }\n      if (code === 0x3E /* > */) {\n        result.pos = pos + 1\n        result.str = unescapeAll(str.slice(start + 1, pos))\n        result.ok = true\n        return result\n      }\n      if (code === 0x5C /* \\ */ && pos + 1 < max) {\n        pos += 2\n        continue\n      }\n\n      pos++\n    }\n\n    // no closing '>'\n    return result\n  }\n\n  // this should be ... } else { ... branch\n\n  let level = 0\n  while (pos < max) {\n    code = str.charCodeAt(pos)\n\n    if (code === 0x20) { break }\n\n    // ascii control characters\n    if (code < 0x20 || code === 0x7F) { break }\n\n    if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      if (str.charCodeAt(pos + 1) === 0x20) { break }\n      pos += 2\n      continue\n    }\n\n    if (code === 0x28 /* ( */) {\n      level++\n      if (level > 32) { return result }\n    }\n\n    if (code === 0x29 /* ) */) {\n      if (level === 0) { break }\n      level--\n    }\n\n    pos++\n  }\n\n  if (start === pos) { return result }\n  if (level !== 0) { return result }\n\n  result.str = unescapeAll(str.slice(start, pos))\n  result.pos = pos\n  result.ok = true\n  return result\n}\n","// Parse link title\n//\n\nimport { unescapeAll } from '../common/utils.mjs'\n\n// Parse link title within `str` in [start, max] range,\n// or continue previous parsing if `prev_state` is defined (equal to result of last execution).\n//\nexport default function parseLinkTitle (str, start, max, prev_state) {\n  let code\n  let pos = start\n\n  const state = {\n    // if `true`, this is a valid link title\n    ok: false,\n    // if `true`, this link can be continued on the next line\n    can_continue: false,\n    // if `ok`, it's the position of the first character after the closing marker\n    pos: 0,\n    // if `ok`, it's the unescaped title\n    str: '',\n    // expected closing marker character code\n    marker: 0\n  }\n\n  if (prev_state) {\n    // this is a continuation of a previous parseLinkTitle call on the next line,\n    // used in reference links only\n    state.str = prev_state.str\n    state.marker = prev_state.marker\n  } else {\n    if (pos >= max) { return state }\n\n    let marker = str.charCodeAt(pos)\n    if (marker !== 0x22 /* \" */ && marker !== 0x27 /* ' */ && marker !== 0x28 /* ( */) { return state }\n\n    start++\n    pos++\n\n    // if opening marker is \"(\", switch it to closing marker \")\"\n    if (marker === 0x28) { marker = 0x29 }\n\n    state.marker = marker\n  }\n\n  while (pos < max) {\n    code = str.charCodeAt(pos)\n    if (code === state.marker) {\n      state.pos = pos + 1\n      state.str += unescapeAll(str.slice(start, pos))\n      state.ok = true\n      return state\n    } else if (code === 0x28 /* ( */ && state.marker === 0x29 /* ) */) {\n      return state\n    } else if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos++\n    }\n\n    pos++\n  }\n\n  // no closing marker found, but this link title may continue on the next line (for references)\n  state.can_continue = true\n  state.str += unescapeAll(str.slice(start, pos))\n  return state\n}\n","/**\n * class Renderer\n *\n * Generates HTML from parsed token stream. Each instance has independent\n * copy of rules. Those can be rewritten with ease. Also, you can add new\n * rules if you create plugin and adds new token types.\n **/\n\nimport { assign, unescapeAll, escapeHtml } from './common/utils.mjs'\n\nconst default_rules = {}\n\ndefault_rules.code_inline = function (tokens, idx, options, env, slf) {\n  const token = tokens[idx]\n\n  return  '<code' + slf.renderAttrs(token) + '>' +\n          escapeHtml(token.content) +\n          '</code>'\n}\n\ndefault_rules.code_block = function (tokens, idx, options, env, slf) {\n  const token = tokens[idx]\n\n  return  '<pre' + slf.renderAttrs(token) + '><code>' +\n          escapeHtml(tokens[idx].content) +\n          '</code></pre>\\n'\n}\n\ndefault_rules.fence = function (tokens, idx, options, env, slf) {\n  const token = tokens[idx]\n  const info = token.info ? unescapeAll(token.info).trim() : ''\n  let langName = ''\n  let langAttrs = ''\n\n  if (info) {\n    const arr = info.split(/(\\s+)/g)\n    langName = arr[0]\n    langAttrs = arr.slice(2).join('')\n  }\n\n  let highlighted\n  if (options.highlight) {\n    highlighted = options.highlight(token.content, langName, langAttrs) || escapeHtml(token.content)\n  } else {\n    highlighted = escapeHtml(token.content)\n  }\n\n  if (highlighted.indexOf('<pre') === 0) {\n    return highlighted + '\\n'\n  }\n\n  // If language exists, inject class gently, without modifying original token.\n  // May be, one day we will add .deepClone() for token and simplify this part, but\n  // now we prefer to keep things local.\n  if (info) {\n    const i = token.attrIndex('class')\n    const tmpAttrs = token.attrs ? token.attrs.slice() : []\n\n    if (i < 0) {\n      tmpAttrs.push(['class', options.langPrefix + langName])\n    } else {\n      tmpAttrs[i] = tmpAttrs[i].slice()\n      tmpAttrs[i][1] += ' ' + options.langPrefix + langName\n    }\n\n    // Fake token just to render attributes\n    const tmpToken = {\n      attrs: tmpAttrs\n    }\n\n    return `<pre><code${slf.renderAttrs(tmpToken)}>${highlighted}</code></pre>\\n`\n  }\n\n  return `<pre><code${slf.renderAttrs(token)}>${highlighted}</code></pre>\\n`\n}\n\ndefault_rules.image = function (tokens, idx, options, env, slf) {\n  const token = tokens[idx]\n\n  // \"alt\" attr MUST be set, even if empty. Because it's mandatory and\n  // should be placed on proper position for tests.\n  //\n  // Replace content with actual value\n\n  token.attrs[token.attrIndex('alt')][1] =\n    slf.renderInlineAsText(token.children, options, env)\n\n  return slf.renderToken(tokens, idx, options)\n}\n\ndefault_rules.hardbreak = function (tokens, idx, options /*, env */) {\n  return options.xhtmlOut ? '<br />\\n' : '<br>\\n'\n}\ndefault_rules.softbreak = function (tokens, idx, options /*, env */) {\n  return options.breaks ? (options.xhtmlOut ? '<br />\\n' : '<br>\\n') : '\\n'\n}\n\ndefault_rules.text = function (tokens, idx /*, options, env */) {\n  return escapeHtml(tokens[idx].content)\n}\n\ndefault_rules.html_block = function (tokens, idx /*, options, env */) {\n  return tokens[idx].content\n}\ndefault_rules.html_inline = function (tokens, idx /*, options, env */) {\n  return tokens[idx].content\n}\n\n/**\n * new Renderer()\n *\n * Creates new [[Renderer]] instance and fill [[Renderer#rules]] with defaults.\n **/\nfunction Renderer () {\n  /**\n   * Renderer#rules -> Object\n   *\n   * Contains render rules for tokens. Can be updated and extended.\n   *\n   * ##### Example\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   *\n   * md.renderer.rules.strong_open  = function () { return '<b>'; };\n   * md.renderer.rules.strong_close = function () { return '</b>'; };\n   *\n   * var result = md.renderInline(...);\n   * ```\n   *\n   * Each rule is called as independent static function with fixed signature:\n   *\n   * ```javascript\n   * function my_token_render(tokens, idx, options, env, renderer) {\n   *   // ...\n   *   return renderedHTML;\n   * }\n   * ```\n   *\n   * See [source code](https://github.com/markdown-it/markdown-it/blob/master/lib/renderer.mjs)\n   * for more details and examples.\n   **/\n  this.rules = assign({}, default_rules)\n}\n\n/**\n * Renderer.renderAttrs(token) -> String\n *\n * Render token attributes to string.\n **/\nRenderer.prototype.renderAttrs = function renderAttrs (token) {\n  let i, l, result\n\n  if (!token.attrs) { return '' }\n\n  result = ''\n\n  for (i = 0, l = token.attrs.length; i < l; i++) {\n    result += ' ' + escapeHtml(token.attrs[i][0]) + '=\"' + escapeHtml(token.attrs[i][1]) + '\"'\n  }\n\n  return result\n}\n\n/**\n * Renderer.renderToken(tokens, idx, options) -> String\n * - tokens (Array): list of tokens\n * - idx (Numbed): token index to render\n * - options (Object): params of parser instance\n *\n * Default token renderer. Can be overriden by custom function\n * in [[Renderer#rules]].\n **/\nRenderer.prototype.renderToken = function renderToken (tokens, idx, options) {\n  const token = tokens[idx]\n  let result = ''\n\n  // Tight list paragraphs\n  if (token.hidden) {\n    return ''\n  }\n\n  // Insert a newline between hidden paragraph and subsequent opening\n  // block-level tag.\n  //\n  // For example, here we should insert a newline before blockquote:\n  //  - a\n  //    >\n  //\n  if (token.block && token.nesting !== -1 && idx && tokens[idx - 1].hidden) {\n    result += '\\n'\n  }\n\n  // Add token name, e.g. `<img`\n  result += (token.nesting === -1 ? '</' : '<') + token.tag\n\n  // Encode attributes, e.g. `<img src=\"foo\"`\n  result += this.renderAttrs(token)\n\n  // Add a slash for self-closing tags, e.g. `<img src=\"foo\" /`\n  if (token.nesting === 0 && options.xhtmlOut) {\n    result += ' /'\n  }\n\n  // Check if we need to add a newline after this tag\n  let needLf = false\n  if (token.block) {\n    needLf = true\n\n    if (token.nesting === 1) {\n      if (idx + 1 < tokens.length) {\n        const nextToken = tokens[idx + 1]\n\n        if (nextToken.type === 'inline' || nextToken.hidden) {\n          // Block-level tag containing an inline tag.\n          //\n          needLf = false\n        } else if (nextToken.nesting === -1 && nextToken.tag === token.tag) {\n          // Opening tag + closing tag of the same type. E.g. `<li></li>`.\n          //\n          needLf = false\n        }\n      }\n    }\n  }\n\n  result += needLf ? '>\\n' : '>'\n\n  return result\n}\n\n/**\n * Renderer.renderInline(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to render\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * The same as [[Renderer.render]], but for single token of `inline` type.\n **/\nRenderer.prototype.renderInline = function (tokens, options, env) {\n  let result = ''\n  const rules = this.rules\n\n  for (let i = 0, len = tokens.length; i < len; i++) {\n    const type = tokens[i].type\n\n    if (typeof rules[type] !== 'undefined') {\n      result += rules[type](tokens, i, options, env, this)\n    } else {\n      result += this.renderToken(tokens, i, options)\n    }\n  }\n\n  return result\n}\n\n/** internal\n * Renderer.renderInlineAsText(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to render\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * Special kludge for image `alt` attributes to conform CommonMark spec.\n * Don't try to use it! Spec requires to show `alt` content with stripped markup,\n * instead of simple escaping.\n **/\nRenderer.prototype.renderInlineAsText = function (tokens, options, env) {\n  let result = ''\n\n  for (let i = 0, len = tokens.length; i < len; i++) {\n    switch (tokens[i].type) {\n      case 'text':\n        result += tokens[i].content\n        break\n      case 'image':\n        result += this.renderInlineAsText(tokens[i].children, options, env)\n        break\n      case 'html_inline':\n      case 'html_block':\n        result += tokens[i].content\n        break\n      case 'softbreak':\n      case 'hardbreak':\n        result += '\\n'\n        break\n      default:\n        // all other tokens are skipped\n    }\n  }\n\n  return result\n}\n\n/**\n * Renderer.render(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to render\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * Takes token stream and generates HTML. Probably, you will never need to call\n * this method directly.\n **/\nRenderer.prototype.render = function (tokens, options, env) {\n  let result = ''\n  const rules = this.rules\n\n  for (let i = 0, len = tokens.length; i < len; i++) {\n    const type = tokens[i].type\n\n    if (type === 'inline') {\n      result += this.renderInline(tokens[i].children, options, env)\n    } else if (typeof rules[type] !== 'undefined') {\n      result += rules[type](tokens, i, options, env, this)\n    } else {\n      result += this.renderToken(tokens, i, options, env)\n    }\n  }\n\n  return result\n}\n\nexport default Renderer\n","/**\n * class Ruler\n *\n * Helper class, used by [[MarkdownIt#core]], [[MarkdownIt#block]] and\n * [[MarkdownIt#inline]] to manage sequences of functions (rules):\n *\n * - keep rules in defined order\n * - assign the name to each rule\n * - enable/disable rules\n * - add/replace rules\n * - allow assign rules to additional named chains (in the same)\n * - cacheing lists of active rules\n *\n * You will not need use this class directly until write plugins. For simple\n * rules control use [[MarkdownIt.disable]], [[MarkdownIt.enable]] and\n * [[MarkdownIt.use]].\n **/\n\n/**\n * new Ruler()\n **/\nfunction Ruler () {\n  // List of added rules. Each element is:\n  //\n  // {\n  //   name: XXX,\n  //   enabled: Boolean,\n  //   fn: Function(),\n  //   alt: [ name2, name3 ]\n  // }\n  //\n  this.__rules__ = []\n\n  // Cached rule chains.\n  //\n  // First level - chain name, '' for default.\n  // Second level - diginal anchor for fast filtering by charcodes.\n  //\n  this.__cache__ = null\n}\n\n// Helper methods, should not be used directly\n\n// Find rule index by name\n//\nRuler.prototype.__find__ = function (name) {\n  for (let i = 0; i < this.__rules__.length; i++) {\n    if (this.__rules__[i].name === name) {\n      return i\n    }\n  }\n  return -1\n}\n\n// Build rules lookup cache\n//\nRuler.prototype.__compile__ = function () {\n  const self = this\n  const chains = ['']\n\n  // collect unique names\n  self.__rules__.forEach(function (rule) {\n    if (!rule.enabled) { return }\n\n    rule.alt.forEach(function (altName) {\n      if (chains.indexOf(altName) < 0) {\n        chains.push(altName)\n      }\n    })\n  })\n\n  self.__cache__ = {}\n\n  chains.forEach(function (chain) {\n    self.__cache__[chain] = []\n    self.__rules__.forEach(function (rule) {\n      if (!rule.enabled) { return }\n\n      if (chain && rule.alt.indexOf(chain) < 0) { return }\n\n      self.__cache__[chain].push(rule.fn)\n    })\n  })\n}\n\n/**\n * Ruler.at(name, fn [, options])\n * - name (String): rule name to replace.\n * - fn (Function): new rule function.\n * - options (Object): new rule options (not mandatory).\n *\n * Replace rule by name with new function & options. Throws error if name not\n * found.\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * Replace existing typographer replacement rule with new one:\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.at('replacements', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.at = function (name, fn, options) {\n  const index = this.__find__(name)\n  const opt = options || {}\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + name) }\n\n  this.__rules__[index].fn = fn\n  this.__rules__[index].alt = opt.alt || []\n  this.__cache__ = null\n}\n\n/**\n * Ruler.before(beforeName, ruleName, fn [, options])\n * - beforeName (String): new rule will be added before this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain before one with given name. See also\n * [[Ruler.after]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.block.ruler.before('paragraph', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.before = function (beforeName, ruleName, fn, options) {\n  const index = this.__find__(beforeName)\n  const opt = options || {}\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + beforeName) }\n\n  this.__rules__.splice(index, 0, {\n    name: ruleName,\n    enabled: true,\n    fn,\n    alt: opt.alt || []\n  })\n\n  this.__cache__ = null\n}\n\n/**\n * Ruler.after(afterName, ruleName, fn [, options])\n * - afterName (String): new rule will be added after this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain after one with given name. See also\n * [[Ruler.before]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.inline.ruler.after('text', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.after = function (afterName, ruleName, fn, options) {\n  const index = this.__find__(afterName)\n  const opt = options || {}\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + afterName) }\n\n  this.__rules__.splice(index + 1, 0, {\n    name: ruleName,\n    enabled: true,\n    fn,\n    alt: opt.alt || []\n  })\n\n  this.__cache__ = null\n}\n\n/**\n * Ruler.push(ruleName, fn [, options])\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Push new rule to the end of chain. See also\n * [[Ruler.before]], [[Ruler.after]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.push('my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.push = function (ruleName, fn, options) {\n  const opt = options || {}\n\n  this.__rules__.push({\n    name: ruleName,\n    enabled: true,\n    fn,\n    alt: opt.alt || []\n  })\n\n  this.__cache__ = null\n}\n\n/**\n * Ruler.enable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to enable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.disable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.enable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [list] }\n\n  const result = []\n\n  // Search by name and enable\n  list.forEach(function (name) {\n    const idx = this.__find__(name)\n\n    if (idx < 0) {\n      if (ignoreInvalid) { return }\n      throw new Error('Rules manager: invalid rule name ' + name)\n    }\n    this.__rules__[idx].enabled = true\n    result.push(name)\n  }, this)\n\n  this.__cache__ = null\n  return result\n}\n\n/**\n * Ruler.enableOnly(list [, ignoreInvalid])\n * - list (String|Array): list of rule names to enable (whitelist).\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names, and disable everything else. If any rule name\n * not found - throw Error. Errors can be disabled by second param.\n *\n * See also [[Ruler.disable]], [[Ruler.enable]].\n **/\nRuler.prototype.enableOnly = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [list] }\n\n  this.__rules__.forEach(function (rule) { rule.enabled = false })\n\n  this.enable(list, ignoreInvalid)\n}\n\n/**\n * Ruler.disable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to disable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Disable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.enable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.disable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [list] }\n\n  const result = []\n\n  // Search by name and disable\n  list.forEach(function (name) {\n    const idx = this.__find__(name)\n\n    if (idx < 0) {\n      if (ignoreInvalid) { return }\n      throw new Error('Rules manager: invalid rule name ' + name)\n    }\n    this.__rules__[idx].enabled = false\n    result.push(name)\n  }, this)\n\n  this.__cache__ = null\n  return result\n}\n\n/**\n * Ruler.getRules(chainName) -> Array\n *\n * Return array of active functions (rules) for given chain name. It analyzes\n * rules configuration, compiles caches if not exists and returns result.\n *\n * Default chain name is `''` (empty string). It can't be skipped. That's\n * done intentionally, to keep signature monomorphic for high speed.\n **/\nRuler.prototype.getRules = function (chainName) {\n  if (this.__cache__ === null) {\n    this.__compile__()\n  }\n\n  // Chain can be empty, if rules disabled. But we still have to return Array.\n  return this.__cache__[chainName] || []\n}\n\nexport default Ruler\n","// Token class\n\n/**\n * class Token\n **/\n\n/**\n * new Token(type, tag, nesting)\n *\n * Create new token and fill passed properties.\n **/\nfunction Token (type, tag, nesting) {\n  /**\n   * Token#type -> String\n   *\n   * Type of the token (string, e.g. \"paragraph_open\")\n   **/\n  this.type     = type\n\n  /**\n   * Token#tag -> String\n   *\n   * html tag name, e.g. \"p\"\n   **/\n  this.tag      = tag\n\n  /**\n   * Token#attrs -> Array\n   *\n   * Html attributes. Format: `[ [ name1, value1 ], [ name2, value2 ] ]`\n   **/\n  this.attrs    = null\n\n  /**\n   * Token#map -> Array\n   *\n   * Source map info. Format: `[ line_begin, line_end ]`\n   **/\n  this.map      = null\n\n  /**\n   * Token#nesting -> Number\n   *\n   * Level change (number in {-1, 0, 1} set), where:\n   *\n   * -  `1` means the tag is opening\n   * -  `0` means the tag is self-closing\n   * - `-1` means the tag is closing\n   **/\n  this.nesting  = nesting\n\n  /**\n   * Token#level -> Number\n   *\n   * nesting level, the same as `state.level`\n   **/\n  this.level    = 0\n\n  /**\n   * Token#children -> Array\n   *\n   * An array of child nodes (inline and img tokens)\n   **/\n  this.children = null\n\n  /**\n   * Token#content -> String\n   *\n   * In a case of self-closing tag (code, html, fence, etc.),\n   * it has contents of this tag.\n   **/\n  this.content  = ''\n\n  /**\n   * Token#markup -> String\n   *\n   * '*' or '_' for emphasis, fence string for fence, etc.\n   **/\n  this.markup   = ''\n\n  /**\n   * Token#info -> String\n   *\n   * Additional information:\n   *\n   * - Info string for \"fence\" tokens\n   * - The value \"auto\" for autolink \"link_open\" and \"link_close\" tokens\n   * - The string value of the item marker for ordered-list \"list_item_open\" tokens\n   **/\n  this.info     = ''\n\n  /**\n   * Token#meta -> Object\n   *\n   * A place for plugins to store an arbitrary data\n   **/\n  this.meta     = null\n\n  /**\n   * Token#block -> Boolean\n   *\n   * True for block-level tokens, false for inline tokens.\n   * Used in renderer to calculate line breaks\n   **/\n  this.block    = false\n\n  /**\n   * Token#hidden -> Boolean\n   *\n   * If it's true, ignore this element when rendering. Used for tight lists\n   * to hide paragraphs.\n   **/\n  this.hidden   = false\n}\n\n/**\n * Token.attrIndex(name) -> Number\n *\n * Search attribute index by name.\n **/\nToken.prototype.attrIndex = function attrIndex (name) {\n  if (!this.attrs) { return -1 }\n\n  const attrs = this.attrs\n\n  for (let i = 0, len = attrs.length; i < len; i++) {\n    if (attrs[i][0] === name) { return i }\n  }\n  return -1\n}\n\n/**\n * Token.attrPush(attrData)\n *\n * Add `[ name, value ]` attribute to list. Init attrs if necessary\n **/\nToken.prototype.attrPush = function attrPush (attrData) {\n  if (this.attrs) {\n    this.attrs.push(attrData)\n  } else {\n    this.attrs = [attrData]\n  }\n}\n\n/**\n * Token.attrSet(name, value)\n *\n * Set `name` attribute to `value`. Override old value if exists.\n **/\nToken.prototype.attrSet = function attrSet (name, value) {\n  const idx = this.attrIndex(name)\n  const attrData = [name, value]\n\n  if (idx < 0) {\n    this.attrPush(attrData)\n  } else {\n    this.attrs[idx] = attrData\n  }\n}\n\n/**\n * Token.attrGet(name)\n *\n * Get the value of attribute `name`, or null if it does not exist.\n **/\nToken.prototype.attrGet = function attrGet (name) {\n  const idx = this.attrIndex(name)\n  let value = null\n  if (idx >= 0) {\n    value = this.attrs[idx][1]\n  }\n  return value\n}\n\n/**\n * Token.attrJoin(name, value)\n *\n * Join value to existing attribute via space. Or create new attribute if not\n * exists. Useful to operate with token classes.\n **/\nToken.prototype.attrJoin = function attrJoin (name, value) {\n  const idx = this.attrIndex(name)\n\n  if (idx < 0) {\n    this.attrPush([name, value])\n  } else {\n    this.attrs[idx][1] = this.attrs[idx][1] + ' ' + value\n  }\n}\n\nexport default Token\n","// Core state object\n//\n\nimport Token from '../token.mjs'\n\nfunction StateCore (src, md, env) {\n  this.src = src\n  this.env = env\n  this.tokens = []\n  this.inlineMode = false\n  this.md = md // link to parser instance\n}\n\n// re-export Token class to use in core rules\nStateCore.prototype.Token = Token\n\nexport default StateCore\n","// Normalize input string\n\n// https://spec.commonmark.org/0.29/#line-ending\nconst NEWLINES_RE  = /\\r\\n?|\\n/g\nconst NULL_RE      = /\\0/g\n\nexport default function normalize (state) {\n  let str\n\n  // Normalize newlines\n  str = state.src.replace(NEWLINES_RE, '\\n')\n\n  // Replace NULL characters\n  str = str.replace(NULL_RE, '\\uFFFD')\n\n  state.src = str\n}\n","// Simple typographic replacements\n//\n// (c) (C)  \n// (tm) (TM)  \n// (r) (R)  \n// +-  \n// ...   (also ?....  ?.., !....  !..)\n// ????????  ???, !!!!!  !!!, `,,`  `,`\n// --  &ndash;, ---  &mdash;\n//\n\n// TODO:\n// - fractionals 1/2, 1/4, 3/4 -> , , \n// - multiplications 2 x 4 -> 2  4\n\nconst RARE_RE = /\\+-|\\.\\.|\\?\\?\\?\\?|!!!!|,,|--/\n\n// Workaround for phantomjs - need regex without /g flag,\n// or root check will fail every second time\nconst SCOPED_ABBR_TEST_RE = /\\((c|tm|r)\\)/i\n\nconst SCOPED_ABBR_RE = /\\((c|tm|r)\\)/ig\nconst SCOPED_ABBR = {\n  c: '',\n  r: '',\n  tm: ''\n}\n\nfunction replaceFn (match, name) {\n  return SCOPED_ABBR[name.toLowerCase()]\n}\n\nfunction replace_scoped (inlineTokens) {\n  let inside_autolink = 0\n\n  for (let i = inlineTokens.length - 1; i >= 0; i--) {\n    const token = inlineTokens[i]\n\n    if (token.type === 'text' && !inside_autolink) {\n      token.content = token.content.replace(SCOPED_ABBR_RE, replaceFn)\n    }\n\n    if (token.type === 'link_open' && token.info === 'auto') {\n      inside_autolink--\n    }\n\n    if (token.type === 'link_close' && token.info === 'auto') {\n      inside_autolink++\n    }\n  }\n}\n\nfunction replace_rare (inlineTokens) {\n  let inside_autolink = 0\n\n  for (let i = inlineTokens.length - 1; i >= 0; i--) {\n    const token = inlineTokens[i]\n\n    if (token.type === 'text' && !inside_autolink) {\n      if (RARE_RE.test(token.content)) {\n        token.content = token.content\n          .replace(/\\+-/g, '')\n          // .., ..., ....... -> \n          // but ?..... & !..... -> ?.. & !..\n          .replace(/\\.{2,}/g, '').replace(/([?!])/g, '$1..')\n          .replace(/([?!]){4,}/g, '$1$1$1').replace(/,{2,}/g, ',')\n          // em-dash\n          .replace(/(^|[^-])---(?=[^-]|$)/mg, '$1\\u2014')\n          // en-dash\n          .replace(/(^|\\s)--(?=\\s|$)/mg, '$1\\u2013')\n          .replace(/(^|[^-\\s])--(?=[^-\\s]|$)/mg, '$1\\u2013')\n      }\n    }\n\n    if (token.type === 'link_open' && token.info === 'auto') {\n      inside_autolink--\n    }\n\n    if (token.type === 'link_close' && token.info === 'auto') {\n      inside_autolink++\n    }\n  }\n}\n\nexport default function replace (state) {\n  let blkIdx\n\n  if (!state.md.options.typographer) { return }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n    if (state.tokens[blkIdx].type !== 'inline') { continue }\n\n    if (SCOPED_ABBR_TEST_RE.test(state.tokens[blkIdx].content)) {\n      replace_scoped(state.tokens[blkIdx].children)\n    }\n\n    if (RARE_RE.test(state.tokens[blkIdx].content)) {\n      replace_rare(state.tokens[blkIdx].children)\n    }\n  }\n}\n","// Convert straight quotation marks to typographic ones\n//\n\nimport { isWhiteSpace, isPunctChar, isMdAsciiPunct } from '../common/utils.mjs'\n\nconst QUOTE_TEST_RE = /['\"]/\nconst QUOTE_RE = /['\"]/g\nconst APOSTROPHE = '\\u2019' /*  */\n\nfunction replaceAt (str, index, ch) {\n  return str.slice(0, index) + ch + str.slice(index + 1)\n}\n\nfunction process_inlines (tokens, state) {\n  let j\n\n  const stack = []\n\n  for (let i = 0; i < tokens.length; i++) {\n    const token = tokens[i]\n\n    const thisLevel = tokens[i].level\n\n    for (j = stack.length - 1; j >= 0; j--) {\n      if (stack[j].level <= thisLevel) { break }\n    }\n    stack.length = j + 1\n\n    if (token.type !== 'text') { continue }\n\n    let text = token.content\n    let pos = 0\n    let max = text.length\n\n    /* eslint no-labels:0,block-scoped-var:0 */\n    OUTER:\n    while (pos < max) {\n      QUOTE_RE.lastIndex = pos\n      const t = QUOTE_RE.exec(text)\n      if (!t) { break }\n\n      let canOpen = true\n      let canClose = true\n      pos = t.index + 1\n      const isSingle = (t[0] === \"'\")\n\n      // Find previous character,\n      // default to space if it's the beginning of the line\n      //\n      let lastChar = 0x20\n\n      if (t.index - 1 >= 0) {\n        lastChar = text.charCodeAt(t.index - 1)\n      } else {\n        for (j = i - 1; j >= 0; j--) {\n          if (tokens[j].type === 'softbreak' || tokens[j].type === 'hardbreak') break // lastChar defaults to 0x20\n          if (!tokens[j].content) continue // should skip all tokens except 'text', 'html_inline' or 'code_inline'\n\n          lastChar = tokens[j].content.charCodeAt(tokens[j].content.length - 1)\n          break\n        }\n      }\n\n      // Find next character,\n      // default to space if it's the end of the line\n      //\n      let nextChar = 0x20\n\n      if (pos < max) {\n        nextChar = text.charCodeAt(pos)\n      } else {\n        for (j = i + 1; j < tokens.length; j++) {\n          if (tokens[j].type === 'softbreak' || tokens[j].type === 'hardbreak') break // nextChar defaults to 0x20\n          if (!tokens[j].content) continue // should skip all tokens except 'text', 'html_inline' or 'code_inline'\n\n          nextChar = tokens[j].content.charCodeAt(0)\n          break\n        }\n      }\n\n      const isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar))\n      const isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar))\n\n      const isLastWhiteSpace = isWhiteSpace(lastChar)\n      const isNextWhiteSpace = isWhiteSpace(nextChar)\n\n      if (isNextWhiteSpace) {\n        canOpen = false\n      } else if (isNextPunctChar) {\n        if (!(isLastWhiteSpace || isLastPunctChar)) {\n          canOpen = false\n        }\n      }\n\n      if (isLastWhiteSpace) {\n        canClose = false\n      } else if (isLastPunctChar) {\n        if (!(isNextWhiteSpace || isNextPunctChar)) {\n          canClose = false\n        }\n      }\n\n      if (nextChar === 0x22 /* \" */ && t[0] === '\"') {\n        if (lastChar >= 0x30 /* 0 */ && lastChar <= 0x39 /* 9 */) {\n          // special case: 1\"\" - count first quote as an inch\n          canClose = canOpen = false\n        }\n      }\n\n      if (canOpen && canClose) {\n        // Replace quotes in the middle of punctuation sequence, but not\n        // in the middle of the words, i.e.:\n        //\n        // 1. foo \" bar \" baz - not replaced\n        // 2. foo-\"-bar-\"-baz - replaced\n        // 3. foo\"bar\"baz     - not replaced\n        //\n        canOpen = isLastPunctChar\n        canClose = isNextPunctChar\n      }\n\n      if (!canOpen && !canClose) {\n        // middle of word\n        if (isSingle) {\n          token.content = replaceAt(token.content, t.index, APOSTROPHE)\n        }\n        continue\n      }\n\n      if (canClose) {\n        // this could be a closing quote, rewind the stack to get a match\n        for (j = stack.length - 1; j >= 0; j--) {\n          let item = stack[j]\n          if (stack[j].level < thisLevel) { break }\n          if (item.single === isSingle && stack[j].level === thisLevel) {\n            item = stack[j]\n\n            let openQuote\n            let closeQuote\n            if (isSingle) {\n              openQuote = state.md.options.quotes[2]\n              closeQuote = state.md.options.quotes[3]\n            } else {\n              openQuote = state.md.options.quotes[0]\n              closeQuote = state.md.options.quotes[1]\n            }\n\n            // replace token.content *before* tokens[item.token].content,\n            // because, if they are pointing at the same token, replaceAt\n            // could mess up indices when quote length != 1\n            token.content = replaceAt(token.content, t.index, closeQuote)\n            tokens[item.token].content = replaceAt(\n              tokens[item.token].content, item.pos, openQuote)\n\n            pos += closeQuote.length - 1\n            if (item.token === i) { pos += openQuote.length - 1 }\n\n            text = token.content\n            max = text.length\n\n            stack.length = j\n            continue OUTER\n          }\n        }\n      }\n\n      if (canOpen) {\n        stack.push({\n          token: i,\n          pos: t.index,\n          single: isSingle,\n          level: thisLevel\n        })\n      } else if (canClose && isSingle) {\n        token.content = replaceAt(token.content, t.index, APOSTROPHE)\n      }\n    }\n  }\n}\n\nexport default function smartquotes (state) {\n  /* eslint max-depth:0 */\n  if (!state.md.options.typographer) { return }\n\n  for (let blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n    if (state.tokens[blkIdx].type !== 'inline' ||\n        !QUOTE_TEST_RE.test(state.tokens[blkIdx].content)) {\n      continue\n    }\n\n    process_inlines(state.tokens[blkIdx].children, state)\n  }\n}\n","/** internal\n * class Core\n *\n * Top-level rules executor. Glues block/inline parsers and does intermediate\n * transformations.\n **/\n\nimport Ruler from './ruler.mjs'\nimport StateCore from './rules_core/state_core.mjs'\n\nimport r_normalize from './rules_core/normalize.mjs'\nimport r_block from './rules_core/block.mjs'\nimport r_inline from './rules_core/inline.mjs'\nimport r_linkify from './rules_core/linkify.mjs'\nimport r_replacements from './rules_core/replacements.mjs'\nimport r_smartquotes from './rules_core/smartquotes.mjs'\nimport r_text_join from './rules_core/text_join.mjs'\n\nconst _rules = [\n  ['normalize',      r_normalize],\n  ['block',          r_block],\n  ['inline',         r_inline],\n  ['linkify',        r_linkify],\n  ['replacements',   r_replacements],\n  ['smartquotes',    r_smartquotes],\n  // `text_join` finds `text_special` tokens (for escape sequences)\n  // and joins them with the rest of the text\n  ['text_join',      r_text_join]\n]\n\n/**\n * new Core()\n **/\nfunction Core () {\n  /**\n   * Core#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of core rules.\n   **/\n  this.ruler = new Ruler()\n\n  for (let i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1])\n  }\n}\n\n/**\n * Core.process(state)\n *\n * Executes core chain rules.\n **/\nCore.prototype.process = function (state) {\n  const rules = this.ruler.getRules('')\n\n  for (let i = 0, l = rules.length; i < l; i++) {\n    rules[i](state)\n  }\n}\n\nCore.prototype.State = StateCore\n\nexport default Core\n","export default function block (state) {\n  let token\n\n  if (state.inlineMode) {\n    token          = new state.Token('inline', '', 0)\n    token.content  = state.src\n    token.map      = [0, 1]\n    token.children = []\n    state.tokens.push(token)\n  } else {\n    state.md.block.parse(state.src, state.md, state.env, state.tokens)\n  }\n}\n","export default function inline (state) {\n  const tokens = state.tokens\n\n  // Parse inlines\n  for (let i = 0, l = tokens.length; i < l; i++) {\n    const tok = tokens[i]\n    if (tok.type === 'inline') {\n      state.md.inline.parse(tok.content, state.md, state.env, tok.children)\n    }\n  }\n}\n","// Replace link-like texts with link nodes.\n//\n// Currently restricted by `md.validateLink()` to http/https/ftp\n//\n\nimport { arrayReplaceAt } from '../common/utils.mjs'\n\nfunction isLinkOpen (str) {\n  return /^<a[>\\s]/i.test(str)\n}\nfunction isLinkClose (str) {\n  return /^<\\/a\\s*>/i.test(str)\n}\n\nexport default function linkify (state) {\n  const blockTokens = state.tokens\n\n  if (!state.md.options.linkify) { return }\n\n  for (let j = 0, l = blockTokens.length; j < l; j++) {\n    if (blockTokens[j].type !== 'inline' ||\n        !state.md.linkify.pretest(blockTokens[j].content)) {\n      continue\n    }\n\n    let tokens = blockTokens[j].children\n\n    let htmlLinkLevel = 0\n\n    // We scan from the end, to keep position when new tags added.\n    // Use reversed logic in links start/end match\n    for (let i = tokens.length - 1; i >= 0; i--) {\n      const currentToken = tokens[i]\n\n      // Skip content of markdown links\n      if (currentToken.type === 'link_close') {\n        i--\n        while (tokens[i].level !== currentToken.level && tokens[i].type !== 'link_open') {\n          i--\n        }\n        continue\n      }\n\n      // Skip content of html tag links\n      if (currentToken.type === 'html_inline') {\n        if (isLinkOpen(currentToken.content) && htmlLinkLevel > 0) {\n          htmlLinkLevel--\n        }\n        if (isLinkClose(currentToken.content)) {\n          htmlLinkLevel++\n        }\n      }\n      if (htmlLinkLevel > 0) { continue }\n\n      if (currentToken.type === 'text' && state.md.linkify.test(currentToken.content)) {\n        const text = currentToken.content\n        let links = state.md.linkify.match(text)\n\n        // Now split string to nodes\n        const nodes = []\n        let level = currentToken.level\n        let lastPos = 0\n\n        // forbid escape sequence at the start of the string,\n        // this avoids http\\://example.com/ from being linkified as\n        // http:<a href=\"//example.com/\">//example.com/</a>\n        if (links.length > 0 &&\n            links[0].index === 0 &&\n            i > 0 &&\n            tokens[i - 1].type === 'text_special') {\n          links = links.slice(1)\n        }\n\n        for (let ln = 0; ln < links.length; ln++) {\n          const url = links[ln].url\n          const fullUrl = state.md.normalizeLink(url)\n          if (!state.md.validateLink(fullUrl)) { continue }\n\n          let urlText = links[ln].text\n\n          // Linkifier might send raw hostnames like \"example.com\", where url\n          // starts with domain name. So we prepend http:// in those cases,\n          // and remove it afterwards.\n          //\n          if (!links[ln].schema) {\n            urlText = state.md.normalizeLinkText('http://' + urlText).replace(/^http:\\/\\//, '')\n          } else if (links[ln].schema === 'mailto:' && !/^mailto:/i.test(urlText)) {\n            urlText = state.md.normalizeLinkText('mailto:' + urlText).replace(/^mailto:/, '')\n          } else {\n            urlText = state.md.normalizeLinkText(urlText)\n          }\n\n          const pos = links[ln].index\n\n          if (pos > lastPos) {\n            const token   = new state.Token('text', '', 0)\n            token.content = text.slice(lastPos, pos)\n            token.level   = level\n            nodes.push(token)\n          }\n\n          const token_o   = new state.Token('link_open', 'a', 1)\n          token_o.attrs   = [['href', fullUrl]]\n          token_o.level   = level++\n          token_o.markup  = 'linkify'\n          token_o.info    = 'auto'\n          nodes.push(token_o)\n\n          const token_t   = new state.Token('text', '', 0)\n          token_t.content = urlText\n          token_t.level   = level\n          nodes.push(token_t)\n\n          const token_c   = new state.Token('link_close', 'a', -1)\n          token_c.level   = --level\n          token_c.markup  = 'linkify'\n          token_c.info    = 'auto'\n          nodes.push(token_c)\n\n          lastPos = links[ln].lastIndex\n        }\n        if (lastPos < text.length) {\n          const token   = new state.Token('text', '', 0)\n          token.content = text.slice(lastPos)\n          token.level   = level\n          nodes.push(token)\n        }\n\n        // replace current node\n        blockTokens[j].children = tokens = arrayReplaceAt(tokens, i, nodes)\n      }\n    }\n  }\n}\n","// Join raw text tokens with the rest of the text\n//\n// This is set as a separate rule to provide an opportunity for plugins\n// to run text replacements after text join, but before escape join.\n//\n// For example, `\\:)` shouldn't be replaced with an emoji.\n//\n\nexport default function text_join (state) {\n  let curr, last\n  const blockTokens = state.tokens\n  const l = blockTokens.length\n\n  for (let j = 0; j < l; j++) {\n    if (blockTokens[j].type !== 'inline') continue\n\n    const tokens = blockTokens[j].children\n    const max = tokens.length\n\n    for (curr = 0; curr < max; curr++) {\n      if (tokens[curr].type === 'text_special') {\n        tokens[curr].type = 'text'\n      }\n    }\n\n    for (curr = last = 0; curr < max; curr++) {\n      if (tokens[curr].type === 'text' &&\n          curr + 1 < max &&\n          tokens[curr + 1].type === 'text') {\n        // collapse two adjacent text nodes\n        tokens[curr + 1].content = tokens[curr].content + tokens[curr + 1].content\n      } else {\n        if (curr !== last) { tokens[last] = tokens[curr] }\n\n        last++\n      }\n    }\n\n    if (curr !== last) {\n      tokens.length = last\n    }\n  }\n}\n","// Parser state class\n\nimport Token from '../token.mjs'\nimport { isSpace } from '../common/utils.mjs'\n\nfunction StateBlock (src, md, env, tokens) {\n  this.src = src\n\n  // link to parser instance\n  this.md     = md\n\n  this.env = env\n\n  //\n  // Internal state vartiables\n  //\n\n  this.tokens = tokens\n\n  this.bMarks = []  // line begin offsets for fast jumps\n  this.eMarks = []  // line end offsets for fast jumps\n  this.tShift = []  // offsets of the first non-space characters (tabs not expanded)\n  this.sCount = []  // indents for each line (tabs expanded)\n\n  // An amount of virtual spaces (tabs expanded) between beginning\n  // of each line (bMarks) and real beginning of that line.\n  //\n  // It exists only as a hack because blockquotes override bMarks\n  // losing information in the process.\n  //\n  // It's used only when expanding tabs, you can think about it as\n  // an initial tab length, e.g. bsCount=21 applied to string `\\t123`\n  // means first tab should be expanded to 4-21%4 === 3 spaces.\n  //\n  this.bsCount = []\n\n  // block parser variables\n\n  // required block content indent (for example, if we are\n  // inside a list, it would be positioned after list marker)\n  this.blkIndent  = 0\n  this.line       = 0 // line index in src\n  this.lineMax    = 0 // lines count\n  this.tight      = false  // loose/tight mode for lists\n  this.ddIndent   = -1 // indent of the current dd block (-1 if there isn't any)\n  this.listIndent = -1 // indent of the current list block (-1 if there isn't any)\n\n  // can be 'blockquote', 'list', 'root', 'paragraph' or 'reference'\n  // used in lists to determine if they interrupt a paragraph\n  this.parentType = 'root'\n\n  this.level = 0\n\n  // Create caches\n  // Generate markers.\n  const s = this.src\n\n  for (let start = 0, pos = 0, indent = 0, offset = 0, len = s.length, indent_found = false; pos < len; pos++) {\n    const ch = s.charCodeAt(pos)\n\n    if (!indent_found) {\n      if (isSpace(ch)) {\n        indent++\n\n        if (ch === 0x09) {\n          offset += 4 - offset % 4\n        } else {\n          offset++\n        }\n        continue\n      } else {\n        indent_found = true\n      }\n    }\n\n    if (ch === 0x0A || pos === len - 1) {\n      if (ch !== 0x0A) { pos++ }\n      this.bMarks.push(start)\n      this.eMarks.push(pos)\n      this.tShift.push(indent)\n      this.sCount.push(offset)\n      this.bsCount.push(0)\n\n      indent_found = false\n      indent = 0\n      offset = 0\n      start = pos + 1\n    }\n  }\n\n  // Push fake entry to simplify cache bounds checks\n  this.bMarks.push(s.length)\n  this.eMarks.push(s.length)\n  this.tShift.push(0)\n  this.sCount.push(0)\n  this.bsCount.push(0)\n\n  this.lineMax = this.bMarks.length - 1 // don't count last fake line\n}\n\n// Push new token to \"stream\".\n//\nStateBlock.prototype.push = function (type, tag, nesting) {\n  const token = new Token(type, tag, nesting)\n  token.block = true\n\n  if (nesting < 0) this.level-- // closing tag\n  token.level = this.level\n  if (nesting > 0) this.level++ // opening tag\n\n  this.tokens.push(token)\n  return token\n}\n\nStateBlock.prototype.isEmpty = function isEmpty (line) {\n  return this.bMarks[line] + this.tShift[line] >= this.eMarks[line]\n}\n\nStateBlock.prototype.skipEmptyLines = function skipEmptyLines (from) {\n  for (let max = this.lineMax; from < max; from++) {\n    if (this.bMarks[from] + this.tShift[from] < this.eMarks[from]) {\n      break\n    }\n  }\n  return from\n}\n\n// Skip spaces from given position.\nStateBlock.prototype.skipSpaces = function skipSpaces (pos) {\n  for (let max = this.src.length; pos < max; pos++) {\n    const ch = this.src.charCodeAt(pos)\n    if (!isSpace(ch)) { break }\n  }\n  return pos\n}\n\n// Skip spaces from given position in reverse.\nStateBlock.prototype.skipSpacesBack = function skipSpacesBack (pos, min) {\n  if (pos <= min) { return pos }\n\n  while (pos > min) {\n    if (!isSpace(this.src.charCodeAt(--pos))) { return pos + 1 }\n  }\n  return pos\n}\n\n// Skip char codes from given position\nStateBlock.prototype.skipChars = function skipChars (pos, code) {\n  for (let max = this.src.length; pos < max; pos++) {\n    if (this.src.charCodeAt(pos) !== code) { break }\n  }\n  return pos\n}\n\n// Skip char codes reverse from given position - 1\nStateBlock.prototype.skipCharsBack = function skipCharsBack (pos, code, min) {\n  if (pos <= min) { return pos }\n\n  while (pos > min) {\n    if (code !== this.src.charCodeAt(--pos)) { return pos + 1 }\n  }\n  return pos\n}\n\n// cut lines range from source.\nStateBlock.prototype.getLines = function getLines (begin, end, indent, keepLastLF) {\n  if (begin >= end) {\n    return ''\n  }\n\n  const queue = new Array(end - begin)\n\n  for (let i = 0, line = begin; line < end; line++, i++) {\n    let lineIndent = 0\n    const lineStart = this.bMarks[line]\n    let first = lineStart\n    let last\n\n    if (line + 1 < end || keepLastLF) {\n      // No need for bounds check because we have fake entry on tail.\n      last = this.eMarks[line] + 1\n    } else {\n      last = this.eMarks[line]\n    }\n\n    while (first < last && lineIndent < indent) {\n      const ch = this.src.charCodeAt(first)\n\n      if (isSpace(ch)) {\n        if (ch === 0x09) {\n          lineIndent += 4 - (lineIndent + this.bsCount[line]) % 4\n        } else {\n          lineIndent++\n        }\n      } else if (first - lineStart < this.tShift[line]) {\n        // patched tShift masked characters to look like spaces (blockquotes, list markers)\n        lineIndent++\n      } else {\n        break\n      }\n\n      first++\n    }\n\n    if (lineIndent > indent) {\n      // partially expanding tabs in code blocks, e.g '\\t\\tfoobar'\n      // with indent=2 becomes '  \\tfoobar'\n      queue[i] = new Array(lineIndent - indent + 1).join(' ') + this.src.slice(first, last)\n    } else {\n      queue[i] = this.src.slice(first, last)\n    }\n  }\n\n  return queue.join('')\n}\n\n// re-export Token class to use in block rules\nStateBlock.prototype.Token = Token\n\nexport default StateBlock\n","// GFM table, https://github.github.com/gfm/#tables-extension-\n\nimport { isSpace } from '../common/utils.mjs'\n\n// Limit the amount of empty autocompleted cells in a table,\n// see https://github.com/markdown-it/markdown-it/issues/1000,\n//\n// Both pulldown-cmark and commonmark-hs limit the number of cells this way to ~200k.\n// We set it to 65k, which can expand user input by a factor of x370\n// (256x256 square is 1.8kB expanded into 650kB).\nconst MAX_AUTOCOMPLETED_CELLS = 0x10000\n\nfunction getLine (state, line) {\n  const pos = state.bMarks[line] + state.tShift[line]\n  const max = state.eMarks[line]\n\n  return state.src.slice(pos, max)\n}\n\nfunction escapedSplit (str) {\n  const result = []\n  const max = str.length\n\n  let pos = 0\n  let ch = str.charCodeAt(pos)\n  let isEscaped = false\n  let lastPos = 0\n  let current = ''\n\n  while (pos < max) {\n    if (ch === 0x7c/* | */) {\n      if (!isEscaped) {\n        // pipe separating cells, '|'\n        result.push(current + str.substring(lastPos, pos))\n        current = ''\n        lastPos = pos + 1\n      } else {\n        // escaped pipe, '\\|'\n        current += str.substring(lastPos, pos - 1)\n        lastPos = pos\n      }\n    }\n\n    isEscaped = (ch === 0x5c/* \\ */)\n    pos++\n\n    ch = str.charCodeAt(pos)\n  }\n\n  result.push(current + str.substring(lastPos))\n\n  return result\n}\n\nexport default function table (state, startLine, endLine, silent) {\n  // should have at least two lines\n  if (startLine + 2 > endLine) { return false }\n\n  let nextLine = startLine + 1\n\n  if (state.sCount[nextLine] < state.blkIndent) { return false }\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[nextLine] - state.blkIndent >= 4) { return false }\n\n  // first character of the second line should be '|', '-', ':',\n  // and no other characters are allowed but spaces;\n  // basically, this is the equivalent of /^[-:|][-:|\\s]*$/ regexp\n\n  let pos = state.bMarks[nextLine] + state.tShift[nextLine]\n  if (pos >= state.eMarks[nextLine]) { return false }\n\n  const firstCh = state.src.charCodeAt(pos++)\n  if (firstCh !== 0x7C/* | */ && firstCh !== 0x2D/* - */ && firstCh !== 0x3A/* : */) { return false }\n\n  if (pos >= state.eMarks[nextLine]) { return false }\n\n  const secondCh = state.src.charCodeAt(pos++)\n  if (secondCh !== 0x7C/* | */ && secondCh !== 0x2D/* - */ && secondCh !== 0x3A/* : */ && !isSpace(secondCh)) {\n    return false\n  }\n\n  // if first character is '-', then second character must not be a space\n  // (due to parsing ambiguity with list)\n  if (firstCh === 0x2D/* - */ && isSpace(secondCh)) { return false }\n\n  while (pos < state.eMarks[nextLine]) {\n    const ch = state.src.charCodeAt(pos)\n\n    if (ch !== 0x7C/* | */ && ch !== 0x2D/* - */ && ch !== 0x3A/* : */ && !isSpace(ch)) { return false }\n\n    pos++\n  }\n\n  let lineText = getLine(state, startLine + 1)\n  let columns = lineText.split('|')\n  const aligns = []\n  for (let i = 0; i < columns.length; i++) {\n    const t = columns[i].trim()\n    if (!t) {\n      // allow empty columns before and after table, but not in between columns;\n      // e.g. allow ` |---| `, disallow ` ---||--- `\n      if (i === 0 || i === columns.length - 1) {\n        continue\n      } else {\n        return false\n      }\n    }\n\n    if (!/^:?-+:?$/.test(t)) { return false }\n    if (t.charCodeAt(t.length - 1) === 0x3A/* : */) {\n      aligns.push(t.charCodeAt(0) === 0x3A/* : */ ? 'center' : 'right')\n    } else if (t.charCodeAt(0) === 0x3A/* : */) {\n      aligns.push('left')\n    } else {\n      aligns.push('')\n    }\n  }\n\n  lineText = getLine(state, startLine).trim()\n  if (lineText.indexOf('|') === -1) { return false }\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false }\n  columns = escapedSplit(lineText)\n  if (columns.length && columns[0] === '') columns.shift()\n  if (columns.length && columns[columns.length - 1] === '') columns.pop()\n\n  // header row will define an amount of columns in the entire table,\n  // and align row should be exactly the same (the rest of the rows can differ)\n  const columnCount = columns.length\n  if (columnCount === 0 || columnCount !== aligns.length) { return false }\n\n  if (silent) { return true }\n\n  const oldParentType = state.parentType\n  state.parentType = 'table'\n\n  // use 'blockquote' lists for termination because it's\n  // the most similar to tables\n  const terminatorRules = state.md.block.ruler.getRules('blockquote')\n\n  const token_to = state.push('table_open', 'table', 1)\n  const tableLines = [startLine, 0]\n  token_to.map = tableLines\n\n  const token_tho = state.push('thead_open', 'thead', 1)\n  token_tho.map = [startLine, startLine + 1]\n\n  const token_htro = state.push('tr_open', 'tr', 1)\n  token_htro.map = [startLine, startLine + 1]\n\n  for (let i = 0; i < columns.length; i++) {\n    const token_ho = state.push('th_open', 'th', 1)\n    if (aligns[i]) {\n      token_ho.attrs  = [['style', 'text-align:' + aligns[i]]]\n    }\n\n    const token_il = state.push('inline', '', 0)\n    token_il.content  = columns[i].trim()\n    token_il.children = []\n\n    state.push('th_close', 'th', -1)\n  }\n\n  state.push('tr_close', 'tr', -1)\n  state.push('thead_close', 'thead', -1)\n\n  let tbodyLines\n  let autocompletedCells = 0\n\n  for (nextLine = startLine + 2; nextLine < endLine; nextLine++) {\n    if (state.sCount[nextLine] < state.blkIndent) { break }\n\n    let terminate = false\n    for (let i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true\n        break\n      }\n    }\n\n    if (terminate) { break }\n    lineText = getLine(state, nextLine).trim()\n    if (!lineText) { break }\n    if (state.sCount[nextLine] - state.blkIndent >= 4) { break }\n    columns = escapedSplit(lineText)\n    if (columns.length && columns[0] === '') columns.shift()\n    if (columns.length && columns[columns.length - 1] === '') columns.pop()\n\n    // note: autocomplete count can be negative if user specifies more columns than header,\n    // but that does not affect intended use (which is limiting expansion)\n    autocompletedCells += columnCount - columns.length\n    if (autocompletedCells > MAX_AUTOCOMPLETED_CELLS) { break }\n\n    if (nextLine === startLine + 2) {\n      const token_tbo = state.push('tbody_open', 'tbody', 1)\n      token_tbo.map = tbodyLines = [startLine + 2, 0]\n    }\n\n    const token_tro = state.push('tr_open', 'tr', 1)\n    token_tro.map = [nextLine, nextLine + 1]\n\n    for (let i = 0; i < columnCount; i++) {\n      const token_tdo = state.push('td_open', 'td', 1)\n      if (aligns[i]) {\n        token_tdo.attrs  = [['style', 'text-align:' + aligns[i]]]\n      }\n\n      const token_il = state.push('inline', '', 0)\n      token_il.content  = columns[i] ? columns[i].trim() : ''\n      token_il.children = []\n\n      state.push('td_close', 'td', -1)\n    }\n    state.push('tr_close', 'tr', -1)\n  }\n\n  if (tbodyLines) {\n    state.push('tbody_close', 'tbody', -1)\n    tbodyLines[1] = nextLine\n  }\n\n  state.push('table_close', 'table', -1)\n  tableLines[1] = nextLine\n\n  state.parentType = oldParentType\n  state.line = nextLine\n  return true\n}\n","// Lists\n\nimport { isSpace } from '../common/utils.mjs'\n\n// Search `[-+*][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipBulletListMarker (state, startLine) {\n  const max = state.eMarks[startLine]\n  let pos = state.bMarks[startLine] + state.tShift[startLine]\n\n  const marker = state.src.charCodeAt(pos++)\n  // Check bullet\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x2B/* + */) {\n    return -1\n  }\n\n  if (pos < max) {\n    const ch = state.src.charCodeAt(pos)\n\n    if (!isSpace(ch)) {\n      // \" -test \" - is not a list item\n      return -1\n    }\n  }\n\n  return pos\n}\n\n// Search `\\d+[.)][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipOrderedListMarker (state, startLine) {\n  const start = state.bMarks[startLine] + state.tShift[startLine]\n  const max = state.eMarks[startLine]\n  let pos = start\n\n  // List marker should have at least 2 chars (digit + dot)\n  if (pos + 1 >= max) { return -1 }\n\n  let ch = state.src.charCodeAt(pos++)\n\n  if (ch < 0x30/* 0 */ || ch > 0x39/* 9 */) { return -1 }\n\n  for (;;) {\n    // EOL -> fail\n    if (pos >= max) { return -1 }\n\n    ch = state.src.charCodeAt(pos++)\n\n    if (ch >= 0x30/* 0 */ && ch <= 0x39/* 9 */) {\n      // List marker should have no more than 9 digits\n      // (prevents integer overflow in browsers)\n      if (pos - start >= 10) { return -1 }\n\n      continue\n    }\n\n    // found valid marker\n    if (ch === 0x29/* ) */ || ch === 0x2e/* . */) {\n      break\n    }\n\n    return -1\n  }\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos)\n\n    if (!isSpace(ch)) {\n      // \" 1.test \" - is not a list item\n      return -1\n    }\n  }\n  return pos\n}\n\nfunction markTightParagraphs (state, idx) {\n  const level = state.level + 2\n\n  for (let i = idx + 2, l = state.tokens.length - 2; i < l; i++) {\n    if (state.tokens[i].level === level && state.tokens[i].type === 'paragraph_open') {\n      state.tokens[i + 2].hidden = true\n      state.tokens[i].hidden = true\n      i += 2\n    }\n  }\n}\n\nexport default function list (state, startLine, endLine, silent) {\n  let max, pos, start, token\n  let nextLine = startLine\n  let tight = true\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[nextLine] - state.blkIndent >= 4) { return false }\n\n  // Special case:\n  //  - item 1\n  //   - item 2\n  //    - item 3\n  //     - item 4\n  //      - this one is a paragraph continuation\n  if (state.listIndent >= 0 &&\n      state.sCount[nextLine] - state.listIndent >= 4 &&\n      state.sCount[nextLine] < state.blkIndent) {\n    return false\n  }\n\n  let isTerminatingParagraph = false\n\n  // limit conditions when list can interrupt\n  // a paragraph (validation mode only)\n  if (silent && state.parentType === 'paragraph') {\n    // Next list item should still terminate previous list item;\n    //\n    // This code can fail if plugins use blkIndent as well as lists,\n    // but I hope the spec gets fixed long before that happens.\n    //\n    if (state.sCount[nextLine] >= state.blkIndent) {\n      isTerminatingParagraph = true\n    }\n  }\n\n  // Detect list type and position after marker\n  let isOrdered\n  let markerValue\n  let posAfterMarker\n  if ((posAfterMarker = skipOrderedListMarker(state, nextLine)) >= 0) {\n    isOrdered = true\n    start = state.bMarks[nextLine] + state.tShift[nextLine]\n    markerValue = Number(state.src.slice(start, posAfterMarker - 1))\n\n    // If we're starting a new ordered list right after\n    // a paragraph, it should start with 1.\n    if (isTerminatingParagraph && markerValue !== 1) return false\n  } else if ((posAfterMarker = skipBulletListMarker(state, nextLine)) >= 0) {\n    isOrdered = false\n  } else {\n    return false\n  }\n\n  // If we're starting a new unordered list right after\n  // a paragraph, first line should not be empty.\n  if (isTerminatingParagraph) {\n    if (state.skipSpaces(posAfterMarker) >= state.eMarks[nextLine]) return false\n  }\n\n  // For validation mode we can terminate immediately\n  if (silent) { return true }\n\n  // We should terminate list on style change. Remember first one to compare.\n  const markerCharCode = state.src.charCodeAt(posAfterMarker - 1)\n\n  // Start list\n  const listTokIdx = state.tokens.length\n\n  if (isOrdered) {\n    token       = state.push('ordered_list_open', 'ol', 1)\n    if (markerValue !== 1) {\n      token.attrs = [['start', markerValue]]\n    }\n  } else {\n    token       = state.push('bullet_list_open', 'ul', 1)\n  }\n\n  const listLines = [nextLine, 0]\n  token.map    = listLines\n  token.markup = String.fromCharCode(markerCharCode)\n\n  //\n  // Iterate list items\n  //\n\n  let prevEmptyEnd = false\n  const terminatorRules = state.md.block.ruler.getRules('list')\n\n  const oldParentType = state.parentType\n  state.parentType = 'list'\n\n  while (nextLine < endLine) {\n    pos = posAfterMarker\n    max = state.eMarks[nextLine]\n\n    const initial = state.sCount[nextLine] + posAfterMarker - (state.bMarks[nextLine] + state.tShift[nextLine])\n    let offset = initial\n\n    while (pos < max) {\n      const ch = state.src.charCodeAt(pos)\n\n      if (ch === 0x09) {\n        offset += 4 - (offset + state.bsCount[nextLine]) % 4\n      } else if (ch === 0x20) {\n        offset++\n      } else {\n        break\n      }\n\n      pos++\n    }\n\n    const contentStart = pos\n    let indentAfterMarker\n\n    if (contentStart >= max) {\n      // trimming space in \"-    \\n  3\" case, indent is 1 here\n      indentAfterMarker = 1\n    } else {\n      indentAfterMarker = offset - initial\n    }\n\n    // If we have more than 4 spaces, the indent is 1\n    // (the rest is just indented code block)\n    if (indentAfterMarker > 4) { indentAfterMarker = 1 }\n\n    // \"  -  test\"\n    //  ^^^^^ - calculating total length of this thing\n    const indent = initial + indentAfterMarker\n\n    // Run subparser & write tokens\n    token        = state.push('list_item_open', 'li', 1)\n    token.markup = String.fromCharCode(markerCharCode)\n    const itemLines = [nextLine, 0]\n    token.map    = itemLines\n    if (isOrdered) {\n      token.info = state.src.slice(start, posAfterMarker - 1)\n    }\n\n    // change current state, then restore it after parser subcall\n    const oldTight = state.tight\n    const oldTShift = state.tShift[nextLine]\n    const oldSCount = state.sCount[nextLine]\n\n    //  - example list\n    // ^ listIndent position will be here\n    //   ^ blkIndent position will be here\n    //\n    const oldListIndent = state.listIndent\n    state.listIndent = state.blkIndent\n    state.blkIndent = indent\n\n    state.tight = true\n    state.tShift[nextLine] = contentStart - state.bMarks[nextLine]\n    state.sCount[nextLine] = offset\n\n    if (contentStart >= max && state.isEmpty(nextLine + 1)) {\n      // workaround for this case\n      // (list item is empty, list terminates before \"foo\"):\n      // ~~~~~~~~\n      //   -\n      //\n      //     foo\n      // ~~~~~~~~\n      state.line = Math.min(state.line + 2, endLine)\n    } else {\n      state.md.block.tokenize(state, nextLine, endLine, true)\n    }\n\n    // If any of list item is tight, mark list as tight\n    if (!state.tight || prevEmptyEnd) {\n      tight = false\n    }\n    // Item become loose if finish with empty line,\n    // but we should filter last element, because it means list finish\n    prevEmptyEnd = (state.line - nextLine) > 1 && state.isEmpty(state.line - 1)\n\n    state.blkIndent = state.listIndent\n    state.listIndent = oldListIndent\n    state.tShift[nextLine] = oldTShift\n    state.sCount[nextLine] = oldSCount\n    state.tight = oldTight\n\n    token        = state.push('list_item_close', 'li', -1)\n    token.markup = String.fromCharCode(markerCharCode)\n\n    nextLine = state.line\n    itemLines[1] = nextLine\n\n    if (nextLine >= endLine) { break }\n\n    //\n    // Try to check if list is terminated or continued.\n    //\n    if (state.sCount[nextLine] < state.blkIndent) { break }\n\n    // if it's indented more than 3 spaces, it should be a code block\n    if (state.sCount[nextLine] - state.blkIndent >= 4) { break }\n\n    // fail if terminating block found\n    let terminate = false\n    for (let i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true\n        break\n      }\n    }\n    if (terminate) { break }\n\n    // fail if list has another type\n    if (isOrdered) {\n      posAfterMarker = skipOrderedListMarker(state, nextLine)\n      if (posAfterMarker < 0) { break }\n      start = state.bMarks[nextLine] + state.tShift[nextLine]\n    } else {\n      posAfterMarker = skipBulletListMarker(state, nextLine)\n      if (posAfterMarker < 0) { break }\n    }\n\n    if (markerCharCode !== state.src.charCodeAt(posAfterMarker - 1)) { break }\n  }\n\n  // Finalize list\n  if (isOrdered) {\n    token = state.push('ordered_list_close', 'ol', -1)\n  } else {\n    token = state.push('bullet_list_close', 'ul', -1)\n  }\n  token.markup = String.fromCharCode(markerCharCode)\n\n  listLines[1] = nextLine\n  state.line = nextLine\n\n  state.parentType = oldParentType\n\n  // mark paragraphs tight if needed\n  if (tight) {\n    markTightParagraphs(state, listTokIdx)\n  }\n\n  return true\n}\n","// Regexps to match html elements\n\nconst attr_name     = '[a-zA-Z_:][a-zA-Z0-9:._-]*'\n\nconst unquoted      = '[^\"\\'=<>`\\\\x00-\\\\x20]+'\nconst single_quoted = \"'[^']*'\"\nconst double_quoted = '\"[^\"]*\"'\n\nconst attr_value  = '(?:' + unquoted + '|' + single_quoted + '|' + double_quoted + ')'\n\nconst attribute   = '(?:\\\\s+' + attr_name + '(?:\\\\s*=\\\\s*' + attr_value + ')?)'\n\nconst open_tag    = '<[A-Za-z][A-Za-z0-9\\\\-]*' + attribute + '*\\\\s*\\\\/?>'\n\nconst close_tag   = '<\\\\/[A-Za-z][A-Za-z0-9\\\\-]*\\\\s*>'\nconst comment     = '<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->'\nconst processing  = '<[?][\\\\s\\\\S]*?[?]>'\nconst declaration = '<![A-Za-z][^>]*>'\nconst cdata       = '<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>'\n\nconst HTML_TAG_RE = new RegExp('^(?:' + open_tag + '|' + close_tag + '|' + comment +\n                        '|' + processing + '|' + declaration + '|' + cdata + ')')\nconst HTML_OPEN_CLOSE_TAG_RE = new RegExp('^(?:' + open_tag + '|' + close_tag + ')')\n\nexport { HTML_TAG_RE, HTML_OPEN_CLOSE_TAG_RE }\n","// HTML block\n\nimport block_names from '../common/html_blocks.mjs'\nimport { HTML_OPEN_CLOSE_TAG_RE } from '../common/html_re.mjs'\n\n// An array of opening and corresponding closing sequences for html tags,\n// last argument defines whether it can terminate a paragraph or not\n//\nconst HTML_SEQUENCES = [\n  [/^<(script|pre|style|textarea)(?=(\\s|>|$))/i, /<\\/(script|pre|style|textarea)>/i, true],\n  [/^<!--/,        /-->/,   true],\n  [/^<\\?/,         /\\?>/,   true],\n  [/^<![A-Z]/,     />/,     true],\n  [/^<!\\[CDATA\\[/, /\\]\\]>/, true],\n  [new RegExp('^</?(' + block_names.join('|') + ')(?=(\\\\s|/?>|$))', 'i'), /^$/, true],\n  [new RegExp(HTML_OPEN_CLOSE_TAG_RE.source + '\\\\s*$'),  /^$/, false]\n]\n\nexport default function html_block (state, startLine, endLine, silent) {\n  let pos = state.bMarks[startLine] + state.tShift[startLine]\n  let max = state.eMarks[startLine]\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false }\n\n  if (!state.md.options.html) { return false }\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false }\n\n  let lineText = state.src.slice(pos, max)\n\n  let i = 0\n  for (; i < HTML_SEQUENCES.length; i++) {\n    if (HTML_SEQUENCES[i][0].test(lineText)) { break }\n  }\n  if (i === HTML_SEQUENCES.length) { return false }\n\n  if (silent) {\n    // true if this sequence can be a terminator, false otherwise\n    return HTML_SEQUENCES[i][2]\n  }\n\n  let nextLine = startLine + 1\n\n  // If we are here - we detected HTML block.\n  // Let's roll down till block end.\n  if (!HTML_SEQUENCES[i][1].test(lineText)) {\n    for (; nextLine < endLine; nextLine++) {\n      if (state.sCount[nextLine] < state.blkIndent) { break }\n\n      pos = state.bMarks[nextLine] + state.tShift[nextLine]\n      max = state.eMarks[nextLine]\n      lineText = state.src.slice(pos, max)\n\n      if (HTML_SEQUENCES[i][1].test(lineText)) {\n        if (lineText.length !== 0) { nextLine++ }\n        break\n      }\n    }\n  }\n\n  state.line = nextLine\n\n  const token   = state.push('html_block', '', 0)\n  token.map     = [startLine, nextLine]\n  token.content = state.getLines(startLine, nextLine, state.blkIndent, true)\n\n  return true\n}\n","/** internal\n * class ParserBlock\n *\n * Block-level tokenizer.\n **/\n\nimport Ruler from './ruler.mjs'\nimport StateBlock from './rules_block/state_block.mjs'\n\nimport r_table from './rules_block/table.mjs'\nimport r_code from './rules_block/code.mjs'\nimport r_fence from './rules_block/fence.mjs'\nimport r_blockquote from './rules_block/blockquote.mjs'\nimport r_hr from './rules_block/hr.mjs'\nimport r_list from './rules_block/list.mjs'\nimport r_reference from './rules_block/reference.mjs'\nimport r_html_block from './rules_block/html_block.mjs'\nimport r_heading from './rules_block/heading.mjs'\nimport r_lheading from './rules_block/lheading.mjs'\nimport r_paragraph from './rules_block/paragraph.mjs'\n\nconst _rules = [\n  // First 2 params - rule name & source. Secondary array - list of rules,\n  // which can be terminated by this one.\n  ['table',      r_table,      ['paragraph', 'reference']],\n  ['code',       r_code],\n  ['fence',      r_fence,      ['paragraph', 'reference', 'blockquote', 'list']],\n  ['blockquote', r_blockquote, ['paragraph', 'reference', 'blockquote', 'list']],\n  ['hr',         r_hr,         ['paragraph', 'reference', 'blockquote', 'list']],\n  ['list',       r_list,       ['paragraph', 'reference', 'blockquote']],\n  ['reference',  r_reference],\n  ['html_block', r_html_block, ['paragraph', 'reference', 'blockquote']],\n  ['heading',    r_heading,    ['paragraph', 'reference', 'blockquote']],\n  ['lheading',   r_lheading],\n  ['paragraph',  r_paragraph]\n]\n\n/**\n * new ParserBlock()\n **/\nfunction ParserBlock () {\n  /**\n   * ParserBlock#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of block rules.\n   **/\n  this.ruler = new Ruler()\n\n  for (let i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1], { alt: (_rules[i][2] || []).slice() })\n  }\n}\n\n// Generate tokens for input range\n//\nParserBlock.prototype.tokenize = function (state, startLine, endLine) {\n  const rules = this.ruler.getRules('')\n  const len = rules.length\n  const maxNesting = state.md.options.maxNesting\n  let line = startLine\n  let hasEmptyLines = false\n\n  while (line < endLine) {\n    state.line = line = state.skipEmptyLines(line)\n    if (line >= endLine) { break }\n\n    // Termination condition for nested calls.\n    // Nested calls currently used for blockquotes & lists\n    if (state.sCount[line] < state.blkIndent) { break }\n\n    // If nesting level exceeded - skip tail to the end. That's not ordinary\n    // situation and we should not care about content.\n    if (state.level >= maxNesting) {\n      state.line = endLine\n      break\n    }\n\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.line`\n    // - update `state.tokens`\n    // - return true\n    const prevLine = state.line\n    let ok = false\n\n    for (let i = 0; i < len; i++) {\n      ok = rules[i](state, line, endLine, false)\n      if (ok) {\n        if (prevLine >= state.line) {\n          throw new Error(\"block rule didn't increment state.line\")\n        }\n        break\n      }\n    }\n\n    // this can only happen if user disables paragraph rule\n    if (!ok) throw new Error('none of the block rules matched')\n\n    // set state.tight if we had an empty line before current tag\n    // i.e. latest empty line should not count\n    state.tight = !hasEmptyLines\n\n    // paragraph might \"eat\" one newline after it in nested lists\n    if (state.isEmpty(state.line - 1)) {\n      hasEmptyLines = true\n    }\n\n    line = state.line\n\n    if (line < endLine && state.isEmpty(line)) {\n      hasEmptyLines = true\n      line++\n      state.line = line\n    }\n  }\n}\n\n/**\n * ParserBlock.parse(str, md, env, outTokens)\n *\n * Process input string and push block tokens into `outTokens`\n **/\nParserBlock.prototype.parse = function (src, md, env, outTokens) {\n  if (!src) { return }\n\n  const state = new this.State(src, md, env, outTokens)\n\n  this.tokenize(state, state.line, state.lineMax)\n}\n\nParserBlock.prototype.State = StateBlock\n\nexport default ParserBlock\n","// Code block (4 spaces padded)\n\nexport default function code (state, startLine, endLine/*, silent */) {\n  if (state.sCount[startLine] - state.blkIndent < 4) { return false }\n\n  let nextLine = startLine + 1\n  let last = nextLine\n\n  while (nextLine < endLine) {\n    if (state.isEmpty(nextLine)) {\n      nextLine++\n      continue\n    }\n\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      nextLine++\n      last = nextLine\n      continue\n    }\n    break\n  }\n\n  state.line = last\n\n  const token   = state.push('code_block', 'code', 0)\n  token.content = state.getLines(startLine, last, 4 + state.blkIndent, false) + '\\n'\n  token.map     = [startLine, state.line]\n\n  return true\n}\n","// fences (``` lang, ~~~ lang)\n\nexport default function fence (state, startLine, endLine, silent) {\n  let pos = state.bMarks[startLine] + state.tShift[startLine]\n  let max = state.eMarks[startLine]\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false }\n\n  if (pos + 3 > max) { return false }\n\n  const marker = state.src.charCodeAt(pos)\n\n  if (marker !== 0x7E/* ~ */ && marker !== 0x60 /* ` */) {\n    return false\n  }\n\n  // scan marker length\n  let mem = pos\n  pos = state.skipChars(pos, marker)\n\n  let len = pos - mem\n\n  if (len < 3) { return false }\n\n  const markup = state.src.slice(mem, pos)\n  const params = state.src.slice(pos, max)\n\n  if (marker === 0x60 /* ` */) {\n    if (params.indexOf(String.fromCharCode(marker)) >= 0) {\n      return false\n    }\n  }\n\n  // Since start is found, we can report success here in validation mode\n  if (silent) { return true }\n\n  // search end of block\n  let nextLine = startLine\n  let haveEndMarker = false\n\n  for (;;) {\n    nextLine++\n    if (nextLine >= endLine) {\n      // unclosed block should be autoclosed by end of document.\n      // also block seems to be autoclosed by end of parent\n      break\n    }\n\n    pos = mem = state.bMarks[nextLine] + state.tShift[nextLine]\n    max = state.eMarks[nextLine]\n\n    if (pos < max && state.sCount[nextLine] < state.blkIndent) {\n      // non-empty line with negative indent should stop the list:\n      // - ```\n      //  test\n      break\n    }\n\n    if (state.src.charCodeAt(pos) !== marker) { continue }\n\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      // closing fence should be indented less than 4 spaces\n      continue\n    }\n\n    pos = state.skipChars(pos, marker)\n\n    // closing code fence must be at least as long as the opening one\n    if (pos - mem < len) { continue }\n\n    // make sure tail has spaces only\n    pos = state.skipSpaces(pos)\n\n    if (pos < max) { continue }\n\n    haveEndMarker = true\n    // found!\n    break\n  }\n\n  // If a fence has heading spaces, they should be removed from its inner block\n  len = state.sCount[startLine]\n\n  state.line = nextLine + (haveEndMarker ? 1 : 0)\n\n  const token   = state.push('fence', 'code', 0)\n  token.info    = params\n  token.content = state.getLines(startLine + 1, nextLine, len, true)\n  token.markup  = markup\n  token.map     = [startLine, state.line]\n\n  return true\n}\n","// Block quotes\n\nimport { isSpace } from '../common/utils.mjs'\n\nexport default function blockquote (state, startLine, endLine, silent) {\n  let pos = state.bMarks[startLine] + state.tShift[startLine]\n  let max = state.eMarks[startLine]\n\n  const oldLineMax = state.lineMax\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false }\n\n  // check the block quote marker\n  if (state.src.charCodeAt(pos) !== 0x3E/* > */) { return false }\n\n  // we know that it's going to be a valid blockquote,\n  // so no point trying to find the end of it in silent mode\n  if (silent) { return true }\n\n  const oldBMarks  = []\n  const oldBSCount = []\n  const oldSCount  = []\n  const oldTShift  = []\n\n  const terminatorRules = state.md.block.ruler.getRules('blockquote')\n\n  const oldParentType = state.parentType\n  state.parentType = 'blockquote'\n  let lastLineEmpty = false\n  let nextLine\n\n  // Search the end of the block\n  //\n  // Block ends with either:\n  //  1. an empty line outside:\n  //     ```\n  //     > test\n  //\n  //     ```\n  //  2. an empty line inside:\n  //     ```\n  //     >\n  //     test\n  //     ```\n  //  3. another tag:\n  //     ```\n  //     > test\n  //      - - -\n  //     ```\n  for (nextLine = startLine; nextLine < endLine; nextLine++) {\n    // check if it's outdented, i.e. it's inside list item and indented\n    // less than said list item:\n    //\n    // ```\n    // 1. anything\n    //    > current blockquote\n    // 2. checking this line\n    // ```\n    const isOutdented = state.sCount[nextLine] < state.blkIndent\n\n    pos = state.bMarks[nextLine] + state.tShift[nextLine]\n    max = state.eMarks[nextLine]\n\n    if (pos >= max) {\n      // Case 1: line is not inside the blockquote, and this line is empty.\n      break\n    }\n\n    if (state.src.charCodeAt(pos++) === 0x3E/* > */ && !isOutdented) {\n      // This line is inside the blockquote.\n\n      // set offset past spaces and \">\"\n      let initial = state.sCount[nextLine] + 1\n      let spaceAfterMarker\n      let adjustTab\n\n      // skip one optional space after '>'\n      if (state.src.charCodeAt(pos) === 0x20 /* space */) {\n        // ' >   test '\n        //     ^ -- position start of line here:\n        pos++\n        initial++\n        adjustTab = false\n        spaceAfterMarker = true\n      } else if (state.src.charCodeAt(pos) === 0x09 /* tab */) {\n        spaceAfterMarker = true\n\n        if ((state.bsCount[nextLine] + initial) % 4 === 3) {\n          // '  >\\t  test '\n          //       ^ -- position start of line here (tab has width===1)\n          pos++\n          initial++\n          adjustTab = false\n        } else {\n          // ' >\\t  test '\n          //    ^ -- position start of line here + shift bsCount slightly\n          //         to make extra space appear\n          adjustTab = true\n        }\n      } else {\n        spaceAfterMarker = false\n      }\n\n      let offset = initial\n      oldBMarks.push(state.bMarks[nextLine])\n      state.bMarks[nextLine] = pos\n\n      while (pos < max) {\n        const ch = state.src.charCodeAt(pos)\n\n        if (isSpace(ch)) {\n          if (ch === 0x09) {\n            offset += 4 - (offset + state.bsCount[nextLine] + (adjustTab ? 1 : 0)) % 4\n          } else {\n            offset++\n          }\n        } else {\n          break\n        }\n\n        pos++\n      }\n\n      lastLineEmpty = pos >= max\n\n      oldBSCount.push(state.bsCount[nextLine])\n      state.bsCount[nextLine] = state.sCount[nextLine] + 1 + (spaceAfterMarker ? 1 : 0)\n\n      oldSCount.push(state.sCount[nextLine])\n      state.sCount[nextLine] = offset - initial\n\n      oldTShift.push(state.tShift[nextLine])\n      state.tShift[nextLine] = pos - state.bMarks[nextLine]\n      continue\n    }\n\n    // Case 2: line is not inside the blockquote, and the last line was empty.\n    if (lastLineEmpty) { break }\n\n    // Case 3: another tag found.\n    let terminate = false\n    for (let i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true\n        break\n      }\n    }\n\n    if (terminate) {\n      // Quirk to enforce \"hard termination mode\" for paragraphs;\n      // normally if you call `tokenize(state, startLine, nextLine)`,\n      // paragraphs will look below nextLine for paragraph continuation,\n      // but if blockquote is terminated by another tag, they shouldn't\n      state.lineMax = nextLine\n\n      if (state.blkIndent !== 0) {\n        // state.blkIndent was non-zero, we now set it to zero,\n        // so we need to re-calculate all offsets to appear as\n        // if indent wasn't changed\n        oldBMarks.push(state.bMarks[nextLine])\n        oldBSCount.push(state.bsCount[nextLine])\n        oldTShift.push(state.tShift[nextLine])\n        oldSCount.push(state.sCount[nextLine])\n        state.sCount[nextLine] -= state.blkIndent\n      }\n\n      break\n    }\n\n    oldBMarks.push(state.bMarks[nextLine])\n    oldBSCount.push(state.bsCount[nextLine])\n    oldTShift.push(state.tShift[nextLine])\n    oldSCount.push(state.sCount[nextLine])\n\n    // A negative indentation means that this is a paragraph continuation\n    //\n    state.sCount[nextLine] = -1\n  }\n\n  const oldIndent = state.blkIndent\n  state.blkIndent = 0\n\n  const token_o  = state.push('blockquote_open', 'blockquote', 1)\n  token_o.markup = '>'\n  const lines = [startLine, 0]\n  token_o.map    = lines\n\n  state.md.block.tokenize(state, startLine, nextLine)\n\n  const token_c  = state.push('blockquote_close', 'blockquote', -1)\n  token_c.markup = '>'\n\n  state.lineMax = oldLineMax\n  state.parentType = oldParentType\n  lines[1] = state.line\n\n  // Restore original tShift; this might not be necessary since the parser\n  // has already been here, but just to make sure we can do that.\n  for (let i = 0; i < oldTShift.length; i++) {\n    state.bMarks[i + startLine] = oldBMarks[i]\n    state.tShift[i + startLine] = oldTShift[i]\n    state.sCount[i + startLine] = oldSCount[i]\n    state.bsCount[i + startLine] = oldBSCount[i]\n  }\n  state.blkIndent = oldIndent\n\n  return true\n}\n","// Horizontal rule\n\nimport { isSpace } from '../common/utils.mjs'\n\nexport default function hr (state, startLine, endLine, silent) {\n  const max = state.eMarks[startLine]\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false }\n\n  let pos = state.bMarks[startLine] + state.tShift[startLine]\n  const marker = state.src.charCodeAt(pos++)\n\n  // Check hr marker\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x5F/* _ */) {\n    return false\n  }\n\n  // markers can be mixed with spaces, but there should be at least 3 of them\n\n  let cnt = 1\n  while (pos < max) {\n    const ch = state.src.charCodeAt(pos++)\n    if (ch !== marker && !isSpace(ch)) { return false }\n    if (ch === marker) { cnt++ }\n  }\n\n  if (cnt < 3) { return false }\n\n  if (silent) { return true }\n\n  state.line = startLine + 1\n\n  const token  = state.push('hr', 'hr', 0)\n  token.map    = [startLine, state.line]\n  token.markup = Array(cnt + 1).join(String.fromCharCode(marker))\n\n  return true\n}\n","import { isSpace, normalizeReference } from '../common/utils.mjs'\n\nexport default function reference (state, startLine, _endLine, silent) {\n  let pos = state.bMarks[startLine] + state.tShift[startLine]\n  let max = state.eMarks[startLine]\n  let nextLine = startLine + 1\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false }\n\n  if (state.src.charCodeAt(pos) !== 0x5B/* [ */) { return false }\n\n  function getNextLine (nextLine) {\n    const endLine = state.lineMax\n\n    if (nextLine >= endLine || state.isEmpty(nextLine)) {\n      // empty line or end of input\n      return null\n    }\n\n    let isContinuation = false\n\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { isContinuation = true }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { isContinuation = true }\n\n    if (!isContinuation) {\n      const terminatorRules = state.md.block.ruler.getRules('reference')\n      const oldParentType = state.parentType\n      state.parentType = 'reference'\n\n      // Some tags can terminate paragraph without empty line.\n      let terminate = false\n      for (let i = 0, l = terminatorRules.length; i < l; i++) {\n        if (terminatorRules[i](state, nextLine, endLine, true)) {\n          terminate = true\n          break\n        }\n      }\n\n      state.parentType = oldParentType\n      if (terminate) {\n        // terminated by another block\n        return null\n      }\n    }\n\n    const pos = state.bMarks[nextLine] + state.tShift[nextLine]\n    const max = state.eMarks[nextLine]\n\n    // max + 1 explicitly includes the newline\n    return state.src.slice(pos, max + 1)\n  }\n\n  let str = state.src.slice(pos, max + 1)\n\n  max = str.length\n  let labelEnd = -1\n\n  for (pos = 1; pos < max; pos++) {\n    const ch = str.charCodeAt(pos)\n    if (ch === 0x5B /* [ */) {\n      return false\n    } else if (ch === 0x5D /* ] */) {\n      labelEnd = pos\n      break\n    } else if (ch === 0x0A /* \\n */) {\n      const lineContent = getNextLine(nextLine)\n      if (lineContent !== null) {\n        str += lineContent\n        max = str.length\n        nextLine++\n      }\n    } else if (ch === 0x5C /* \\ */) {\n      pos++\n      if (pos < max && str.charCodeAt(pos) === 0x0A) {\n        const lineContent = getNextLine(nextLine)\n        if (lineContent !== null) {\n          str += lineContent\n          max = str.length\n          nextLine++\n        }\n      }\n    }\n  }\n\n  if (labelEnd < 0 || str.charCodeAt(labelEnd + 1) !== 0x3A/* : */) { return false }\n\n  // [label]:   destination   'title'\n  //         ^^^ skip optional whitespace here\n  for (pos = labelEnd + 2; pos < max; pos++) {\n    const ch = str.charCodeAt(pos)\n    if (ch === 0x0A) {\n      const lineContent = getNextLine(nextLine)\n      if (lineContent !== null) {\n        str += lineContent\n        max = str.length\n        nextLine++\n      }\n    } else if (isSpace(ch)) {\n      /* eslint no-empty:0 */\n    } else {\n      break\n    }\n  }\n\n  // [label]:   destination   'title'\n  //            ^^^^^^^^^^^ parse this\n  const destRes = state.md.helpers.parseLinkDestination(str, pos, max)\n  if (!destRes.ok) { return false }\n\n  const href = state.md.normalizeLink(destRes.str)\n  if (!state.md.validateLink(href)) { return false }\n\n  pos = destRes.pos\n\n  // save cursor state, we could require to rollback later\n  const destEndPos = pos\n  const destEndLineNo = nextLine\n\n  // [label]:   destination   'title'\n  //                       ^^^ skipping those spaces\n  const start = pos\n  for (; pos < max; pos++) {\n    const ch = str.charCodeAt(pos)\n    if (ch === 0x0A) {\n      const lineContent = getNextLine(nextLine)\n      if (lineContent !== null) {\n        str += lineContent\n        max = str.length\n        nextLine++\n      }\n    } else if (isSpace(ch)) {\n      /* eslint no-empty:0 */\n    } else {\n      break\n    }\n  }\n\n  // [label]:   destination   'title'\n  //                          ^^^^^^^ parse this\n  let titleRes = state.md.helpers.parseLinkTitle(str, pos, max)\n  while (titleRes.can_continue) {\n    const lineContent = getNextLine(nextLine)\n    if (lineContent === null) break\n    str += lineContent\n    pos = max\n    max = str.length\n    nextLine++\n    titleRes = state.md.helpers.parseLinkTitle(str, pos, max, titleRes)\n  }\n  let title\n\n  if (pos < max && start !== pos && titleRes.ok) {\n    title = titleRes.str\n    pos = titleRes.pos\n  } else {\n    title = ''\n    pos = destEndPos\n    nextLine = destEndLineNo\n  }\n\n  // skip trailing spaces until the rest of the line\n  while (pos < max) {\n    const ch = str.charCodeAt(pos)\n    if (!isSpace(ch)) { break }\n    pos++\n  }\n\n  if (pos < max && str.charCodeAt(pos) !== 0x0A) {\n    if (title) {\n      // garbage at the end of the line after title,\n      // but it could still be a valid reference if we roll back\n      title = ''\n      pos = destEndPos\n      nextLine = destEndLineNo\n      while (pos < max) {\n        const ch = str.charCodeAt(pos)\n        if (!isSpace(ch)) { break }\n        pos++\n      }\n    }\n  }\n\n  if (pos < max && str.charCodeAt(pos) !== 0x0A) {\n    // garbage at the end of the line\n    return false\n  }\n\n  const label = normalizeReference(str.slice(1, labelEnd))\n  if (!label) {\n    // CommonMark 0.20 disallows empty labels\n    return false\n  }\n\n  // Reference can not terminate anything. This check is for safety only.\n  /* istanbul ignore if */\n  if (silent) { return true }\n\n  if (typeof state.env.references === 'undefined') {\n    state.env.references = {}\n  }\n  if (typeof state.env.references[label] === 'undefined') {\n    state.env.references[label] = { title, href }\n  }\n\n  state.line = nextLine\n  return true\n}\n","// heading (#, ##, ...)\n\nimport { isSpace } from '../common/utils.mjs'\n\nexport default function heading (state, startLine, endLine, silent) {\n  let pos = state.bMarks[startLine] + state.tShift[startLine]\n  let max = state.eMarks[startLine]\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false }\n\n  let ch  = state.src.charCodeAt(pos)\n\n  if (ch !== 0x23/* # */ || pos >= max) { return false }\n\n  // count heading level\n  let level = 1\n  ch = state.src.charCodeAt(++pos)\n  while (ch === 0x23/* # */ && pos < max && level <= 6) {\n    level++\n    ch = state.src.charCodeAt(++pos)\n  }\n\n  if (level > 6 || (pos < max && !isSpace(ch))) { return false }\n\n  if (silent) { return true }\n\n  // Let's cut tails like '    ###  ' from the end of string\n\n  max = state.skipSpacesBack(max, pos)\n  const tmp = state.skipCharsBack(max, 0x23, pos) // #\n  if (tmp > pos && isSpace(state.src.charCodeAt(tmp - 1))) {\n    max = tmp\n  }\n\n  state.line = startLine + 1\n\n  const token_o  = state.push('heading_open', 'h' + String(level), 1)\n  token_o.markup = '########'.slice(0, level)\n  token_o.map    = [startLine, state.line]\n\n  const token_i    = state.push('inline', '', 0)\n  token_i.content  = state.src.slice(pos, max).trim()\n  token_i.map      = [startLine, state.line]\n  token_i.children = []\n\n  const token_c  = state.push('heading_close', 'h' + String(level), -1)\n  token_c.markup = '########'.slice(0, level)\n\n  return true\n}\n","// lheading (---, ===)\n\nexport default function lheading (state, startLine, endLine/*, silent */) {\n  const terminatorRules = state.md.block.ruler.getRules('paragraph')\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false }\n\n  const oldParentType = state.parentType\n  state.parentType = 'paragraph' // use paragraph to match terminatorRules\n\n  // jump line-by-line until empty one or EOF\n  let level = 0\n  let marker\n  let nextLine = startLine + 1\n\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue }\n\n    //\n    // Check for underline in setext header\n    //\n    if (state.sCount[nextLine] >= state.blkIndent) {\n      let pos = state.bMarks[nextLine] + state.tShift[nextLine]\n      const max = state.eMarks[nextLine]\n\n      if (pos < max) {\n        marker = state.src.charCodeAt(pos)\n\n        if (marker === 0x2D/* - */ || marker === 0x3D/* = */) {\n          pos = state.skipChars(pos, marker)\n          pos = state.skipSpaces(pos)\n\n          if (pos >= max) {\n            level = (marker === 0x3D/* = */ ? 1 : 2)\n            break\n          }\n        }\n      }\n    }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue }\n\n    // Some tags can terminate paragraph without empty line.\n    let terminate = false\n    for (let i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true\n        break\n      }\n    }\n    if (terminate) { break }\n  }\n\n  if (!level) {\n    // Didn't find valid underline\n    return false\n  }\n\n  const content = state.getLines(startLine, nextLine, state.blkIndent, false).trim()\n\n  state.line = nextLine + 1\n\n  const token_o    = state.push('heading_open', 'h' + String(level), 1)\n  token_o.markup   = String.fromCharCode(marker)\n  token_o.map      = [startLine, state.line]\n\n  const token_i    = state.push('inline', '', 0)\n  token_i.content  = content\n  token_i.map      = [startLine, state.line - 1]\n  token_i.children = []\n\n  const token_c    = state.push('heading_close', 'h' + String(level), -1)\n  token_c.markup   = String.fromCharCode(marker)\n\n  state.parentType = oldParentType\n\n  return true\n}\n","// Paragraph\n\nexport default function paragraph (state, startLine, endLine) {\n  const terminatorRules = state.md.block.ruler.getRules('paragraph')\n  const oldParentType = state.parentType\n  let nextLine = startLine + 1\n  state.parentType = 'paragraph'\n\n  // jump line-by-line until empty one or EOF\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue }\n\n    // Some tags can terminate paragraph without empty line.\n    let terminate = false\n    for (let i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true\n        break\n      }\n    }\n    if (terminate) { break }\n  }\n\n  const content = state.getLines(startLine, nextLine, state.blkIndent, false).trim()\n\n  state.line = nextLine\n\n  const token_o    = state.push('paragraph_open', 'p', 1)\n  token_o.map      = [startLine, state.line]\n\n  const token_i    = state.push('inline', '', 0)\n  token_i.content  = content\n  token_i.map      = [startLine, state.line]\n  token_i.children = []\n\n  state.push('paragraph_close', 'p', -1)\n\n  state.parentType = oldParentType\n\n  return true\n}\n","// Inline parser state\n\nimport Token from '../token.mjs'\nimport { isWhiteSpace, isPunctChar, isMdAsciiPunct } from '../common/utils.mjs'\n\nfunction StateInline (src, md, env, outTokens) {\n  this.src = src\n  this.env = env\n  this.md = md\n  this.tokens = outTokens\n  this.tokens_meta = Array(outTokens.length)\n\n  this.pos = 0\n  this.posMax = this.src.length\n  this.level = 0\n  this.pending = ''\n  this.pendingLevel = 0\n\n  // Stores { start: end } pairs. Useful for backtrack\n  // optimization of pairs parse (emphasis, strikes).\n  this.cache = {}\n\n  // List of emphasis-like delimiters for current tag\n  this.delimiters = []\n\n  // Stack of delimiter lists for upper level tags\n  this._prev_delimiters = []\n\n  // backtick length => last seen position\n  this.backticks = {}\n  this.backticksScanned = false\n\n  // Counter used to disable inline linkify-it execution\n  // inside <a> and markdown links\n  this.linkLevel = 0\n}\n\n// Flush pending text\n//\nStateInline.prototype.pushPending = function () {\n  const token = new Token('text', '', 0)\n  token.content = this.pending\n  token.level = this.pendingLevel\n  this.tokens.push(token)\n  this.pending = ''\n  return token\n}\n\n// Push new token to \"stream\".\n// If pending text exists - flush it as text token\n//\nStateInline.prototype.push = function (type, tag, nesting) {\n  if (this.pending) {\n    this.pushPending()\n  }\n\n  const token = new Token(type, tag, nesting)\n  let token_meta = null\n\n  if (nesting < 0) {\n    // closing tag\n    this.level--\n    this.delimiters = this._prev_delimiters.pop()\n  }\n\n  token.level = this.level\n\n  if (nesting > 0) {\n    // opening tag\n    this.level++\n    this._prev_delimiters.push(this.delimiters)\n    this.delimiters = []\n    token_meta = { delimiters: this.delimiters }\n  }\n\n  this.pendingLevel = this.level\n  this.tokens.push(token)\n  this.tokens_meta.push(token_meta)\n  return token\n}\n\n// Scan a sequence of emphasis-like markers, and determine whether\n// it can start an emphasis sequence or end an emphasis sequence.\n//\n//  - start - position to scan from (it should point at a valid marker);\n//  - canSplitWord - determine if these markers can be found inside a word\n//\nStateInline.prototype.scanDelims = function (start, canSplitWord) {\n  const max = this.posMax\n  const marker = this.src.charCodeAt(start)\n\n  // treat beginning of the line as a whitespace\n  const lastChar = start > 0 ? this.src.charCodeAt(start - 1) : 0x20\n\n  let pos = start\n  while (pos < max && this.src.charCodeAt(pos) === marker) { pos++ }\n\n  const count = pos - start\n\n  // treat end of the line as a whitespace\n  const nextChar = pos < max ? this.src.charCodeAt(pos) : 0x20\n\n  const isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar))\n  const isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar))\n\n  const isLastWhiteSpace = isWhiteSpace(lastChar)\n  const isNextWhiteSpace = isWhiteSpace(nextChar)\n\n  const left_flanking =\n    !isNextWhiteSpace && (!isNextPunctChar || isLastWhiteSpace || isLastPunctChar)\n  const right_flanking =\n    !isLastWhiteSpace && (!isLastPunctChar || isNextWhiteSpace || isNextPunctChar)\n\n  const can_open  = left_flanking  && (canSplitWord || !right_flanking || isLastPunctChar)\n  const can_close = right_flanking && (canSplitWord || !left_flanking  || isNextPunctChar)\n\n  return { can_open, can_close, length: count }\n}\n\n// re-export Token class to use in block rules\nStateInline.prototype.Token = Token\n\nexport default StateInline\n","// Process links like https://example.org/\n\n// RFC3986: scheme = ALPHA *( ALPHA / DIGIT / \"+\" / \"-\" / \".\" )\nconst SCHEME_RE = /(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i\n\nexport default function linkify (state, silent) {\n  if (!state.md.options.linkify) return false\n  if (state.linkLevel > 0) return false\n\n  const pos = state.pos\n  const max = state.posMax\n\n  if (pos + 3 > max) return false\n  if (state.src.charCodeAt(pos) !== 0x3A/* : */) return false\n  if (state.src.charCodeAt(pos + 1) !== 0x2F/* / */) return false\n  if (state.src.charCodeAt(pos + 2) !== 0x2F/* / */) return false\n\n  const match = state.pending.match(SCHEME_RE)\n  if (!match) return false\n\n  const proto = match[1]\n\n  const link = state.md.linkify.matchAtStart(state.src.slice(pos - proto.length))\n  if (!link) return false\n\n  let url = link.url\n\n  // invalid link, but still detected by linkify somehow;\n  // need to check to prevent infinite loop below\n  if (url.length <= proto.length) return false\n\n  // disallow '*' at the end of the link (conflicts with emphasis)\n  url = url.replace(/\\*+$/, '')\n\n  const fullUrl = state.md.normalizeLink(url)\n  if (!state.md.validateLink(fullUrl)) return false\n\n  if (!silent) {\n    state.pending = state.pending.slice(0, -proto.length)\n\n    const token_o = state.push('link_open', 'a', 1)\n    token_o.attrs = [['href', fullUrl]]\n    token_o.markup = 'linkify'\n    token_o.info = 'auto'\n\n    const token_t = state.push('text', '', 0)\n    token_t.content = state.md.normalizeLinkText(url)\n\n    const token_c = state.push('link_close', 'a', -1)\n    token_c.markup = 'linkify'\n    token_c.info = 'auto'\n  }\n\n  state.pos += url.length - proto.length\n  return true\n}\n","// Process escaped chars and hardbreaks\n\nimport { isSpace } from '../common/utils.mjs'\n\nconst ESCAPED = []\n\nfor (let i = 0; i < 256; i++) { ESCAPED.push(0) }\n\n'\\\\!\"#$%&\\'()*+,./:;<=>?@[]^_`{|}~-'\n  .split('').forEach(function (ch) { ESCAPED[ch.charCodeAt(0)] = 1 })\n\nexport default function escape (state, silent) {\n  let pos = state.pos\n  const max = state.posMax\n\n  if (state.src.charCodeAt(pos) !== 0x5C/* \\ */) return false\n  pos++\n\n  // '\\' at the end of the inline block\n  if (pos >= max) return false\n\n  let ch1 = state.src.charCodeAt(pos)\n\n  if (ch1 === 0x0A) {\n    if (!silent) {\n      state.push('hardbreak', 'br', 0)\n    }\n\n    pos++\n    // skip leading whitespaces from next line\n    while (pos < max) {\n      ch1 = state.src.charCodeAt(pos)\n      if (!isSpace(ch1)) break\n      pos++\n    }\n\n    state.pos = pos\n    return true\n  }\n\n  let escapedStr = state.src[pos]\n\n  if (ch1 >= 0xD800 && ch1 <= 0xDBFF && pos + 1 < max) {\n    const ch2 = state.src.charCodeAt(pos + 1)\n\n    if (ch2 >= 0xDC00 && ch2 <= 0xDFFF) {\n      escapedStr += state.src[pos + 1]\n      pos++\n    }\n  }\n\n  const origStr = '\\\\' + escapedStr\n\n  if (!silent) {\n    const token = state.push('text_special', '', 0)\n\n    if (ch1 < 256 && ESCAPED[ch1] !== 0) {\n      token.content = escapedStr\n    } else {\n      token.content = origStr\n    }\n\n    token.markup = origStr\n    token.info   = 'escape'\n  }\n\n  state.pos = pos + 1\n  return true\n}\n","// ~~strike through~~\n//\n\n// Insert each marker as a separate text token, and add it to delimiter list\n//\nfunction strikethrough_tokenize (state, silent) {\n  const start = state.pos\n  const marker = state.src.charCodeAt(start)\n\n  if (silent) { return false }\n\n  if (marker !== 0x7E/* ~ */) { return false }\n\n  const scanned = state.scanDelims(state.pos, true)\n  let len = scanned.length\n  const ch = String.fromCharCode(marker)\n\n  if (len < 2) { return false }\n\n  let token\n\n  if (len % 2) {\n    token         = state.push('text', '', 0)\n    token.content = ch\n    len--\n  }\n\n  for (let i = 0; i < len; i += 2) {\n    token         = state.push('text', '', 0)\n    token.content = ch + ch\n\n    state.delimiters.push({\n      marker,\n      length: 0,     // disable \"rule of 3\" length checks meant for emphasis\n      token: state.tokens.length - 1,\n      end: -1,\n      open: scanned.can_open,\n      close: scanned.can_close\n    })\n  }\n\n  state.pos += scanned.length\n\n  return true\n}\n\nfunction postProcess (state, delimiters) {\n  let token\n  const loneMarkers = []\n  const max = delimiters.length\n\n  for (let i = 0; i < max; i++) {\n    const startDelim = delimiters[i]\n\n    if (startDelim.marker !== 0x7E/* ~ */) {\n      continue\n    }\n\n    if (startDelim.end === -1) {\n      continue\n    }\n\n    const endDelim = delimiters[startDelim.end]\n\n    token         = state.tokens[startDelim.token]\n    token.type    = 's_open'\n    token.tag     = 's'\n    token.nesting = 1\n    token.markup  = '~~'\n    token.content = ''\n\n    token         = state.tokens[endDelim.token]\n    token.type    = 's_close'\n    token.tag     = 's'\n    token.nesting = -1\n    token.markup  = '~~'\n    token.content = ''\n\n    if (state.tokens[endDelim.token - 1].type === 'text' &&\n        state.tokens[endDelim.token - 1].content === '~') {\n      loneMarkers.push(endDelim.token - 1)\n    }\n  }\n\n  // If a marker sequence has an odd number of characters, it's splitted\n  // like this: `~~~~~` -> `~` + `~~` + `~~`, leaving one marker at the\n  // start of the sequence.\n  //\n  // So, we have to move all those markers after subsequent s_close tags.\n  //\n  while (loneMarkers.length) {\n    const i = loneMarkers.pop()\n    let j = i + 1\n\n    while (j < state.tokens.length && state.tokens[j].type === 's_close') {\n      j++\n    }\n\n    j--\n\n    if (i !== j) {\n      token = state.tokens[j]\n      state.tokens[j] = state.tokens[i]\n      state.tokens[i] = token\n    }\n  }\n}\n\n// Walk through delimiter list and replace text tokens with tags\n//\nfunction strikethrough_postProcess (state) {\n  const tokens_meta = state.tokens_meta\n  const max = state.tokens_meta.length\n\n  postProcess(state, state.delimiters)\n\n  for (let curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      postProcess(state, tokens_meta[curr].delimiters)\n    }\n  }\n}\n\nexport default {\n  tokenize: strikethrough_tokenize,\n  postProcess: strikethrough_postProcess\n}\n","// Process *this* and _that_\n//\n\n// Insert each marker as a separate text token, and add it to delimiter list\n//\nfunction emphasis_tokenize (state, silent) {\n  const start = state.pos\n  const marker = state.src.charCodeAt(start)\n\n  if (silent) { return false }\n\n  if (marker !== 0x5F /* _ */ && marker !== 0x2A /* * */) { return false }\n\n  const scanned = state.scanDelims(state.pos, marker === 0x2A)\n\n  for (let i = 0; i < scanned.length; i++) {\n    const token = state.push('text', '', 0)\n    token.content = String.fromCharCode(marker)\n\n    state.delimiters.push({\n      // Char code of the starting marker (number).\n      //\n      marker,\n\n      // Total length of these series of delimiters.\n      //\n      length: scanned.length,\n\n      // A position of the token this delimiter corresponds to.\n      //\n      token: state.tokens.length - 1,\n\n      // If this delimiter is matched as a valid opener, `end` will be\n      // equal to its position, otherwise it's `-1`.\n      //\n      end: -1,\n\n      // Boolean flags that determine if this delimiter could open or close\n      // an emphasis.\n      //\n      open: scanned.can_open,\n      close: scanned.can_close\n    })\n  }\n\n  state.pos += scanned.length\n\n  return true\n}\n\nfunction postProcess (state, delimiters) {\n  const max = delimiters.length\n\n  for (let i = max - 1; i >= 0; i--) {\n    const startDelim = delimiters[i]\n\n    if (startDelim.marker !== 0x5F/* _ */ && startDelim.marker !== 0x2A/* * */) {\n      continue\n    }\n\n    // Process only opening markers\n    if (startDelim.end === -1) {\n      continue\n    }\n\n    const endDelim = delimiters[startDelim.end]\n\n    // If the previous delimiter has the same marker and is adjacent to this one,\n    // merge those into one strong delimiter.\n    //\n    // `<em><em>whatever</em></em>` -> `<strong>whatever</strong>`\n    //\n    const isStrong = i > 0 &&\n               delimiters[i - 1].end === startDelim.end + 1 &&\n               // check that first two markers match and adjacent\n               delimiters[i - 1].marker === startDelim.marker &&\n               delimiters[i - 1].token === startDelim.token - 1 &&\n               // check that last two markers are adjacent (we can safely assume they match)\n               delimiters[startDelim.end + 1].token === endDelim.token + 1\n\n    const ch = String.fromCharCode(startDelim.marker)\n\n    const token_o   = state.tokens[startDelim.token]\n    token_o.type    = isStrong ? 'strong_open' : 'em_open'\n    token_o.tag     = isStrong ? 'strong' : 'em'\n    token_o.nesting = 1\n    token_o.markup  = isStrong ? ch + ch : ch\n    token_o.content = ''\n\n    const token_c   = state.tokens[endDelim.token]\n    token_c.type    = isStrong ? 'strong_close' : 'em_close'\n    token_c.tag     = isStrong ? 'strong' : 'em'\n    token_c.nesting = -1\n    token_c.markup  = isStrong ? ch + ch : ch\n    token_c.content = ''\n\n    if (isStrong) {\n      state.tokens[delimiters[i - 1].token].content = ''\n      state.tokens[delimiters[startDelim.end + 1].token].content = ''\n      i--\n    }\n  }\n}\n\n// Walk through delimiter list and replace text tokens with tags\n//\nfunction emphasis_post_process (state) {\n  const tokens_meta = state.tokens_meta\n  const max = state.tokens_meta.length\n\n  postProcess(state, state.delimiters)\n\n  for (let curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      postProcess(state, tokens_meta[curr].delimiters)\n    }\n  }\n}\n\nexport default {\n  tokenize: emphasis_tokenize,\n  postProcess: emphasis_post_process\n}\n","// Process autolinks '<protocol:...>'\n\n/* eslint max-len:0 */\nconst EMAIL_RE    = /^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/\n/* eslint-disable-next-line no-control-regex */\nconst AUTOLINK_RE = /^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\\x00-\\x20]*)$/\n\nexport default function autolink (state, silent) {\n  let pos = state.pos\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false }\n\n  const start = state.pos\n  const max = state.posMax\n\n  for (;;) {\n    if (++pos >= max) return false\n\n    const ch = state.src.charCodeAt(pos)\n\n    if (ch === 0x3C /* < */) return false\n    if (ch === 0x3E /* > */) break\n  }\n\n  const url = state.src.slice(start + 1, pos)\n\n  if (AUTOLINK_RE.test(url)) {\n    const fullUrl = state.md.normalizeLink(url)\n    if (!state.md.validateLink(fullUrl)) { return false }\n\n    if (!silent) {\n      const token_o   = state.push('link_open', 'a', 1)\n      token_o.attrs   = [['href', fullUrl]]\n      token_o.markup  = 'autolink'\n      token_o.info    = 'auto'\n\n      const token_t   = state.push('text', '', 0)\n      token_t.content = state.md.normalizeLinkText(url)\n\n      const token_c   = state.push('link_close', 'a', -1)\n      token_c.markup  = 'autolink'\n      token_c.info    = 'auto'\n    }\n\n    state.pos += url.length + 2\n    return true\n  }\n\n  if (EMAIL_RE.test(url)) {\n    const fullUrl = state.md.normalizeLink('mailto:' + url)\n    if (!state.md.validateLink(fullUrl)) { return false }\n\n    if (!silent) {\n      const token_o   = state.push('link_open', 'a', 1)\n      token_o.attrs   = [['href', fullUrl]]\n      token_o.markup  = 'autolink'\n      token_o.info    = 'auto'\n\n      const token_t   = state.push('text', '', 0)\n      token_t.content = state.md.normalizeLinkText(url)\n\n      const token_c   = state.push('link_close', 'a', -1)\n      token_c.markup  = 'autolink'\n      token_c.info    = 'auto'\n    }\n\n    state.pos += url.length + 2\n    return true\n  }\n\n  return false\n}\n","// Process html entity - &#123;, &#xAF;, &quot;, ...\n\nimport { decodeHTML } from 'entities'\nimport { isValidEntityCode, fromCodePoint } from '../common/utils.mjs'\n\nconst DIGITAL_RE = /^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i\nconst NAMED_RE   = /^&([a-z][a-z0-9]{1,31});/i\n\nexport default function entity (state, silent) {\n  const pos = state.pos\n  const max = state.posMax\n\n  if (state.src.charCodeAt(pos) !== 0x26/* & */) return false\n\n  if (pos + 1 >= max) return false\n\n  const ch = state.src.charCodeAt(pos + 1)\n\n  if (ch === 0x23 /* # */) {\n    const match = state.src.slice(pos).match(DIGITAL_RE)\n    if (match) {\n      if (!silent) {\n        const code = match[1][0].toLowerCase() === 'x' ? parseInt(match[1].slice(1), 16) : parseInt(match[1], 10)\n\n        const token   = state.push('text_special', '', 0)\n        token.content = isValidEntityCode(code) ? fromCodePoint(code) : fromCodePoint(0xFFFD)\n        token.markup  = match[0]\n        token.info    = 'entity'\n      }\n      state.pos += match[0].length\n      return true\n    }\n  } else {\n    const match = state.src.slice(pos).match(NAMED_RE)\n    if (match) {\n      const decoded = decodeHTML(match[0])\n      if (decoded !== match[0]) {\n        if (!silent) {\n          const token   = state.push('text_special', '', 0)\n          token.content = decoded\n          token.markup  = match[0]\n          token.info    = 'entity'\n        }\n        state.pos += match[0].length\n        return true\n      }\n    }\n  }\n\n  return false\n}\n","// For each opening emphasis-like marker find a matching closing one\n//\n\nfunction processDelimiters (delimiters) {\n  const openersBottom = {}\n  const max = delimiters.length\n\n  if (!max) return\n\n  // headerIdx is the first delimiter of the current (where closer is) delimiter run\n  let headerIdx = 0\n  let lastTokenIdx = -2 // needs any value lower than -1\n  const jumps = []\n\n  for (let closerIdx = 0; closerIdx < max; closerIdx++) {\n    const closer = delimiters[closerIdx]\n\n    jumps.push(0)\n\n    // markers belong to same delimiter run if:\n    //  - they have adjacent tokens\n    //  - AND markers are the same\n    //\n    if (delimiters[headerIdx].marker !== closer.marker || lastTokenIdx !== closer.token - 1) {\n      headerIdx = closerIdx\n    }\n\n    lastTokenIdx = closer.token\n\n    // Length is only used for emphasis-specific \"rule of 3\",\n    // if it's not defined (in strikethrough or 3rd party plugins),\n    // we can default it to 0 to disable those checks.\n    //\n    closer.length = closer.length || 0\n\n    if (!closer.close) continue\n\n    // Previously calculated lower bounds (previous fails)\n    // for each marker, each delimiter length modulo 3,\n    // and for whether this closer can be an opener;\n    // https://github.com/commonmark/cmark/commit/34250e12ccebdc6372b8b49c44fab57c72443460\n    /* eslint-disable-next-line no-prototype-builtins */\n    if (!openersBottom.hasOwnProperty(closer.marker)) {\n      openersBottom[closer.marker] = [-1, -1, -1, -1, -1, -1]\n    }\n\n    const minOpenerIdx = openersBottom[closer.marker][(closer.open ? 3 : 0) + (closer.length % 3)]\n\n    let openerIdx = headerIdx - jumps[headerIdx] - 1\n\n    let newMinOpenerIdx = openerIdx\n\n    for (; openerIdx > minOpenerIdx; openerIdx -= jumps[openerIdx] + 1) {\n      const opener = delimiters[openerIdx]\n\n      if (opener.marker !== closer.marker) continue\n\n      if (opener.open && opener.end < 0) {\n        let isOddMatch = false\n\n        // from spec:\n        //\n        // If one of the delimiters can both open and close emphasis, then the\n        // sum of the lengths of the delimiter runs containing the opening and\n        // closing delimiters must not be a multiple of 3 unless both lengths\n        // are multiples of 3.\n        //\n        if (opener.close || closer.open) {\n          if ((opener.length + closer.length) % 3 === 0) {\n            if (opener.length % 3 !== 0 || closer.length % 3 !== 0) {\n              isOddMatch = true\n            }\n          }\n        }\n\n        if (!isOddMatch) {\n          // If previous delimiter cannot be an opener, we can safely skip\n          // the entire sequence in future checks. This is required to make\n          // sure algorithm has linear complexity (see *_*_*_*_*_... case).\n          //\n          const lastJump = openerIdx > 0 && !delimiters[openerIdx - 1].open\n            ? jumps[openerIdx - 1] + 1\n            : 0\n\n          jumps[closerIdx] = closerIdx - openerIdx + lastJump\n          jumps[openerIdx] = lastJump\n\n          closer.open  = false\n          opener.end   = closerIdx\n          opener.close = false\n          newMinOpenerIdx = -1\n          // treat next token as start of run,\n          // it optimizes skips in **<...>**a**<...>** pathological case\n          lastTokenIdx = -2\n          break\n        }\n      }\n    }\n\n    if (newMinOpenerIdx !== -1) {\n      // If match for this delimiter run failed, we want to set lower bound for\n      // future lookups. This is required to make sure algorithm has linear\n      // complexity.\n      //\n      // See details here:\n      // https://github.com/commonmark/cmark/issues/178#issuecomment-270417442\n      //\n      openersBottom[closer.marker][(closer.open ? 3 : 0) + ((closer.length || 0) % 3)] = newMinOpenerIdx\n    }\n  }\n}\n\nexport default function link_pairs (state) {\n  const tokens_meta = state.tokens_meta\n  const max = state.tokens_meta.length\n\n  processDelimiters(state.delimiters)\n\n  for (let curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      processDelimiters(tokens_meta[curr].delimiters)\n    }\n  }\n}\n","/** internal\n * class ParserInline\n *\n * Tokenizes paragraph content.\n **/\n\nimport Ruler from './ruler.mjs'\nimport StateInline from './rules_inline/state_inline.mjs'\n\nimport r_text from './rules_inline/text.mjs'\nimport r_linkify from './rules_inline/linkify.mjs'\nimport r_newline from './rules_inline/newline.mjs'\nimport r_escape from './rules_inline/escape.mjs'\nimport r_backticks from './rules_inline/backticks.mjs'\nimport r_strikethrough from './rules_inline/strikethrough.mjs'\nimport r_emphasis from './rules_inline/emphasis.mjs'\nimport r_link from './rules_inline/link.mjs'\nimport r_image from './rules_inline/image.mjs'\nimport r_autolink from './rules_inline/autolink.mjs'\nimport r_html_inline from './rules_inline/html_inline.mjs'\nimport r_entity from './rules_inline/entity.mjs'\n\nimport r_balance_pairs from './rules_inline/balance_pairs.mjs'\nimport r_fragments_join from './rules_inline/fragments_join.mjs'\n\n// Parser rules\n\nconst _rules = [\n  ['text',            r_text],\n  ['linkify',         r_linkify],\n  ['newline',         r_newline],\n  ['escape',          r_escape],\n  ['backticks',       r_backticks],\n  ['strikethrough',   r_strikethrough.tokenize],\n  ['emphasis',        r_emphasis.tokenize],\n  ['link',            r_link],\n  ['image',           r_image],\n  ['autolink',        r_autolink],\n  ['html_inline',     r_html_inline],\n  ['entity',          r_entity]\n]\n\n// `rule2` ruleset was created specifically for emphasis/strikethrough\n// post-processing and may be changed in the future.\n//\n// Don't use this for anything except pairs (plugins working with `balance_pairs`).\n//\nconst _rules2 = [\n  ['balance_pairs',   r_balance_pairs],\n  ['strikethrough',   r_strikethrough.postProcess],\n  ['emphasis',        r_emphasis.postProcess],\n  // rules for pairs separate '**' into its own text tokens, which may be left unused,\n  // rule below merges unused segments back with the rest of the text\n  ['fragments_join',  r_fragments_join]\n]\n\n/**\n * new ParserInline()\n **/\nfunction ParserInline () {\n  /**\n   * ParserInline#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of inline rules.\n   **/\n  this.ruler = new Ruler()\n\n  for (let i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1])\n  }\n\n  /**\n   * ParserInline#ruler2 -> Ruler\n   *\n   * [[Ruler]] instance. Second ruler used for post-processing\n   * (e.g. in emphasis-like rules).\n   **/\n  this.ruler2 = new Ruler()\n\n  for (let i = 0; i < _rules2.length; i++) {\n    this.ruler2.push(_rules2[i][0], _rules2[i][1])\n  }\n}\n\n// Skip single token by running all rules in validation mode;\n// returns `true` if any rule reported success\n//\nParserInline.prototype.skipToken = function (state) {\n  const pos = state.pos\n  const rules = this.ruler.getRules('')\n  const len = rules.length\n  const maxNesting = state.md.options.maxNesting\n  const cache = state.cache\n\n  if (typeof cache[pos] !== 'undefined') {\n    state.pos = cache[pos]\n    return\n  }\n\n  let ok = false\n\n  if (state.level < maxNesting) {\n    for (let i = 0; i < len; i++) {\n      // Increment state.level and decrement it later to limit recursion.\n      // It's harmless to do here, because no tokens are created. But ideally,\n      // we'd need a separate private state variable for this purpose.\n      //\n      state.level++\n      ok = rules[i](state, true)\n      state.level--\n\n      if (ok) {\n        if (pos >= state.pos) { throw new Error(\"inline rule didn't increment state.pos\") }\n        break\n      }\n    }\n  } else {\n    // Too much nesting, just skip until the end of the paragraph.\n    //\n    // NOTE: this will cause links to behave incorrectly in the following case,\n    //       when an amount of `[` is exactly equal to `maxNesting + 1`:\n    //\n    //       [[[[[[[[[[[[[[[[[[[[[foo]()\n    //\n    // TODO: remove this workaround when CM standard will allow nested links\n    //       (we can replace it by preventing links from being parsed in\n    //       validation mode)\n    //\n    state.pos = state.posMax\n  }\n\n  if (!ok) { state.pos++ }\n  cache[pos] = state.pos\n}\n\n// Generate tokens for input range\n//\nParserInline.prototype.tokenize = function (state) {\n  const rules = this.ruler.getRules('')\n  const len = rules.length\n  const end = state.posMax\n  const maxNesting = state.md.options.maxNesting\n\n  while (state.pos < end) {\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.pos`\n    // - update `state.tokens`\n    // - return true\n    const prevPos = state.pos\n    let ok = false\n\n    if (state.level < maxNesting) {\n      for (let i = 0; i < len; i++) {\n        ok = rules[i](state, false)\n        if (ok) {\n          if (prevPos >= state.pos) { throw new Error(\"inline rule didn't increment state.pos\") }\n          break\n        }\n      }\n    }\n\n    if (ok) {\n      if (state.pos >= end) { break }\n      continue\n    }\n\n    state.pending += state.src[state.pos++]\n  }\n\n  if (state.pending) {\n    state.pushPending()\n  }\n}\n\n/**\n * ParserInline.parse(str, md, env, outTokens)\n *\n * Process input string and push inline tokens into `outTokens`\n **/\nParserInline.prototype.parse = function (str, md, env, outTokens) {\n  const state = new this.State(str, md, env, outTokens)\n\n  this.tokenize(state)\n\n  const rules = this.ruler2.getRules('')\n  const len = rules.length\n\n  for (let i = 0; i < len; i++) {\n    rules[i](state)\n  }\n}\n\nParserInline.prototype.State = StateInline\n\nexport default ParserInline\n","// Skip text characters for text token, place those to pending buffer\n// and increment current pos\n\n// Rule to skip pure text\n// '{}$%@~+=:' reserved for extentions\n\n// !, \", #, $, %, &, ', (, ), *, +, ,, -, ., /, :, ;, <, =, >, ?, @, [, \\, ], ^, _, `, {, |, }, or ~\n\n// !!!! Don't confuse with \"Markdown ASCII Punctuation\" chars\n// http://spec.commonmark.org/0.15/#ascii-punctuation-character\nfunction isTerminatorChar (ch) {\n  switch (ch) {\n    case 0x0A/* \\n */:\n    case 0x21/* ! */:\n    case 0x23/* # */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x26/* & */:\n    case 0x2A/* * */:\n    case 0x2B/* + */:\n    case 0x2D/* - */:\n    case 0x3A/* : */:\n    case 0x3C/* < */:\n    case 0x3D/* = */:\n    case 0x3E/* > */:\n    case 0x40/* @ */:\n    case 0x5B/* [ */:\n    case 0x5C/* \\ */:\n    case 0x5D/* ] */:\n    case 0x5E/* ^ */:\n    case 0x5F/* _ */:\n    case 0x60/* ` */:\n    case 0x7B/* { */:\n    case 0x7D/* } */:\n    case 0x7E/* ~ */:\n      return true\n    default:\n      return false\n  }\n}\n\nexport default function text (state, silent) {\n  let pos = state.pos\n\n  while (pos < state.posMax && !isTerminatorChar(state.src.charCodeAt(pos))) {\n    pos++\n  }\n\n  if (pos === state.pos) { return false }\n\n  if (!silent) { state.pending += state.src.slice(state.pos, pos) }\n\n  state.pos = pos\n\n  return true\n}\n\n// Alternative implementation, for memory.\n//\n// It costs 10% of performance, but allows extend terminators list, if place it\n// to `ParserInline` property. Probably, will switch to it sometime, such\n// flexibility required.\n\n/*\nvar TERMINATOR_RE = /[\\n!#$%&*+\\-:<=>@[\\\\\\]^_`{}~]/;\n\nmodule.exports = function text(state, silent) {\n  var pos = state.pos,\n      idx = state.src.slice(pos).search(TERMINATOR_RE);\n\n  // first char is terminator -> empty text\n  if (idx === 0) { return false; }\n\n  // no terminator -> text till end of string\n  if (idx < 0) {\n    if (!silent) { state.pending += state.src.slice(pos); }\n    state.pos = state.src.length;\n    return true;\n  }\n\n  if (!silent) { state.pending += state.src.slice(pos, pos + idx); }\n\n  state.pos += idx;\n\n  return true;\n}; */\n","// Proceess '\\n'\n\nimport { isSpace } from '../common/utils.mjs'\n\nexport default function newline (state, silent) {\n  let pos = state.pos\n\n  if (state.src.charCodeAt(pos) !== 0x0A/* \\n */) { return false }\n\n  const pmax = state.pending.length - 1\n  const max = state.posMax\n\n  // '  \\n' -> hardbreak\n  // Lookup in pending chars is bad practice! Don't copy to other rules!\n  // Pending string is stored in concat mode, indexed lookups will cause\n  // convertion to flat mode.\n  if (!silent) {\n    if (pmax >= 0 && state.pending.charCodeAt(pmax) === 0x20) {\n      if (pmax >= 1 && state.pending.charCodeAt(pmax - 1) === 0x20) {\n        // Find whitespaces tail of pending chars.\n        let ws = pmax - 1\n        while (ws >= 1 && state.pending.charCodeAt(ws - 1) === 0x20) ws--\n\n        state.pending = state.pending.slice(0, ws)\n        state.push('hardbreak', 'br', 0)\n      } else {\n        state.pending = state.pending.slice(0, -1)\n        state.push('softbreak', 'br', 0)\n      }\n    } else {\n      state.push('softbreak', 'br', 0)\n    }\n  }\n\n  pos++\n\n  // skip heading spaces for next line\n  while (pos < max && isSpace(state.src.charCodeAt(pos))) { pos++ }\n\n  state.pos = pos\n  return true\n}\n","// Parse backticks\n\nexport default function backtick (state, silent) {\n  let pos = state.pos\n  const ch = state.src.charCodeAt(pos)\n\n  if (ch !== 0x60/* ` */) { return false }\n\n  const start = pos\n  pos++\n  const max = state.posMax\n\n  // scan marker length\n  while (pos < max && state.src.charCodeAt(pos) === 0x60/* ` */) { pos++ }\n\n  const marker = state.src.slice(start, pos)\n  const openerLength = marker.length\n\n  if (state.backticksScanned && (state.backticks[openerLength] || 0) <= start) {\n    if (!silent) state.pending += marker\n    state.pos += openerLength\n    return true\n  }\n\n  let matchEnd = pos\n  let matchStart\n\n  // Nothing found in the cache, scan until the end of the line (or until marker is found)\n  while ((matchStart = state.src.indexOf('`', matchEnd)) !== -1) {\n    matchEnd = matchStart + 1\n\n    // scan marker length\n    while (matchEnd < max && state.src.charCodeAt(matchEnd) === 0x60/* ` */) { matchEnd++ }\n\n    const closerLength = matchEnd - matchStart\n\n    if (closerLength === openerLength) {\n      // Found matching closer length.\n      if (!silent) {\n        const token = state.push('code_inline', 'code', 0)\n        token.markup = marker\n        token.content = state.src.slice(pos, matchStart)\n          .replace(/\\n/g, ' ')\n          .replace(/^ (.+) $/, '$1')\n      }\n      state.pos = matchEnd\n      return true\n    }\n\n    // Some different length found, put it in cache as upper limit of where closer can be found\n    state.backticks[closerLength] = matchStart\n  }\n\n  // Scanned through the end, didn't find anything\n  state.backticksScanned = true\n\n  if (!silent) state.pending += marker\n  state.pos += openerLength\n  return true\n}\n","// Process [link](<to> \"stuff\")\n\nimport { normalizeReference, isSpace } from '../common/utils.mjs'\n\nexport default function link (state, silent) {\n  let code, label, res, ref\n  let href = ''\n  let title = ''\n  let start = state.pos\n  let parseReference = true\n\n  if (state.src.charCodeAt(state.pos) !== 0x5B/* [ */) { return false }\n\n  const oldPos = state.pos\n  const max = state.posMax\n  const labelStart = state.pos + 1\n  const labelEnd = state.md.helpers.parseLinkLabel(state, state.pos, true)\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false }\n\n  let pos = labelEnd + 1\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // might have found a valid shortcut link, disable reference parsing\n    parseReference = false\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos)\n      if (!isSpace(code) && code !== 0x0A) { break }\n    }\n    if (pos >= max) { return false }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax)\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str)\n      if (state.md.validateLink(href)) {\n        pos = res.pos\n      } else {\n        href = ''\n      }\n\n      // [link](  <href>  \"title\"  )\n      //                ^^ skipping these spaces\n      start = pos\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos)\n        if (!isSpace(code) && code !== 0x0A) { break }\n      }\n\n      // [link](  <href>  \"title\"  )\n      //                  ^^^^^^^ parsing link title\n      res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax)\n      if (pos < max && start !== pos && res.ok) {\n        title = res.str\n        pos = res.pos\n\n        // [link](  <href>  \"title\"  )\n        //                         ^^ skipping these spaces\n        for (; pos < max; pos++) {\n          code = state.src.charCodeAt(pos)\n          if (!isSpace(code) && code !== 0x0A) { break }\n        }\n      }\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      // parsing a valid shortcut link failed, fallback to reference\n      parseReference = true\n    }\n    pos++\n  }\n\n  if (parseReference) {\n    //\n    // Link reference\n    //\n    if (typeof state.env.references === 'undefined') { return false }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1\n      pos = state.md.helpers.parseLinkLabel(state, pos)\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++)\n      } else {\n        pos = labelEnd + 1\n      }\n    } else {\n      pos = labelEnd + 1\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) { label = state.src.slice(labelStart, labelEnd) }\n\n    ref = state.env.references[normalizeReference(label)]\n    if (!ref) {\n      state.pos = oldPos\n      return false\n    }\n    href = ref.href\n    title = ref.title\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    state.pos = labelStart\n    state.posMax = labelEnd\n\n    const token_o = state.push('link_open', 'a', 1)\n    const attrs = [['href', href]]\n    token_o.attrs  = attrs\n    if (title) {\n      attrs.push(['title', title])\n    }\n\n    state.linkLevel++\n    state.md.inline.tokenize(state)\n    state.linkLevel--\n\n    state.push('link_close', 'a', -1)\n  }\n\n  state.pos = pos\n  state.posMax = max\n  return true\n}\n","// Process ![image](<src> \"title\")\n\nimport { normalizeReference, isSpace } from '../common/utils.mjs'\n\nexport default function image (state, silent) {\n  let code, content, label, pos, ref, res, title, start\n  let href = ''\n  const oldPos = state.pos\n  const max = state.posMax\n\n  if (state.src.charCodeAt(state.pos) !== 0x21/* ! */) { return false }\n  if (state.src.charCodeAt(state.pos + 1) !== 0x5B/* [ */) { return false }\n\n  const labelStart = state.pos + 2\n  const labelEnd = state.md.helpers.parseLinkLabel(state, state.pos + 1, false)\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false }\n\n  pos = labelEnd + 1\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos)\n      if (!isSpace(code) && code !== 0x0A) { break }\n    }\n    if (pos >= max) { return false }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax)\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str)\n      if (state.md.validateLink(href)) {\n        pos = res.pos\n      } else {\n        href = ''\n      }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    start = pos\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos)\n      if (!isSpace(code) && code !== 0x0A) { break }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax)\n    if (pos < max && start !== pos && res.ok) {\n      title = res.str\n      pos = res.pos\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos)\n        if (!isSpace(code) && code !== 0x0A) { break }\n      }\n    } else {\n      title = ''\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      state.pos = oldPos\n      return false\n    }\n    pos++\n  } else {\n    //\n    // Link reference\n    //\n    if (typeof state.env.references === 'undefined') { return false }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1\n      pos = state.md.helpers.parseLinkLabel(state, pos)\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++)\n      } else {\n        pos = labelEnd + 1\n      }\n    } else {\n      pos = labelEnd + 1\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) { label = state.src.slice(labelStart, labelEnd) }\n\n    ref = state.env.references[normalizeReference(label)]\n    if (!ref) {\n      state.pos = oldPos\n      return false\n    }\n    href = ref.href\n    title = ref.title\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    content = state.src.slice(labelStart, labelEnd)\n\n    const tokens = []\n    state.md.inline.parse(\n      content,\n      state.md,\n      state.env,\n      tokens\n    )\n\n    const token = state.push('image', 'img', 0)\n    const attrs = [['src', href], ['alt', '']]\n    token.attrs = attrs\n    token.children = tokens\n    token.content = content\n\n    if (title) {\n      attrs.push(['title', title])\n    }\n  }\n\n  state.pos = pos\n  state.posMax = max\n  return true\n}\n","// Process html tags\n\nimport { HTML_TAG_RE } from '../common/html_re.mjs'\n\nfunction isLinkOpen (str) {\n  return /^<a[>\\s]/i.test(str)\n}\nfunction isLinkClose (str) {\n  return /^<\\/a\\s*>/i.test(str)\n}\n\nfunction isLetter (ch) {\n  /* eslint no-bitwise:0 */\n  const lc = ch | 0x20 // to lower case\n  return (lc >= 0x61/* a */) && (lc <= 0x7a/* z */)\n}\n\nexport default function html_inline (state, silent) {\n  if (!state.md.options.html) { return false }\n\n  // Check start\n  const max = state.posMax\n  const pos = state.pos\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */ ||\n      pos + 2 >= max) {\n    return false\n  }\n\n  // Quick fail on second char\n  const ch = state.src.charCodeAt(pos + 1)\n  if (ch !== 0x21/* ! */ &&\n      ch !== 0x3F/* ? */ &&\n      ch !== 0x2F/* / */ &&\n      !isLetter(ch)) {\n    return false\n  }\n\n  const match = state.src.slice(pos).match(HTML_TAG_RE)\n  if (!match) { return false }\n\n  if (!silent) {\n    const token = state.push('html_inline', '', 0)\n    token.content = match[0]\n\n    if (isLinkOpen(token.content))  state.linkLevel++\n    if (isLinkClose(token.content)) state.linkLevel--\n  }\n  state.pos += match[0].length\n  return true\n}\n","// Clean up tokens after emphasis and strikethrough postprocessing:\n// merge adjacent text nodes into one and re-calculate all token levels\n//\n// This is necessary because initially emphasis delimiter markers (*, _, ~)\n// are treated as their own separate text tokens. Then emphasis rule either\n// leaves them as text (needed to merge with adjacent text) or turns them\n// into opening/closing tags (which messes up levels inside).\n//\n\nexport default function fragments_join (state) {\n  let curr, last\n  let level = 0\n  const tokens = state.tokens\n  const max = state.tokens.length\n\n  for (curr = last = 0; curr < max; curr++) {\n    // re-calculate levels after emphasis/strikethrough turns some text nodes\n    // into opening/closing tags\n    if (tokens[curr].nesting < 0) level-- // closing tag\n    tokens[curr].level = level\n    if (tokens[curr].nesting > 0) level++ // opening tag\n\n    if (tokens[curr].type === 'text' &&\n        curr + 1 < max &&\n        tokens[curr + 1].type === 'text') {\n      // collapse two adjacent text nodes\n      tokens[curr + 1].content = tokens[curr].content + tokens[curr + 1].content\n    } else {\n      if (curr !== last) { tokens[last] = tokens[curr] }\n\n      last++\n    }\n  }\n\n  if (curr !== last) {\n    tokens.length = last\n  }\n}\n","import reFactory from './lib/re.mjs'\n\n//\n// Helpers\n//\n\n// Merge objects\n//\nfunction assign (obj /* from1, from2, from3, ... */) {\n  const sources = Array.prototype.slice.call(arguments, 1)\n\n  sources.forEach(function (source) {\n    if (!source) { return }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key]\n    })\n  })\n\n  return obj\n}\n\nfunction _class (obj) { return Object.prototype.toString.call(obj) }\nfunction isString (obj) { return _class(obj) === '[object String]' }\nfunction isObject (obj) { return _class(obj) === '[object Object]' }\nfunction isRegExp (obj) { return _class(obj) === '[object RegExp]' }\nfunction isFunction (obj) { return _class(obj) === '[object Function]' }\n\nfunction escapeRE (str) { return str.replace(/[.?*+^$[\\]\\\\(){}|-]/g, '\\\\$&') }\n\n//\n\nconst defaultOptions = {\n  fuzzyLink: true,\n  fuzzyEmail: true,\n  fuzzyIP: false\n}\n\nfunction isOptionsObj (obj) {\n  return Object.keys(obj || {}).reduce(function (acc, k) {\n    /* eslint-disable-next-line no-prototype-builtins */\n    return acc || defaultOptions.hasOwnProperty(k)\n  }, false)\n}\n\nconst defaultSchemas = {\n  'http:': {\n    validate: function (text, pos, self) {\n      const tail = text.slice(pos)\n\n      if (!self.re.http) {\n        // compile lazily, because \"host\"-containing variables can change on tlds update.\n        self.re.http = new RegExp(\n          '^\\\\/\\\\/' + self.re.src_auth + self.re.src_host_port_strict + self.re.src_path, 'i'\n        )\n      }\n      if (self.re.http.test(tail)) {\n        return tail.match(self.re.http)[0].length\n      }\n      return 0\n    }\n  },\n  'https:': 'http:',\n  'ftp:': 'http:',\n  '//': {\n    validate: function (text, pos, self) {\n      const tail = text.slice(pos)\n\n      if (!self.re.no_http) {\n      // compile lazily, because \"host\"-containing variables can change on tlds update.\n        self.re.no_http = new RegExp(\n          '^' +\n          self.re.src_auth +\n          // Don't allow single-level domains, because of false positives like '//test'\n          // with code comments\n          '(?:localhost|(?:(?:' + self.re.src_domain + ')\\\\.)+' + self.re.src_domain_root + ')' +\n          self.re.src_port +\n          self.re.src_host_terminator +\n          self.re.src_path,\n\n          'i'\n        )\n      }\n\n      if (self.re.no_http.test(tail)) {\n        // should not be `://` & `///`, that protects from errors in protocol name\n        if (pos >= 3 && text[pos - 3] === ':') { return 0 }\n        if (pos >= 3 && text[pos - 3] === '/') { return 0 }\n        return tail.match(self.re.no_http)[0].length\n      }\n      return 0\n    }\n  },\n  'mailto:': {\n    validate: function (text, pos, self) {\n      const tail = text.slice(pos)\n\n      if (!self.re.mailto) {\n        self.re.mailto = new RegExp(\n          '^' + self.re.src_email_name + '@' + self.re.src_host_strict, 'i'\n        )\n      }\n      if (self.re.mailto.test(tail)) {\n        return tail.match(self.re.mailto)[0].length\n      }\n      return 0\n    }\n  }\n}\n\n// RE pattern for 2-character tlds (autogenerated by ./support/tlds_2char_gen.js)\n/* eslint-disable-next-line max-len */\nconst tlds_2ch_src_re = 'a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]'\n\n// DON'T try to make PRs with changes. Extend TLDs with LinkifyIt.tlds() instead\nconst tlds_default = 'biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|'.split('|')\n\nfunction resetScanCache (self) {\n  self.__index__ = -1\n  self.__text_cache__ = ''\n}\n\nfunction createValidator (re) {\n  return function (text, pos) {\n    const tail = text.slice(pos)\n\n    if (re.test(tail)) {\n      return tail.match(re)[0].length\n    }\n    return 0\n  }\n}\n\nfunction createNormalizer () {\n  return function (match, self) {\n    self.normalize(match)\n  }\n}\n\n// Schemas compiler. Build regexps.\n//\nfunction compile (self) {\n  // Load & clone RE patterns.\n  const re = self.re = reFactory(self.__opts__)\n\n  // Define dynamic patterns\n  const tlds = self.__tlds__.slice()\n\n  self.onCompile()\n\n  if (!self.__tlds_replaced__) {\n    tlds.push(tlds_2ch_src_re)\n  }\n  tlds.push(re.src_xn)\n\n  re.src_tlds = tlds.join('|')\n\n  function untpl (tpl) { return tpl.replace('%TLDS%', re.src_tlds) }\n\n  re.email_fuzzy = RegExp(untpl(re.tpl_email_fuzzy), 'i')\n  re.link_fuzzy = RegExp(untpl(re.tpl_link_fuzzy), 'i')\n  re.link_no_ip_fuzzy = RegExp(untpl(re.tpl_link_no_ip_fuzzy), 'i')\n  re.host_fuzzy_test = RegExp(untpl(re.tpl_host_fuzzy_test), 'i')\n\n  //\n  // Compile each schema\n  //\n\n  const aliases = []\n\n  self.__compiled__ = {} // Reset compiled data\n\n  function schemaError (name, val) {\n    throw new Error('(LinkifyIt) Invalid schema \"' + name + '\": ' + val)\n  }\n\n  Object.keys(self.__schemas__).forEach(function (name) {\n    const val = self.__schemas__[name]\n\n    // skip disabled methods\n    if (val === null) { return }\n\n    const compiled = { validate: null, link: null }\n\n    self.__compiled__[name] = compiled\n\n    if (isObject(val)) {\n      if (isRegExp(val.validate)) {\n        compiled.validate = createValidator(val.validate)\n      } else if (isFunction(val.validate)) {\n        compiled.validate = val.validate\n      } else {\n        schemaError(name, val)\n      }\n\n      if (isFunction(val.normalize)) {\n        compiled.normalize = val.normalize\n      } else if (!val.normalize) {\n        compiled.normalize = createNormalizer()\n      } else {\n        schemaError(name, val)\n      }\n\n      return\n    }\n\n    if (isString(val)) {\n      aliases.push(name)\n      return\n    }\n\n    schemaError(name, val)\n  })\n\n  //\n  // Compile postponed aliases\n  //\n\n  aliases.forEach(function (alias) {\n    if (!self.__compiled__[self.__schemas__[alias]]) {\n      // Silently fail on missed schemas to avoid errons on disable.\n      // schemaError(alias, self.__schemas__[alias]);\n      return\n    }\n\n    self.__compiled__[alias].validate =\n      self.__compiled__[self.__schemas__[alias]].validate\n    self.__compiled__[alias].normalize =\n      self.__compiled__[self.__schemas__[alias]].normalize\n  })\n\n  //\n  // Fake record for guessed links\n  //\n  self.__compiled__[''] = { validate: null, normalize: createNormalizer() }\n\n  //\n  // Build schema condition\n  //\n  const slist = Object.keys(self.__compiled__)\n    .filter(function (name) {\n      // Filter disabled & fake schemas\n      return name.length > 0 && self.__compiled__[name]\n    })\n    .map(escapeRE)\n    .join('|')\n  // (?!_) cause 1.5x slowdown\n  self.re.schema_test = RegExp('(^|(?!_)(?:[><\\uff5c]|' + re.src_ZPCc + '))(' + slist + ')', 'i')\n  self.re.schema_search = RegExp('(^|(?!_)(?:[><\\uff5c]|' + re.src_ZPCc + '))(' + slist + ')', 'ig')\n  self.re.schema_at_start = RegExp('^' + self.re.schema_search.source, 'i')\n\n  self.re.pretest = RegExp(\n    '(' + self.re.schema_test.source + ')|(' + self.re.host_fuzzy_test.source + ')|@',\n    'i'\n  )\n\n  //\n  // Cleanup\n  //\n\n  resetScanCache(self)\n}\n\n/**\n * class Match\n *\n * Match result. Single element of array, returned by [[LinkifyIt#match]]\n **/\nfunction Match (self, shift) {\n  const start = self.__index__\n  const end = self.__last_index__\n  const text = self.__text_cache__.slice(start, end)\n\n  /**\n   * Match#schema -> String\n   *\n   * Prefix (protocol) for matched string.\n   **/\n  this.schema = self.__schema__.toLowerCase()\n  /**\n   * Match#index -> Number\n   *\n   * First position of matched string.\n   **/\n  this.index = start + shift\n  /**\n   * Match#lastIndex -> Number\n   *\n   * Next position after matched string.\n   **/\n  this.lastIndex = end + shift\n  /**\n   * Match#raw -> String\n   *\n   * Matched string.\n   **/\n  this.raw = text\n  /**\n   * Match#text -> String\n   *\n   * Notmalized text of matched string.\n   **/\n  this.text = text\n  /**\n   * Match#url -> String\n   *\n   * Normalized url of matched string.\n   **/\n  this.url = text\n}\n\nfunction createMatch (self, shift) {\n  const match = new Match(self, shift)\n\n  self.__compiled__[match.schema].normalize(match, self)\n\n  return match\n}\n\n/**\n * class LinkifyIt\n **/\n\n/**\n * new LinkifyIt(schemas, options)\n * - schemas (Object): Optional. Additional schemas to validate (prefix/validator)\n * - options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }\n *\n * Creates new linkifier instance with optional additional schemas.\n * Can be called without `new` keyword for convenience.\n *\n * By default understands:\n *\n * - `http(s)://...` , `ftp://...`, `mailto:...` & `//...` links\n * - \"fuzzy\" links and emails (example.com, foo@bar.com).\n *\n * `schemas` is an object, where each key/value describes protocol/rule:\n *\n * - __key__ - link prefix (usually, protocol name with `:` at the end, `skype:`\n *   for example). `linkify-it` makes shure that prefix is not preceeded with\n *   alphanumeric char and symbols. Only whitespaces and punctuation allowed.\n * - __value__ - rule to check tail after link prefix\n *   - _String_ - just alias to existing rule\n *   - _Object_\n *     - _validate_ - validator function (should return matched length on success),\n *       or `RegExp`.\n *     - _normalize_ - optional function to normalize text & url of matched result\n *       (for example, for @twitter mentions).\n *\n * `options`:\n *\n * - __fuzzyLink__ - recognige URL-s without `http(s):` prefix. Default `true`.\n * - __fuzzyIP__ - allow IPs in fuzzy links above. Can conflict with some texts\n *   like version numbers. Default `false`.\n * - __fuzzyEmail__ - recognize emails without `mailto:` prefix.\n *\n **/\nfunction LinkifyIt (schemas, options) {\n  if (!(this instanceof LinkifyIt)) {\n    return new LinkifyIt(schemas, options)\n  }\n\n  if (!options) {\n    if (isOptionsObj(schemas)) {\n      options = schemas\n      schemas = {}\n    }\n  }\n\n  this.__opts__ = assign({}, defaultOptions, options)\n\n  // Cache last tested result. Used to skip repeating steps on next `match` call.\n  this.__index__ = -1\n  this.__last_index__ = -1 // Next scan position\n  this.__schema__ = ''\n  this.__text_cache__ = ''\n\n  this.__schemas__ = assign({}, defaultSchemas, schemas)\n  this.__compiled__ = {}\n\n  this.__tlds__ = tlds_default\n  this.__tlds_replaced__ = false\n\n  this.re = {}\n\n  compile(this)\n}\n\n/** chainable\n * LinkifyIt#add(schema, definition)\n * - schema (String): rule name (fixed pattern prefix)\n * - definition (String|RegExp|Object): schema definition\n *\n * Add new rule definition. See constructor description for details.\n **/\nLinkifyIt.prototype.add = function add (schema, definition) {\n  this.__schemas__[schema] = definition\n  compile(this)\n  return this\n}\n\n/** chainable\n * LinkifyIt#set(options)\n * - options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }\n *\n * Set recognition options for links without schema.\n **/\nLinkifyIt.prototype.set = function set (options) {\n  this.__opts__ = assign(this.__opts__, options)\n  return this\n}\n\n/**\n * LinkifyIt#test(text) -> Boolean\n *\n * Searches linkifiable pattern and returns `true` on success or `false` on fail.\n **/\nLinkifyIt.prototype.test = function test (text) {\n  // Reset scan cache\n  this.__text_cache__ = text\n  this.__index__ = -1\n\n  if (!text.length) { return false }\n\n  let m, ml, me, len, shift, next, re, tld_pos, at_pos\n\n  // try to scan for link with schema - that's the most simple rule\n  if (this.re.schema_test.test(text)) {\n    re = this.re.schema_search\n    re.lastIndex = 0\n    while ((m = re.exec(text)) !== null) {\n      len = this.testSchemaAt(text, m[2], re.lastIndex)\n      if (len) {\n        this.__schema__ = m[2]\n        this.__index__ = m.index + m[1].length\n        this.__last_index__ = m.index + m[0].length + len\n        break\n      }\n    }\n  }\n\n  if (this.__opts__.fuzzyLink && this.__compiled__['http:']) {\n    // guess schemaless links\n    tld_pos = text.search(this.re.host_fuzzy_test)\n    if (tld_pos >= 0) {\n      // if tld is located after found link - no need to check fuzzy pattern\n      if (this.__index__ < 0 || tld_pos < this.__index__) {\n        if ((ml = text.match(this.__opts__.fuzzyIP ? this.re.link_fuzzy : this.re.link_no_ip_fuzzy)) !== null) {\n          shift = ml.index + ml[1].length\n\n          if (this.__index__ < 0 || shift < this.__index__) {\n            this.__schema__ = ''\n            this.__index__ = shift\n            this.__last_index__ = ml.index + ml[0].length\n          }\n        }\n      }\n    }\n  }\n\n  if (this.__opts__.fuzzyEmail && this.__compiled__['mailto:']) {\n    // guess schemaless emails\n    at_pos = text.indexOf('@')\n    if (at_pos >= 0) {\n      // We can't skip this check, because this cases are possible:\n      // 192.168.1.1@gmail.com, my.in@example.com\n      if ((me = text.match(this.re.email_fuzzy)) !== null) {\n        shift = me.index + me[1].length\n        next = me.index + me[0].length\n\n        if (this.__index__ < 0 || shift < this.__index__ ||\n            (shift === this.__index__ && next > this.__last_index__)) {\n          this.__schema__ = 'mailto:'\n          this.__index__ = shift\n          this.__last_index__ = next\n        }\n      }\n    }\n  }\n\n  return this.__index__ >= 0\n}\n\n/**\n * LinkifyIt#pretest(text) -> Boolean\n *\n * Very quick check, that can give false positives. Returns true if link MAY BE\n * can exists. Can be used for speed optimization, when you need to check that\n * link NOT exists.\n **/\nLinkifyIt.prototype.pretest = function pretest (text) {\n  return this.re.pretest.test(text)\n}\n\n/**\n * LinkifyIt#testSchemaAt(text, name, position) -> Number\n * - text (String): text to scan\n * - name (String): rule (schema) name\n * - position (Number): text offset to check from\n *\n * Similar to [[LinkifyIt#test]] but checks only specific protocol tail exactly\n * at given position. Returns length of found pattern (0 on fail).\n **/\nLinkifyIt.prototype.testSchemaAt = function testSchemaAt (text, schema, pos) {\n  // If not supported schema check requested - terminate\n  if (!this.__compiled__[schema.toLowerCase()]) {\n    return 0\n  }\n  return this.__compiled__[schema.toLowerCase()].validate(text, pos, this)\n}\n\n/**\n * LinkifyIt#match(text) -> Array|null\n *\n * Returns array of found link descriptions or `null` on fail. We strongly\n * recommend to use [[LinkifyIt#test]] first, for best speed.\n *\n * ##### Result match description\n *\n * - __schema__ - link schema, can be empty for fuzzy links, or `//` for\n *   protocol-neutral  links.\n * - __index__ - offset of matched text\n * - __lastIndex__ - index of next char after mathch end\n * - __raw__ - matched text\n * - __text__ - normalized text\n * - __url__ - link, generated from matched text\n **/\nLinkifyIt.prototype.match = function match (text) {\n  const result = []\n  let shift = 0\n\n  // Try to take previous element from cache, if .test() called before\n  if (this.__index__ >= 0 && this.__text_cache__ === text) {\n    result.push(createMatch(this, shift))\n    shift = this.__last_index__\n  }\n\n  // Cut head if cache was used\n  let tail = shift ? text.slice(shift) : text\n\n  // Scan string until end reached\n  while (this.test(tail)) {\n    result.push(createMatch(this, shift))\n\n    tail = tail.slice(this.__last_index__)\n    shift += this.__last_index__\n  }\n\n  if (result.length) {\n    return result\n  }\n\n  return null\n}\n\n/**\n * LinkifyIt#matchAtStart(text) -> Match|null\n *\n * Returns fully-formed (not fuzzy) link if it starts at the beginning\n * of the string, and null otherwise.\n **/\nLinkifyIt.prototype.matchAtStart = function matchAtStart (text) {\n  // Reset scan cache\n  this.__text_cache__ = text\n  this.__index__ = -1\n\n  if (!text.length) return null\n\n  const m = this.re.schema_at_start.exec(text)\n  if (!m) return null\n\n  const len = this.testSchemaAt(text, m[2], m[0].length)\n  if (!len) return null\n\n  this.__schema__ = m[2]\n  this.__index__ = m.index + m[1].length\n  this.__last_index__ = m.index + m[0].length + len\n\n  return createMatch(this, 0)\n}\n\n/** chainable\n * LinkifyIt#tlds(list [, keepOld]) -> this\n * - list (Array): list of tlds\n * - keepOld (Boolean): merge with current list if `true` (`false` by default)\n *\n * Load (or merge) new tlds list. Those are user for fuzzy links (without prefix)\n * to avoid false positives. By default this algorythm used:\n *\n * - hostname with any 2-letter root zones are ok.\n * - biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\n *   are ok.\n * - encoded (`xn--...`) root zones are ok.\n *\n * If list is replaced, then exact match for 2-chars root zones will be checked.\n **/\nLinkifyIt.prototype.tlds = function tlds (list, keepOld) {\n  list = Array.isArray(list) ? list : [list]\n\n  if (!keepOld) {\n    this.__tlds__ = list.slice()\n    this.__tlds_replaced__ = true\n    compile(this)\n    return this\n  }\n\n  this.__tlds__ = this.__tlds__.concat(list)\n    .sort()\n    .filter(function (el, idx, arr) {\n      return el !== arr[idx - 1]\n    })\n    .reverse()\n\n  compile(this)\n  return this\n}\n\n/**\n * LinkifyIt#normalize(match)\n *\n * Default normalizer (if schema does not define it's own).\n **/\nLinkifyIt.prototype.normalize = function normalize (match) {\n  // Do minimal possible changes by default. Need to collect feedback prior\n  // to move forward https://github.com/markdown-it/linkify-it/issues/1\n\n  if (!match.schema) { match.url = 'http://' + match.url }\n\n  if (match.schema === 'mailto:' && !/^mailto:/i.test(match.url)) {\n    match.url = 'mailto:' + match.url\n  }\n}\n\n/**\n * LinkifyIt#onCompile()\n *\n * Override to modify basic RegExp-s.\n **/\nLinkifyIt.prototype.onCompile = function onCompile () {\n}\n\nexport default LinkifyIt\n","import { Any, Cc, Z, P } from 'uc.micro'\n\nexport default function (opts) {\n  const re = {}\n  opts = opts || {}\n\n  re.src_Any = Any.source\n  re.src_Cc = Cc.source\n  re.src_Z = Z.source\n  re.src_P = P.source\n\n  // \\p{\\Z\\P\\Cc\\CF} (white spaces + control + format + punctuation)\n  re.src_ZPCc = [re.src_Z, re.src_P, re.src_Cc].join('|')\n\n  // \\p{\\Z\\Cc} (white spaces + control)\n  re.src_ZCc = [re.src_Z, re.src_Cc].join('|')\n\n  // Experimental. List of chars, completely prohibited in links\n  // because can separate it from other part of text\n  const text_separators = '[><\\uff5c]'\n\n  // All possible word characters (everything without punctuation, spaces & controls)\n  // Defined via punctuation & spaces to save space\n  // Should be something like \\p{\\L\\N\\S\\M} (\\w but without `_`)\n  re.src_pseudo_letter = '(?:(?!' + text_separators + '|' + re.src_ZPCc + ')' + re.src_Any + ')'\n  // The same as abothe but without [0-9]\n  // var src_pseudo_letter_non_d = '(?:(?![0-9]|' + src_ZPCc + ')' + src_Any + ')';\n\n  re.src_ip4 =\n\n    '(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)'\n\n  // Prohibit any of \"@/[]()\" in user/pass to avoid wrong domain fetch.\n  re.src_auth = '(?:(?:(?!' + re.src_ZCc + '|[@/\\\\[\\\\]()]).)+@)?'\n\n  re.src_port =\n\n    '(?::(?:6(?:[0-4]\\\\d{3}|5(?:[0-4]\\\\d{2}|5(?:[0-2]\\\\d|3[0-5])))|[1-5]?\\\\d{1,4}))?'\n\n  re.src_host_terminator =\n\n    '(?=$|' + text_separators + '|' + re.src_ZPCc + ')' +\n    '(?!' + (opts['---'] ? '-(?!--)|' : '-|') + '_|:\\\\d|\\\\.-|\\\\.(?!$|' + re.src_ZPCc + '))'\n\n  re.src_path =\n\n    '(?:' +\n      '[/?#]' +\n        '(?:' +\n          '(?!' + re.src_ZCc + '|' + text_separators + '|[()[\\\\]{}.,\"\\'?!\\\\-;]).|' +\n          '\\\\[(?:(?!' + re.src_ZCc + '|\\\\]).)*\\\\]|' +\n          '\\\\((?:(?!' + re.src_ZCc + '|[)]).)*\\\\)|' +\n          '\\\\{(?:(?!' + re.src_ZCc + '|[}]).)*\\\\}|' +\n          '\\\\\"(?:(?!' + re.src_ZCc + '|[\"]).)+\\\\\"|' +\n          \"\\\\'(?:(?!\" + re.src_ZCc + \"|[']).)+\\\\'|\" +\n\n          // allow `I'm_king` if no pair found\n          \"\\\\'(?=\" + re.src_pseudo_letter + '|[-])|' +\n\n          // google has many dots in \"google search\" links (#66, #81).\n          // github has ... in commit range links,\n          // Restrict to\n          // - english\n          // - percent-encoded\n          // - parts of file path\n          // - params separator\n          // until more examples found.\n          '\\\\.{2,}[a-zA-Z0-9%/&]|' +\n\n          '\\\\.(?!' + re.src_ZCc + '|[.]|$)|' +\n          (opts['---']\n            ? '\\\\-(?!--(?:[^-]|$))(?:-*)|' // `---` => long dash, terminate\n            : '\\\\-+|'\n          ) +\n          // allow `,,,` in paths\n          ',(?!' + re.src_ZCc + '|$)|' +\n\n          // allow `;` if not followed by space-like char\n          ';(?!' + re.src_ZCc + '|$)|' +\n\n          // allow `!!!` in paths, but not at the end\n          '\\\\!+(?!' + re.src_ZCc + '|[!]|$)|' +\n\n          '\\\\?(?!' + re.src_ZCc + '|[?]|$)' +\n        ')+' +\n      '|\\\\/' +\n    ')?'\n\n  // Allow anything in markdown spec, forbid quote (\") at the first position\n  // because emails enclosed in quotes are far more common\n  re.src_email_name =\n\n    '[\\\\-;:&=\\\\+\\\\$,\\\\.a-zA-Z0-9_][\\\\-;:&=\\\\+\\\\$,\\\\\"\\\\.a-zA-Z0-9_]*'\n\n  re.src_xn =\n\n    'xn--[a-z0-9\\\\-]{1,59}'\n\n  // More to read about domain names\n  // http://serverfault.com/questions/638260/\n\n  re.src_domain_root =\n\n    // Allow letters & digits (http://test1)\n    '(?:' +\n      re.src_xn +\n      '|' +\n      re.src_pseudo_letter + '{1,63}' +\n    ')'\n\n  re.src_domain =\n\n    '(?:' +\n      re.src_xn +\n      '|' +\n      '(?:' + re.src_pseudo_letter + ')' +\n      '|' +\n      '(?:' + re.src_pseudo_letter + '(?:-|' + re.src_pseudo_letter + '){0,61}' + re.src_pseudo_letter + ')' +\n    ')'\n\n  re.src_host =\n\n    '(?:' +\n    // Don't need IP check, because digits are already allowed in normal domain names\n    //   src_ip4 +\n    // '|' +\n      '(?:(?:(?:' + re.src_domain + ')\\\\.)*' + re.src_domain/* _root */ + ')' +\n    ')'\n\n  re.tpl_host_fuzzy =\n\n    '(?:' +\n      re.src_ip4 +\n    '|' +\n      '(?:(?:(?:' + re.src_domain + ')\\\\.)+(?:%TLDS%))' +\n    ')'\n\n  re.tpl_host_no_ip_fuzzy =\n\n    '(?:(?:(?:' + re.src_domain + ')\\\\.)+(?:%TLDS%))'\n\n  re.src_host_strict =\n\n    re.src_host + re.src_host_terminator\n\n  re.tpl_host_fuzzy_strict =\n\n    re.tpl_host_fuzzy + re.src_host_terminator\n\n  re.src_host_port_strict =\n\n    re.src_host + re.src_port + re.src_host_terminator\n\n  re.tpl_host_port_fuzzy_strict =\n\n    re.tpl_host_fuzzy + re.src_port + re.src_host_terminator\n\n  re.tpl_host_port_no_ip_fuzzy_strict =\n\n    re.tpl_host_no_ip_fuzzy + re.src_port + re.src_host_terminator\n\n  //\n  // Main rules\n  //\n\n  // Rude test fuzzy links by host, for quick deny\n  re.tpl_host_fuzzy_test =\n\n    'localhost|www\\\\.|\\\\.\\\\d{1,3}\\\\.|(?:\\\\.(?:%TLDS%)(?:' + re.src_ZPCc + '|>|$))'\n\n  re.tpl_email_fuzzy =\n\n      '(^|' + text_separators + '|\"|\\\\(|' + re.src_ZCc + ')' +\n      '(' + re.src_email_name + '@' + re.tpl_host_fuzzy_strict + ')'\n\n  re.tpl_link_fuzzy =\n      // Fuzzy link can't be prepended with .:/\\- and non punctuation.\n      // but can start with > (markdown blockquote)\n      '(^|(?![.:/\\\\-_@])(?:[$+<=>^`|\\uff5c]|' + re.src_ZPCc + '))' +\n      '((?![$+<=>^`|\\uff5c])' + re.tpl_host_port_fuzzy_strict + re.src_path + ')'\n\n  re.tpl_link_no_ip_fuzzy =\n      // Fuzzy link can't be prepended with .:/\\- and non punctuation.\n      // but can start with > (markdown blockquote)\n      '(^|(?![.:/\\\\-_@])(?:[$+<=>^`|\\uff5c]|' + re.src_ZPCc + '))' +\n      '((?![$+<=>^`|\\uff5c])' + re.tpl_host_port_no_ip_fuzzy_strict + re.src_path + ')'\n\n  return re\n}\n","// Main parser class\n\nimport * as utils from './common/utils.mjs'\nimport * as helpers from './helpers/index.mjs'\nimport Renderer from './renderer.mjs'\nimport ParserCore from './parser_core.mjs'\nimport ParserBlock from './parser_block.mjs'\nimport ParserInline from './parser_inline.mjs'\nimport LinkifyIt from 'linkify-it'\nimport * as mdurl from 'mdurl'\nimport punycode from 'punycode.js'\n\nimport cfg_default from './presets/default.mjs'\nimport cfg_zero from './presets/zero.mjs'\nimport cfg_commonmark from './presets/commonmark.mjs'\n\nconst config = {\n  default: cfg_default,\n  zero: cfg_zero,\n  commonmark: cfg_commonmark\n}\n\n//\n// This validator can prohibit more than really needed to prevent XSS. It's a\n// tradeoff to keep code simple and to be secure by default.\n//\n// If you need different setup - override validator method as you wish. Or\n// replace it with dummy function and use external sanitizer.\n//\n\nconst BAD_PROTO_RE = /^(vbscript|javascript|file|data):/\nconst GOOD_DATA_RE = /^data:image\\/(gif|png|jpeg|webp);/\n\nfunction validateLink (url) {\n  // url should be normalized at this point, and existing entities are decoded\n  const str = url.trim().toLowerCase()\n\n  return BAD_PROTO_RE.test(str) ? GOOD_DATA_RE.test(str) : true\n}\n\nconst RECODE_HOSTNAME_FOR = ['http:', 'https:', 'mailto:']\n\nfunction normalizeLink (url) {\n  const parsed = mdurl.parse(url, true)\n\n  if (parsed.hostname) {\n    // Encode hostnames in urls like:\n    // `http://host/`, `https://host/`, `mailto:user@host`, `//host/`\n    //\n    // We don't encode unknown schemas, because it's likely that we encode\n    // something we shouldn't (e.g. `skype:name` treated as `skype:host`)\n    //\n    if (!parsed.protocol || RECODE_HOSTNAME_FOR.indexOf(parsed.protocol) >= 0) {\n      try {\n        parsed.hostname = punycode.toASCII(parsed.hostname)\n      } catch (er) { /**/ }\n    }\n  }\n\n  return mdurl.encode(mdurl.format(parsed))\n}\n\nfunction normalizeLinkText (url) {\n  const parsed = mdurl.parse(url, true)\n\n  if (parsed.hostname) {\n    // Encode hostnames in urls like:\n    // `http://host/`, `https://host/`, `mailto:user@host`, `//host/`\n    //\n    // We don't encode unknown schemas, because it's likely that we encode\n    // something we shouldn't (e.g. `skype:name` treated as `skype:host`)\n    //\n    if (!parsed.protocol || RECODE_HOSTNAME_FOR.indexOf(parsed.protocol) >= 0) {\n      try {\n        parsed.hostname = punycode.toUnicode(parsed.hostname)\n      } catch (er) { /**/ }\n    }\n  }\n\n  // add '%' to exclude list because of https://github.com/markdown-it/markdown-it/issues/720\n  return mdurl.decode(mdurl.format(parsed), mdurl.decode.defaultChars + '%')\n}\n\n/**\n * class MarkdownIt\n *\n * Main parser/renderer class.\n *\n * ##### Usage\n *\n * ```javascript\n * // node.js, \"classic\" way:\n * var MarkdownIt = require('markdown-it'),\n *     md = new MarkdownIt();\n * var result = md.render('# markdown-it rulezz!');\n *\n * // node.js, the same, but with sugar:\n * var md = require('markdown-it')();\n * var result = md.render('# markdown-it rulezz!');\n *\n * // browser without AMD, added to \"window\" on script load\n * // Note, there are no dash.\n * var md = window.markdownit();\n * var result = md.render('# markdown-it rulezz!');\n * ```\n *\n * Single line rendering, without paragraph wrap:\n *\n * ```javascript\n * var md = require('markdown-it')();\n * var result = md.renderInline('__markdown-it__ rulezz!');\n * ```\n **/\n\n/**\n * new MarkdownIt([presetName, options])\n * - presetName (String): optional, `commonmark` / `zero`\n * - options (Object)\n *\n * Creates parser instanse with given config. Can be called without `new`.\n *\n * ##### presetName\n *\n * MarkdownIt provides named presets as a convenience to quickly\n * enable/disable active syntax rules and options for common use cases.\n *\n * - [\"commonmark\"](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/commonmark.mjs) -\n *   configures parser to strict [CommonMark](http://commonmark.org/) mode.\n * - [default](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/default.mjs) -\n *   similar to GFM, used when no preset name given. Enables all available rules,\n *   but still without html, typographer & autolinker.\n * - [\"zero\"](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/zero.mjs) -\n *   all rules disabled. Useful to quickly setup your config via `.enable()`.\n *   For example, when you need only `bold` and `italic` markup and nothing else.\n *\n * ##### options:\n *\n * - __html__ - `false`. Set `true` to enable HTML tags in source. Be careful!\n *   That's not safe! You may need external sanitizer to protect output from XSS.\n *   It's better to extend features via plugins, instead of enabling HTML.\n * - __xhtmlOut__ - `false`. Set `true` to add '/' when closing single tags\n *   (`<br />`). This is needed only for full CommonMark compatibility. In real\n *   world you will need HTML output.\n * - __breaks__ - `false`. Set `true` to convert `\\n` in paragraphs into `<br>`.\n * - __langPrefix__ - `language-`. CSS language class prefix for fenced blocks.\n *   Can be useful for external highlighters.\n * - __linkify__ - `false`. Set `true` to autoconvert URL-like text to links.\n * - __typographer__  - `false`. Set `true` to enable [some language-neutral\n *   replacement](https://github.com/markdown-it/markdown-it/blob/master/lib/rules_core/replacements.mjs) +\n *   quotes beautification (smartquotes).\n * - __quotes__ - ``, String or Array. Double + single quotes replacement\n *   pairs, when typographer enabled and smartquotes on. For example, you can\n *   use `''` for Russian, `''` for German, and\n *   `['\\xA0', '\\xA0', '\\xA0', '\\xA0']` for French (including nbsp).\n * - __highlight__ - `null`. Highlighter function for fenced code blocks.\n *   Highlighter `function (str, lang)` should return escaped HTML. It can also\n *   return empty string if the source was not changed and should be escaped\n *   externaly. If result starts with <pre... internal wrapper is skipped.\n *\n * ##### Example\n *\n * ```javascript\n * // commonmark mode\n * var md = require('markdown-it')('commonmark');\n *\n * // default mode\n * var md = require('markdown-it')();\n *\n * // enable everything\n * var md = require('markdown-it')({\n *   html: true,\n *   linkify: true,\n *   typographer: true\n * });\n * ```\n *\n * ##### Syntax highlighting\n *\n * ```js\n * var hljs = require('highlight.js') // https://highlightjs.org/\n *\n * var md = require('markdown-it')({\n *   highlight: function (str, lang) {\n *     if (lang && hljs.getLanguage(lang)) {\n *       try {\n *         return hljs.highlight(str, { language: lang, ignoreIllegals: true }).value;\n *       } catch (__) {}\n *     }\n *\n *     return ''; // use external default escaping\n *   }\n * });\n * ```\n *\n * Or with full wrapper override (if you need assign class to `<pre>` or `<code>`):\n *\n * ```javascript\n * var hljs = require('highlight.js') // https://highlightjs.org/\n *\n * // Actual default values\n * var md = require('markdown-it')({\n *   highlight: function (str, lang) {\n *     if (lang && hljs.getLanguage(lang)) {\n *       try {\n *         return '<pre><code class=\"hljs\">' +\n *                hljs.highlight(str, { language: lang, ignoreIllegals: true }).value +\n *                '</code></pre>';\n *       } catch (__) {}\n *     }\n *\n *     return '<pre><code class=\"hljs\">' + md.utils.escapeHtml(str) + '</code></pre>';\n *   }\n * });\n * ```\n *\n **/\nfunction MarkdownIt (presetName, options) {\n  if (!(this instanceof MarkdownIt)) {\n    return new MarkdownIt(presetName, options)\n  }\n\n  if (!options) {\n    if (!utils.isString(presetName)) {\n      options = presetName || {}\n      presetName = 'default'\n    }\n  }\n\n  /**\n   * MarkdownIt#inline -> ParserInline\n   *\n   * Instance of [[ParserInline]]. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.inline = new ParserInline()\n\n  /**\n   * MarkdownIt#block -> ParserBlock\n   *\n   * Instance of [[ParserBlock]]. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.block = new ParserBlock()\n\n  /**\n   * MarkdownIt#core -> Core\n   *\n   * Instance of [[Core]] chain executor. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.core = new ParserCore()\n\n  /**\n   * MarkdownIt#renderer -> Renderer\n   *\n   * Instance of [[Renderer]]. Use it to modify output look. Or to add rendering\n   * rules for new token types, generated by plugins.\n   *\n   * ##### Example\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   *\n   * function myToken(tokens, idx, options, env, self) {\n   *   //...\n   *   return result;\n   * };\n   *\n   * md.renderer.rules['my_token'] = myToken\n   * ```\n   *\n   * See [[Renderer]] docs and [source code](https://github.com/markdown-it/markdown-it/blob/master/lib/renderer.mjs).\n   **/\n  this.renderer = new Renderer()\n\n  /**\n   * MarkdownIt#linkify -> LinkifyIt\n   *\n   * [linkify-it](https://github.com/markdown-it/linkify-it) instance.\n   * Used by [linkify](https://github.com/markdown-it/markdown-it/blob/master/lib/rules_core/linkify.mjs)\n   * rule.\n   **/\n  this.linkify = new LinkifyIt()\n\n  /**\n   * MarkdownIt#validateLink(url) -> Boolean\n   *\n   * Link validation function. CommonMark allows too much in links. By default\n   * we disable `javascript:`, `vbscript:`, `file:` schemas, and almost all `data:...` schemas\n   * except some embedded image types.\n   *\n   * You can change this behaviour:\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   * // enable everything\n   * md.validateLink = function () { return true; }\n   * ```\n   **/\n  this.validateLink = validateLink\n\n  /**\n   * MarkdownIt#normalizeLink(url) -> String\n   *\n   * Function used to encode link url to a machine-readable format,\n   * which includes url-encoding, punycode, etc.\n   **/\n  this.normalizeLink = normalizeLink\n\n  /**\n   * MarkdownIt#normalizeLinkText(url) -> String\n   *\n   * Function used to decode link url to a human-readable format`\n   **/\n  this.normalizeLinkText = normalizeLinkText\n\n  // Expose utils & helpers for easy acces from plugins\n\n  /**\n   * MarkdownIt#utils -> utils\n   *\n   * Assorted utility functions, useful to write plugins. See details\n   * [here](https://github.com/markdown-it/markdown-it/blob/master/lib/common/utils.mjs).\n   **/\n  this.utils = utils\n\n  /**\n   * MarkdownIt#helpers -> helpers\n   *\n   * Link components parser functions, useful to write plugins. See details\n   * [here](https://github.com/markdown-it/markdown-it/blob/master/lib/helpers).\n   **/\n  this.helpers = utils.assign({}, helpers)\n\n  this.options = {}\n  this.configure(presetName)\n\n  if (options) { this.set(options) }\n}\n\n/** chainable\n * MarkdownIt.set(options)\n *\n * Set parser options (in the same format as in constructor). Probably, you\n * will never need it, but you can change options after constructor call.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')()\n *             .set({ html: true, breaks: true })\n *             .set({ typographer, true });\n * ```\n *\n * __Note:__ To achieve the best possible performance, don't modify a\n * `markdown-it` instance options on the fly. If you need multiple configurations\n * it's best to create multiple instances and initialize each with separate\n * config.\n **/\nMarkdownIt.prototype.set = function (options) {\n  utils.assign(this.options, options)\n  return this\n}\n\n/** chainable, internal\n * MarkdownIt.configure(presets)\n *\n * Batch load of all options and compenent settings. This is internal method,\n * and you probably will not need it. But if you will - see available presets\n * and data structure [here](https://github.com/markdown-it/markdown-it/tree/master/lib/presets)\n *\n * We strongly recommend to use presets instead of direct config loads. That\n * will give better compatibility with next versions.\n **/\nMarkdownIt.prototype.configure = function (presets) {\n  const self = this\n\n  if (utils.isString(presets)) {\n    const presetName = presets\n    presets = config[presetName]\n    if (!presets) { throw new Error('Wrong `markdown-it` preset \"' + presetName + '\", check name') }\n  }\n\n  if (!presets) { throw new Error('Wrong `markdown-it` preset, can\\'t be empty') }\n\n  if (presets.options) { self.set(presets.options) }\n\n  if (presets.components) {\n    Object.keys(presets.components).forEach(function (name) {\n      if (presets.components[name].rules) {\n        self[name].ruler.enableOnly(presets.components[name].rules)\n      }\n      if (presets.components[name].rules2) {\n        self[name].ruler2.enableOnly(presets.components[name].rules2)\n      }\n    })\n  }\n  return this\n}\n\n/** chainable\n * MarkdownIt.enable(list, ignoreInvalid)\n * - list (String|Array): rule name or list of rule names to enable\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable list or rules. It will automatically find appropriate components,\n * containing rules with given names. If rule not found, and `ignoreInvalid`\n * not set - throws exception.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')()\n *             .enable(['sub', 'sup'])\n *             .disable('smartquotes');\n * ```\n **/\nMarkdownIt.prototype.enable = function (list, ignoreInvalid) {\n  let result = []\n\n  if (!Array.isArray(list)) { list = [list] }\n\n  ['core', 'block', 'inline'].forEach(function (chain) {\n    result = result.concat(this[chain].ruler.enable(list, true))\n  }, this)\n\n  result = result.concat(this.inline.ruler2.enable(list, true))\n\n  const missed = list.filter(function (name) { return result.indexOf(name) < 0 })\n\n  if (missed.length && !ignoreInvalid) {\n    throw new Error('MarkdownIt. Failed to enable unknown rule(s): ' + missed)\n  }\n\n  return this\n}\n\n/** chainable\n * MarkdownIt.disable(list, ignoreInvalid)\n * - list (String|Array): rule name or list of rule names to disable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * The same as [[MarkdownIt.enable]], but turn specified rules off.\n **/\nMarkdownIt.prototype.disable = function (list, ignoreInvalid) {\n  let result = []\n\n  if (!Array.isArray(list)) { list = [list] }\n\n  ['core', 'block', 'inline'].forEach(function (chain) {\n    result = result.concat(this[chain].ruler.disable(list, true))\n  }, this)\n\n  result = result.concat(this.inline.ruler2.disable(list, true))\n\n  const missed = list.filter(function (name) { return result.indexOf(name) < 0 })\n\n  if (missed.length && !ignoreInvalid) {\n    throw new Error('MarkdownIt. Failed to disable unknown rule(s): ' + missed)\n  }\n  return this\n}\n\n/** chainable\n * MarkdownIt.use(plugin, params)\n *\n * Load specified plugin with given params into current parser instance.\n * It's just a sugar to call `plugin(md, params)` with curring.\n *\n * ##### Example\n *\n * ```javascript\n * var iterator = require('markdown-it-for-inline');\n * var md = require('markdown-it')()\n *             .use(iterator, 'foo_replace', 'text', function (tokens, idx) {\n *               tokens[idx].content = tokens[idx].content.replace(/foo/g, 'bar');\n *             });\n * ```\n **/\nMarkdownIt.prototype.use = function (plugin /*, params, ... */) {\n  const args = [this].concat(Array.prototype.slice.call(arguments, 1))\n  plugin.apply(plugin, args)\n  return this\n}\n\n/** internal\n * MarkdownIt.parse(src, env) -> Array\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Parse input string and return list of block tokens (special token type\n * \"inline\" will contain list of inline tokens). You should not call this\n * method directly, until you write custom renderer (for example, to produce\n * AST).\n *\n * `env` is used to pass data between \"distributed\" rules and return additional\n * metadata like reference info, needed for the renderer. It also can be used to\n * inject data in specific cases. Usually, you will be ok to pass `{}`,\n * and then pass updated object to renderer.\n **/\nMarkdownIt.prototype.parse = function (src, env) {\n  if (typeof src !== 'string') {\n    throw new Error('Input data should be a String')\n  }\n\n  const state = new this.core.State(src, this, env)\n\n  this.core.process(state)\n\n  return state.tokens\n}\n\n/**\n * MarkdownIt.render(src [, env]) -> String\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Render markdown string into html. It does all magic for you :).\n *\n * `env` can be used to inject additional metadata (`{}` by default).\n * But you will not need it with high probability. See also comment\n * in [[MarkdownIt.parse]].\n **/\nMarkdownIt.prototype.render = function (src, env) {\n  env = env || {}\n\n  return this.renderer.render(this.parse(src, env), this.options, env)\n}\n\n/** internal\n * MarkdownIt.parseInline(src, env) -> Array\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * The same as [[MarkdownIt.parse]] but skip all block rules. It returns the\n * block tokens list with the single `inline` element, containing parsed inline\n * tokens in `children` property. Also updates `env` object.\n **/\nMarkdownIt.prototype.parseInline = function (src, env) {\n  const state = new this.core.State(src, this, env)\n\n  state.inlineMode = true\n  this.core.process(state)\n\n  return state.tokens\n}\n\n/**\n * MarkdownIt.renderInline(src [, env]) -> String\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Similar to [[MarkdownIt.render]] but for single paragraph content. Result\n * will NOT be wrapped into `<p>` tags.\n **/\nMarkdownIt.prototype.renderInline = function (src, env) {\n  env = env || {}\n\n  return this.renderer.render(this.parseInline(src, env), this.options, env)\n}\n\nexport default MarkdownIt\n","// markdown-it default options\n\nexport default {\n  options: {\n    // Enable HTML tags in source\n    html: false,\n\n    // Use '/' to close single tags (<br />)\n    xhtmlOut: false,\n\n    // Convert '\\n' in paragraphs into <br>\n    breaks: false,\n\n    // CSS language prefix for fenced blocks\n    langPrefix: 'language-',\n\n    // autoconvert URL-like texts to links\n    linkify: false,\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer: false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '' for Russian, '' for German,\n    // and ['\\xA0', '\\xA0', '\\xA0', '\\xA0'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /*  */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    // Internal protection, recursion limit\n    maxNesting: 100\n  },\n\n  components: {\n    core: {},\n    block: {},\n    inline: {}\n  }\n}\n","// \"Zero\" preset, with nothing enabled. Useful for manual configuring of simple\n// modes. For example, to parse bold/italic only.\n\nexport default {\n  options: {\n    // Enable HTML tags in source\n    html: false,\n\n    // Use '/' to close single tags (<br />)\n    xhtmlOut: false,\n\n    // Convert '\\n' in paragraphs into <br>\n    breaks: false,\n\n    // CSS language prefix for fenced blocks\n    langPrefix: 'language-',\n\n    // autoconvert URL-like texts to links\n    linkify: false,\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer: false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '' for Russian, '' for German,\n    // and ['\\xA0', '\\xA0', '\\xA0', '\\xA0'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /*  */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    // Internal protection, recursion limit\n    maxNesting: 20\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'normalize',\n        'block',\n        'inline',\n        'text_join'\n      ]\n    },\n\n    block: {\n      rules: [\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'text'\n      ],\n      rules2: [\n        'balance_pairs',\n        'fragments_join'\n      ]\n    }\n  }\n}\n","// Commonmark default options\n\nexport default {\n  options: {\n    // Enable HTML tags in source\n    html: true,\n\n    // Use '/' to close single tags (<br />)\n    xhtmlOut: true,\n\n    // Convert '\\n' in paragraphs into <br>\n    breaks: false,\n\n    // CSS language prefix for fenced blocks\n    langPrefix: 'language-',\n\n    // autoconvert URL-like texts to links\n    linkify: false,\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer: false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '' for Russian, '' for German,\n    // and ['\\xA0', '\\xA0', '\\xA0', '\\xA0'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /*  */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    // Internal protection, recursion limit\n    maxNesting: 20\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'normalize',\n        'block',\n        'inline',\n        'text_join'\n      ]\n    },\n\n    block: {\n      rules: [\n        'blockquote',\n        'code',\n        'fence',\n        'heading',\n        'hr',\n        'html_block',\n        'lheading',\n        'list',\n        'reference',\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'autolink',\n        'backticks',\n        'emphasis',\n        'entity',\n        'escape',\n        'html_inline',\n        'image',\n        'link',\n        'newline',\n        'text'\n      ],\n      rules2: [\n        'balance_pairs',\n        'emphasis',\n        'fragments_join'\n      ]\n    }\n  }\n}\n","const _DRIVE_LETTER_START_RE = /^[A-Za-z]:\\//;\nfunction normalizeWindowsPath(input = \"\") {\n  if (!input) {\n    return input;\n  }\n  return input.replace(/\\\\/g, \"/\").replace(_DRIVE_LETTER_START_RE, (r) => r.toUpperCase());\n}\n\nconst _UNC_REGEX = /^[/\\\\]{2}/;\nconst _IS_ABSOLUTE_RE = /^[/\\\\](?![/\\\\])|^[/\\\\]{2}(?!\\.)|^[A-Za-z]:[/\\\\]/;\nconst _DRIVE_LETTER_RE = /^[A-Za-z]:$/;\nconst _ROOT_FOLDER_RE = /^\\/([A-Za-z]:)?$/;\nconst sep = \"/\";\nconst delimiter = \":\";\nconst normalize = function(path) {\n  if (path.length === 0) {\n    return \".\";\n  }\n  path = normalizeWindowsPath(path);\n  const isUNCPath = path.match(_UNC_REGEX);\n  const isPathAbsolute = isAbsolute(path);\n  const trailingSeparator = path[path.length - 1] === \"/\";\n  path = normalizeString(path, !isPathAbsolute);\n  if (path.length === 0) {\n    if (isPathAbsolute) {\n      return \"/\";\n    }\n    return trailingSeparator ? \"./\" : \".\";\n  }\n  if (trailingSeparator) {\n    path += \"/\";\n  }\n  if (_DRIVE_LETTER_RE.test(path)) {\n    path += \"/\";\n  }\n  if (isUNCPath) {\n    if (!isPathAbsolute) {\n      return `//./${path}`;\n    }\n    return `//${path}`;\n  }\n  return isPathAbsolute && !isAbsolute(path) ? `/${path}` : path;\n};\nconst join = function(...arguments_) {\n  if (arguments_.length === 0) {\n    return \".\";\n  }\n  let joined;\n  for (const argument of arguments_) {\n    if (argument && argument.length > 0) {\n      if (joined === void 0) {\n        joined = argument;\n      } else {\n        joined += `/${argument}`;\n      }\n    }\n  }\n  if (joined === void 0) {\n    return \".\";\n  }\n  return normalize(joined.replace(/\\/\\/+/g, \"/\"));\n};\nfunction cwd() {\n  if (typeof process !== \"undefined\" && typeof process.cwd === \"function\") {\n    return process.cwd().replace(/\\\\/g, \"/\");\n  }\n  return \"/\";\n}\nconst resolve = function(...arguments_) {\n  arguments_ = arguments_.map((argument) => normalizeWindowsPath(argument));\n  let resolvedPath = \"\";\n  let resolvedAbsolute = false;\n  for (let index = arguments_.length - 1; index >= -1 && !resolvedAbsolute; index--) {\n    const path = index >= 0 ? arguments_[index] : cwd();\n    if (!path || path.length === 0) {\n      continue;\n    }\n    resolvedPath = `${path}/${resolvedPath}`;\n    resolvedAbsolute = isAbsolute(path);\n  }\n  resolvedPath = normalizeString(resolvedPath, !resolvedAbsolute);\n  if (resolvedAbsolute && !isAbsolute(resolvedPath)) {\n    return `/${resolvedPath}`;\n  }\n  return resolvedPath.length > 0 ? resolvedPath : \".\";\n};\nfunction normalizeString(path, allowAboveRoot) {\n  let res = \"\";\n  let lastSegmentLength = 0;\n  let lastSlash = -1;\n  let dots = 0;\n  let char = null;\n  for (let index = 0; index <= path.length; ++index) {\n    if (index < path.length) {\n      char = path[index];\n    } else if (char === \"/\") {\n      break;\n    } else {\n      char = \"/\";\n    }\n    if (char === \"/\") {\n      if (lastSlash === index - 1 || dots === 1) ; else if (dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res[res.length - 1] !== \".\" || res[res.length - 2] !== \".\") {\n          if (res.length > 2) {\n            const lastSlashIndex = res.lastIndexOf(\"/\");\n            if (lastSlashIndex === -1) {\n              res = \"\";\n              lastSegmentLength = 0;\n            } else {\n              res = res.slice(0, lastSlashIndex);\n              lastSegmentLength = res.length - 1 - res.lastIndexOf(\"/\");\n            }\n            lastSlash = index;\n            dots = 0;\n            continue;\n          } else if (res.length > 0) {\n            res = \"\";\n            lastSegmentLength = 0;\n            lastSlash = index;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          res += res.length > 0 ? \"/..\" : \"..\";\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0) {\n          res += `/${path.slice(lastSlash + 1, index)}`;\n        } else {\n          res = path.slice(lastSlash + 1, index);\n        }\n        lastSegmentLength = index - lastSlash - 1;\n      }\n      lastSlash = index;\n      dots = 0;\n    } else if (char === \".\" && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\nconst isAbsolute = function(p) {\n  return _IS_ABSOLUTE_RE.test(p);\n};\nconst toNamespacedPath = function(p) {\n  return normalizeWindowsPath(p);\n};\nconst _EXTNAME_RE = /.(\\.[^./]+)$/;\nconst extname = function(p) {\n  const match = _EXTNAME_RE.exec(normalizeWindowsPath(p));\n  return match && match[1] || \"\";\n};\nconst relative = function(from, to) {\n  const _from = resolve(from).replace(_ROOT_FOLDER_RE, \"$1\").split(\"/\");\n  const _to = resolve(to).replace(_ROOT_FOLDER_RE, \"$1\").split(\"/\");\n  if (_to[0][1] === \":\" && _from[0][1] === \":\" && _from[0] !== _to[0]) {\n    return _to.join(\"/\");\n  }\n  const _fromCopy = [..._from];\n  for (const segment of _fromCopy) {\n    if (_to[0] !== segment) {\n      break;\n    }\n    _from.shift();\n    _to.shift();\n  }\n  return [..._from.map(() => \"..\"), ..._to].join(\"/\");\n};\nconst dirname = function(p) {\n  const segments = normalizeWindowsPath(p).replace(/\\/$/, \"\").split(\"/\").slice(0, -1);\n  if (segments.length === 1 && _DRIVE_LETTER_RE.test(segments[0])) {\n    segments[0] += \"/\";\n  }\n  return segments.join(\"/\") || (isAbsolute(p) ? \"/\" : \".\");\n};\nconst format = function(p) {\n  const segments = [p.root, p.dir, p.base ?? p.name + p.ext].filter(Boolean);\n  return normalizeWindowsPath(\n    p.root ? resolve(...segments) : segments.join(\"/\")\n  );\n};\nconst basename = function(p, extension) {\n  const lastSegment = normalizeWindowsPath(p).split(\"/\").pop();\n  return extension && lastSegment.endsWith(extension) ? lastSegment.slice(0, -extension.length) : lastSegment;\n};\nconst parse = function(p) {\n  const root = normalizeWindowsPath(p).split(\"/\").shift() || \"/\";\n  const base = basename(p);\n  const extension = extname(base);\n  return {\n    root,\n    dir: dirname(p),\n    base,\n    ext: extension,\n    name: base.slice(0, base.length - extension.length)\n  };\n};\n\nconst path = {\n  __proto__: null,\n  basename: basename,\n  delimiter: delimiter,\n  dirname: dirname,\n  extname: extname,\n  format: format,\n  isAbsolute: isAbsolute,\n  join: join,\n  normalize: normalize,\n  normalizeString: normalizeString,\n  parse: parse,\n  relative: relative,\n  resolve: resolve,\n  sep: sep,\n  toNamespacedPath: toNamespacedPath\n};\n\nexport { normalize as a, normalizeString as b, relative as c, delimiter as d, extname as e, dirname as f, format as g, basename as h, isAbsolute as i, join as j, parse as k, normalizeWindowsPath as n, path as p, resolve as r, sep as s, toNamespacedPath as t };\n","const ANSI_BACKGROUND_OFFSET = 10;\n\nconst wrapAnsi16 = (offset = 0) => code => `\\u001B[${code + offset}m`;\n\nconst wrapAnsi256 = (offset = 0) => code => `\\u001B[${38 + offset};5;${code}m`;\n\nconst wrapAnsi16m = (offset = 0) => (red, green, blue) => `\\u001B[${38 + offset};2;${red};${green};${blue}m`;\n\nconst styles = {\n\tmodifier: {\n\t\treset: [0, 0],\n\t\t// 21 isn't widely supported and 22 does the same thing\n\t\tbold: [1, 22],\n\t\tdim: [2, 22],\n\t\titalic: [3, 23],\n\t\tunderline: [4, 24],\n\t\toverline: [53, 55],\n\t\tinverse: [7, 27],\n\t\thidden: [8, 28],\n\t\tstrikethrough: [9, 29],\n\t},\n\tcolor: {\n\t\tblack: [30, 39],\n\t\tred: [31, 39],\n\t\tgreen: [32, 39],\n\t\tyellow: [33, 39],\n\t\tblue: [34, 39],\n\t\tmagenta: [35, 39],\n\t\tcyan: [36, 39],\n\t\twhite: [37, 39],\n\n\t\t// Bright color\n\t\tblackBright: [90, 39],\n\t\tgray: [90, 39], // Alias of `blackBright`\n\t\tgrey: [90, 39], // Alias of `blackBright`\n\t\tredBright: [91, 39],\n\t\tgreenBright: [92, 39],\n\t\tyellowBright: [93, 39],\n\t\tblueBright: [94, 39],\n\t\tmagentaBright: [95, 39],\n\t\tcyanBright: [96, 39],\n\t\twhiteBright: [97, 39],\n\t},\n\tbgColor: {\n\t\tbgBlack: [40, 49],\n\t\tbgRed: [41, 49],\n\t\tbgGreen: [42, 49],\n\t\tbgYellow: [43, 49],\n\t\tbgBlue: [44, 49],\n\t\tbgMagenta: [45, 49],\n\t\tbgCyan: [46, 49],\n\t\tbgWhite: [47, 49],\n\n\t\t// Bright color\n\t\tbgBlackBright: [100, 49],\n\t\tbgGray: [100, 49], // Alias of `bgBlackBright`\n\t\tbgGrey: [100, 49], // Alias of `bgBlackBright`\n\t\tbgRedBright: [101, 49],\n\t\tbgGreenBright: [102, 49],\n\t\tbgYellowBright: [103, 49],\n\t\tbgBlueBright: [104, 49],\n\t\tbgMagentaBright: [105, 49],\n\t\tbgCyanBright: [106, 49],\n\t\tbgWhiteBright: [107, 49],\n\t},\n};\n\nexport const modifierNames = Object.keys(styles.modifier);\nexport const foregroundColorNames = Object.keys(styles.color);\nexport const backgroundColorNames = Object.keys(styles.bgColor);\nexport const colorNames = [...foregroundColorNames, ...backgroundColorNames];\n\nfunction assembleStyles() {\n\tconst codes = new Map();\n\n\tfor (const [groupName, group] of Object.entries(styles)) {\n\t\tfor (const [styleName, style] of Object.entries(group)) {\n\t\t\tstyles[styleName] = {\n\t\t\t\topen: `\\u001B[${style[0]}m`,\n\t\t\t\tclose: `\\u001B[${style[1]}m`,\n\t\t\t};\n\n\t\t\tgroup[styleName] = styles[styleName];\n\n\t\t\tcodes.set(style[0], style[1]);\n\t\t}\n\n\t\tObject.defineProperty(styles, groupName, {\n\t\t\tvalue: group,\n\t\t\tenumerable: false,\n\t\t});\n\t}\n\n\tObject.defineProperty(styles, 'codes', {\n\t\tvalue: codes,\n\t\tenumerable: false,\n\t});\n\n\tstyles.color.close = '\\u001B[39m';\n\tstyles.bgColor.close = '\\u001B[49m';\n\n\tstyles.color.ansi = wrapAnsi16();\n\tstyles.color.ansi256 = wrapAnsi256();\n\tstyles.color.ansi16m = wrapAnsi16m();\n\tstyles.bgColor.ansi = wrapAnsi16(ANSI_BACKGROUND_OFFSET);\n\tstyles.bgColor.ansi256 = wrapAnsi256(ANSI_BACKGROUND_OFFSET);\n\tstyles.bgColor.ansi16m = wrapAnsi16m(ANSI_BACKGROUND_OFFSET);\n\n\t// From https://github.com/Qix-/color-convert/blob/3f0e0d4e92e235796ccb17f6e85c72094a651f49/conversions.js\n\tObject.defineProperties(styles, {\n\t\trgbToAnsi256: {\n\t\t\tvalue(red, green, blue) {\n\t\t\t\t// We use the extended greyscale palette here, with the exception of\n\t\t\t\t// black and white. normal palette only has 4 greyscale shades.\n\t\t\t\tif (red === green && green === blue) {\n\t\t\t\t\tif (red < 8) {\n\t\t\t\t\t\treturn 16;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (red > 248) {\n\t\t\t\t\t\treturn 231;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn Math.round(((red - 8) / 247) * 24) + 232;\n\t\t\t\t}\n\n\t\t\t\treturn 16\n\t\t\t\t\t+ (36 * Math.round(red / 255 * 5))\n\t\t\t\t\t+ (6 * Math.round(green / 255 * 5))\n\t\t\t\t\t+ Math.round(blue / 255 * 5);\n\t\t\t},\n\t\t\tenumerable: false,\n\t\t},\n\t\thexToRgb: {\n\t\t\tvalue(hex) {\n\t\t\t\tconst matches = /[a-f\\d]{6}|[a-f\\d]{3}/i.exec(hex.toString(16));\n\t\t\t\tif (!matches) {\n\t\t\t\t\treturn [0, 0, 0];\n\t\t\t\t}\n\n\t\t\t\tlet [colorString] = matches;\n\n\t\t\t\tif (colorString.length === 3) {\n\t\t\t\t\tcolorString = [...colorString].map(character => character + character).join('');\n\t\t\t\t}\n\n\t\t\t\tconst integer = Number.parseInt(colorString, 16);\n\n\t\t\t\treturn [\n\t\t\t\t\t/* eslint-disable no-bitwise */\n\t\t\t\t\t(integer >> 16) & 0xFF,\n\t\t\t\t\t(integer >> 8) & 0xFF,\n\t\t\t\t\tinteger & 0xFF,\n\t\t\t\t\t/* eslint-enable no-bitwise */\n\t\t\t\t];\n\t\t\t},\n\t\t\tenumerable: false,\n\t\t},\n\t\thexToAnsi256: {\n\t\t\tvalue: hex => styles.rgbToAnsi256(...styles.hexToRgb(hex)),\n\t\t\tenumerable: false,\n\t\t},\n\t\tansi256ToAnsi: {\n\t\t\tvalue(code) {\n\t\t\t\tif (code < 8) {\n\t\t\t\t\treturn 30 + code;\n\t\t\t\t}\n\n\t\t\t\tif (code < 16) {\n\t\t\t\t\treturn 90 + (code - 8);\n\t\t\t\t}\n\n\t\t\t\tlet red;\n\t\t\t\tlet green;\n\t\t\t\tlet blue;\n\n\t\t\t\tif (code >= 232) {\n\t\t\t\t\tred = (((code - 232) * 10) + 8) / 255;\n\t\t\t\t\tgreen = red;\n\t\t\t\t\tblue = red;\n\t\t\t\t} else {\n\t\t\t\t\tcode -= 16;\n\n\t\t\t\t\tconst remainder = code % 36;\n\n\t\t\t\t\tred = Math.floor(code / 36) / 5;\n\t\t\t\t\tgreen = Math.floor(remainder / 6) / 5;\n\t\t\t\t\tblue = (remainder % 6) / 5;\n\t\t\t\t}\n\n\t\t\t\tconst value = Math.max(red, green, blue) * 2;\n\n\t\t\t\tif (value === 0) {\n\t\t\t\t\treturn 30;\n\t\t\t\t}\n\n\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\tlet result = 30 + ((Math.round(blue) << 2) | (Math.round(green) << 1) | Math.round(red));\n\n\t\t\t\tif (value === 2) {\n\t\t\t\t\tresult += 60;\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\tenumerable: false,\n\t\t},\n\t\trgbToAnsi: {\n\t\t\tvalue: (red, green, blue) => styles.ansi256ToAnsi(styles.rgbToAnsi256(red, green, blue)),\n\t\t\tenumerable: false,\n\t\t},\n\t\thexToAnsi: {\n\t\t\tvalue: hex => styles.ansi256ToAnsi(styles.hexToAnsi256(hex)),\n\t\t\tenumerable: false,\n\t\t},\n\t});\n\n\treturn styles;\n}\n\nconst ansiStyles = assembleStyles();\n\nexport default ansiStyles;\n","// TODO: When targeting Node.js 16, use `String.prototype.replaceAll`.\nexport function stringReplaceAll(string, substring, replacer) {\n\tlet index = string.indexOf(substring);\n\tif (index === -1) {\n\t\treturn string;\n\t}\n\n\tconst substringLength = substring.length;\n\tlet endIndex = 0;\n\tlet returnValue = '';\n\tdo {\n\t\treturnValue += string.slice(endIndex, index) + substring + replacer;\n\t\tendIndex = index + substringLength;\n\t\tindex = string.indexOf(substring, endIndex);\n\t} while (index !== -1);\n\n\treturnValue += string.slice(endIndex);\n\treturn returnValue;\n}\n\nexport function stringEncaseCRLFWithFirstIndex(string, prefix, postfix, index) {\n\tlet endIndex = 0;\n\tlet returnValue = '';\n\tdo {\n\t\tconst gotCR = string[index - 1] === '\\r';\n\t\treturnValue += string.slice(endIndex, (gotCR ? index - 1 : index)) + prefix + (gotCR ? '\\r\\n' : '\\n') + postfix;\n\t\tendIndex = index + 1;\n\t\tindex = string.indexOf('\\n', endIndex);\n\t} while (index !== -1);\n\n\treturnValue += string.slice(endIndex);\n\treturn returnValue;\n}\n","import chalk from \"chalk\";\nimport { EOL } from \"node:os\";\nimport _read from \"read\";\nimport { promisify } from \"node:util\";\nimport type { Manifest } from \"./manifest\";\n\nconst __read = promisify<_read.Options, string>(_read);\nexport function read(prompt: string, options: _read.Options = {}): Promise<string> {\n\tif (process.env.VSCE_TESTS || !process.stdout.isTTY) {\n\t\treturn Promise.resolve(\"y\");\n\t}\n\n\treturn __read({ prompt, ...options });\n}\n\nconst marketplaceUrl =\n\tprocess.env.VSCE_MARKETPLACE_URL || \"https://marketplace.visualstudio.com\";\n\nexport function getPublishedUrl(extension: string): string {\n\treturn `${marketplaceUrl}/items?itemName=${extension}`;\n}\n\nexport function getHubUrl(publisher: string, name: string): string {\n\treturn `${marketplaceUrl}/manage/publishers/${publisher}/extensions/${name}/hub`;\n}\n\nexport function normalize(path: string): string {\n\treturn path.replace(/\\\\/g, \"/\");\n}\n\nfunction chain2<A, B>(a: A, b: B[], fn: (a: A, b: B) => Promise<A>, index = 0): Promise<A> {\n\tif (index >= b.length) {\n\t\treturn Promise.resolve(a);\n\t}\n\n\t// @ts-ignore\n\treturn fn(a, b[index]).then((a) => chain2(a, b, fn, index + 1));\n}\n\nexport function chain<T, P>(\n\tinitial: T,\n\tprocessors: P[],\n\tprocess: (a: T, b: P) => Promise<T>,\n): Promise<T> {\n\treturn chain2(initial, processors, process);\n}\n\nexport function flatten<T>(arr: T[][]): T[] {\n\treturn ([] as T[]).concat.apply([], arr) as T[];\n}\n\nexport function nonnull<T>(arg: T | null | undefined): arg is T {\n\treturn !!arg;\n}\n\nconst CancelledError = \"Cancelled\";\n\nexport function isCancelledError(error: any) {\n\treturn error === CancelledError;\n}\n\nexport class CancellationToken {\n\tprivate listeners: Function[] = [];\n\tprivate _cancelled = false;\n\tget isCancelled(): boolean {\n\t\treturn this._cancelled;\n\t}\n\n\tsubscribe(fn: Function): Function {\n\t\tthis.listeners.push(fn);\n\n\t\treturn () => {\n\t\t\tconst index = this.listeners.indexOf(fn);\n\n\t\t\tif (index > -1) {\n\t\t\t\tthis.listeners.splice(index, 1);\n\t\t\t}\n\t\t};\n\t}\n\n\tcancel(): void {\n\t\tconst emit = !this._cancelled;\n\t\tthis._cancelled = true;\n\n\t\tif (emit) {\n\t\t\tthis.listeners.forEach((l) => l(CancelledError));\n\t\t\tthis.listeners = [];\n\t\t}\n\t}\n}\n\nexport async function sequence(promiseFactories: (() => Promise<any>)[]): Promise<void> {\n\tfor (const factory of promiseFactories) {\n\t\tawait factory();\n\t}\n}\n\nenum LogMessageType {\n\tDONE = 0,\n\tINFO = 1,\n\tWARNING = 2,\n\tERROR = 3,\n}\n\nconst LogPrefix = {\n\t[LogMessageType.DONE]: chalk.bgGreen.black(\" DONE \"),\n\t[LogMessageType.INFO]: chalk.bgBlueBright.black(\" INFO \"),\n\t[LogMessageType.WARNING]: chalk.bgYellow.black(\" WARNING \"),\n\t[LogMessageType.ERROR]: chalk.bgRed.black(\" ERROR \"),\n};\n\nfunction _log(type: LogMessageType, msg: any, ...args: any[]): void {\n\targs = [LogPrefix[type], msg, ...args];\n\n\tif (type === LogMessageType.WARNING) {\n\t\tprocess.env[\"GITHUB_ACTIONS\"] ? logToGitHubActions(\"warning\", msg) : console.warn(...args);\n\t} else if (type === LogMessageType.ERROR) {\n\t\tprocess.env[\"GITHUB_ACTIONS\"] ? logToGitHubActions(\"error\", msg) : console.error(...args);\n\t} else {\n\t\tprocess.env[\"GITHUB_ACTIONS\"] ? logToGitHubActions(\"info\", msg) : console.log(...args);\n\t}\n}\n\nconst EscapeCharacters = new Map([\n\t[\"%\", \"%25\"],\n\t[\"\\r\", \"%0D\"],\n\t[\"\\n\", \"%0A\"],\n]);\n\nconst EscapeRegex = new RegExp(`[${[...EscapeCharacters.keys()].join(\"\")}]`, \"g\");\n\nfunction escapeGitHubActionsMessage(message: string): string {\n\treturn message.replace(EscapeRegex, (c) => EscapeCharacters.get(c) ?? c);\n}\n\nfunction logToGitHubActions(type: string, message: string): void {\n\tconst command = type === \"info\" ? message : `::${type}::${escapeGitHubActionsMessage(message)}`;\n\tprocess.stdout.write(command + EOL);\n}\n\nexport type LogFn = (msg: any, ...args: any[]) => void;\n\nexport const log = {\n\tdone: _log.bind(null, LogMessageType.DONE) as LogFn,\n\tinfo: _log.bind(null, LogMessageType.INFO) as LogFn,\n\twarn: _log.bind(null, LogMessageType.WARNING) as LogFn,\n\terror: _log.bind(null, LogMessageType.ERROR) as LogFn,\n};\n\nexport function patchOptionsWithManifest(options: any, manifest: Manifest): void {\n\tif (!manifest.vsce) {\n\t\treturn;\n\t}\n\n\tfor (const key of Object.keys(manifest.vsce)) {\n\t\tconst optionsKey = key === \"yarn\" ? \"useYarn\" : key;\n\n\t\tif (options[optionsKey] === undefined) {\n\t\t\toptions[optionsKey] = manifest.vsce[key];\n\t\t}\n\t}\n}\n","import * as cheerio from \"cheerio\";\nimport * as fs from \"node:fs\";\nimport * as GitHost from \"hosted-git-info\";\nimport markdownit from \"markdown-it\";\nimport mime from \"mime\";\nimport parseSemver from \"parse-semver\";\nimport { join, extname, normalize } from \"pathe\";\nimport * as semver from \"semver\";\nimport * as url from \"node:url\";\nimport * as yazl from \"yazl\";\nimport type { ExtensionKind, Manifest } from \"./manifest\";\nimport * as util from \"./util\";\n\ninterface IInMemoryFile {\n\tpath: string;\n\tmode?: number;\n\treadonly contents: Buffer | string;\n}\n\ninterface ILocalFile {\n\tpath: string;\n\tmode?: number;\n\treadonly localPath: string;\n}\n\nexport type IFile = IInMemoryFile | ILocalFile;\n\nfunction isInMemoryFile(file: IFile): file is IInMemoryFile {\n\treturn !!(file as IInMemoryFile).contents;\n}\n\nfunction read(file: IFile): Promise<string> {\n\tif (isInMemoryFile(file)) {\n\t\treturn Promise.resolve(file.contents).then((b) =>\n\t\t\ttypeof b === \"string\" ? b : b.toString(\"utf8\"),\n\t\t);\n\t} else {\n\t\treturn fs.promises.readFile(file.localPath, \"utf8\");\n\t}\n}\n\ninterface IAsset {\n\ttype: string;\n\tpath: string;\n}\n\n/**\n * Options for the `createVSIX` function.\n * @public\n */\nexport interface IPackageOptions {\n\t/**\n\t * The destination of the packaged the VSIX.\n\t *\n\t * Defaults to `NAME-VERSION.vsix`.\n\t */\n\treadonly packagePath?: string;\n\treadonly version?: string;\n\n\t/**\n\t * Optional target the extension should run on.\n\t *\n\t * https://code.visualstudio.com/api/working-with-extensions/publishing-extension#platformspecific-extensions\n\t */\n\treadonly target?: string;\n\treadonly commitMessage?: string;\n\treadonly gitTagVersion?: boolean;\n\treadonly updatePackageJson?: boolean;\n\n\t/**\n\t * The location of the extension in the file system.\n\t *\n\t * Defaults to `process.cwd()`.\n\t */\n\treadonly cwd?: string;\n\n\t/**\n\t * GitHub branch used to publish the package. Used to automatically infer\n\t * the base content and images URI.\n\t */\n\treadonly githubBranch?: string;\n\n\t/**\n\t * GitLab branch used to publish the package. Used to automatically infer\n\t * the base content and images URI.\n\t */\n\treadonly gitlabBranch?: string;\n\n\treadonly rewriteRelativeLinks?: boolean;\n\t/**\n\t * The base URL for links detected in Markdown files.\n\t */\n\treadonly baseContentUrl?: string;\n\n\t/**\n\t * The base URL for images detected in Markdown files.\n\t */\n\treadonly baseImagesUrl?: string;\n\n\t/**\n\t * Should use Yarn instead of NPM.\n\t */\n\treadonly useYarn?: boolean;\n\treadonly dependencyEntryPoints?: string[];\n\treadonly ignoreFile?: string;\n\treadonly gitHubIssueLinking?: boolean;\n\treadonly gitLabIssueLinking?: boolean;\n\treadonly dependencies?: boolean;\n\n\t/**\n\t * Mark this package as a pre-release\n\t */\n\treadonly preRelease?: boolean;\n\treadonly allowStarActivation?: boolean;\n\treadonly allowMissingRepository?: boolean;\n}\n\ninterface IProcessor {\n\tonFile(file: IFile): Promise<IFile>;\n\tonEnd(): Promise<void>;\n\tassets: IAsset[];\n\ttags: string[];\n\tvsix: any;\n}\n\ninterface VSIX {\n\tid: string;\n\tdisplayName: string;\n\tversion: string;\n\tpublisher: string;\n\ttarget?: string;\n\tengine: string;\n\tdescription: string;\n\tcategories: string;\n\tflags: string;\n\ticon?: string;\n\tlicense?: string;\n\tassets: IAsset[];\n\ttags: string;\n\tlinks: {\n\t\trepository?: string;\n\t\tbugs?: string;\n\t\thomepage?: string;\n\t\tgithub?: string;\n\t};\n\tgalleryBanner: NonNullable<Manifest[\"galleryBanner\"]>;\n\tbadges?: Manifest[\"badges\"];\n\tgithubMarkdown: boolean;\n\tenableMarketplaceQnA?: boolean;\n\tcustomerQnALink?: Manifest[\"qna\"];\n\textensionDependencies: string;\n\textensionPack: string;\n\textensionKind: string;\n\tlocalizedLanguages: string;\n\tpreRelease: boolean;\n\tsponsorLink: string;\n\tpricing: string;\n}\n\nclass BaseProcessor implements IProcessor {\n\tconstructor(protected manifest: Manifest) {}\n\tassets: IAsset[] = [];\n\ttags: string[] = [];\n\tvsix: VSIX = Object.create(null);\n\tasync onFile(file: IFile): Promise<IFile> {\n\t\treturn file;\n\t}\n\tasync onEnd() {\n\t\t// noop\n\t}\n}\n\n// https://github.com/npm/cli/blob/latest/lib/utils/hosted-git-info-from-manifest.js\nfunction getGitHost(manifest: Manifest): GitHost | undefined {\n\tconst url = getRepositoryUrl(manifest);\n\treturn url ? GitHost.fromUrl(url, { noGitPlus: true }) : undefined;\n}\n\n// https://github.com/npm/cli/blob/latest/lib/repo.js\nfunction getRepositoryUrl(manifest: Manifest, gitHost?: GitHost | null): string | undefined {\n\tif (gitHost) {\n\t\treturn gitHost.https();\n\t}\n\n\tlet url: string | undefined = undefined;\n\n\tif (manifest.repository) {\n\t\tif (typeof manifest.repository === \"string\") {\n\t\t\turl = manifest.repository;\n\t\t} else if (\n\t\t\ttypeof manifest.repository === \"object\" &&\n\t\t\tmanifest.repository.url &&\n\t\t\ttypeof manifest.repository.url === \"string\"\n\t\t) {\n\t\t\turl = manifest.repository.url;\n\t\t}\n\t}\n\n\treturn url;\n}\n\n// https://github.com/npm/cli/blob/latest/lib/bugs.js\nfunction getBugsUrl(manifest: Manifest, gitHost: GitHost | undefined): string | undefined {\n\tif (manifest.bugs) {\n\t\tif (typeof manifest.bugs === \"string\") {\n\t\t\treturn manifest.bugs;\n\t\t}\n\t\tif (typeof manifest.bugs === \"object\" && manifest.bugs.url) {\n\t\t\treturn manifest.bugs.url;\n\t\t}\n\t\tif (typeof manifest.bugs === \"object\" && manifest.bugs.email) {\n\t\t\treturn `mailto:${manifest.bugs.email}`;\n\t\t}\n\t}\n\n\tif (gitHost) {\n\t\treturn gitHost.bugs();\n\t}\n\n\treturn undefined;\n}\n\n// https://github.com/npm/cli/blob/latest/lib/docs.js\nfunction getHomepageUrl(manifest: Manifest, gitHost: GitHost | undefined): string | undefined {\n\tif (manifest.homepage) {\n\t\treturn manifest.homepage;\n\t}\n\n\tif (gitHost) {\n\t\treturn gitHost.docs();\n\t}\n\n\treturn undefined;\n}\n\n// Contributed by Mozilla developer authors\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions\nfunction escapeRegExp(value: string) {\n\treturn value.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\"); // $& means the whole matched string\n}\n\nfunction toExtensionTags(extensions: string[]): string[] {\n\treturn extensions\n\t\t.map((s) => s.replace(/\\W/g, \"\"))\n\t\t.filter((s) => !!s)\n\t\t.map((s) => `__ext_${s}`);\n}\n\nfunction toLanguagePackTags(translations: { id: string }[], languageId: string): string[] {\n\treturn (translations ?? [])\n\t\t.map(({ id }) => [`__lp_${id}`, `__lp-${languageId}_${id}`])\n\t\t.reduce((r, t) => [...r, ...t], []);\n}\n\n/* This list is also maintained by the Marketplace team.\n * Remember to reach out to them when adding new domains.\n */\nconst TrustedSVGSources = [\n\t\"api.bintray.com\",\n\t\"api.travis-ci.com\",\n\t\"api.travis-ci.org\",\n\t\"app.fossa.io\",\n\t\"badge.buildkite.com\",\n\t\"badge.fury.io\",\n\t\"badge.waffle.io\",\n\t\"badgen.net\",\n\t\"badges.frapsoft.com\",\n\t\"badges.gitter.im\",\n\t\"badges.greenkeeper.io\",\n\t\"cdn.travis-ci.com\",\n\t\"cdn.travis-ci.org\",\n\t\"ci.appveyor.com\",\n\t\"circleci.com\",\n\t\"cla.opensource.microsoft.com\",\n\t\"codacy.com\",\n\t\"codeclimate.com\",\n\t\"codecov.io\",\n\t\"coveralls.io\",\n\t\"david-dm.org\",\n\t\"deepscan.io\",\n\t\"dev.azure.com\",\n\t\"docs.rs\",\n\t\"flat.badgen.net\",\n\t\"gemnasium.com\",\n\t\"githost.io\",\n\t\"gitlab.com\",\n\t\"godoc.org\",\n\t\"goreportcard.com\",\n\t\"img.shields.io\",\n\t\"isitmaintained.com\",\n\t\"marketplace.visualstudio.com\",\n\t\"nodesecurity.io\",\n\t\"opencollective.com\",\n\t\"snyk.io\",\n\t\"travis-ci.com\",\n\t\"travis-ci.org\",\n\t\"visualstudio.com\",\n\t\"vsmarketplacebadges.dev\",\n\t\"www.bithound.io\",\n\t\"www.versioneye.com\",\n];\n\nfunction isGitHubRepository(repository: string | undefined): boolean {\n\treturn /^https:\\/\\/github\\.com\\/|^git@github\\.com:/.test(repository ?? \"\");\n}\n\nfunction isGitLabRepository(repository: string | undefined): boolean {\n\treturn /^https:\\/\\/gitlab\\.com\\/|^git@gitlab\\.com:/.test(repository ?? \"\");\n}\n\nfunction isGitHubBadge(href: string): boolean {\n\treturn /^https:\\/\\/github\\.com\\/[^/]+\\/[^/]+\\/(actions\\/)?workflows\\/.*badge\\.svg/.test(\n\t\thref || \"\",\n\t);\n}\n\nfunction isHostTrusted(url: url.URL): boolean {\n\treturn (\n\t\t(url.host && TrustedSVGSources.indexOf(url.host.toLowerCase()) > -1) || isGitHubBadge(url.href)\n\t);\n}\n\nexport const Targets = new Set([\n\t\"win32-x64\",\n\t\"win32-arm64\",\n\t\"linux-x64\",\n\t\"linux-arm64\",\n\t\"linux-armhf\",\n\t\"darwin-x64\",\n\t\"darwin-arm64\",\n\t\"alpine-x64\",\n\t\"alpine-arm64\",\n\t\"web\",\n]);\n\nclass ManifestProcessor extends BaseProcessor {\n\tconstructor(\n\t\tmanifest: Manifest,\n\t\tprivate readonly options: IPackageOptions = {},\n\t) {\n\t\tsuper(manifest);\n\n\t\tconst flags = [\"Public\"];\n\n\t\tif (manifest.preview) {\n\t\t\tflags.push(\"Preview\");\n\t\t}\n\n\t\tconst gitHost = getGitHost(manifest);\n\t\tconst repository = getRepositoryUrl(manifest, gitHost);\n\t\tconst isGitHub = isGitHubRepository(repository);\n\n\t\tlet enableMarketplaceQnA: boolean | undefined;\n\t\tlet customerQnALink: string | undefined;\n\n\t\tif (manifest.qna === \"marketplace\") {\n\t\t\tenableMarketplaceQnA = true;\n\t\t} else if (typeof manifest.qna === \"string\") {\n\t\t\tcustomerQnALink = manifest.qna;\n\t\t} else if (manifest.qna === false) {\n\t\t\tenableMarketplaceQnA = false;\n\t\t}\n\n\t\tconst extensionKind = getExtensionKind(manifest);\n\t\tconst target = options.target;\n\t\tconst preRelease = options.preRelease;\n\n\t\tif (target || preRelease) {\n\t\t\tlet engineVersion: string;\n\n\t\t\ttry {\n\t\t\t\tconst engineSemver = parseSemver(`vscode@${manifest.engines[\"vscode\"]}`);\n\t\t\t\tengineVersion = engineSemver.version;\n\t\t\t} catch (err) {\n\t\t\t\tthrow new Error(\"Failed to parse semver of engines.vscode\");\n\t\t\t}\n\n\t\t\tif (target) {\n\t\t\t\tif (\n\t\t\t\t\tengineVersion !== \"latest\" &&\n\t\t\t\t\t!semver.satisfies(engineVersion, \">=1.61\", { includePrerelease: true })\n\t\t\t\t) {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`Platform specific extension is supported by VS Code >=1.61. Current 'engines.vscode' is '${manifest.engines.vscode}'.`,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif (!Targets.has(target)) {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`'${target}' is not a valid VS Code target. Valid targets: ${[...Targets].join(\", \")}`,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (preRelease) {\n\t\t\t\tif (\n\t\t\t\t\tengineVersion !== \"latest\" &&\n\t\t\t\t\t!semver.satisfies(engineVersion, \">=1.63\", { includePrerelease: true })\n\t\t\t\t) {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`Pre-release versions are supported by VS Code >=1.63. Current 'engines.vscode' is '${manifest.engines.vscode}'.`,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.vsix = {\n\t\t\t...this.vsix,\n\t\t\tid: manifest.name,\n\t\t\tdisplayName: manifest.displayName ?? manifest.name,\n\t\t\tversion:\n\t\t\t\toptions.version && !(options.updatePackageJson ?? true)\n\t\t\t\t\t? options.version\n\t\t\t\t\t: manifest.version,\n\t\t\tpublisher: manifest.publisher,\n\t\t\ttarget,\n\t\t\t// @ts-ignore\n\t\t\tengine: manifest.engines.vscode,\n\t\t\tdescription: manifest.description ?? \"\",\n\t\t\tpricing: manifest.pricing ?? \"Free\",\n\t\t\tcategories: (manifest.categories ?? []).join(\",\"),\n\t\t\tflags: flags.join(\" \"),\n\t\t\tlinks: {\n\t\t\t\trepository,\n\t\t\t\tbugs: getBugsUrl(manifest, gitHost),\n\t\t\t\thomepage: getHomepageUrl(manifest, gitHost),\n\t\t\t},\n\t\t\tgalleryBanner: manifest.galleryBanner ?? {},\n\t\t\tbadges: manifest.badges,\n\t\t\tgithubMarkdown: manifest.markdown !== \"standard\",\n\t\t\tenableMarketplaceQnA,\n\t\t\tcustomerQnALink,\n\t\t\textensionDependencies: [...new Set(manifest.extensionDependencies ?? [])].join(\",\"),\n\t\t\textensionPack: [...new Set(manifest.extensionPack ?? [])].join(\",\"),\n\t\t\textensionKind: extensionKind.join(\",\"),\n\t\t\tlocalizedLanguages:\n\t\t\t\tmanifest.contributes && manifest.contributes.localizations\n\t\t\t\t\t? manifest.contributes.localizations\n\t\t\t\t\t\t\t.map((loc) => loc.localizedLanguageName ?? loc.languageName ?? loc.languageId)\n\t\t\t\t\t\t\t.join(\",\")\n\t\t\t\t\t: \"\",\n\t\t\tpreRelease: !!this.options.preRelease,\n\t\t\tsponsorLink: manifest.sponsor?.url || \"\",\n\t\t};\n\n\t\tif (isGitHub) {\n\t\t\tthis.vsix.links.github = repository;\n\t\t}\n\t}\n\n\tasync onFile(file: IFile): Promise<IFile> {\n\t\tconst path = util.normalize(file.path);\n\n\t\tif (!/^extension\\/package.json$/i.test(path)) {\n\t\t\treturn Promise.resolve(file);\n\t\t}\n\n\t\tif (this.options.version && (this.options.updatePackageJson ?? true)) {\n\t\t\tconst contents = await read(file);\n\t\t\tconst packageJson = JSON.parse(contents);\n\t\t\tpackageJson.bundledDependencies = [];\n\t\t\tfile = { ...file, contents: JSON.stringify(packageJson, undefined, 2) };\n\t\t}\n\n\t\t// Ensure that package.json is writable as VS Code needs to\n\t\t// store metadata in the extracted file.\n\t\treturn { ...file, mode: 0o100644 };\n\t}\n\n\tasync onEnd(): Promise<void> {\n\t\tif (typeof this.manifest.extensionKind === \"string\") {\n\t\t\tutil.log.warn(\n\t\t\t\t`The 'extensionKind' property should be of type 'string[]'. Learn more at: https://aka.ms/vscode/api/incorrect-execution-location`,\n\t\t\t);\n\t\t}\n\n\t\tif (this.manifest.publisher === \"vscode-samples\") {\n\t\t\tthrow new Error(\n\t\t\t\t\"It's not allowed to use the 'vscode-samples' publisher. Learn more at: https://code.visualstudio.com/api/working-with-extensions/publishing-extension.\",\n\t\t\t);\n\t\t}\n\n\t\tif (!this.options.allowMissingRepository && !this.manifest.repository) {\n\t\t\tutil.log.warn(`A 'repository' field is missing from the 'package.json' manifest file.`);\n\n\t\t\tif (!/^y$/i.test(await util.read(\"Do you want to continue? [y/N] \"))) {\n\t\t\t\tthrow new Error(\"Aborted\");\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\t!this.options.allowStarActivation &&\n\t\t\tthis.manifest.activationEvents?.some((e) => e === \"*\")\n\t\t) {\n\t\t\tutil.log.warn(\n\t\t\t\t`Using '*' activation is usually a bad idea as it impacts performance.\\nMore info: https://code.visualstudio.com/api/references/activation-events#Start-up`,\n\t\t\t);\n\n\t\t\tif (!/^y$/i.test(await util.read(\"Do you want to continue? [y/N] \"))) {\n\t\t\t\tthrow new Error(\"Aborted\");\n\t\t\t}\n\t\t}\n\t}\n}\n\nclass TagsProcessor extends BaseProcessor {\n\tprivate static Keywords: Record<string, string[]> = {\n\t\tgit: [\"git\"],\n\t\tnpm: [\"node\"],\n\t\tspell: [\"markdown\"],\n\t\tbootstrap: [\"bootstrap\"],\n\t\tlint: [\"linters\"],\n\t\tlinting: [\"linters\"],\n\t\treact: [\"javascript\"],\n\t\tjs: [\"javascript\"],\n\t\tnode: [\"javascript\", \"node\"],\n\t\t\"c++\": [\"c++\"],\n\t\tCplusplus: [\"c++\"],\n\t\txml: [\"xml\"],\n\t\tangular: [\"javascript\"],\n\t\tjquery: [\"javascript\"],\n\t\tphp: [\"php\"],\n\t\tpython: [\"python\"],\n\t\tlatex: [\"latex\"],\n\t\truby: [\"ruby\"],\n\t\tjava: [\"java\"],\n\t\terlang: [\"erlang\"],\n\t\tsql: [\"sql\"],\n\t\tnodejs: [\"node\"],\n\t\t\"c#\": [\"c#\"],\n\t\tcss: [\"css\"],\n\t\tjavascript: [\"javascript\"],\n\t\tftp: [\"ftp\"],\n\t\thaskell: [\"haskell\"],\n\t\tunity: [\"unity\"],\n\t\tterminal: [\"terminal\"],\n\t\tpowershell: [\"powershell\"],\n\t\tlaravel: [\"laravel\"],\n\t\tmeteor: [\"meteor\"],\n\t\temmet: [\"emmet\"],\n\t\teslint: [\"linters\"],\n\t\ttfs: [\"tfs\"],\n\t\trust: [\"rust\"],\n\t};\n\n\tasync onEnd(): Promise<void> {\n\t\tconst keywords = this.manifest.keywords ?? [];\n\t\tconst contributes = this.manifest.contributes;\n\t\tconst activationEvents = this.manifest.activationEvents ?? [];\n\t\tconst doesContribute = (...properties: string[]) => {\n\t\t\tlet obj = contributes;\n\t\t\tfor (const property of properties) {\n\t\t\t\tif (!obj) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tobj = obj[property];\n\t\t\t}\n\t\t\treturn obj && obj.length > 0;\n\t\t};\n\n\t\tconst colorThemes = doesContribute(\"themes\") ? [\"theme\", \"color-theme\"] : [];\n\t\tconst iconThemes = doesContribute(\"iconThemes\") ? [\"theme\", \"icon-theme\"] : [];\n\t\tconst productIconThemes = doesContribute(\"productIconThemes\")\n\t\t\t? [\"theme\", \"product-icon-theme\"]\n\t\t\t: [];\n\t\tconst snippets = doesContribute(\"snippets\") ? [\"snippet\"] : [];\n\t\tconst keybindings = doesContribute(\"keybindings\") ? [\"keybindings\"] : [];\n\t\tconst debuggers = doesContribute(\"debuggers\") ? [\"debuggers\"] : [];\n\t\tconst json = doesContribute(\"jsonValidation\") ? [\"json\"] : [];\n\t\tconst remoteMenu = doesContribute(\"menus\", \"statusBar/remoteIndicator\") ? [\"remote-menu\"] : [];\n\n\t\tconst localizationContributions = ((contributes && contributes[\"localizations\"]) ?? []).reduce<\n\t\t\tstring[]\n\t\t>(\n\t\t\t(r, l) => [...r, `lp-${l.languageId}`, ...toLanguagePackTags(l.translations, l.languageId)],\n\t\t\t[],\n\t\t);\n\n\t\tconst languageContributions = ((contributes && contributes[\"languages\"]) ?? []).reduce<\n\t\t\tstring[]\n\t\t>((r, l) => [...r, l.id, ...(l.aliases ?? []), ...toExtensionTags(l.extensions ?? [])], []);\n\n\t\tconst languageActivations = activationEvents\n\t\t\t.map((e) => /^onLanguage:(.*)$/.exec(e))\n\t\t\t.filter(util.nonnull)\n\t\t\t.map((r) => r[1]);\n\n\t\tconst grammars = ((contributes && contributes[\"grammars\"]) ?? []).map((g) => g.language);\n\n\t\tconst description = this.manifest.description || \"\";\n\t\tconst descriptionKeywords = Object.keys(TagsProcessor.Keywords).reduce<string[]>(\n\t\t\t(r, k) =>\n\t\t\t\tr.concat(\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tnew RegExp(\"\\\\b(?:\" + escapeRegExp(k) + \")(?!\\\\w)\", \"gi\").test(description)\n\t\t\t\t\t\t? TagsProcessor.Keywords[k]\n\t\t\t\t\t\t: [],\n\t\t\t\t),\n\t\t\t[],\n\t\t);\n\n\t\tconst webExtensionTags = isWebKind(this.manifest) ? [\"__web_extension\"] : [];\n\t\tconst sponsorTags = this.manifest.sponsor?.url ? [\"__sponsor_extension\"] : [];\n\n\t\tconst tags = new Set([\n\t\t\t...keywords,\n\t\t\t...colorThemes,\n\t\t\t...iconThemes,\n\t\t\t...productIconThemes,\n\t\t\t...snippets,\n\t\t\t...keybindings,\n\t\t\t...debuggers,\n\t\t\t...json,\n\t\t\t...remoteMenu,\n\t\t\t...localizationContributions,\n\t\t\t...languageContributions,\n\t\t\t...languageActivations,\n\t\t\t...grammars,\n\t\t\t...descriptionKeywords,\n\t\t\t...webExtensionTags,\n\t\t\t...sponsorTags,\n\t\t]);\n\n\t\t// @ts-ignore\n\t\tthis.tags = [...tags].filter((tag) => !!tag);\n\t}\n}\n\nclass MarkdownProcessor extends BaseProcessor {\n\tprivate baseContentUrl: string | undefined;\n\tprivate baseImagesUrl: string | undefined;\n\tprivate rewriteRelativeLinks: boolean;\n\tprivate isGitHub: boolean;\n\tprivate isGitLab: boolean;\n\tprivate repositoryUrl: string | undefined;\n\tprivate gitHubIssueLinking: boolean;\n\tprivate gitLabIssueLinking: boolean;\n\n\tconstructor(\n\t\tmanifest: Manifest,\n\t\tprivate name: string,\n\t\tprivate regexp: RegExp,\n\t\tprivate assetType: string,\n\t\toptions: IPackageOptions = {},\n\t) {\n\t\tsuper(manifest);\n\n\t\tconst guess = this.guessBaseUrls(options.githubBranch || options.gitlabBranch);\n\n\t\tthis.baseContentUrl = options.baseContentUrl || (guess && guess.content);\n\t\tthis.baseImagesUrl = options.baseImagesUrl || options.baseContentUrl || (guess && guess.images);\n\t\tthis.rewriteRelativeLinks = options.rewriteRelativeLinks ?? true;\n\t\tthis.repositoryUrl = guess && guess.repository;\n\t\tthis.isGitHub = isGitHubRepository(this.repositoryUrl);\n\t\tthis.isGitLab = isGitLabRepository(this.repositoryUrl);\n\t\tthis.gitHubIssueLinking =\n\t\t\ttypeof options.gitHubIssueLinking === \"boolean\" ? options.gitHubIssueLinking : true;\n\t\tthis.gitLabIssueLinking =\n\t\t\ttypeof options.gitLabIssueLinking === \"boolean\" ? options.gitLabIssueLinking : true;\n\t}\n\n\tasync onFile(file: IFile): Promise<IFile> {\n\t\t// @ts-ignore\n\t\tconst urljoin = (await import(\"url-join\")).default;\n\t\tconst filePath = util.normalize(file.path);\n\n\t\tif (!this.regexp.test(filePath)) {\n\t\t\treturn Promise.resolve(file);\n\t\t}\n\n\t\tthis.assets.push({ type: this.assetType, path: filePath });\n\n\t\tlet contents = await read(file);\n\n\t\tif (/This is the README for your extension /.test(contents)) {\n\t\t\tthrow new Error(\n\t\t\t\t`It seems the README.md still contains template text. Make sure to edit the README.md file before you package or publish your extension.`,\n\t\t\t);\n\t\t}\n\n\t\tif (this.rewriteRelativeLinks) {\n\t\t\t// eslint-disable-next-line no-useless-escape\n\t\t\tconst markdownPathRegex = /(!?)\\[([^\\]\\[]*|!\\[[^\\]\\[]*]\\([^\\)]+\\))\\]\\(([^\\)]+)\\)/g;\n\t\t\tconst urlReplace = (_: string, isImage: string, title: string, link: string) => {\n\t\t\t\tif (/^mailto:/i.test(link)) {\n\t\t\t\t\treturn `${isImage}[${title}](${link})`;\n\t\t\t\t}\n\n\t\t\t\tconst isLinkRelative = !/^\\w+:\\/\\//.test(link) && link[0] !== \"#\";\n\n\t\t\t\tif (!this.baseContentUrl && !this.baseImagesUrl) {\n\t\t\t\t\tconst asset = isImage ? \"image\" : \"link\";\n\n\t\t\t\t\tif (isLinkRelative) {\n\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t`Couldn't detect the repository where this extension is published. The ${asset} '${link}' will be broken in ${this.name}. GitHub/GitLab repositories will be automatically detected. Otherwise, please provide the repository URL in package.json or use the --baseContentUrl and --baseImagesUrl options.`,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\ttitle = title.replace(markdownPathRegex, urlReplace);\n\t\t\t\tconst prefix = isImage ? this.baseImagesUrl : this.baseContentUrl;\n\n\t\t\t\tif (!prefix || !isLinkRelative) {\n\t\t\t\t\treturn `${isImage}[${title}](${link})`;\n\t\t\t\t}\n\n\t\t\t\treturn `${isImage}[${title}](${urljoin(prefix, normalize(link))})`;\n\t\t\t};\n\n\t\t\t// Replace Markdown links with urls\n\t\t\tcontents = contents.replace(markdownPathRegex, urlReplace);\n\n\t\t\t// Replace <img> links with urls\n\t\t\tcontents = contents.replace(/<img.+?src=[\"']([/.\\w\\s#-]+)['\"].*?>/g, (all, link) => {\n\t\t\t\tconst isLinkRelative = !/^\\w+:\\/\\//.test(link) && link[0] !== \"#\";\n\n\t\t\t\tif (!this.baseImagesUrl && isLinkRelative) {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`Couldn't detect the repository where this extension is published. The image will be broken in ${this.name}. GitHub/GitLab repositories will be automatically detected. Otherwise, please provide the repository URL in package.json or use the --baseContentUrl and --baseImagesUrl options.`,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tconst prefix = this.baseImagesUrl;\n\n\t\t\t\tif (!prefix || !isLinkRelative) {\n\t\t\t\t\treturn all;\n\t\t\t\t}\n\n\t\t\t\treturn all.replace(link, urljoin(prefix, normalize(link)));\n\t\t\t});\n\n\t\t\tif (\n\t\t\t\t(this.gitHubIssueLinking && this.isGitHub) ||\n\t\t\t\t(this.gitLabIssueLinking && this.isGitLab)\n\t\t\t) {\n\t\t\t\tconst markdownIssueRegex = /(\\s|\\n)([\\w\\d_-]+\\/[\\w\\d_-]+)?#(\\d+)\\b/g;\n\t\t\t\tconst issueReplace = (\n\t\t\t\t\tall: string,\n\t\t\t\t\tprefix: string,\n\t\t\t\t\townerAndRepositoryName: string,\n\t\t\t\t\tissueNumber: string,\n\t\t\t\t): string => {\n\t\t\t\t\tlet result = all;\n\t\t\t\t\tlet owner: string | undefined;\n\t\t\t\t\tlet repositoryName: string | undefined;\n\n\t\t\t\t\tif (ownerAndRepositoryName) {\n\t\t\t\t\t\t// prettier-ignore\n\t\t\t\t\t\t[owner, repositoryName] = ownerAndRepositoryName.split(\"/\", 2);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (owner && repositoryName && issueNumber) {\n\t\t\t\t\t\t// Issue in external repository\n\t\t\t\t\t\tconst issueUrl = this.isGitHub\n\t\t\t\t\t\t\t? urljoin(\"https://github.com\", owner, repositoryName, \"issues\", issueNumber)\n\t\t\t\t\t\t\t: urljoin(\"https://gitlab.com\", owner, repositoryName, \"-\", \"issues\", issueNumber);\n\t\t\t\t\t\tresult = prefix + `[${owner}/${repositoryName}#${issueNumber}](${issueUrl})`;\n\t\t\t\t\t} else if (!owner && !repositoryName && issueNumber && this.repositoryUrl) {\n\t\t\t\t\t\t// Issue in own repository\n\t\t\t\t\t\tresult =\n\t\t\t\t\t\t\tprefix +\n\t\t\t\t\t\t\t`[#${issueNumber}](${\n\t\t\t\t\t\t\t\tthis.isGitHub\n\t\t\t\t\t\t\t\t\t? urljoin(this.repositoryUrl, \"issues\", issueNumber)\n\t\t\t\t\t\t\t\t\t: urljoin(this.repositoryUrl, \"-\", \"issues\", issueNumber)\n\t\t\t\t\t\t\t})`;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn result;\n\t\t\t\t};\n\t\t\t\t// Replace Markdown issue references with urls\n\t\t\t\tcontents = contents.replace(markdownIssueRegex, issueReplace);\n\t\t\t}\n\t\t}\n\n\t\tconst html = markdownit({ html: true }).render(contents);\n\t\tconst $ = cheerio.load(html);\n\n\t\tif (this.rewriteRelativeLinks) {\n\t\t\t$(\"img\").each((_, img) => {\n\t\t\t\tconst rawSrc = $(img).attr(\"src\");\n\n\t\t\t\tif (!rawSrc) {\n\t\t\t\t\tthrow new Error(`Images in ${this.name} must have a source.`);\n\t\t\t\t}\n\n\t\t\t\tconst src = decodeURI(rawSrc);\n\t\t\t\tconst srcUrl = new url.URL(src);\n\n\t\t\t\tif (\n\t\t\t\t\t/^data:$/i.test(srcUrl.protocol) &&\n\t\t\t\t\t/^image$/i.test(srcUrl.host) &&\n\t\t\t\t\t/\\/svg/i.test(srcUrl.pathname)\n\t\t\t\t) {\n\t\t\t\t\tthrow new Error(`SVG data URLs are not allowed in ${this.name}: ${src}`);\n\t\t\t\t}\n\n\t\t\t\tif (!/^https:$/i.test(srcUrl.protocol)) {\n\t\t\t\t\tthrow new Error(`Images in ${this.name} must come from an HTTPS source: ${src}`);\n\t\t\t\t}\n\n\t\t\t\tif (/\\.svg$/i.test(srcUrl.pathname) && !isHostTrusted(srcUrl)) {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`SVGs are restricted in ${this.name}; please use other file image formats, such as PNG: ${src}`,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t$(\"svg\").each(() => {\n\t\t\tthrow new Error(`SVG tags are not allowed in ${this.name}.`);\n\t\t});\n\n\t\treturn {\n\t\t\tpath: file.path,\n\t\t\tcontents: Buffer.from(contents, \"utf8\"),\n\t\t};\n\t}\n\n\t// GitHub heuristics\n\tprivate guessBaseUrls(\n\t\tgithostBranch: string | undefined,\n\t): { content: string; images: string; repository: string } | undefined {\n\t\tlet repository = null;\n\n\t\tif (typeof this.manifest.repository === \"string\") {\n\t\t\trepository = this.manifest.repository;\n\t\t} else if (this.manifest.repository && typeof this.manifest.repository[\"url\"] === \"string\") {\n\t\t\trepository = this.manifest.repository[\"url\"];\n\t\t}\n\n\t\tif (!repository) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst gitHubRegex = /(?<domain>github(\\.com\\/|:))(?<project>(?:[^/]+)\\/(?:[^/]+))(\\/|$)/;\n\t\tconst gitLabRegex = /(?<domain>gitlab(\\.com\\/|:))(?<project>(?:[^/]+)(\\/(?:[^/]+))+)(\\/|$)/;\n\t\tconst match = (gitHubRegex.exec(repository) || gitLabRegex.exec(repository)) as unknown as {\n\t\t\tgroups: Record<string, string>;\n\t\t};\n\n\t\tif (!match) {\n\t\t\treturn undefined;\n\t\t}\n\t\t// @ts-ignore\n\t\tconst project = match.groups.project.replace(/\\.git$/i, \"\");\n\t\tconst branchName = githostBranch ? githostBranch : \"HEAD\";\n\t\t// @ts-ignore\n\t\tif (/^github/.test(match.groups.domain)) {\n\t\t\treturn {\n\t\t\t\tcontent: `https://github.com/${project}/blob/${branchName}`,\n\t\t\t\timages: `https://github.com/${project}/raw/${branchName}`,\n\t\t\t\trepository: `https://github.com/${project}`,\n\t\t\t};\n\t\t// @ts-ignore\n\t\t} else if (/^gitlab/.test(match.groups.domain)) {\n\t\t\treturn {\n\t\t\t\tcontent: `https://gitlab.com/${project}/-/blob/${branchName}`,\n\t\t\t\timages: `https://gitlab.com/${project}/-/raw/${branchName}`,\n\t\t\t\trepository: `https://gitlab.com/${project}`,\n\t\t\t};\n\t\t}\n\n\t\treturn undefined;\n\t}\n}\n\nclass ReadmeProcessor extends MarkdownProcessor {\n\tconstructor(manifest: Manifest, options: IPackageOptions = {}) {\n\t\tsuper(\n\t\t\tmanifest,\n\t\t\t\"README.md\",\n\t\t\t/^extension\\/readme.md$/i,\n\t\t\t\"Microsoft.VisualStudio.Services.Content.Details\",\n\t\t\toptions,\n\t\t);\n\t}\n}\nclass ChangelogProcessor extends MarkdownProcessor {\n\tconstructor(manifest: Manifest, options: IPackageOptions = {}) {\n\t\tsuper(\n\t\t\tmanifest,\n\t\t\t\"CHANGELOG.md\",\n\t\t\t/^extension\\/changelog.md$/i,\n\t\t\t\"Microsoft.VisualStudio.Services.Content.Changelog\",\n\t\t\toptions,\n\t\t);\n\t}\n}\n\nclass LicenseProcessor extends BaseProcessor {\n\tprivate didFindLicense = false;\n\tprivate expectedLicenseName: string;\n\tfilter: (name: string) => boolean;\n\n\tconstructor(manifest: Manifest) {\n\t\tsuper(manifest);\n\n\t\tconst match = /^SEE LICENSE IN (.*)$/.exec(manifest.license || \"\");\n\n\t\tif (!match || !match[1]) {\n\t\t\tthis.expectedLicenseName = \"LICENSE.md, LICENSE.txt or LICENSE\";\n\t\t\tthis.filter = (name) => /^extension\\/license(\\.(md|txt))?$/i.test(name);\n\t\t} else {\n\t\t\tthis.expectedLicenseName = match[1];\n\t\t\tconst regexp = new RegExp(\"^extension/\" + match[1] + \"$\");\n\t\t\tthis.filter = regexp.test.bind(regexp);\n\t\t}\n\n\t\tdelete this.vsix.license;\n\t}\n\n\tonFile(file: IFile): Promise<IFile> {\n\t\tif (!this.didFindLicense) {\n\t\t\tlet normalizedPath = util.normalize(file.path);\n\n\t\t\tif (this.filter(normalizedPath)) {\n\t\t\t\tif (!extname(normalizedPath)) {\n\t\t\t\t\tfile.path += \".txt\";\n\t\t\t\t\tnormalizedPath += \".txt\";\n\t\t\t\t}\n\n\t\t\t\tthis.assets.push({\n\t\t\t\t\ttype: \"Microsoft.VisualStudio.Services.Content.License\",\n\t\t\t\t\tpath: normalizedPath,\n\t\t\t\t});\n\t\t\t\tthis.vsix.license = normalizedPath;\n\t\t\t\tthis.didFindLicense = true;\n\t\t\t}\n\t\t}\n\n\t\treturn Promise.resolve(file);\n\t}\n\n\tasync onEnd(): Promise<void> {\n\t\tif (!this.didFindLicense) {\n\t\t\tutil.log.warn(`${this.expectedLicenseName} not found`);\n\n\t\t\tif (!/^y$/i.test(await util.read(\"Do you want to continue? [y/N] \"))) {\n\t\t\t\tthrow new Error(\"Aborted\");\n\t\t\t}\n\t\t}\n\t}\n}\n\nclass LaunchEntryPointProcessor extends BaseProcessor {\n\tprivate entryPoints: Set<string> = new Set<string>();\n\n\tconstructor(manifest: Manifest) {\n\t\tsuper(manifest);\n\t\tif (manifest.main) {\n\t\t\tthis.entryPoints.add(util.normalize(join(\"extension\", this.appendJSExt(manifest.main))));\n\t\t}\n\t\tif (manifest.browser) {\n\t\t\tthis.entryPoints.add(util.normalize(join(\"extension\", this.appendJSExt(manifest.browser))));\n\t\t}\n\t}\n\n\tappendJSExt(filePath: string): string {\n\t\tif (filePath.endsWith(\".js\") || filePath.endsWith(\".cjs\")) {\n\t\t\treturn filePath;\n\t\t}\n\t\treturn filePath + \".js\";\n\t}\n\n\tonFile(file: IFile): Promise<IFile> {\n\t\tthis.entryPoints.delete(util.normalize(file.path));\n\t\treturn Promise.resolve(file);\n\t}\n\n\tasync onEnd(): Promise<void> {\n\t\tif (this.entryPoints.size > 0) {\n\t\t\tconst files: string = [...this.entryPoints].join(\",\\n  \");\n\t\t\tthrow new Error(\n\t\t\t\t`Extension entrypoint(s) missing. Make sure these files exist and aren't ignored by '.vscodeignore':\\n  ${files}`,\n\t\t\t);\n\t\t}\n\t}\n}\n\nclass IconProcessor extends BaseProcessor {\n\tprivate icon: string | undefined;\n\tprivate didFindIcon = false;\n\n\tconstructor(manifest: Manifest) {\n\t\tsuper(manifest);\n\n\t\tthis.icon = manifest.icon && normalize(`extension/${manifest.icon}`);\n\t\tdelete this.vsix.icon;\n\t}\n\n\tonFile(file: IFile): Promise<IFile> {\n\t\tconst normalizedPath = util.normalize(file.path);\n\t\tif (normalizedPath === this.icon) {\n\t\t\tthis.didFindIcon = true;\n\t\t\tthis.assets.push({\n\t\t\t\ttype: \"Microsoft.VisualStudio.Services.Icons.Default\",\n\t\t\t\tpath: normalizedPath,\n\t\t\t});\n\t\t\tthis.vsix.icon = this.icon;\n\t\t}\n\t\treturn Promise.resolve(file);\n\t}\n\n\tasync onEnd(): Promise<void> {\n\t\tif (this.icon && !this.didFindIcon) {\n\t\t\treturn Promise.reject(\n\t\t\t\tnew Error(`The specified icon '${this.icon}' wasn't found in the extension.`),\n\t\t\t);\n\t\t}\n\t}\n}\n\nfunction isWebKind(manifest: Manifest): boolean {\n\tconst extensionKind = getExtensionKind(manifest);\n\treturn extensionKind.some((kind) => kind === \"web\");\n}\n\nconst extensionPointExtensionKindsMap = new Map<string, ExtensionKind[]>();\nextensionPointExtensionKindsMap.set(\"jsonValidation\", [\"workspace\", \"web\"]);\nextensionPointExtensionKindsMap.set(\"localizations\", [\"ui\", \"workspace\"]);\nextensionPointExtensionKindsMap.set(\"debuggers\", [\"workspace\"]);\nextensionPointExtensionKindsMap.set(\"terminal\", [\"workspace\"]);\nextensionPointExtensionKindsMap.set(\"typescriptServerPlugins\", [\"workspace\"]);\nextensionPointExtensionKindsMap.set(\"markdown.previewStyles\", [\"workspace\", \"web\"]);\nextensionPointExtensionKindsMap.set(\"markdown.previewScripts\", [\"workspace\", \"web\"]);\nextensionPointExtensionKindsMap.set(\"markdown.markdownItPlugins\", [\"workspace\", \"web\"]);\nextensionPointExtensionKindsMap.set(\"html.customData\", [\"workspace\", \"web\"]);\nextensionPointExtensionKindsMap.set(\"css.customData\", [\"workspace\", \"web\"]);\n\nfunction getExtensionKind(manifest: Manifest): ExtensionKind[] {\n\tconst deduced = deduceExtensionKinds(manifest);\n\n\t// check the manifest\n\tif (manifest.extensionKind) {\n\t\tconst result: ExtensionKind[] = Array.isArray(manifest.extensionKind)\n\t\t\t? manifest.extensionKind\n\t\t\t: manifest.extensionKind === \"ui\"\n\t\t\t\t? [\"ui\", \"workspace\"]\n\t\t\t\t: [manifest.extensionKind];\n\n\t\t// Add web kind if the extension can run as web extension\n\t\tif (deduced.includes(\"web\") && !result.includes(\"web\")) {\n\t\t\tresult.push(\"web\");\n\t\t}\n\n\t\treturn result;\n\t}\n\n\treturn deduced;\n}\n\nfunction deduceExtensionKinds(manifest: Manifest): ExtensionKind[] {\n\t// Not an UI extension if it has main\n\tif (manifest.main) {\n\t\tif (manifest.browser) {\n\t\t\treturn [\"workspace\", \"web\"];\n\t\t}\n\t\treturn [\"workspace\"];\n\t}\n\n\tif (manifest.browser) {\n\t\treturn [\"web\"];\n\t}\n\n\tlet result: ExtensionKind[] = [\"ui\", \"workspace\", \"web\"];\n\n\tconst isNonEmptyArray = (obj: any) => Array.isArray(obj) && obj.length > 0;\n\t// Extension pack defaults to workspace,web extensionKind\n\tif (isNonEmptyArray(manifest.extensionPack) || isNonEmptyArray(manifest.extensionDependencies)) {\n\t\tresult = [\"workspace\", \"web\"];\n\t}\n\n\tif (manifest.contributes) {\n\t\tfor (const contribution of Object.keys(manifest.contributes)) {\n\t\t\tconst supportedExtensionKinds = extensionPointExtensionKindsMap.get(contribution);\n\t\t\tif (supportedExtensionKinds) {\n\t\t\t\tresult = result.filter(\n\t\t\t\t\t(extensionKind) => supportedExtensionKinds.indexOf(extensionKind) !== -1,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn result;\n}\n\nclass NLSProcessor extends BaseProcessor {\n\tprivate translations: { [path: string]: string } = Object.create(null);\n\n\tconstructor(manifest: Manifest) {\n\t\tsuper(manifest);\n\n\t\tif (\n\t\t\t!manifest.contributes ||\n\t\t\t!manifest.contributes.localizations ||\n\t\t\tmanifest.contributes.localizations.length === 0\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst localizations = manifest.contributes.localizations;\n\t\tconst translations: { [languageId: string]: string } = Object.create(null);\n\n\t\t// take last reference in the manifest for any given language\n\t\tfor (const localization of localizations) {\n\t\t\tfor (const translation of localization.translations) {\n\t\t\t\tif (translation.id === \"vscode\" && !!translation.path) {\n\t\t\t\t\t// eslint-disable-next-line no-useless-escape\n\t\t\t\t\tconst translationPath = util.normalize(translation.path.replace(/^\\.[\\/\\\\]/, \"\"));\n\t\t\t\t\ttranslations[localization.languageId.toUpperCase()] = `extension/${translationPath}`;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// invert the map for later easier retrieval\n\t\tfor (const languageId of Object.keys(translations)) {\n\t\t// @ts-ignore\n\t\t\tthis.translations[translations[languageId]] = languageId;\n\t\t}\n\t}\n\n\tonFile(file: IFile): Promise<IFile> {\n\t\tconst normalizedPath = util.normalize(file.path);\n\t\tconst language = this.translations[normalizedPath];\n\n\t\tif (language) {\n\t\t\tthis.assets.push({\n\t\t\t\ttype: `Microsoft.VisualStudio.Code.Translation.${language}`,\n\t\t\t\tpath: normalizedPath,\n\t\t\t});\n\t\t}\n\n\t\treturn Promise.resolve(file);\n\t}\n}\n\nclass ValidationProcessor extends BaseProcessor {\n\tprivate files = new Map<string, string[]>();\n\tprivate duplicates = new Set<string>();\n\n\tasync onFile(file: IFile): Promise<IFile> {\n\t\tconst lower = file.path.toLowerCase();\n\t\tconst existing = this.files.get(lower);\n\n\t\tif (existing) {\n\t\t\tthis.duplicates.add(lower);\n\t\t\texisting.push(file.path);\n\t\t} else {\n\t\t\tthis.files.set(lower, [file.path]);\n\t\t}\n\n\t\treturn file;\n\t}\n\n\tasync onEnd() {\n\t\tif (this.duplicates.size === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst messages = [\n\t\t\t`The following files have the same case insensitive path, which isn't supported by the VSIX format:`,\n\t\t];\n\n\t\tfor (const lower of this.duplicates) {\n\t\t\tfor (const filePath of this.files.get(lower)!) {\n\t\t\t\tmessages.push(`  - ${filePath}`);\n\t\t\t}\n\t\t}\n\n\t\tthrow new Error(messages.join(\"\\n\"));\n\t}\n}\n\nconst escapeChars = new Map([\n\t[\"'\", \"&apos;\"],\n\t['\"', \"&quot;\"],\n\t[\"<\", \"&lt;\"],\n\t[\">\", \"&gt;\"],\n\t[\"&\", \"&amp;\"],\n]);\n\nfunction escape(value: any): string {\n\treturn String(value).replace(/(['\"<>&])/g, (_, char) => escapeChars.get(char)!);\n}\n\nasync function toVsixManifest(vsix: VSIX): Promise<string> {\n\treturn `<?xml version=\"1.0\" encoding=\"utf-8\"?>\n\t<PackageManifest Version=\"2.0.0\" xmlns=\"http://schemas.microsoft.com/developer/vsx-schema/2011\" xmlns:d=\"http://schemas.microsoft.com/developer/vsx-schema-design/2011\">\n\t\t<Metadata>\n\t\t\t<Identity Language=\"en-US\" Id=\"${escape(vsix.id)}\" Version=\"${escape(vsix.version)}\" Publisher=\"${escape(\n\t\t\t\tvsix.publisher,\n\t\t\t)}\" ${vsix.target ? `TargetPlatform=\"${escape(vsix.target)}\"` : \"\"}/>\n\t\t\t<DisplayName>${escape(vsix.displayName)}</DisplayName>\n\t\t\t<Description xml:space=\"preserve\">${escape(vsix.description)}</Description>\n\t\t\t<Tags>${escape(vsix.tags)}</Tags>\n\t\t\t<Categories>${escape(vsix.categories)}</Categories>\n\t\t\t<GalleryFlags>${escape(vsix.flags)}</GalleryFlags>\n\t\t\t${\n\t\t\t\t!vsix.badges\n\t\t\t\t\t? \"\"\n\t\t\t\t\t: `<Badges>${vsix.badges\n\t\t\t\t\t\t\t.map(\n\t\t\t\t\t\t\t\t(badge) =>\n\t\t\t\t\t\t\t\t\t`<Badge Link=\"${escape(badge.href)}\" ImgUri=\"${escape(badge.url)}\" Description=\"${escape(\n\t\t\t\t\t\t\t\t\t\tbadge.description,\n\t\t\t\t\t\t\t\t\t)}\" />`,\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.join(\"\\n\")}</Badges>`\n\t\t\t}\n\t\t\t<Properties>\n\t\t\t\t<Property Id=\"Microsoft.VisualStudio.Code.Engine\" Value=\"${escape(vsix.engine)}\" />\n\t\t\t\t<Property Id=\"Microsoft.VisualStudio.Code.ExtensionDependencies\" Value=\"${escape(vsix.extensionDependencies)}\" />\n\t\t\t\t<Property Id=\"Microsoft.VisualStudio.Code.ExtensionPack\" Value=\"${escape(vsix.extensionPack)}\" />\n\t\t\t\t<Property Id=\"Microsoft.VisualStudio.Code.ExtensionKind\" Value=\"${escape(vsix.extensionKind)}\" />\n\t\t\t\t<Property Id=\"Microsoft.VisualStudio.Code.LocalizedLanguages\" Value=\"${escape(vsix.localizedLanguages)}\" />\n\t\t\t\t${vsix.preRelease ? `<Property Id=\"Microsoft.VisualStudio.Code.PreRelease\" Value=\"${escape(vsix.preRelease)}\" />` : \"\"}\n\t\t\t\t${\n\t\t\t\t\tvsix.sponsorLink\n\t\t\t\t\t\t? `<Property Id=\"Microsoft.VisualStudio.Code.SponsorLink\" Value=\"${escape(vsix.sponsorLink)}\" />`\n\t\t\t\t\t\t: \"\"\n\t\t\t\t}\n\t\t\t\t${\n\t\t\t\t\t!vsix.links.repository\n\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t: `<Property Id=\"Microsoft.VisualStudio.Services.Links.Source\" Value=\"${escape(vsix.links.repository)}\" />\n\t\t\t\t<Property Id=\"Microsoft.VisualStudio.Services.Links.Getstarted\" Value=\"${escape(vsix.links.repository)}\" />\n\t\t\t\t${\n\t\t\t\t\tvsix.links.github\n\t\t\t\t\t\t? `<Property Id=\"Microsoft.VisualStudio.Services.Links.GitHub\" Value=\"${escape(vsix.links.github)}\" />`\n\t\t\t\t\t\t: `<Property Id=\"Microsoft.VisualStudio.Services.Links.Repository\" Value=\"${escape(\n\t\t\t\t\t\t\t\tvsix.links.repository,\n\t\t\t\t\t\t\t)}\" />`\n\t\t\t\t}`\n\t\t\t\t}\n\t\t\t\t${\n\t\t\t\t\tvsix.links.bugs\n\t\t\t\t\t\t? `<Property Id=\"Microsoft.VisualStudio.Services.Links.Support\" Value=\"${escape(vsix.links.bugs)}\" />`\n\t\t\t\t\t\t: \"\"\n\t\t\t\t}\n\t\t\t\t${\n\t\t\t\t\tvsix.links.homepage\n\t\t\t\t\t\t? `<Property Id=\"Microsoft.VisualStudio.Services.Links.Learn\" Value=\"${escape(vsix.links.homepage)}\" />`\n\t\t\t\t\t\t: \"\"\n\t\t\t\t}\n\t\t\t\t${\n\t\t\t\t\tvsix.galleryBanner.color\n\t\t\t\t\t\t? `<Property Id=\"Microsoft.VisualStudio.Services.Branding.Color\" Value=\"${escape(\n\t\t\t\t\t\t\t\tvsix.galleryBanner.color,\n\t\t\t\t\t\t\t)}\" />`\n\t\t\t\t\t\t: \"\"\n\t\t\t\t}\n\t\t\t\t${\n\t\t\t\t\tvsix.galleryBanner.theme\n\t\t\t\t\t\t? `<Property Id=\"Microsoft.VisualStudio.Services.Branding.Theme\" Value=\"${escape(\n\t\t\t\t\t\t\t\tvsix.galleryBanner.theme,\n\t\t\t\t\t\t\t)}\" />`\n\t\t\t\t\t\t: \"\"\n\t\t\t\t}\n\t\t\t\t<Property Id=\"Microsoft.VisualStudio.Services.GitHubFlavoredMarkdown\" Value=\"${escape(vsix.githubMarkdown)}\" />\n\t\t\t\t<Property Id=\"Microsoft.VisualStudio.Services.Content.Pricing\" Value=\"${escape(vsix.pricing)}\"/>\n\n\t\t\t\t${\n\t\t\t\t\tvsix.enableMarketplaceQnA !== undefined\n\t\t\t\t\t\t? `<Property Id=\"Microsoft.VisualStudio.Services.EnableMarketplaceQnA\" Value=\"${escape(\n\t\t\t\t\t\t\t\tvsix.enableMarketplaceQnA,\n\t\t\t\t\t\t\t)}\" />`\n\t\t\t\t\t\t: \"\"\n\t\t\t\t}\n\t\t\t\t${\n\t\t\t\t\tvsix.customerQnALink !== undefined\n\t\t\t\t\t\t? `<Property Id=\"Microsoft.VisualStudio.Services.CustomerQnALink\" Value=\"${escape(\n\t\t\t\t\t\t\t\tvsix.customerQnALink,\n\t\t\t\t\t\t\t)}\" />`\n\t\t\t\t\t\t: \"\"\n\t\t\t\t}\n\t\t\t</Properties>\n\t\t\t${vsix.license ? `<License>${escape(vsix.license)}</License>` : \"\"}\n\t\t\t${vsix.icon ? `<Icon>${escape(vsix.icon)}</Icon>` : \"\"}\n\t\t</Metadata>\n\t\t<Installation>\n\t\t\t<InstallationTarget Id=\"Microsoft.VisualStudio.Code\"/>\n\t\t</Installation>\n\t\t<Dependencies/>\n\t\t<Assets>\n\t\t\t<Asset Type=\"Microsoft.VisualStudio.Code.Manifest\" Path=\"extension/package.json\" Addressable=\"true\" />\n\t\t\t${vsix.assets\n\t\t\t\t.map(\n\t\t\t\t\t(asset) =>\n\t\t\t\t\t\t`<Asset Type=\"${escape(asset.type)}\" Path=\"${escape(asset.path)}\" Addressable=\"true\" />`,\n\t\t\t\t)\n\t\t\t\t.join(\"\\n\")}\n\t\t</Assets>\n\t</PackageManifest>`;\n}\n\nconst defaultMimetypes = new Map<string, string>([\n\t[\".json\", \"application/json\"],\n\t[\".vsixmanifest\", \"text/xml\"],\n]);\n\nasync function toContentTypes(files: IFile[]): Promise<string> {\n\tconst mimetypes = new Map<string, string>(defaultMimetypes);\n\n\tfor (const file of files) {\n\t\tconst ext = extname(file.path).toLowerCase();\n\n\t\tif (ext) {\n\t\t// @ts-ignore\n\t\t\tmimetypes.set(ext, mime.lookup(ext));\n\t\t}\n\t}\n\n\tconst contentTypes: string[] = [];\n\tfor (const [extension, contentType] of mimetypes) {\n\t\tcontentTypes.push(`<Default Extension=\"${extension}\" ContentType=\"${contentType}\"/>`);\n\t}\n\n\treturn `<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<Types xmlns=\"http://schemas.openxmlformats.org/package/2006/content-types\">${contentTypes.join(\"\")}</Types>\n`;\n}\n\nexport function processFiles(processors: IProcessor[], files: IFile[]): Promise<IFile[]> {\n\tconst processedFiles = files.map((file) =>\n\t\tutil.chain(file, processors, (file, processor) => processor.onFile(file)),\n\t);\n\n\treturn Promise.all(processedFiles).then((files) => {\n\t\treturn util.sequence(processors.map((p) => () => p.onEnd())).then(() => {\n\t\t\tconst assets = processors.reduce<IAsset[]>((r, p) => [...r, ...p.assets], []);\n\t\t\tconst tags = [\n\t\t\t\t...processors.reduce<Set<string>>((r, p) => {\n\t\t\t\t\tfor (const tag of p.tags) {\n\t\t\t\t\t\tif (tag) {\n\t\t\t\t\t\t\tr.add(tag);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn r;\n\t\t\t\t}, new Set()),\n\t\t\t].join(\",\");\n\t\t\tconst vsix = processors.reduce<VSIX>((r, p) => ({ ...r, ...p.vsix }), {\n\t\t\t\tassets,\n\t\t\t\ttags,\n\t\t\t} as VSIX);\n\n\t\t\treturn Promise.all([toVsixManifest(vsix), toContentTypes(files)]).then((result) => {\n\t\t\t\treturn [\n\t\t\t\t\t{ path: \"extension.vsixmanifest\", contents: Buffer.from(result[0], \"utf8\") },\n\t\t\t\t\t{ path: \"[Content_Types].xml\", contents: Buffer.from(result[1], \"utf8\") },\n\t\t\t\t\t...files,\n\t\t\t\t];\n\t\t\t});\n\t\t});\n\t});\n}\n\nexport function createDefaultProcessors(\n\tmanifest: Manifest,\n\toptions: IPackageOptions = {},\n): IProcessor[] {\n\treturn [\n\t\tnew ManifestProcessor(manifest, options),\n\t\tnew TagsProcessor(manifest),\n\t\tnew ReadmeProcessor(manifest, options),\n\t\tnew ChangelogProcessor(manifest, options),\n\t\tnew LaunchEntryPointProcessor(manifest),\n\t\tnew LicenseProcessor(manifest),\n\t\tnew IconProcessor(manifest),\n\t\tnew NLSProcessor(manifest),\n\t\tnew ValidationProcessor(manifest),\n\t];\n}\nexport function writeVsix(files: IFile[], packagePath: string): Promise<void> {\n\tconsole.log(\"Writing VSIX package...\");\n\treturn fs.promises\n\t\t.unlink(packagePath)\n\t\t.catch((err) => (err.code !== \"ENOENT\" ? Promise.reject(err) : Promise.resolve(null)))\n\t\t.then(\n\t\t\t() =>\n\t\t\t\tnew Promise((c, e) => {\n\t\t\t\t\tconst zip = new yazl.ZipFile();\n\t\t\t\t\tfiles.forEach((f) =>\n\t\t\t\t\t\tisInMemoryFile(f)\n\t\t\t\t\t\t\t? zip.addBuffer(\n\t\t\t\t\t\t\t\t\ttypeof f.contents === \"string\" ? Buffer.from(f.contents, \"utf8\") : f.contents,\n\t\t\t\t\t\t\t\t\tf.path,\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tmode: f.mode,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t: zip.addFile(f.localPath, f.path, { mode: f.mode }),\n\t\t\t\t\t);\n\t\t\t\t\tzip.end();\n\n\t\t\t\t\tconst zipStream = fs.createWriteStream(packagePath);\n\t\t\t\t\tzip.outputStream.pipe(zipStream);\n\n\t\t\t\t\tzip.outputStream.once(\"error\", e);\n\t\t\t\t\tzipStream.once(\"error\", e);\n\t\t\t\t\tzipStream.once(\"finish\", () => c());\n\t\t\t\t}),\n\t\t);\n}\n","import { readProjectManifest } from \"@pnpm/cli-utils\";\nimport type { ProjectManifest } from \"@pnpm/types\";\nimport { join } from \"node:path\";\nimport packlist from \"npm-packlist\";\nimport { versionBump } from \"./vsce/version-bump\";\nimport type { Manifest } from \"./vsce/manifest\";\nimport { createDefaultProcessors, processFiles, writeVsix, type IFile, type IPackageOptions } from \"./vsce/package\";\n\nexport interface CreateVsixOptions {\n\tdir: string;\n\toutfile: string;\n\tdryRun?: boolean;\n}\n\nexport async function createVsix(\n\ttarget: { dir: string; outfile: string; dry?: boolean },\n\toptions: IPackageOptions = {},\n) {\n\tconst { manifest, dir } = await getManifest(target.dir);\n\tconst fileNames = await packlist({ path: dir });\n\tconst files = fileNames.map((f) => ({ path: `extension/${f}`, localPath: join(target.dir, f) }));\n\n\tconst { outfile } = target;\n\tif (target.dry) {\n\t\treturn { manifest, outfile, files, dry: true };\n\t}\n\n\tawait versionBump(manifest as Manifest, options);\n\n\tconst processors = createDefaultProcessors(manifest as Manifest, options);\n\tconst processedFiles = await processFiles(processors, files);\n\n\tawait writeVsix(processedFiles, outfile);\n\n\treturn { manifest, outfile, files } as {\n\t\tmanifest: ProjectManifest;\n\t\toutfile: string;\n\t\tfiles: IFile[];\n\t\tdry?: boolean;\n\t};\n}\n\n/** @see https://github.com/pnpm/pnpm/blob/29a2a698060a86459f579572ac6d13151bf294ba/releasing/plugin-commands-publishing/src/pack.ts#L70 */\nconst getManifest = async (packageDir: string) => {\n\tconst { manifest: entryManifest, fileName: manifestFileName } = await readProjectManifest(\n\t\tpackageDir,\n\t\t{},\n\t);\n\n\tconst dir = entryManifest.publishConfig?.directory\n\t\t? join(packageDir, entryManifest.publishConfig.directory)\n\t\t: packageDir;\n\tconst manifest =\n\t\tpackageDir !== dir ? (await readProjectManifest(dir, {})).manifest : entryManifest;\n\n\tif (!manifest.name) {\n\t\tthrow new Error(`Package name is not defined in the ${manifestFileName}.`);\n\t}\n\n\tif (!manifest.version) {\n\t\tthrow new Error(`Package version is not defined in the ${manifestFileName}.`);\n\t}\n\n\treturn { manifest, dir, manifestFileName };\n};\n","globalThis.ACTION_INPUTS = {\n  \"token\": \"token\",\n  \"registry\": \"registry\",\n  \"extension-path\": \"extension-path\",\n  \"debug\": \"debug\",\n  \"dry-run\": \"dry-run\",\n  \"pre-release\": \"pre-release\",\n  \"manager\": \"manager\",\n  \"fail-silently\": \"fail-silently\",\n  \"targets\": \"targets\",\n  \"base-content-url\": \"base-content-url\",\n  \"base-images-url\": \"base-images-url\"\n};\n/// <reference types=\"../actions-kit.d.ts\" />\nimport * as core from \"@actions/core\";\nimport * as fs from \"node:fs\";\nimport { createVsix } from \"./vsix\";\nimport { publishVSIX as publishVSCE } from \"@vscode/vsce\";\nimport { publish as publishOVSX } from \"ovsx\";\nimport { getValidatedInput } from \"actions-kit\";\nimport { z } from \"zod\";\n\n\nasync function run() {\n\tconst token = core.getInput(ACTION_INPUTS.token, {\n\t\trequired: true,\n\t});\n\n\tconst registryResult = getValidatedInput(\n\t\t\"\",\n\t\tz.union([\n\t\t\tz.literal(\"vs-marketplace\"),\n\t\t\tz.literal(\"open-vsx\"),\n\t\t\t// TODO: use URL.canParse to increase perf\n\t\t\tz\n\t\t\t\t.string()\n\t\t\t\t.url()\n\t\t\t\t.transform((val): string & {} => val),\n\t\t]),\n\t\t{\n\t\t\ttrimWhitespace: true,\n\t\t},\n\t);\n\n\tif (!registryResult.success) {\n\t\tcore.setFailed(\n\t\t\t\"registry is not a valid value, must be one of: vs-marketplace, open-vsx or a valid URL\",\n\t\t);\n\t\treturn;\n\t}\n\n\tconst registry = registryResult.data;\n\n\tconst debug = core.getBooleanInput(ACTION_INPUTS.debug);\n\tconst dryRun = core.getBooleanInput(ACTION_INPUTS[\"dry-run\"]);\n\n\tif (debug) {\n\t\tcore.warning(\"running with debug mode enabled\");\n\t}\n\n\tif (dryRun) {\n\t\tcore.warning(\"running with dry-run mode enabled\");\n\t}\n\n\tconst baseContentUrl = core.getInput(ACTION_INPUTS[\"base-content-url\"], {\n\t\ttrimWhitespace: true,\n\t});\n\n\tconst baseImagesUrl = core.getInput(ACTION_INPUTS[\"base-images-url\"], {\n\t\ttrimWhitespace: true,\n\t});\n\n\tconst failSilently = core.getBooleanInput(ACTION_INPUTS[\"fail-silently\"]);\n\n\tconst extensionPath = core.getInput(ACTION_INPUTS[\"extension-path\"], {\n\t\ttrimWhitespace: true,\n\t});\n\n\tcore.debug(`extensionPath: ${extensionPath}`);\n\n\tif (!fs.existsSync(extensionPath)) {\n\t\tcore.setFailed(\"extensionPath is not a valid path\");\n\t\treturn;\n\t}\n\n\tconst isFile = fs.lstatSync(extensionPath).isFile();\n\tconst isDirectory = fs.lstatSync(extensionPath).isDirectory();\n\n\tif (!isFile && !isDirectory) {\n\t\tcore.setFailed(\"extensionPath is not a valid path\");\n\t\treturn;\n\t}\n\n\tconst rawTargets = core.getInput(ACTION_INPUTS.targets);\n\n\tconst targets = rawTargets\n\t\t.split(\",\")\n\t\t.map((target) => target.trim())\n\t\t.filter(Boolean);\n\n\tconst preRelease = core.getBooleanInput(ACTION_INPUTS[\"pre-release\"]);\n\n\tlet extensionFile: string;\n\tif (!isFile) {\n\t\tconst result = await createVsix(\n\t\t\t{ dir: extensionPath, outfile: \"extension.vsix\", dry: dryRun },\n\t\t\t{\n\t\t\t\ttarget: targets.join(\" \"),\n\t\t\t\tpreRelease,\n\t\t\t\tbaseImagesUrl: baseImagesUrl ?? undefined,\n\t\t\t\tbaseContentUrl: baseContentUrl ?? undefined,\n\t\t\t},\n\t\t);\n\n\t\tcore.info(`created vsix at: ${JSON.stringify(result, null, 2)}`);\n\n\t\textensionFile = result.outfile;\n\t} else {\n\t\textensionFile = extensionPath;\n\t\tcore.info(\"extension is already packaged, skipping.\");\n\t}\n\n\tif (dryRun) {\n\t\tcore.info(\"dry-run enabled, skipping publish\");\n\t\treturn;\n\t}\n\n\tif (registry === \"vs-marketplace\") {\n\t\tconst result = await publishVSCE(extensionFile, {\n\t\t\tpat: token,\n\t\t\tpreRelease,\n\t\t\ttargets: targets.length > 0 ? targets : undefined,\n\t\t\tbaseContentUrl: baseContentUrl ?? undefined,\n\t\t\tbaseImagesUrl: baseImagesUrl ?? undefined,\n\t\t\tskipDuplicate: failSilently,\n\t\t});\n\n\t\tcore.info(`published ${extensionFile} to marketplace: ${JSON.stringify(result, null, 2)}`);\n\t} else {\n\t\tconst results = await publishOVSX({\n\t\t\tpat: token,\n\t\t\tpreRelease,\n\t\t\tpackagePath: [extensionFile],\n\t\t\ttargets: targets.length > 0 ? targets : undefined,\n\t\t\tbaseContentUrl: baseContentUrl ?? undefined,\n\t\t\tbaseImagesUrl: baseImagesUrl ?? undefined,\n\t\t\tskipDuplicate: failSilently,\n\t\t});\n\n\t\tfor (const result of results) {\n\t\t\tcore.info(`result is: ${JSON.stringify(result, null, 2)}`);\n\t\t\tif (result.status === \"rejected\") {\n\t\t\t\tthrow result.reason;\n\t\t\t}\n\t\t}\n\n\t\tcore.info(`published ${extensionFile} to marketplace: ${JSON.stringify(results, null, 2)}`);\n\t}\n}\n\nrun().catch((err) => {\n\tconsole.error(err);\n\tcore.setFailed(err);\n});\n;","// src/index.ts\nimport { getInput } from \"@actions/core\";\nfunction getValidatedInput(inputName, schema, options) {\n  const raw = getInput(inputName, options);\n  return schema.safeParse(raw);\n}\nexport {\n  getValidatedInput\n};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.issue = exports.issueCommand = void 0;\nconst os = __importStar(require(\"os\"));\nconst utils_1 = require(\"./utils\");\n/**\n * Commands\n *\n * Command Format:\n *   ::name key=value,key=value::message\n *\n * Examples:\n *   ::warning::This is the message\n *   ::set-env name=MY_VAR::some value\n */\nfunction issueCommand(command, properties, message) {\n    const cmd = new Command(command, properties, message);\n    process.stdout.write(cmd.toString() + os.EOL);\n}\nexports.issueCommand = issueCommand;\nfunction issue(name, message = '') {\n    issueCommand(name, {}, message);\n}\nexports.issue = issue;\nconst CMD_STRING = '::';\nclass Command {\n    constructor(command, properties, message) {\n        if (!command) {\n            command = 'missing.command';\n        }\n        this.command = command;\n        this.properties = properties;\n        this.message = message;\n    }\n    toString() {\n        let cmdStr = CMD_STRING + this.command;\n        if (this.properties && Object.keys(this.properties).length > 0) {\n            cmdStr += ' ';\n            let first = true;\n            for (const key in this.properties) {\n                if (this.properties.hasOwnProperty(key)) {\n                    const val = this.properties[key];\n                    if (val) {\n                        if (first) {\n                            first = false;\n                        }\n                        else {\n                            cmdStr += ',';\n                        }\n                        cmdStr += `${key}=${escapeProperty(val)}`;\n                    }\n                }\n            }\n        }\n        cmdStr += `${CMD_STRING}${escapeData(this.message)}`;\n        return cmdStr;\n    }\n}\nfunction escapeData(s) {\n    return (0, utils_1.toCommandValue)(s)\n        .replace(/%/g, '%25')\n        .replace(/\\r/g, '%0D')\n        .replace(/\\n/g, '%0A');\n}\nfunction escapeProperty(s) {\n    return (0, utils_1.toCommandValue)(s)\n        .replace(/%/g, '%25')\n        .replace(/\\r/g, '%0D')\n        .replace(/\\n/g, '%0A')\n        .replace(/:/g, '%3A')\n        .replace(/,/g, '%2C');\n}\n//# sourceMappingURL=command.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.platform = exports.toPlatformPath = exports.toWin32Path = exports.toPosixPath = exports.markdownSummary = exports.summary = exports.getIDToken = exports.getState = exports.saveState = exports.group = exports.endGroup = exports.startGroup = exports.info = exports.notice = exports.warning = exports.error = exports.debug = exports.isDebug = exports.setFailed = exports.setCommandEcho = exports.setOutput = exports.getBooleanInput = exports.getMultilineInput = exports.getInput = exports.addPath = exports.setSecret = exports.exportVariable = exports.ExitCode = void 0;\nconst command_1 = require(\"./command\");\nconst file_command_1 = require(\"./file-command\");\nconst utils_1 = require(\"./utils\");\nconst os = __importStar(require(\"os\"));\nconst path = __importStar(require(\"path\"));\nconst oidc_utils_1 = require(\"./oidc-utils\");\n/**\n * The code to exit an action\n */\nvar ExitCode;\n(function (ExitCode) {\n    /**\n     * A code indicating that the action was successful\n     */\n    ExitCode[ExitCode[\"Success\"] = 0] = \"Success\";\n    /**\n     * A code indicating that the action was a failure\n     */\n    ExitCode[ExitCode[\"Failure\"] = 1] = \"Failure\";\n})(ExitCode || (exports.ExitCode = ExitCode = {}));\n//-----------------------------------------------------------------------\n// Variables\n//-----------------------------------------------------------------------\n/**\n * Sets env variable for this action and future actions in the job\n * @param name the name of the variable to set\n * @param val the value of the variable. Non-string values will be converted to a string via JSON.stringify\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction exportVariable(name, val) {\n    const convertedVal = (0, utils_1.toCommandValue)(val);\n    process.env[name] = convertedVal;\n    const filePath = process.env['GITHUB_ENV'] || '';\n    if (filePath) {\n        return (0, file_command_1.issueFileCommand)('ENV', (0, file_command_1.prepareKeyValueMessage)(name, val));\n    }\n    (0, command_1.issueCommand)('set-env', { name }, convertedVal);\n}\nexports.exportVariable = exportVariable;\n/**\n * Registers a secret which will get masked from logs\n * @param secret value of the secret\n */\nfunction setSecret(secret) {\n    (0, command_1.issueCommand)('add-mask', {}, secret);\n}\nexports.setSecret = setSecret;\n/**\n * Prepends inputPath to the PATH (for this action and future actions)\n * @param inputPath\n */\nfunction addPath(inputPath) {\n    const filePath = process.env['GITHUB_PATH'] || '';\n    if (filePath) {\n        (0, file_command_1.issueFileCommand)('PATH', inputPath);\n    }\n    else {\n        (0, command_1.issueCommand)('add-path', {}, inputPath);\n    }\n    process.env['PATH'] = `${inputPath}${path.delimiter}${process.env['PATH']}`;\n}\nexports.addPath = addPath;\n/**\n * Gets the value of an input.\n * Unless trimWhitespace is set to false in InputOptions, the value is also trimmed.\n * Returns an empty string if the value is not defined.\n *\n * @param     name     name of the input to get\n * @param     options  optional. See InputOptions.\n * @returns   string\n */\nfunction getInput(name, options) {\n    const val = process.env[`INPUT_${name.replace(/ /g, '_').toUpperCase()}`] || '';\n    if (options && options.required && !val) {\n        throw new Error(`Input required and not supplied: ${name}`);\n    }\n    if (options && options.trimWhitespace === false) {\n        return val;\n    }\n    return val.trim();\n}\nexports.getInput = getInput;\n/**\n * Gets the values of an multiline input.  Each value is also trimmed.\n *\n * @param     name     name of the input to get\n * @param     options  optional. See InputOptions.\n * @returns   string[]\n *\n */\nfunction getMultilineInput(name, options) {\n    const inputs = getInput(name, options)\n        .split('\\n')\n        .filter(x => x !== '');\n    if (options && options.trimWhitespace === false) {\n        return inputs;\n    }\n    return inputs.map(input => input.trim());\n}\nexports.getMultilineInput = getMultilineInput;\n/**\n * Gets the input value of the boolean type in the YAML 1.2 \"core schema\" specification.\n * Support boolean input list: `true | True | TRUE | false | False | FALSE` .\n * The return value is also in boolean type.\n * ref: https://yaml.org/spec/1.2/spec.html#id2804923\n *\n * @param     name     name of the input to get\n * @param     options  optional. See InputOptions.\n * @returns   boolean\n */\nfunction getBooleanInput(name, options) {\n    const trueValue = ['true', 'True', 'TRUE'];\n    const falseValue = ['false', 'False', 'FALSE'];\n    const val = getInput(name, options);\n    if (trueValue.includes(val))\n        return true;\n    if (falseValue.includes(val))\n        return false;\n    throw new TypeError(`Input does not meet YAML 1.2 \"Core Schema\" specification: ${name}\\n` +\n        `Support boolean input list: \\`true | True | TRUE | false | False | FALSE\\``);\n}\nexports.getBooleanInput = getBooleanInput;\n/**\n * Sets the value of an output.\n *\n * @param     name     name of the output to set\n * @param     value    value to store. Non-string values will be converted to a string via JSON.stringify\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction setOutput(name, value) {\n    const filePath = process.env['GITHUB_OUTPUT'] || '';\n    if (filePath) {\n        return (0, file_command_1.issueFileCommand)('OUTPUT', (0, file_command_1.prepareKeyValueMessage)(name, value));\n    }\n    process.stdout.write(os.EOL);\n    (0, command_1.issueCommand)('set-output', { name }, (0, utils_1.toCommandValue)(value));\n}\nexports.setOutput = setOutput;\n/**\n * Enables or disables the echoing of commands into stdout for the rest of the step.\n * Echoing is disabled by default if ACTIONS_STEP_DEBUG is not set.\n *\n */\nfunction setCommandEcho(enabled) {\n    (0, command_1.issue)('echo', enabled ? 'on' : 'off');\n}\nexports.setCommandEcho = setCommandEcho;\n//-----------------------------------------------------------------------\n// Results\n//-----------------------------------------------------------------------\n/**\n * Sets the action status to failed.\n * When the action exits it will be with an exit code of 1\n * @param message add error issue message\n */\nfunction setFailed(message) {\n    process.exitCode = ExitCode.Failure;\n    error(message);\n}\nexports.setFailed = setFailed;\n//-----------------------------------------------------------------------\n// Logging Commands\n//-----------------------------------------------------------------------\n/**\n * Gets whether Actions Step Debug is on or not\n */\nfunction isDebug() {\n    return process.env['RUNNER_DEBUG'] === '1';\n}\nexports.isDebug = isDebug;\n/**\n * Writes debug message to user log\n * @param message debug message\n */\nfunction debug(message) {\n    (0, command_1.issueCommand)('debug', {}, message);\n}\nexports.debug = debug;\n/**\n * Adds an error issue\n * @param message error issue message. Errors will be converted to string via toString()\n * @param properties optional properties to add to the annotation.\n */\nfunction error(message, properties = {}) {\n    (0, command_1.issueCommand)('error', (0, utils_1.toCommandProperties)(properties), message instanceof Error ? message.toString() : message);\n}\nexports.error = error;\n/**\n * Adds a warning issue\n * @param message warning issue message. Errors will be converted to string via toString()\n * @param properties optional properties to add to the annotation.\n */\nfunction warning(message, properties = {}) {\n    (0, command_1.issueCommand)('warning', (0, utils_1.toCommandProperties)(properties), message instanceof Error ? message.toString() : message);\n}\nexports.warning = warning;\n/**\n * Adds a notice issue\n * @param message notice issue message. Errors will be converted to string via toString()\n * @param properties optional properties to add to the annotation.\n */\nfunction notice(message, properties = {}) {\n    (0, command_1.issueCommand)('notice', (0, utils_1.toCommandProperties)(properties), message instanceof Error ? message.toString() : message);\n}\nexports.notice = notice;\n/**\n * Writes info to log with console.log.\n * @param message info message\n */\nfunction info(message) {\n    process.stdout.write(message + os.EOL);\n}\nexports.info = info;\n/**\n * Begin an output group.\n *\n * Output until the next `groupEnd` will be foldable in this group\n *\n * @param name The name of the output group\n */\nfunction startGroup(name) {\n    (0, command_1.issue)('group', name);\n}\nexports.startGroup = startGroup;\n/**\n * End an output group.\n */\nfunction endGroup() {\n    (0, command_1.issue)('endgroup');\n}\nexports.endGroup = endGroup;\n/**\n * Wrap an asynchronous function call in a group.\n *\n * Returns the same type as the function itself.\n *\n * @param name The name of the group\n * @param fn The function to wrap in the group\n */\nfunction group(name, fn) {\n    return __awaiter(this, void 0, void 0, function* () {\n        startGroup(name);\n        let result;\n        try {\n            result = yield fn();\n        }\n        finally {\n            endGroup();\n        }\n        return result;\n    });\n}\nexports.group = group;\n//-----------------------------------------------------------------------\n// Wrapper action state\n//-----------------------------------------------------------------------\n/**\n * Saves state for current action, the state can only be retrieved by this action's post job execution.\n *\n * @param     name     name of the state to store\n * @param     value    value to store. Non-string values will be converted to a string via JSON.stringify\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction saveState(name, value) {\n    const filePath = process.env['GITHUB_STATE'] || '';\n    if (filePath) {\n        return (0, file_command_1.issueFileCommand)('STATE', (0, file_command_1.prepareKeyValueMessage)(name, value));\n    }\n    (0, command_1.issueCommand)('save-state', { name }, (0, utils_1.toCommandValue)(value));\n}\nexports.saveState = saveState;\n/**\n * Gets the value of an state set by this action's main execution.\n *\n * @param     name     name of the state to get\n * @returns   string\n */\nfunction getState(name) {\n    return process.env[`STATE_${name}`] || '';\n}\nexports.getState = getState;\nfunction getIDToken(aud) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return yield oidc_utils_1.OidcClient.getIDToken(aud);\n    });\n}\nexports.getIDToken = getIDToken;\n/**\n * Summary exports\n */\nvar summary_1 = require(\"./summary\");\nObject.defineProperty(exports, \"summary\", { enumerable: true, get: function () { return summary_1.summary; } });\n/**\n * @deprecated use core.summary\n */\nvar summary_2 = require(\"./summary\");\nObject.defineProperty(exports, \"markdownSummary\", { enumerable: true, get: function () { return summary_2.markdownSummary; } });\n/**\n * Path exports\n */\nvar path_utils_1 = require(\"./path-utils\");\nObject.defineProperty(exports, \"toPosixPath\", { enumerable: true, get: function () { return path_utils_1.toPosixPath; } });\nObject.defineProperty(exports, \"toWin32Path\", { enumerable: true, get: function () { return path_utils_1.toWin32Path; } });\nObject.defineProperty(exports, \"toPlatformPath\", { enumerable: true, get: function () { return path_utils_1.toPlatformPath; } });\n/**\n * Platform utilities exports\n */\nexports.platform = __importStar(require(\"./platform\"));\n//# sourceMappingURL=core.js.map","\"use strict\";\n// For internal use, subject to change.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.prepareKeyValueMessage = exports.issueFileCommand = void 0;\n// We use any as a valid input type\n/* eslint-disable @typescript-eslint/no-explicit-any */\nconst crypto = __importStar(require(\"crypto\"));\nconst fs = __importStar(require(\"fs\"));\nconst os = __importStar(require(\"os\"));\nconst utils_1 = require(\"./utils\");\nfunction issueFileCommand(command, message) {\n    const filePath = process.env[`GITHUB_${command}`];\n    if (!filePath) {\n        throw new Error(`Unable to find environment variable for file command ${command}`);\n    }\n    if (!fs.existsSync(filePath)) {\n        throw new Error(`Missing file at path: ${filePath}`);\n    }\n    fs.appendFileSync(filePath, `${(0, utils_1.toCommandValue)(message)}${os.EOL}`, {\n        encoding: 'utf8'\n    });\n}\nexports.issueFileCommand = issueFileCommand;\nfunction prepareKeyValueMessage(key, value) {\n    const delimiter = `ghadelimiter_${crypto.randomUUID()}`;\n    const convertedValue = (0, utils_1.toCommandValue)(value);\n    // These should realistically never happen, but just in case someone finds a\n    // way to exploit uuid generation let's not allow keys or values that contain\n    // the delimiter.\n    if (key.includes(delimiter)) {\n        throw new Error(`Unexpected input: name should not contain the delimiter \"${delimiter}\"`);\n    }\n    if (convertedValue.includes(delimiter)) {\n        throw new Error(`Unexpected input: value should not contain the delimiter \"${delimiter}\"`);\n    }\n    return `${key}<<${delimiter}${os.EOL}${convertedValue}${os.EOL}${delimiter}`;\n}\nexports.prepareKeyValueMessage = prepareKeyValueMessage;\n//# sourceMappingURL=file-command.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OidcClient = void 0;\nconst http_client_1 = require(\"@actions/http-client\");\nconst auth_1 = require(\"@actions/http-client/lib/auth\");\nconst core_1 = require(\"./core\");\nclass OidcClient {\n    static createHttpClient(allowRetry = true, maxRetry = 10) {\n        const requestOptions = {\n            allowRetries: allowRetry,\n            maxRetries: maxRetry\n        };\n        return new http_client_1.HttpClient('actions/oidc-client', [new auth_1.BearerCredentialHandler(OidcClient.getRequestToken())], requestOptions);\n    }\n    static getRequestToken() {\n        const token = process.env['ACTIONS_ID_TOKEN_REQUEST_TOKEN'];\n        if (!token) {\n            throw new Error('Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable');\n        }\n        return token;\n    }\n    static getIDTokenUrl() {\n        const runtimeUrl = process.env['ACTIONS_ID_TOKEN_REQUEST_URL'];\n        if (!runtimeUrl) {\n            throw new Error('Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable');\n        }\n        return runtimeUrl;\n    }\n    static getCall(id_token_url) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const httpclient = OidcClient.createHttpClient();\n            const res = yield httpclient\n                .getJson(id_token_url)\n                .catch(error => {\n                throw new Error(`Failed to get ID Token. \\n \n        Error Code : ${error.statusCode}\\n \n        Error Message: ${error.message}`);\n            });\n            const id_token = (_a = res.result) === null || _a === void 0 ? void 0 : _a.value;\n            if (!id_token) {\n                throw new Error('Response json body do not have ID Token field');\n            }\n            return id_token;\n        });\n    }\n    static getIDToken(audience) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                // New ID Token is requested from action service\n                let id_token_url = OidcClient.getIDTokenUrl();\n                if (audience) {\n                    const encodedAudience = encodeURIComponent(audience);\n                    id_token_url = `${id_token_url}&audience=${encodedAudience}`;\n                }\n                (0, core_1.debug)(`ID token url is ${id_token_url}`);\n                const id_token = yield OidcClient.getCall(id_token_url);\n                (0, core_1.setSecret)(id_token);\n                return id_token;\n            }\n            catch (error) {\n                throw new Error(`Error message: ${error.message}`);\n            }\n        });\n    }\n}\nexports.OidcClient = OidcClient;\n//# sourceMappingURL=oidc-utils.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toPlatformPath = exports.toWin32Path = exports.toPosixPath = void 0;\nconst path = __importStar(require(\"path\"));\n/**\n * toPosixPath converts the given path to the posix form. On Windows, \\\\ will be\n * replaced with /.\n *\n * @param pth. Path to transform.\n * @return string Posix path.\n */\nfunction toPosixPath(pth) {\n    return pth.replace(/[\\\\]/g, '/');\n}\nexports.toPosixPath = toPosixPath;\n/**\n * toWin32Path converts the given path to the win32 form. On Linux, / will be\n * replaced with \\\\.\n *\n * @param pth. Path to transform.\n * @return string Win32 path.\n */\nfunction toWin32Path(pth) {\n    return pth.replace(/[/]/g, '\\\\');\n}\nexports.toWin32Path = toWin32Path;\n/**\n * toPlatformPath converts the given path to a platform-specific path. It does\n * this by replacing instances of / and \\ with the platform-specific path\n * separator.\n *\n * @param pth The path to platformize.\n * @return string The platform-specific path.\n */\nfunction toPlatformPath(pth) {\n    return pth.replace(/[/\\\\]/g, path.sep);\n}\nexports.toPlatformPath = toPlatformPath;\n//# sourceMappingURL=path-utils.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getDetails = exports.isLinux = exports.isMacOS = exports.isWindows = exports.arch = exports.platform = void 0;\nconst os_1 = __importDefault(require(\"os\"));\nconst exec = __importStar(require(\"@actions/exec\"));\nconst getWindowsInfo = () => __awaiter(void 0, void 0, void 0, function* () {\n    const { stdout: version } = yield exec.getExecOutput('powershell -command \"(Get-CimInstance -ClassName Win32_OperatingSystem).Version\"', undefined, {\n        silent: true\n    });\n    const { stdout: name } = yield exec.getExecOutput('powershell -command \"(Get-CimInstance -ClassName Win32_OperatingSystem).Caption\"', undefined, {\n        silent: true\n    });\n    return {\n        name: name.trim(),\n        version: version.trim()\n    };\n});\nconst getMacOsInfo = () => __awaiter(void 0, void 0, void 0, function* () {\n    var _a, _b, _c, _d;\n    const { stdout } = yield exec.getExecOutput('sw_vers', undefined, {\n        silent: true\n    });\n    const version = (_b = (_a = stdout.match(/ProductVersion:\\s*(.+)/)) === null || _a === void 0 ? void 0 : _a[1]) !== null && _b !== void 0 ? _b : '';\n    const name = (_d = (_c = stdout.match(/ProductName:\\s*(.+)/)) === null || _c === void 0 ? void 0 : _c[1]) !== null && _d !== void 0 ? _d : '';\n    return {\n        name,\n        version\n    };\n});\nconst getLinuxInfo = () => __awaiter(void 0, void 0, void 0, function* () {\n    const { stdout } = yield exec.getExecOutput('lsb_release', ['-i', '-r', '-s'], {\n        silent: true\n    });\n    const [name, version] = stdout.trim().split('\\n');\n    return {\n        name,\n        version\n    };\n});\nexports.platform = os_1.default.platform();\nexports.arch = os_1.default.arch();\nexports.isWindows = exports.platform === 'win32';\nexports.isMacOS = exports.platform === 'darwin';\nexports.isLinux = exports.platform === 'linux';\nfunction getDetails() {\n    return __awaiter(this, void 0, void 0, function* () {\n        return Object.assign(Object.assign({}, (yield (exports.isWindows\n            ? getWindowsInfo()\n            : exports.isMacOS\n                ? getMacOsInfo()\n                : getLinuxInfo()))), { platform: exports.platform,\n            arch: exports.arch,\n            isWindows: exports.isWindows,\n            isMacOS: exports.isMacOS,\n            isLinux: exports.isLinux });\n    });\n}\nexports.getDetails = getDetails;\n//# sourceMappingURL=platform.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.summary = exports.markdownSummary = exports.SUMMARY_DOCS_URL = exports.SUMMARY_ENV_VAR = void 0;\nconst os_1 = require(\"os\");\nconst fs_1 = require(\"fs\");\nconst { access, appendFile, writeFile } = fs_1.promises;\nexports.SUMMARY_ENV_VAR = 'GITHUB_STEP_SUMMARY';\nexports.SUMMARY_DOCS_URL = 'https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary';\nclass Summary {\n    constructor() {\n        this._buffer = '';\n    }\n    /**\n     * Finds the summary file path from the environment, rejects if env var is not found or file does not exist\n     * Also checks r/w permissions.\n     *\n     * @returns step summary file path\n     */\n    filePath() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._filePath) {\n                return this._filePath;\n            }\n            const pathFromEnv = process.env[exports.SUMMARY_ENV_VAR];\n            if (!pathFromEnv) {\n                throw new Error(`Unable to find environment variable for $${exports.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);\n            }\n            try {\n                yield access(pathFromEnv, fs_1.constants.R_OK | fs_1.constants.W_OK);\n            }\n            catch (_a) {\n                throw new Error(`Unable to access summary file: '${pathFromEnv}'. Check if the file has correct read/write permissions.`);\n            }\n            this._filePath = pathFromEnv;\n            return this._filePath;\n        });\n    }\n    /**\n     * Wraps content in an HTML tag, adding any HTML attributes\n     *\n     * @param {string} tag HTML tag to wrap\n     * @param {string | null} content content within the tag\n     * @param {[attribute: string]: string} attrs key-value list of HTML attributes to add\n     *\n     * @returns {string} content wrapped in HTML element\n     */\n    wrap(tag, content, attrs = {}) {\n        const htmlAttrs = Object.entries(attrs)\n            .map(([key, value]) => ` ${key}=\"${value}\"`)\n            .join('');\n        if (!content) {\n            return `<${tag}${htmlAttrs}>`;\n        }\n        return `<${tag}${htmlAttrs}>${content}</${tag}>`;\n    }\n    /**\n     * Writes text in the buffer to the summary buffer file and empties buffer. Will append by default.\n     *\n     * @param {SummaryWriteOptions} [options] (optional) options for write operation\n     *\n     * @returns {Promise<Summary>} summary instance\n     */\n    write(options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const overwrite = !!(options === null || options === void 0 ? void 0 : options.overwrite);\n            const filePath = yield this.filePath();\n            const writeFunc = overwrite ? writeFile : appendFile;\n            yield writeFunc(filePath, this._buffer, { encoding: 'utf8' });\n            return this.emptyBuffer();\n        });\n    }\n    /**\n     * Clears the summary buffer and wipes the summary file\n     *\n     * @returns {Summary} summary instance\n     */\n    clear() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.emptyBuffer().write({ overwrite: true });\n        });\n    }\n    /**\n     * Returns the current summary buffer as a string\n     *\n     * @returns {string} string of summary buffer\n     */\n    stringify() {\n        return this._buffer;\n    }\n    /**\n     * If the summary buffer is empty\n     *\n     * @returns {boolen} true if the buffer is empty\n     */\n    isEmptyBuffer() {\n        return this._buffer.length === 0;\n    }\n    /**\n     * Resets the summary buffer without writing to summary file\n     *\n     * @returns {Summary} summary instance\n     */\n    emptyBuffer() {\n        this._buffer = '';\n        return this;\n    }\n    /**\n     * Adds raw text to the summary buffer\n     *\n     * @param {string} text content to add\n     * @param {boolean} [addEOL=false] (optional) append an EOL to the raw text (default: false)\n     *\n     * @returns {Summary} summary instance\n     */\n    addRaw(text, addEOL = false) {\n        this._buffer += text;\n        return addEOL ? this.addEOL() : this;\n    }\n    /**\n     * Adds the operating system-specific end-of-line marker to the buffer\n     *\n     * @returns {Summary} summary instance\n     */\n    addEOL() {\n        return this.addRaw(os_1.EOL);\n    }\n    /**\n     * Adds an HTML codeblock to the summary buffer\n     *\n     * @param {string} code content to render within fenced code block\n     * @param {string} lang (optional) language to syntax highlight code\n     *\n     * @returns {Summary} summary instance\n     */\n    addCodeBlock(code, lang) {\n        const attrs = Object.assign({}, (lang && { lang }));\n        const element = this.wrap('pre', this.wrap('code', code), attrs);\n        return this.addRaw(element).addEOL();\n    }\n    /**\n     * Adds an HTML list to the summary buffer\n     *\n     * @param {string[]} items list of items to render\n     * @param {boolean} [ordered=false] (optional) if the rendered list should be ordered or not (default: false)\n     *\n     * @returns {Summary} summary instance\n     */\n    addList(items, ordered = false) {\n        const tag = ordered ? 'ol' : 'ul';\n        const listItems = items.map(item => this.wrap('li', item)).join('');\n        const element = this.wrap(tag, listItems);\n        return this.addRaw(element).addEOL();\n    }\n    /**\n     * Adds an HTML table to the summary buffer\n     *\n     * @param {SummaryTableCell[]} rows table rows\n     *\n     * @returns {Summary} summary instance\n     */\n    addTable(rows) {\n        const tableBody = rows\n            .map(row => {\n            const cells = row\n                .map(cell => {\n                if (typeof cell === 'string') {\n                    return this.wrap('td', cell);\n                }\n                const { header, data, colspan, rowspan } = cell;\n                const tag = header ? 'th' : 'td';\n                const attrs = Object.assign(Object.assign({}, (colspan && { colspan })), (rowspan && { rowspan }));\n                return this.wrap(tag, data, attrs);\n            })\n                .join('');\n            return this.wrap('tr', cells);\n        })\n            .join('');\n        const element = this.wrap('table', tableBody);\n        return this.addRaw(element).addEOL();\n    }\n    /**\n     * Adds a collapsable HTML details element to the summary buffer\n     *\n     * @param {string} label text for the closed state\n     * @param {string} content collapsable content\n     *\n     * @returns {Summary} summary instance\n     */\n    addDetails(label, content) {\n        const element = this.wrap('details', this.wrap('summary', label) + content);\n        return this.addRaw(element).addEOL();\n    }\n    /**\n     * Adds an HTML image tag to the summary buffer\n     *\n     * @param {string} src path to the image you to embed\n     * @param {string} alt text description of the image\n     * @param {SummaryImageOptions} options (optional) addition image attributes\n     *\n     * @returns {Summary} summary instance\n     */\n    addImage(src, alt, options) {\n        const { width, height } = options || {};\n        const attrs = Object.assign(Object.assign({}, (width && { width })), (height && { height }));\n        const element = this.wrap('img', null, Object.assign({ src, alt }, attrs));\n        return this.addRaw(element).addEOL();\n    }\n    /**\n     * Adds an HTML section heading element\n     *\n     * @param {string} text heading text\n     * @param {number | string} [level=1] (optional) the heading level, default: 1\n     *\n     * @returns {Summary} summary instance\n     */\n    addHeading(text, level) {\n        const tag = `h${level}`;\n        const allowedTag = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'].includes(tag)\n            ? tag\n            : 'h1';\n        const element = this.wrap(allowedTag, text);\n        return this.addRaw(element).addEOL();\n    }\n    /**\n     * Adds an HTML thematic break (<hr>) to the summary buffer\n     *\n     * @returns {Summary} summary instance\n     */\n    addSeparator() {\n        const element = this.wrap('hr', null);\n        return this.addRaw(element).addEOL();\n    }\n    /**\n     * Adds an HTML line break (<br>) to the summary buffer\n     *\n     * @returns {Summary} summary instance\n     */\n    addBreak() {\n        const element = this.wrap('br', null);\n        return this.addRaw(element).addEOL();\n    }\n    /**\n     * Adds an HTML blockquote to the summary buffer\n     *\n     * @param {string} text quote text\n     * @param {string} cite (optional) citation url\n     *\n     * @returns {Summary} summary instance\n     */\n    addQuote(text, cite) {\n        const attrs = Object.assign({}, (cite && { cite }));\n        const element = this.wrap('blockquote', text, attrs);\n        return this.addRaw(element).addEOL();\n    }\n    /**\n     * Adds an HTML anchor tag to the summary buffer\n     *\n     * @param {string} text link text/content\n     * @param {string} href hyperlink\n     *\n     * @returns {Summary} summary instance\n     */\n    addLink(text, href) {\n        const element = this.wrap('a', text, { href });\n        return this.addRaw(element).addEOL();\n    }\n}\nconst _summary = new Summary();\n/**\n * @deprecated use `core.summary`\n */\nexports.markdownSummary = _summary;\nexports.summary = _summary;\n//# sourceMappingURL=summary.js.map","\"use strict\";\n// We use any as a valid input type\n/* eslint-disable @typescript-eslint/no-explicit-any */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toCommandProperties = exports.toCommandValue = void 0;\n/**\n * Sanitizes an input into a string so it can be passed into issueCommand safely\n * @param input input to sanitize into a string\n */\nfunction toCommandValue(input) {\n    if (input === null || input === undefined) {\n        return '';\n    }\n    else if (typeof input === 'string' || input instanceof String) {\n        return input;\n    }\n    return JSON.stringify(input);\n}\nexports.toCommandValue = toCommandValue;\n/**\n *\n * @param annotationProperties\n * @returns The command properties to send with the actual annotation command\n * See IssueCommandProperties: https://github.com/actions/runner/blob/main/src/Runner.Worker/ActionCommandManager.cs#L646\n */\nfunction toCommandProperties(annotationProperties) {\n    if (!Object.keys(annotationProperties).length) {\n        return {};\n    }\n    return {\n        title: annotationProperties.title,\n        file: annotationProperties.file,\n        line: annotationProperties.startLine,\n        endLine: annotationProperties.endLine,\n        col: annotationProperties.startColumn,\n        endColumn: annotationProperties.endColumn\n    };\n}\nexports.toCommandProperties = toCommandProperties;\n//# sourceMappingURL=utils.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getExecOutput = exports.exec = void 0;\nconst string_decoder_1 = require(\"string_decoder\");\nconst tr = __importStar(require(\"./toolrunner\"));\n/**\n * Exec a command.\n * Output will be streamed to the live console.\n * Returns promise with return code\n *\n * @param     commandLine        command to execute (can include additional args). Must be correctly escaped.\n * @param     args               optional arguments for tool. Escaping is handled by the lib.\n * @param     options            optional exec options.  See ExecOptions\n * @returns   Promise<number>    exit code\n */\nfunction exec(commandLine, args, options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const commandArgs = tr.argStringToArray(commandLine);\n        if (commandArgs.length === 0) {\n            throw new Error(`Parameter 'commandLine' cannot be null or empty.`);\n        }\n        // Path to tool to execute should be first arg\n        const toolPath = commandArgs[0];\n        args = commandArgs.slice(1).concat(args || []);\n        const runner = new tr.ToolRunner(toolPath, args, options);\n        return runner.exec();\n    });\n}\nexports.exec = exec;\n/**\n * Exec a command and get the output.\n * Output will be streamed to the live console.\n * Returns promise with the exit code and collected stdout and stderr\n *\n * @param     commandLine           command to execute (can include additional args). Must be correctly escaped.\n * @param     args                  optional arguments for tool. Escaping is handled by the lib.\n * @param     options               optional exec options.  See ExecOptions\n * @returns   Promise<ExecOutput>   exit code, stdout, and stderr\n */\nfunction getExecOutput(commandLine, args, options) {\n    var _a, _b;\n    return __awaiter(this, void 0, void 0, function* () {\n        let stdout = '';\n        let stderr = '';\n        //Using string decoder covers the case where a mult-byte character is split\n        const stdoutDecoder = new string_decoder_1.StringDecoder('utf8');\n        const stderrDecoder = new string_decoder_1.StringDecoder('utf8');\n        const originalStdoutListener = (_a = options === null || options === void 0 ? void 0 : options.listeners) === null || _a === void 0 ? void 0 : _a.stdout;\n        const originalStdErrListener = (_b = options === null || options === void 0 ? void 0 : options.listeners) === null || _b === void 0 ? void 0 : _b.stderr;\n        const stdErrListener = (data) => {\n            stderr += stderrDecoder.write(data);\n            if (originalStdErrListener) {\n                originalStdErrListener(data);\n            }\n        };\n        const stdOutListener = (data) => {\n            stdout += stdoutDecoder.write(data);\n            if (originalStdoutListener) {\n                originalStdoutListener(data);\n            }\n        };\n        const listeners = Object.assign(Object.assign({}, options === null || options === void 0 ? void 0 : options.listeners), { stdout: stdOutListener, stderr: stdErrListener });\n        const exitCode = yield exec(commandLine, args, Object.assign(Object.assign({}, options), { listeners }));\n        //flush any remaining characters\n        stdout += stdoutDecoder.end();\n        stderr += stderrDecoder.end();\n        return {\n            exitCode,\n            stdout,\n            stderr\n        };\n    });\n}\nexports.getExecOutput = getExecOutput;\n//# sourceMappingURL=exec.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.argStringToArray = exports.ToolRunner = void 0;\nconst os = __importStar(require(\"os\"));\nconst events = __importStar(require(\"events\"));\nconst child = __importStar(require(\"child_process\"));\nconst path = __importStar(require(\"path\"));\nconst io = __importStar(require(\"@actions/io\"));\nconst ioUtil = __importStar(require(\"@actions/io/lib/io-util\"));\nconst timers_1 = require(\"timers\");\n/* eslint-disable @typescript-eslint/unbound-method */\nconst IS_WINDOWS = process.platform === 'win32';\n/*\n * Class for running command line tools. Handles quoting and arg parsing in a platform agnostic way.\n */\nclass ToolRunner extends events.EventEmitter {\n    constructor(toolPath, args, options) {\n        super();\n        if (!toolPath) {\n            throw new Error(\"Parameter 'toolPath' cannot be null or empty.\");\n        }\n        this.toolPath = toolPath;\n        this.args = args || [];\n        this.options = options || {};\n    }\n    _debug(message) {\n        if (this.options.listeners && this.options.listeners.debug) {\n            this.options.listeners.debug(message);\n        }\n    }\n    _getCommandString(options, noPrefix) {\n        const toolPath = this._getSpawnFileName();\n        const args = this._getSpawnArgs(options);\n        let cmd = noPrefix ? '' : '[command]'; // omit prefix when piped to a second tool\n        if (IS_WINDOWS) {\n            // Windows + cmd file\n            if (this._isCmdFile()) {\n                cmd += toolPath;\n                for (const a of args) {\n                    cmd += ` ${a}`;\n                }\n            }\n            // Windows + verbatim\n            else if (options.windowsVerbatimArguments) {\n                cmd += `\"${toolPath}\"`;\n                for (const a of args) {\n                    cmd += ` ${a}`;\n                }\n            }\n            // Windows (regular)\n            else {\n                cmd += this._windowsQuoteCmdArg(toolPath);\n                for (const a of args) {\n                    cmd += ` ${this._windowsQuoteCmdArg(a)}`;\n                }\n            }\n        }\n        else {\n            // OSX/Linux - this can likely be improved with some form of quoting.\n            // creating processes on Unix is fundamentally different than Windows.\n            // on Unix, execvp() takes an arg array.\n            cmd += toolPath;\n            for (const a of args) {\n                cmd += ` ${a}`;\n            }\n        }\n        return cmd;\n    }\n    _processLineBuffer(data, strBuffer, onLine) {\n        try {\n            let s = strBuffer + data.toString();\n            let n = s.indexOf(os.EOL);\n            while (n > -1) {\n                const line = s.substring(0, n);\n                onLine(line);\n                // the rest of the string ...\n                s = s.substring(n + os.EOL.length);\n                n = s.indexOf(os.EOL);\n            }\n            return s;\n        }\n        catch (err) {\n            // streaming lines to console is best effort.  Don't fail a build.\n            this._debug(`error processing line. Failed with error ${err}`);\n            return '';\n        }\n    }\n    _getSpawnFileName() {\n        if (IS_WINDOWS) {\n            if (this._isCmdFile()) {\n                return process.env['COMSPEC'] || 'cmd.exe';\n            }\n        }\n        return this.toolPath;\n    }\n    _getSpawnArgs(options) {\n        if (IS_WINDOWS) {\n            if (this._isCmdFile()) {\n                let argline = `/D /S /C \"${this._windowsQuoteCmdArg(this.toolPath)}`;\n                for (const a of this.args) {\n                    argline += ' ';\n                    argline += options.windowsVerbatimArguments\n                        ? a\n                        : this._windowsQuoteCmdArg(a);\n                }\n                argline += '\"';\n                return [argline];\n            }\n        }\n        return this.args;\n    }\n    _endsWith(str, end) {\n        return str.endsWith(end);\n    }\n    _isCmdFile() {\n        const upperToolPath = this.toolPath.toUpperCase();\n        return (this._endsWith(upperToolPath, '.CMD') ||\n            this._endsWith(upperToolPath, '.BAT'));\n    }\n    _windowsQuoteCmdArg(arg) {\n        // for .exe, apply the normal quoting rules that libuv applies\n        if (!this._isCmdFile()) {\n            return this._uvQuoteCmdArg(arg);\n        }\n        // otherwise apply quoting rules specific to the cmd.exe command line parser.\n        // the libuv rules are generic and are not designed specifically for cmd.exe\n        // command line parser.\n        //\n        // for a detailed description of the cmd.exe command line parser, refer to\n        // http://stackoverflow.com/questions/4094699/how-does-the-windows-command-interpreter-cmd-exe-parse-scripts/7970912#7970912\n        // need quotes for empty arg\n        if (!arg) {\n            return '\"\"';\n        }\n        // determine whether the arg needs to be quoted\n        const cmdSpecialChars = [\n            ' ',\n            '\\t',\n            '&',\n            '(',\n            ')',\n            '[',\n            ']',\n            '{',\n            '}',\n            '^',\n            '=',\n            ';',\n            '!',\n            \"'\",\n            '+',\n            ',',\n            '`',\n            '~',\n            '|',\n            '<',\n            '>',\n            '\"'\n        ];\n        let needsQuotes = false;\n        for (const char of arg) {\n            if (cmdSpecialChars.some(x => x === char)) {\n                needsQuotes = true;\n                break;\n            }\n        }\n        // short-circuit if quotes not needed\n        if (!needsQuotes) {\n            return arg;\n        }\n        // the following quoting rules are very similar to the rules that by libuv applies.\n        //\n        // 1) wrap the string in quotes\n        //\n        // 2) double-up quotes - i.e. \" => \"\"\n        //\n        //    this is different from the libuv quoting rules. libuv replaces \" with \\\", which unfortunately\n        //    doesn't work well with a cmd.exe command line.\n        //\n        //    note, replacing \" with \"\" also works well if the arg is passed to a downstream .NET console app.\n        //    for example, the command line:\n        //          foo.exe \"myarg:\"\"my val\"\"\"\n        //    is parsed by a .NET console app into an arg array:\n        //          [ \"myarg:\\\"my val\\\"\" ]\n        //    which is the same end result when applying libuv quoting rules. although the actual\n        //    command line from libuv quoting rules would look like:\n        //          foo.exe \"myarg:\\\"my val\\\"\"\n        //\n        // 3) double-up slashes that precede a quote,\n        //    e.g.  hello \\world    => \"hello \\world\"\n        //          hello\\\"world    => \"hello\\\\\"\"world\"\n        //          hello\\\\\"world   => \"hello\\\\\\\\\"\"world\"\n        //          hello world\\    => \"hello world\\\\\"\n        //\n        //    technically this is not required for a cmd.exe command line, or the batch argument parser.\n        //    the reasons for including this as a .cmd quoting rule are:\n        //\n        //    a) this is optimized for the scenario where the argument is passed from the .cmd file to an\n        //       external program. many programs (e.g. .NET console apps) rely on the slash-doubling rule.\n        //\n        //    b) it's what we've been doing previously (by deferring to node default behavior) and we\n        //       haven't heard any complaints about that aspect.\n        //\n        // note, a weakness of the quoting rules chosen here, is that % is not escaped. in fact, % cannot be\n        // escaped when used on the command line directly - even though within a .cmd file % can be escaped\n        // by using %%.\n        //\n        // the saving grace is, on the command line, %var% is left as-is if var is not defined. this contrasts\n        // the line parsing rules within a .cmd file, where if var is not defined it is replaced with nothing.\n        //\n        // one option that was explored was replacing % with ^% - i.e. %var% => ^%var^%. this hack would\n        // often work, since it is unlikely that var^ would exist, and the ^ character is removed when the\n        // variable is used. the problem, however, is that ^ is not removed when %* is used to pass the args\n        // to an external program.\n        //\n        // an unexplored potential solution for the % escaping problem, is to create a wrapper .cmd file.\n        // % can be escaped within a .cmd file.\n        let reverse = '\"';\n        let quoteHit = true;\n        for (let i = arg.length; i > 0; i--) {\n            // walk the string in reverse\n            reverse += arg[i - 1];\n            if (quoteHit && arg[i - 1] === '\\\\') {\n                reverse += '\\\\'; // double the slash\n            }\n            else if (arg[i - 1] === '\"') {\n                quoteHit = true;\n                reverse += '\"'; // double the quote\n            }\n            else {\n                quoteHit = false;\n            }\n        }\n        reverse += '\"';\n        return reverse\n            .split('')\n            .reverse()\n            .join('');\n    }\n    _uvQuoteCmdArg(arg) {\n        // Tool runner wraps child_process.spawn() and needs to apply the same quoting as\n        // Node in certain cases where the undocumented spawn option windowsVerbatimArguments\n        // is used.\n        //\n        // Since this function is a port of quote_cmd_arg from Node 4.x (technically, lib UV,\n        // see https://github.com/nodejs/node/blob/v4.x/deps/uv/src/win/process.c for details),\n        // pasting copyright notice from Node within this function:\n        //\n        //      Copyright Joyent, Inc. and other Node contributors. All rights reserved.\n        //\n        //      Permission is hereby granted, free of charge, to any person obtaining a copy\n        //      of this software and associated documentation files (the \"Software\"), to\n        //      deal in the Software without restriction, including without limitation the\n        //      rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n        //      sell copies of the Software, and to permit persons to whom the Software is\n        //      furnished to do so, subject to the following conditions:\n        //\n        //      The above copyright notice and this permission notice shall be included in\n        //      all copies or substantial portions of the Software.\n        //\n        //      THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n        //      IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n        //      FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n        //      AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n        //      LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n        //      FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n        //      IN THE SOFTWARE.\n        if (!arg) {\n            // Need double quotation for empty argument\n            return '\"\"';\n        }\n        if (!arg.includes(' ') && !arg.includes('\\t') && !arg.includes('\"')) {\n            // No quotation needed\n            return arg;\n        }\n        if (!arg.includes('\"') && !arg.includes('\\\\')) {\n            // No embedded double quotes or backslashes, so I can just wrap\n            // quote marks around the whole thing.\n            return `\"${arg}\"`;\n        }\n        // Expected input/output:\n        //   input : hello\"world\n        //   output: \"hello\\\"world\"\n        //   input : hello\"\"world\n        //   output: \"hello\\\"\\\"world\"\n        //   input : hello\\world\n        //   output: hello\\world\n        //   input : hello\\\\world\n        //   output: hello\\\\world\n        //   input : hello\\\"world\n        //   output: \"hello\\\\\\\"world\"\n        //   input : hello\\\\\"world\n        //   output: \"hello\\\\\\\\\\\"world\"\n        //   input : hello world\\\n        //   output: \"hello world\\\\\" - note the comment in libuv actually reads \"hello world\\\"\n        //                             but it appears the comment is wrong, it should be \"hello world\\\\\"\n        let reverse = '\"';\n        let quoteHit = true;\n        for (let i = arg.length; i > 0; i--) {\n            // walk the string in reverse\n            reverse += arg[i - 1];\n            if (quoteHit && arg[i - 1] === '\\\\') {\n                reverse += '\\\\';\n            }\n            else if (arg[i - 1] === '\"') {\n                quoteHit = true;\n                reverse += '\\\\';\n            }\n            else {\n                quoteHit = false;\n            }\n        }\n        reverse += '\"';\n        return reverse\n            .split('')\n            .reverse()\n            .join('');\n    }\n    _cloneExecOptions(options) {\n        options = options || {};\n        const result = {\n            cwd: options.cwd || process.cwd(),\n            env: options.env || process.env,\n            silent: options.silent || false,\n            windowsVerbatimArguments: options.windowsVerbatimArguments || false,\n            failOnStdErr: options.failOnStdErr || false,\n            ignoreReturnCode: options.ignoreReturnCode || false,\n            delay: options.delay || 10000\n        };\n        result.outStream = options.outStream || process.stdout;\n        result.errStream = options.errStream || process.stderr;\n        return result;\n    }\n    _getSpawnOptions(options, toolPath) {\n        options = options || {};\n        const result = {};\n        result.cwd = options.cwd;\n        result.env = options.env;\n        result['windowsVerbatimArguments'] =\n            options.windowsVerbatimArguments || this._isCmdFile();\n        if (options.windowsVerbatimArguments) {\n            result.argv0 = `\"${toolPath}\"`;\n        }\n        return result;\n    }\n    /**\n     * Exec a tool.\n     * Output will be streamed to the live console.\n     * Returns promise with return code\n     *\n     * @param     tool     path to tool to exec\n     * @param     options  optional exec options.  See ExecOptions\n     * @returns   number\n     */\n    exec() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // root the tool path if it is unrooted and contains relative pathing\n            if (!ioUtil.isRooted(this.toolPath) &&\n                (this.toolPath.includes('/') ||\n                    (IS_WINDOWS && this.toolPath.includes('\\\\')))) {\n                // prefer options.cwd if it is specified, however options.cwd may also need to be rooted\n                this.toolPath = path.resolve(process.cwd(), this.options.cwd || process.cwd(), this.toolPath);\n            }\n            // if the tool is only a file name, then resolve it from the PATH\n            // otherwise verify it exists (add extension on Windows if necessary)\n            this.toolPath = yield io.which(this.toolPath, true);\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                this._debug(`exec tool: ${this.toolPath}`);\n                this._debug('arguments:');\n                for (const arg of this.args) {\n                    this._debug(`   ${arg}`);\n                }\n                const optionsNonNull = this._cloneExecOptions(this.options);\n                if (!optionsNonNull.silent && optionsNonNull.outStream) {\n                    optionsNonNull.outStream.write(this._getCommandString(optionsNonNull) + os.EOL);\n                }\n                const state = new ExecState(optionsNonNull, this.toolPath);\n                state.on('debug', (message) => {\n                    this._debug(message);\n                });\n                if (this.options.cwd && !(yield ioUtil.exists(this.options.cwd))) {\n                    return reject(new Error(`The cwd: ${this.options.cwd} does not exist!`));\n                }\n                const fileName = this._getSpawnFileName();\n                const cp = child.spawn(fileName, this._getSpawnArgs(optionsNonNull), this._getSpawnOptions(this.options, fileName));\n                let stdbuffer = '';\n                if (cp.stdout) {\n                    cp.stdout.on('data', (data) => {\n                        if (this.options.listeners && this.options.listeners.stdout) {\n                            this.options.listeners.stdout(data);\n                        }\n                        if (!optionsNonNull.silent && optionsNonNull.outStream) {\n                            optionsNonNull.outStream.write(data);\n                        }\n                        stdbuffer = this._processLineBuffer(data, stdbuffer, (line) => {\n                            if (this.options.listeners && this.options.listeners.stdline) {\n                                this.options.listeners.stdline(line);\n                            }\n                        });\n                    });\n                }\n                let errbuffer = '';\n                if (cp.stderr) {\n                    cp.stderr.on('data', (data) => {\n                        state.processStderr = true;\n                        if (this.options.listeners && this.options.listeners.stderr) {\n                            this.options.listeners.stderr(data);\n                        }\n                        if (!optionsNonNull.silent &&\n                            optionsNonNull.errStream &&\n                            optionsNonNull.outStream) {\n                            const s = optionsNonNull.failOnStdErr\n                                ? optionsNonNull.errStream\n                                : optionsNonNull.outStream;\n                            s.write(data);\n                        }\n                        errbuffer = this._processLineBuffer(data, errbuffer, (line) => {\n                            if (this.options.listeners && this.options.listeners.errline) {\n                                this.options.listeners.errline(line);\n                            }\n                        });\n                    });\n                }\n                cp.on('error', (err) => {\n                    state.processError = err.message;\n                    state.processExited = true;\n                    state.processClosed = true;\n                    state.CheckComplete();\n                });\n                cp.on('exit', (code) => {\n                    state.processExitCode = code;\n                    state.processExited = true;\n                    this._debug(`Exit code ${code} received from tool '${this.toolPath}'`);\n                    state.CheckComplete();\n                });\n                cp.on('close', (code) => {\n                    state.processExitCode = code;\n                    state.processExited = true;\n                    state.processClosed = true;\n                    this._debug(`STDIO streams have closed for tool '${this.toolPath}'`);\n                    state.CheckComplete();\n                });\n                state.on('done', (error, exitCode) => {\n                    if (stdbuffer.length > 0) {\n                        this.emit('stdline', stdbuffer);\n                    }\n                    if (errbuffer.length > 0) {\n                        this.emit('errline', errbuffer);\n                    }\n                    cp.removeAllListeners();\n                    if (error) {\n                        reject(error);\n                    }\n                    else {\n                        resolve(exitCode);\n                    }\n                });\n                if (this.options.input) {\n                    if (!cp.stdin) {\n                        throw new Error('child process missing stdin');\n                    }\n                    cp.stdin.end(this.options.input);\n                }\n            }));\n        });\n    }\n}\nexports.ToolRunner = ToolRunner;\n/**\n * Convert an arg string to an array of args. Handles escaping\n *\n * @param    argString   string of arguments\n * @returns  string[]    array of arguments\n */\nfunction argStringToArray(argString) {\n    const args = [];\n    let inQuotes = false;\n    let escaped = false;\n    let arg = '';\n    function append(c) {\n        // we only escape double quotes.\n        if (escaped && c !== '\"') {\n            arg += '\\\\';\n        }\n        arg += c;\n        escaped = false;\n    }\n    for (let i = 0; i < argString.length; i++) {\n        const c = argString.charAt(i);\n        if (c === '\"') {\n            if (!escaped) {\n                inQuotes = !inQuotes;\n            }\n            else {\n                append(c);\n            }\n            continue;\n        }\n        if (c === '\\\\' && escaped) {\n            append(c);\n            continue;\n        }\n        if (c === '\\\\' && inQuotes) {\n            escaped = true;\n            continue;\n        }\n        if (c === ' ' && !inQuotes) {\n            if (arg.length > 0) {\n                args.push(arg);\n                arg = '';\n            }\n            continue;\n        }\n        append(c);\n    }\n    if (arg.length > 0) {\n        args.push(arg.trim());\n    }\n    return args;\n}\nexports.argStringToArray = argStringToArray;\nclass ExecState extends events.EventEmitter {\n    constructor(options, toolPath) {\n        super();\n        this.processClosed = false; // tracks whether the process has exited and stdio is closed\n        this.processError = '';\n        this.processExitCode = 0;\n        this.processExited = false; // tracks whether the process has exited\n        this.processStderr = false; // tracks whether stderr was written to\n        this.delay = 10000; // 10 seconds\n        this.done = false;\n        this.timeout = null;\n        if (!toolPath) {\n            throw new Error('toolPath must not be empty');\n        }\n        this.options = options;\n        this.toolPath = toolPath;\n        if (options.delay) {\n            this.delay = options.delay;\n        }\n    }\n    CheckComplete() {\n        if (this.done) {\n            return;\n        }\n        if (this.processClosed) {\n            this._setResult();\n        }\n        else if (this.processExited) {\n            this.timeout = timers_1.setTimeout(ExecState.HandleTimeout, this.delay, this);\n        }\n    }\n    _debug(message) {\n        this.emit('debug', message);\n    }\n    _setResult() {\n        // determine whether there is an error\n        let error;\n        if (this.processExited) {\n            if (this.processError) {\n                error = new Error(`There was an error when attempting to execute the process '${this.toolPath}'. This may indicate the process failed to start. Error: ${this.processError}`);\n            }\n            else if (this.processExitCode !== 0 && !this.options.ignoreReturnCode) {\n                error = new Error(`The process '${this.toolPath}' failed with exit code ${this.processExitCode}`);\n            }\n            else if (this.processStderr && this.options.failOnStdErr) {\n                error = new Error(`The process '${this.toolPath}' failed because one or more lines were written to the STDERR stream`);\n            }\n        }\n        // clear the timeout\n        if (this.timeout) {\n            clearTimeout(this.timeout);\n            this.timeout = null;\n        }\n        this.done = true;\n        this.emit('done', error, this.processExitCode);\n    }\n    static HandleTimeout(state) {\n        if (state.done) {\n            return;\n        }\n        if (!state.processClosed && state.processExited) {\n            const message = `The STDIO streams did not close within ${state.delay /\n                1000} seconds of the exit event from process '${state.toolPath}'. This may indicate a child process inherited the STDIO streams and has not yet exited.`;\n            state._debug(message);\n        }\n        state._setResult();\n    }\n}\n//# sourceMappingURL=toolrunner.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PersonalAccessTokenCredentialHandler = exports.BearerCredentialHandler = exports.BasicCredentialHandler = void 0;\nclass BasicCredentialHandler {\n    constructor(username, password) {\n        this.username = username;\n        this.password = password;\n    }\n    prepareRequest(options) {\n        if (!options.headers) {\n            throw Error('The request has no headers');\n        }\n        options.headers['Authorization'] = `Basic ${Buffer.from(`${this.username}:${this.password}`).toString('base64')}`;\n    }\n    // This handler cannot handle 401\n    canHandleAuthentication() {\n        return false;\n    }\n    handleAuthentication() {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('not implemented');\n        });\n    }\n}\nexports.BasicCredentialHandler = BasicCredentialHandler;\nclass BearerCredentialHandler {\n    constructor(token) {\n        this.token = token;\n    }\n    // currently implements pre-authorization\n    // TODO: support preAuth = false where it hooks on 401\n    prepareRequest(options) {\n        if (!options.headers) {\n            throw Error('The request has no headers');\n        }\n        options.headers['Authorization'] = `Bearer ${this.token}`;\n    }\n    // This handler cannot handle 401\n    canHandleAuthentication() {\n        return false;\n    }\n    handleAuthentication() {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('not implemented');\n        });\n    }\n}\nexports.BearerCredentialHandler = BearerCredentialHandler;\nclass PersonalAccessTokenCredentialHandler {\n    constructor(token) {\n        this.token = token;\n    }\n    // currently implements pre-authorization\n    // TODO: support preAuth = false where it hooks on 401\n    prepareRequest(options) {\n        if (!options.headers) {\n            throw Error('The request has no headers');\n        }\n        options.headers['Authorization'] = `Basic ${Buffer.from(`PAT:${this.token}`).toString('base64')}`;\n    }\n    // This handler cannot handle 401\n    canHandleAuthentication() {\n        return false;\n    }\n    handleAuthentication() {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('not implemented');\n        });\n    }\n}\nexports.PersonalAccessTokenCredentialHandler = PersonalAccessTokenCredentialHandler;\n//# sourceMappingURL=auth.js.map","\"use strict\";\n/* eslint-disable @typescript-eslint/no-explicit-any */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HttpClient = exports.isHttps = exports.HttpClientResponse = exports.HttpClientError = exports.getProxyUrl = exports.MediaTypes = exports.Headers = exports.HttpCodes = void 0;\nconst http = __importStar(require(\"http\"));\nconst https = __importStar(require(\"https\"));\nconst pm = __importStar(require(\"./proxy\"));\nconst tunnel = __importStar(require(\"tunnel\"));\nvar HttpCodes;\n(function (HttpCodes) {\n    HttpCodes[HttpCodes[\"OK\"] = 200] = \"OK\";\n    HttpCodes[HttpCodes[\"MultipleChoices\"] = 300] = \"MultipleChoices\";\n    HttpCodes[HttpCodes[\"MovedPermanently\"] = 301] = \"MovedPermanently\";\n    HttpCodes[HttpCodes[\"ResourceMoved\"] = 302] = \"ResourceMoved\";\n    HttpCodes[HttpCodes[\"SeeOther\"] = 303] = \"SeeOther\";\n    HttpCodes[HttpCodes[\"NotModified\"] = 304] = \"NotModified\";\n    HttpCodes[HttpCodes[\"UseProxy\"] = 305] = \"UseProxy\";\n    HttpCodes[HttpCodes[\"SwitchProxy\"] = 306] = \"SwitchProxy\";\n    HttpCodes[HttpCodes[\"TemporaryRedirect\"] = 307] = \"TemporaryRedirect\";\n    HttpCodes[HttpCodes[\"PermanentRedirect\"] = 308] = \"PermanentRedirect\";\n    HttpCodes[HttpCodes[\"BadRequest\"] = 400] = \"BadRequest\";\n    HttpCodes[HttpCodes[\"Unauthorized\"] = 401] = \"Unauthorized\";\n    HttpCodes[HttpCodes[\"PaymentRequired\"] = 402] = \"PaymentRequired\";\n    HttpCodes[HttpCodes[\"Forbidden\"] = 403] = \"Forbidden\";\n    HttpCodes[HttpCodes[\"NotFound\"] = 404] = \"NotFound\";\n    HttpCodes[HttpCodes[\"MethodNotAllowed\"] = 405] = \"MethodNotAllowed\";\n    HttpCodes[HttpCodes[\"NotAcceptable\"] = 406] = \"NotAcceptable\";\n    HttpCodes[HttpCodes[\"ProxyAuthenticationRequired\"] = 407] = \"ProxyAuthenticationRequired\";\n    HttpCodes[HttpCodes[\"RequestTimeout\"] = 408] = \"RequestTimeout\";\n    HttpCodes[HttpCodes[\"Conflict\"] = 409] = \"Conflict\";\n    HttpCodes[HttpCodes[\"Gone\"] = 410] = \"Gone\";\n    HttpCodes[HttpCodes[\"TooManyRequests\"] = 429] = \"TooManyRequests\";\n    HttpCodes[HttpCodes[\"InternalServerError\"] = 500] = \"InternalServerError\";\n    HttpCodes[HttpCodes[\"NotImplemented\"] = 501] = \"NotImplemented\";\n    HttpCodes[HttpCodes[\"BadGateway\"] = 502] = \"BadGateway\";\n    HttpCodes[HttpCodes[\"ServiceUnavailable\"] = 503] = \"ServiceUnavailable\";\n    HttpCodes[HttpCodes[\"GatewayTimeout\"] = 504] = \"GatewayTimeout\";\n})(HttpCodes = exports.HttpCodes || (exports.HttpCodes = {}));\nvar Headers;\n(function (Headers) {\n    Headers[\"Accept\"] = \"accept\";\n    Headers[\"ContentType\"] = \"content-type\";\n})(Headers = exports.Headers || (exports.Headers = {}));\nvar MediaTypes;\n(function (MediaTypes) {\n    MediaTypes[\"ApplicationJson\"] = \"application/json\";\n})(MediaTypes = exports.MediaTypes || (exports.MediaTypes = {}));\n/**\n * Returns the proxy URL, depending upon the supplied url and proxy environment variables.\n * @param serverUrl  The server URL where the request will be sent. For example, https://api.github.com\n */\nfunction getProxyUrl(serverUrl) {\n    const proxyUrl = pm.getProxyUrl(new URL(serverUrl));\n    return proxyUrl ? proxyUrl.href : '';\n}\nexports.getProxyUrl = getProxyUrl;\nconst HttpRedirectCodes = [\n    HttpCodes.MovedPermanently,\n    HttpCodes.ResourceMoved,\n    HttpCodes.SeeOther,\n    HttpCodes.TemporaryRedirect,\n    HttpCodes.PermanentRedirect\n];\nconst HttpResponseRetryCodes = [\n    HttpCodes.BadGateway,\n    HttpCodes.ServiceUnavailable,\n    HttpCodes.GatewayTimeout\n];\nconst RetryableHttpVerbs = ['OPTIONS', 'GET', 'DELETE', 'HEAD'];\nconst ExponentialBackoffCeiling = 10;\nconst ExponentialBackoffTimeSlice = 5;\nclass HttpClientError extends Error {\n    constructor(message, statusCode) {\n        super(message);\n        this.name = 'HttpClientError';\n        this.statusCode = statusCode;\n        Object.setPrototypeOf(this, HttpClientError.prototype);\n    }\n}\nexports.HttpClientError = HttpClientError;\nclass HttpClientResponse {\n    constructor(message) {\n        this.message = message;\n    }\n    readBody() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve) => __awaiter(this, void 0, void 0, function* () {\n                let output = Buffer.alloc(0);\n                this.message.on('data', (chunk) => {\n                    output = Buffer.concat([output, chunk]);\n                });\n                this.message.on('end', () => {\n                    resolve(output.toString());\n                });\n            }));\n        });\n    }\n}\nexports.HttpClientResponse = HttpClientResponse;\nfunction isHttps(requestUrl) {\n    const parsedUrl = new URL(requestUrl);\n    return parsedUrl.protocol === 'https:';\n}\nexports.isHttps = isHttps;\nclass HttpClient {\n    constructor(userAgent, handlers, requestOptions) {\n        this._ignoreSslError = false;\n        this._allowRedirects = true;\n        this._allowRedirectDowngrade = false;\n        this._maxRedirects = 50;\n        this._allowRetries = false;\n        this._maxRetries = 1;\n        this._keepAlive = false;\n        this._disposed = false;\n        this.userAgent = userAgent;\n        this.handlers = handlers || [];\n        this.requestOptions = requestOptions;\n        if (requestOptions) {\n            if (requestOptions.ignoreSslError != null) {\n                this._ignoreSslError = requestOptions.ignoreSslError;\n            }\n            this._socketTimeout = requestOptions.socketTimeout;\n            if (requestOptions.allowRedirects != null) {\n                this._allowRedirects = requestOptions.allowRedirects;\n            }\n            if (requestOptions.allowRedirectDowngrade != null) {\n                this._allowRedirectDowngrade = requestOptions.allowRedirectDowngrade;\n            }\n            if (requestOptions.maxRedirects != null) {\n                this._maxRedirects = Math.max(requestOptions.maxRedirects, 0);\n            }\n            if (requestOptions.keepAlive != null) {\n                this._keepAlive = requestOptions.keepAlive;\n            }\n            if (requestOptions.allowRetries != null) {\n                this._allowRetries = requestOptions.allowRetries;\n            }\n            if (requestOptions.maxRetries != null) {\n                this._maxRetries = requestOptions.maxRetries;\n            }\n        }\n    }\n    options(requestUrl, additionalHeaders) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.request('OPTIONS', requestUrl, null, additionalHeaders || {});\n        });\n    }\n    get(requestUrl, additionalHeaders) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.request('GET', requestUrl, null, additionalHeaders || {});\n        });\n    }\n    del(requestUrl, additionalHeaders) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.request('DELETE', requestUrl, null, additionalHeaders || {});\n        });\n    }\n    post(requestUrl, data, additionalHeaders) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.request('POST', requestUrl, data, additionalHeaders || {});\n        });\n    }\n    patch(requestUrl, data, additionalHeaders) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.request('PATCH', requestUrl, data, additionalHeaders || {});\n        });\n    }\n    put(requestUrl, data, additionalHeaders) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.request('PUT', requestUrl, data, additionalHeaders || {});\n        });\n    }\n    head(requestUrl, additionalHeaders) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.request('HEAD', requestUrl, null, additionalHeaders || {});\n        });\n    }\n    sendStream(verb, requestUrl, stream, additionalHeaders) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.request(verb, requestUrl, stream, additionalHeaders);\n        });\n    }\n    /**\n     * Gets a typed object from an endpoint\n     * Be aware that not found returns a null.  Other errors (4xx, 5xx) reject the promise\n     */\n    getJson(requestUrl, additionalHeaders = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            additionalHeaders[Headers.Accept] = this._getExistingOrDefaultHeader(additionalHeaders, Headers.Accept, MediaTypes.ApplicationJson);\n            const res = yield this.get(requestUrl, additionalHeaders);\n            return this._processResponse(res, this.requestOptions);\n        });\n    }\n    postJson(requestUrl, obj, additionalHeaders = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const data = JSON.stringify(obj, null, 2);\n            additionalHeaders[Headers.Accept] = this._getExistingOrDefaultHeader(additionalHeaders, Headers.Accept, MediaTypes.ApplicationJson);\n            additionalHeaders[Headers.ContentType] = this._getExistingOrDefaultHeader(additionalHeaders, Headers.ContentType, MediaTypes.ApplicationJson);\n            const res = yield this.post(requestUrl, data, additionalHeaders);\n            return this._processResponse(res, this.requestOptions);\n        });\n    }\n    putJson(requestUrl, obj, additionalHeaders = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const data = JSON.stringify(obj, null, 2);\n            additionalHeaders[Headers.Accept] = this._getExistingOrDefaultHeader(additionalHeaders, Headers.Accept, MediaTypes.ApplicationJson);\n            additionalHeaders[Headers.ContentType] = this._getExistingOrDefaultHeader(additionalHeaders, Headers.ContentType, MediaTypes.ApplicationJson);\n            const res = yield this.put(requestUrl, data, additionalHeaders);\n            return this._processResponse(res, this.requestOptions);\n        });\n    }\n    patchJson(requestUrl, obj, additionalHeaders = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const data = JSON.stringify(obj, null, 2);\n            additionalHeaders[Headers.Accept] = this._getExistingOrDefaultHeader(additionalHeaders, Headers.Accept, MediaTypes.ApplicationJson);\n            additionalHeaders[Headers.ContentType] = this._getExistingOrDefaultHeader(additionalHeaders, Headers.ContentType, MediaTypes.ApplicationJson);\n            const res = yield this.patch(requestUrl, data, additionalHeaders);\n            return this._processResponse(res, this.requestOptions);\n        });\n    }\n    /**\n     * Makes a raw http request.\n     * All other methods such as get, post, patch, and request ultimately call this.\n     * Prefer get, del, post and patch\n     */\n    request(verb, requestUrl, data, headers) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._disposed) {\n                throw new Error('Client has already been disposed.');\n            }\n            const parsedUrl = new URL(requestUrl);\n            let info = this._prepareRequest(verb, parsedUrl, headers);\n            // Only perform retries on reads since writes may not be idempotent.\n            const maxTries = this._allowRetries && RetryableHttpVerbs.includes(verb)\n                ? this._maxRetries + 1\n                : 1;\n            let numTries = 0;\n            let response;\n            do {\n                response = yield this.requestRaw(info, data);\n                // Check if it's an authentication challenge\n                if (response &&\n                    response.message &&\n                    response.message.statusCode === HttpCodes.Unauthorized) {\n                    let authenticationHandler;\n                    for (const handler of this.handlers) {\n                        if (handler.canHandleAuthentication(response)) {\n                            authenticationHandler = handler;\n                            break;\n                        }\n                    }\n                    if (authenticationHandler) {\n                        return authenticationHandler.handleAuthentication(this, info, data);\n                    }\n                    else {\n                        // We have received an unauthorized response but have no handlers to handle it.\n                        // Let the response return to the caller.\n                        return response;\n                    }\n                }\n                let redirectsRemaining = this._maxRedirects;\n                while (response.message.statusCode &&\n                    HttpRedirectCodes.includes(response.message.statusCode) &&\n                    this._allowRedirects &&\n                    redirectsRemaining > 0) {\n                    const redirectUrl = response.message.headers['location'];\n                    if (!redirectUrl) {\n                        // if there's no location to redirect to, we won't\n                        break;\n                    }\n                    const parsedRedirectUrl = new URL(redirectUrl);\n                    if (parsedUrl.protocol === 'https:' &&\n                        parsedUrl.protocol !== parsedRedirectUrl.protocol &&\n                        !this._allowRedirectDowngrade) {\n                        throw new Error('Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.');\n                    }\n                    // we need to finish reading the response before reassigning response\n                    // which will leak the open socket.\n                    yield response.readBody();\n                    // strip authorization header if redirected to a different hostname\n                    if (parsedRedirectUrl.hostname !== parsedUrl.hostname) {\n                        for (const header in headers) {\n                            // header names are case insensitive\n                            if (header.toLowerCase() === 'authorization') {\n                                delete headers[header];\n                            }\n                        }\n                    }\n                    // let's make the request with the new redirectUrl\n                    info = this._prepareRequest(verb, parsedRedirectUrl, headers);\n                    response = yield this.requestRaw(info, data);\n                    redirectsRemaining--;\n                }\n                if (!response.message.statusCode ||\n                    !HttpResponseRetryCodes.includes(response.message.statusCode)) {\n                    // If not a retry code, return immediately instead of retrying\n                    return response;\n                }\n                numTries += 1;\n                if (numTries < maxTries) {\n                    yield response.readBody();\n                    yield this._performExponentialBackoff(numTries);\n                }\n            } while (numTries < maxTries);\n            return response;\n        });\n    }\n    /**\n     * Needs to be called if keepAlive is set to true in request options.\n     */\n    dispose() {\n        if (this._agent) {\n            this._agent.destroy();\n        }\n        this._disposed = true;\n    }\n    /**\n     * Raw request.\n     * @param info\n     * @param data\n     */\n    requestRaw(info, data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                function callbackForResult(err, res) {\n                    if (err) {\n                        reject(err);\n                    }\n                    else if (!res) {\n                        // If `err` is not passed, then `res` must be passed.\n                        reject(new Error('Unknown error'));\n                    }\n                    else {\n                        resolve(res);\n                    }\n                }\n                this.requestRawWithCallback(info, data, callbackForResult);\n            });\n        });\n    }\n    /**\n     * Raw request with callback.\n     * @param info\n     * @param data\n     * @param onResult\n     */\n    requestRawWithCallback(info, data, onResult) {\n        if (typeof data === 'string') {\n            if (!info.options.headers) {\n                info.options.headers = {};\n            }\n            info.options.headers['Content-Length'] = Buffer.byteLength(data, 'utf8');\n        }\n        let callbackCalled = false;\n        function handleResult(err, res) {\n            if (!callbackCalled) {\n                callbackCalled = true;\n                onResult(err, res);\n            }\n        }\n        const req = info.httpModule.request(info.options, (msg) => {\n            const res = new HttpClientResponse(msg);\n            handleResult(undefined, res);\n        });\n        let socket;\n        req.on('socket', sock => {\n            socket = sock;\n        });\n        // If we ever get disconnected, we want the socket to timeout eventually\n        req.setTimeout(this._socketTimeout || 3 * 60000, () => {\n            if (socket) {\n                socket.end();\n            }\n            handleResult(new Error(`Request timeout: ${info.options.path}`));\n        });\n        req.on('error', function (err) {\n            // err has statusCode property\n            // res should have headers\n            handleResult(err);\n        });\n        if (data && typeof data === 'string') {\n            req.write(data, 'utf8');\n        }\n        if (data && typeof data !== 'string') {\n            data.on('close', function () {\n                req.end();\n            });\n            data.pipe(req);\n        }\n        else {\n            req.end();\n        }\n    }\n    /**\n     * Gets an http agent. This function is useful when you need an http agent that handles\n     * routing through a proxy server - depending upon the url and proxy environment variables.\n     * @param serverUrl  The server URL where the request will be sent. For example, https://api.github.com\n     */\n    getAgent(serverUrl) {\n        const parsedUrl = new URL(serverUrl);\n        return this._getAgent(parsedUrl);\n    }\n    _prepareRequest(method, requestUrl, headers) {\n        const info = {};\n        info.parsedUrl = requestUrl;\n        const usingSsl = info.parsedUrl.protocol === 'https:';\n        info.httpModule = usingSsl ? https : http;\n        const defaultPort = usingSsl ? 443 : 80;\n        info.options = {};\n        info.options.host = info.parsedUrl.hostname;\n        info.options.port = info.parsedUrl.port\n            ? parseInt(info.parsedUrl.port)\n            : defaultPort;\n        info.options.path =\n            (info.parsedUrl.pathname || '') + (info.parsedUrl.search || '');\n        info.options.method = method;\n        info.options.headers = this._mergeHeaders(headers);\n        if (this.userAgent != null) {\n            info.options.headers['user-agent'] = this.userAgent;\n        }\n        info.options.agent = this._getAgent(info.parsedUrl);\n        // gives handlers an opportunity to participate\n        if (this.handlers) {\n            for (const handler of this.handlers) {\n                handler.prepareRequest(info.options);\n            }\n        }\n        return info;\n    }\n    _mergeHeaders(headers) {\n        if (this.requestOptions && this.requestOptions.headers) {\n            return Object.assign({}, lowercaseKeys(this.requestOptions.headers), lowercaseKeys(headers || {}));\n        }\n        return lowercaseKeys(headers || {});\n    }\n    _getExistingOrDefaultHeader(additionalHeaders, header, _default) {\n        let clientHeader;\n        if (this.requestOptions && this.requestOptions.headers) {\n            clientHeader = lowercaseKeys(this.requestOptions.headers)[header];\n        }\n        return additionalHeaders[header] || clientHeader || _default;\n    }\n    _getAgent(parsedUrl) {\n        let agent;\n        const proxyUrl = pm.getProxyUrl(parsedUrl);\n        const useProxy = proxyUrl && proxyUrl.hostname;\n        if (this._keepAlive && useProxy) {\n            agent = this._proxyAgent;\n        }\n        if (this._keepAlive && !useProxy) {\n            agent = this._agent;\n        }\n        // if agent is already assigned use that agent.\n        if (agent) {\n            return agent;\n        }\n        const usingSsl = parsedUrl.protocol === 'https:';\n        let maxSockets = 100;\n        if (this.requestOptions) {\n            maxSockets = this.requestOptions.maxSockets || http.globalAgent.maxSockets;\n        }\n        // This is `useProxy` again, but we need to check `proxyURl` directly for TypeScripts's flow analysis.\n        if (proxyUrl && proxyUrl.hostname) {\n            const agentOptions = {\n                maxSockets,\n                keepAlive: this._keepAlive,\n                proxy: Object.assign(Object.assign({}, ((proxyUrl.username || proxyUrl.password) && {\n                    proxyAuth: `${proxyUrl.username}:${proxyUrl.password}`\n                })), { host: proxyUrl.hostname, port: proxyUrl.port })\n            };\n            let tunnelAgent;\n            const overHttps = proxyUrl.protocol === 'https:';\n            if (usingSsl) {\n                tunnelAgent = overHttps ? tunnel.httpsOverHttps : tunnel.httpsOverHttp;\n            }\n            else {\n                tunnelAgent = overHttps ? tunnel.httpOverHttps : tunnel.httpOverHttp;\n            }\n            agent = tunnelAgent(agentOptions);\n            this._proxyAgent = agent;\n        }\n        // if reusing agent across request and tunneling agent isn't assigned create a new agent\n        if (this._keepAlive && !agent) {\n            const options = { keepAlive: this._keepAlive, maxSockets };\n            agent = usingSsl ? new https.Agent(options) : new http.Agent(options);\n            this._agent = agent;\n        }\n        // if not using private agent and tunnel agent isn't setup then use global agent\n        if (!agent) {\n            agent = usingSsl ? https.globalAgent : http.globalAgent;\n        }\n        if (usingSsl && this._ignoreSslError) {\n            // we don't want to set NODE_TLS_REJECT_UNAUTHORIZED=0 since that will affect request for entire process\n            // http.RequestOptions doesn't expose a way to modify RequestOptions.agent.options\n            // we have to cast it to any and change it directly\n            agent.options = Object.assign(agent.options || {}, {\n                rejectUnauthorized: false\n            });\n        }\n        return agent;\n    }\n    _performExponentialBackoff(retryNumber) {\n        return __awaiter(this, void 0, void 0, function* () {\n            retryNumber = Math.min(ExponentialBackoffCeiling, retryNumber);\n            const ms = ExponentialBackoffTimeSlice * Math.pow(2, retryNumber);\n            return new Promise(resolve => setTimeout(() => resolve(), ms));\n        });\n    }\n    _processResponse(res, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                const statusCode = res.message.statusCode || 0;\n                const response = {\n                    statusCode,\n                    result: null,\n                    headers: {}\n                };\n                // not found leads to null obj returned\n                if (statusCode === HttpCodes.NotFound) {\n                    resolve(response);\n                }\n                // get the result from the body\n                function dateTimeDeserializer(key, value) {\n                    if (typeof value === 'string') {\n                        const a = new Date(value);\n                        if (!isNaN(a.valueOf())) {\n                            return a;\n                        }\n                    }\n                    return value;\n                }\n                let obj;\n                let contents;\n                try {\n                    contents = yield res.readBody();\n                    if (contents && contents.length > 0) {\n                        if (options && options.deserializeDates) {\n                            obj = JSON.parse(contents, dateTimeDeserializer);\n                        }\n                        else {\n                            obj = JSON.parse(contents);\n                        }\n                        response.result = obj;\n                    }\n                    response.headers = res.message.headers;\n                }\n                catch (err) {\n                    // Invalid resource (contents not json);  leaving result obj null\n                }\n                // note that 3xx redirects are handled by the http layer.\n                if (statusCode > 299) {\n                    let msg;\n                    // if exception/error in body, attempt to get better error\n                    if (obj && obj.message) {\n                        msg = obj.message;\n                    }\n                    else if (contents && contents.length > 0) {\n                        // it may be the case that the exception is in the body message as string\n                        msg = contents;\n                    }\n                    else {\n                        msg = `Failed request: (${statusCode})`;\n                    }\n                    const err = new HttpClientError(msg, statusCode);\n                    err.result = response.result;\n                    reject(err);\n                }\n                else {\n                    resolve(response);\n                }\n            }));\n        });\n    }\n}\nexports.HttpClient = HttpClient;\nconst lowercaseKeys = (obj) => Object.keys(obj).reduce((c, k) => ((c[k.toLowerCase()] = obj[k]), c), {});\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkBypass = exports.getProxyUrl = void 0;\nfunction getProxyUrl(reqUrl) {\n    const usingSsl = reqUrl.protocol === 'https:';\n    if (checkBypass(reqUrl)) {\n        return undefined;\n    }\n    const proxyVar = (() => {\n        if (usingSsl) {\n            return process.env['https_proxy'] || process.env['HTTPS_PROXY'];\n        }\n        else {\n            return process.env['http_proxy'] || process.env['HTTP_PROXY'];\n        }\n    })();\n    if (proxyVar) {\n        return new URL(proxyVar);\n    }\n    else {\n        return undefined;\n    }\n}\nexports.getProxyUrl = getProxyUrl;\nfunction checkBypass(reqUrl) {\n    if (!reqUrl.hostname) {\n        return false;\n    }\n    const reqHost = reqUrl.hostname;\n    if (isLoopbackAddress(reqHost)) {\n        return true;\n    }\n    const noProxy = process.env['no_proxy'] || process.env['NO_PROXY'] || '';\n    if (!noProxy) {\n        return false;\n    }\n    // Determine the request port\n    let reqPort;\n    if (reqUrl.port) {\n        reqPort = Number(reqUrl.port);\n    }\n    else if (reqUrl.protocol === 'http:') {\n        reqPort = 80;\n    }\n    else if (reqUrl.protocol === 'https:') {\n        reqPort = 443;\n    }\n    // Format the request hostname and hostname with port\n    const upperReqHosts = [reqUrl.hostname.toUpperCase()];\n    if (typeof reqPort === 'number') {\n        upperReqHosts.push(`${upperReqHosts[0]}:${reqPort}`);\n    }\n    // Compare request host against noproxy\n    for (const upperNoProxyItem of noProxy\n        .split(',')\n        .map(x => x.trim().toUpperCase())\n        .filter(x => x)) {\n        if (upperNoProxyItem === '*' ||\n            upperReqHosts.some(x => x === upperNoProxyItem ||\n                x.endsWith(`.${upperNoProxyItem}`) ||\n                (upperNoProxyItem.startsWith('.') &&\n                    x.endsWith(`${upperNoProxyItem}`)))) {\n            return true;\n        }\n    }\n    return false;\n}\nexports.checkBypass = checkBypass;\nfunction isLoopbackAddress(host) {\n    const hostLower = host.toLowerCase();\n    return (hostLower === 'localhost' ||\n        hostLower.startsWith('127.') ||\n        hostLower.startsWith('[::1]') ||\n        hostLower.startsWith('[0:0:0:0:0:0:0:1]'));\n}\n//# sourceMappingURL=proxy.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getCmdPath = exports.tryGetExecutablePath = exports.isRooted = exports.isDirectory = exports.exists = exports.READONLY = exports.UV_FS_O_EXLOCK = exports.IS_WINDOWS = exports.unlink = exports.symlink = exports.stat = exports.rmdir = exports.rm = exports.rename = exports.readlink = exports.readdir = exports.open = exports.mkdir = exports.lstat = exports.copyFile = exports.chmod = void 0;\nconst fs = __importStar(require(\"fs\"));\nconst path = __importStar(require(\"path\"));\n_a = fs.promises\n// export const {open} = 'fs'\n, exports.chmod = _a.chmod, exports.copyFile = _a.copyFile, exports.lstat = _a.lstat, exports.mkdir = _a.mkdir, exports.open = _a.open, exports.readdir = _a.readdir, exports.readlink = _a.readlink, exports.rename = _a.rename, exports.rm = _a.rm, exports.rmdir = _a.rmdir, exports.stat = _a.stat, exports.symlink = _a.symlink, exports.unlink = _a.unlink;\n// export const {open} = 'fs'\nexports.IS_WINDOWS = process.platform === 'win32';\n// See https://github.com/nodejs/node/blob/d0153aee367422d0858105abec186da4dff0a0c5/deps/uv/include/uv/win.h#L691\nexports.UV_FS_O_EXLOCK = 0x10000000;\nexports.READONLY = fs.constants.O_RDONLY;\nfunction exists(fsPath) {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            yield exports.stat(fsPath);\n        }\n        catch (err) {\n            if (err.code === 'ENOENT') {\n                return false;\n            }\n            throw err;\n        }\n        return true;\n    });\n}\nexports.exists = exists;\nfunction isDirectory(fsPath, useStat = false) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const stats = useStat ? yield exports.stat(fsPath) : yield exports.lstat(fsPath);\n        return stats.isDirectory();\n    });\n}\nexports.isDirectory = isDirectory;\n/**\n * On OSX/Linux, true if path starts with '/'. On Windows, true for paths like:\n * \\, \\hello, \\\\hello\\share, C:, and C:\\hello (and corresponding alternate separator cases).\n */\nfunction isRooted(p) {\n    p = normalizeSeparators(p);\n    if (!p) {\n        throw new Error('isRooted() parameter \"p\" cannot be empty');\n    }\n    if (exports.IS_WINDOWS) {\n        return (p.startsWith('\\\\') || /^[A-Z]:/i.test(p) // e.g. \\ or \\hello or \\\\hello\n        ); // e.g. C: or C:\\hello\n    }\n    return p.startsWith('/');\n}\nexports.isRooted = isRooted;\n/**\n * Best effort attempt to determine whether a file exists and is executable.\n * @param filePath    file path to check\n * @param extensions  additional file extensions to try\n * @return if file exists and is executable, returns the file path. otherwise empty string.\n */\nfunction tryGetExecutablePath(filePath, extensions) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let stats = undefined;\n        try {\n            // test file exists\n            stats = yield exports.stat(filePath);\n        }\n        catch (err) {\n            if (err.code !== 'ENOENT') {\n                // eslint-disable-next-line no-console\n                console.log(`Unexpected error attempting to determine if executable file exists '${filePath}': ${err}`);\n            }\n        }\n        if (stats && stats.isFile()) {\n            if (exports.IS_WINDOWS) {\n                // on Windows, test for valid extension\n                const upperExt = path.extname(filePath).toUpperCase();\n                if (extensions.some(validExt => validExt.toUpperCase() === upperExt)) {\n                    return filePath;\n                }\n            }\n            else {\n                if (isUnixExecutable(stats)) {\n                    return filePath;\n                }\n            }\n        }\n        // try each extension\n        const originalFilePath = filePath;\n        for (const extension of extensions) {\n            filePath = originalFilePath + extension;\n            stats = undefined;\n            try {\n                stats = yield exports.stat(filePath);\n            }\n            catch (err) {\n                if (err.code !== 'ENOENT') {\n                    // eslint-disable-next-line no-console\n                    console.log(`Unexpected error attempting to determine if executable file exists '${filePath}': ${err}`);\n                }\n            }\n            if (stats && stats.isFile()) {\n                if (exports.IS_WINDOWS) {\n                    // preserve the case of the actual file (since an extension was appended)\n                    try {\n                        const directory = path.dirname(filePath);\n                        const upperName = path.basename(filePath).toUpperCase();\n                        for (const actualName of yield exports.readdir(directory)) {\n                            if (upperName === actualName.toUpperCase()) {\n                                filePath = path.join(directory, actualName);\n                                break;\n                            }\n                        }\n                    }\n                    catch (err) {\n                        // eslint-disable-next-line no-console\n                        console.log(`Unexpected error attempting to determine the actual case of the file '${filePath}': ${err}`);\n                    }\n                    return filePath;\n                }\n                else {\n                    if (isUnixExecutable(stats)) {\n                        return filePath;\n                    }\n                }\n            }\n        }\n        return '';\n    });\n}\nexports.tryGetExecutablePath = tryGetExecutablePath;\nfunction normalizeSeparators(p) {\n    p = p || '';\n    if (exports.IS_WINDOWS) {\n        // convert slashes on Windows\n        p = p.replace(/\\//g, '\\\\');\n        // remove redundant slashes\n        return p.replace(/\\\\\\\\+/g, '\\\\');\n    }\n    // remove redundant slashes\n    return p.replace(/\\/\\/+/g, '/');\n}\n// on Mac/Linux, test the execute bit\n//     R   W  X  R  W X R W X\n//   256 128 64 32 16 8 4 2 1\nfunction isUnixExecutable(stats) {\n    return ((stats.mode & 1) > 0 ||\n        ((stats.mode & 8) > 0 && stats.gid === process.getgid()) ||\n        ((stats.mode & 64) > 0 && stats.uid === process.getuid()));\n}\n// Get the path of cmd.exe in windows\nfunction getCmdPath() {\n    var _a;\n    return (_a = process.env['COMSPEC']) !== null && _a !== void 0 ? _a : `cmd.exe`;\n}\nexports.getCmdPath = getCmdPath;\n//# sourceMappingURL=io-util.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.findInPath = exports.which = exports.mkdirP = exports.rmRF = exports.mv = exports.cp = void 0;\nconst assert_1 = require(\"assert\");\nconst path = __importStar(require(\"path\"));\nconst ioUtil = __importStar(require(\"./io-util\"));\n/**\n * Copies a file or folder.\n * Based off of shelljs - https://github.com/shelljs/shelljs/blob/9237f66c52e5daa40458f94f9565e18e8132f5a6/src/cp.js\n *\n * @param     source    source path\n * @param     dest      destination path\n * @param     options   optional. See CopyOptions.\n */\nfunction cp(source, dest, options = {}) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { force, recursive, copySourceDirectory } = readCopyOptions(options);\n        const destStat = (yield ioUtil.exists(dest)) ? yield ioUtil.stat(dest) : null;\n        // Dest is an existing file, but not forcing\n        if (destStat && destStat.isFile() && !force) {\n            return;\n        }\n        // If dest is an existing directory, should copy inside.\n        const newDest = destStat && destStat.isDirectory() && copySourceDirectory\n            ? path.join(dest, path.basename(source))\n            : dest;\n        if (!(yield ioUtil.exists(source))) {\n            throw new Error(`no such file or directory: ${source}`);\n        }\n        const sourceStat = yield ioUtil.stat(source);\n        if (sourceStat.isDirectory()) {\n            if (!recursive) {\n                throw new Error(`Failed to copy. ${source} is a directory, but tried to copy without recursive flag.`);\n            }\n            else {\n                yield cpDirRecursive(source, newDest, 0, force);\n            }\n        }\n        else {\n            if (path.relative(source, newDest) === '') {\n                // a file cannot be copied to itself\n                throw new Error(`'${newDest}' and '${source}' are the same file`);\n            }\n            yield copyFile(source, newDest, force);\n        }\n    });\n}\nexports.cp = cp;\n/**\n * Moves a path.\n *\n * @param     source    source path\n * @param     dest      destination path\n * @param     options   optional. See MoveOptions.\n */\nfunction mv(source, dest, options = {}) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (yield ioUtil.exists(dest)) {\n            let destExists = true;\n            if (yield ioUtil.isDirectory(dest)) {\n                // If dest is directory copy src into dest\n                dest = path.join(dest, path.basename(source));\n                destExists = yield ioUtil.exists(dest);\n            }\n            if (destExists) {\n                if (options.force == null || options.force) {\n                    yield rmRF(dest);\n                }\n                else {\n                    throw new Error('Destination already exists');\n                }\n            }\n        }\n        yield mkdirP(path.dirname(dest));\n        yield ioUtil.rename(source, dest);\n    });\n}\nexports.mv = mv;\n/**\n * Remove a path recursively with force\n *\n * @param inputPath path to remove\n */\nfunction rmRF(inputPath) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (ioUtil.IS_WINDOWS) {\n            // Check for invalid characters\n            // https://docs.microsoft.com/en-us/windows/win32/fileio/naming-a-file\n            if (/[*\"<>|]/.test(inputPath)) {\n                throw new Error('File path must not contain `*`, `\"`, `<`, `>` or `|` on Windows');\n            }\n        }\n        try {\n            // note if path does not exist, error is silent\n            yield ioUtil.rm(inputPath, {\n                force: true,\n                maxRetries: 3,\n                recursive: true,\n                retryDelay: 300\n            });\n        }\n        catch (err) {\n            throw new Error(`File was unable to be removed ${err}`);\n        }\n    });\n}\nexports.rmRF = rmRF;\n/**\n * Make a directory.  Creates the full path with folders in between\n * Will throw if it fails\n *\n * @param   fsPath        path to create\n * @returns Promise<void>\n */\nfunction mkdirP(fsPath) {\n    return __awaiter(this, void 0, void 0, function* () {\n        assert_1.ok(fsPath, 'a path argument must be provided');\n        yield ioUtil.mkdir(fsPath, { recursive: true });\n    });\n}\nexports.mkdirP = mkdirP;\n/**\n * Returns path of a tool had the tool actually been invoked.  Resolves via paths.\n * If you check and the tool does not exist, it will throw.\n *\n * @param     tool              name of the tool\n * @param     check             whether to check if tool exists\n * @returns   Promise<string>   path to tool\n */\nfunction which(tool, check) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!tool) {\n            throw new Error(\"parameter 'tool' is required\");\n        }\n        // recursive when check=true\n        if (check) {\n            const result = yield which(tool, false);\n            if (!result) {\n                if (ioUtil.IS_WINDOWS) {\n                    throw new Error(`Unable to locate executable file: ${tool}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also verify the file has a valid extension for an executable file.`);\n                }\n                else {\n                    throw new Error(`Unable to locate executable file: ${tool}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.`);\n                }\n            }\n            return result;\n        }\n        const matches = yield findInPath(tool);\n        if (matches && matches.length > 0) {\n            return matches[0];\n        }\n        return '';\n    });\n}\nexports.which = which;\n/**\n * Returns a list of all occurrences of the given tool on the system path.\n *\n * @returns   Promise<string[]>  the paths of the tool\n */\nfunction findInPath(tool) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!tool) {\n            throw new Error(\"parameter 'tool' is required\");\n        }\n        // build the list of extensions to try\n        const extensions = [];\n        if (ioUtil.IS_WINDOWS && process.env['PATHEXT']) {\n            for (const extension of process.env['PATHEXT'].split(path.delimiter)) {\n                if (extension) {\n                    extensions.push(extension);\n                }\n            }\n        }\n        // if it's rooted, return it if exists. otherwise return empty.\n        if (ioUtil.isRooted(tool)) {\n            const filePath = yield ioUtil.tryGetExecutablePath(tool, extensions);\n            if (filePath) {\n                return [filePath];\n            }\n            return [];\n        }\n        // if any path separators, return empty\n        if (tool.includes(path.sep)) {\n            return [];\n        }\n        // build the list of directories\n        //\n        // Note, technically \"where\" checks the current directory on Windows. From a toolkit perspective,\n        // it feels like we should not do this. Checking the current directory seems like more of a use\n        // case of a shell, and the which() function exposed by the toolkit should strive for consistency\n        // across platforms.\n        const directories = [];\n        if (process.env.PATH) {\n            for (const p of process.env.PATH.split(path.delimiter)) {\n                if (p) {\n                    directories.push(p);\n                }\n            }\n        }\n        // find all matches\n        const matches = [];\n        for (const directory of directories) {\n            const filePath = yield ioUtil.tryGetExecutablePath(path.join(directory, tool), extensions);\n            if (filePath) {\n                matches.push(filePath);\n            }\n        }\n        return matches;\n    });\n}\nexports.findInPath = findInPath;\nfunction readCopyOptions(options) {\n    const force = options.force == null ? true : options.force;\n    const recursive = Boolean(options.recursive);\n    const copySourceDirectory = options.copySourceDirectory == null\n        ? true\n        : Boolean(options.copySourceDirectory);\n    return { force, recursive, copySourceDirectory };\n}\nfunction cpDirRecursive(sourceDir, destDir, currentDepth, force) {\n    return __awaiter(this, void 0, void 0, function* () {\n        // Ensure there is not a run away recursive copy\n        if (currentDepth >= 255)\n            return;\n        currentDepth++;\n        yield mkdirP(destDir);\n        const files = yield ioUtil.readdir(sourceDir);\n        for (const fileName of files) {\n            const srcFile = `${sourceDir}/${fileName}`;\n            const destFile = `${destDir}/${fileName}`;\n            const srcFileStat = yield ioUtil.lstat(srcFile);\n            if (srcFileStat.isDirectory()) {\n                // Recurse\n                yield cpDirRecursive(srcFile, destFile, currentDepth, force);\n            }\n            else {\n                yield copyFile(srcFile, destFile, force);\n            }\n        }\n        // Change the mode for the newly created directory\n        yield ioUtil.chmod(destDir, (yield ioUtil.stat(sourceDir)).mode);\n    });\n}\n// Buffered file copy\nfunction copyFile(srcFile, destFile, force) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if ((yield ioUtil.lstat(srcFile)).isSymbolicLink()) {\n            // unlink/re-link it\n            try {\n                yield ioUtil.lstat(destFile);\n                yield ioUtil.unlink(destFile);\n            }\n            catch (e) {\n                // Try to override file permission\n                if (e.code === 'EPERM') {\n                    yield ioUtil.chmod(destFile, '0666');\n                    yield ioUtil.unlink(destFile);\n                }\n                // other errors = it doesn't exist, no work to do\n            }\n            // Copy over symlink\n            const symlinkFull = yield ioUtil.readlink(srcFile);\n            yield ioUtil.symlink(symlinkFull, destFile, ioUtil.IS_WINDOWS ? 'junction' : null);\n        }\n        else if (!(yield ioUtil.exists(destFile)) || force) {\n            yield ioUtil.copyFile(srcFile, destFile);\n        }\n    });\n}\n//# sourceMappingURL=io.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { log } from \"./log.js\";\nconst debugEnvVariable = (typeof process !== \"undefined\" && process.env && process.env.DEBUG) || undefined;\nlet enabledString;\nlet enabledNamespaces = [];\nlet skippedNamespaces = [];\nconst debuggers = [];\nif (debugEnvVariable) {\n    enable(debugEnvVariable);\n}\nconst debugObj = Object.assign((namespace) => {\n    return createDebugger(namespace);\n}, {\n    enable,\n    enabled,\n    disable,\n    log,\n});\nfunction enable(namespaces) {\n    enabledString = namespaces;\n    enabledNamespaces = [];\n    skippedNamespaces = [];\n    const wildcard = /\\*/g;\n    const namespaceList = namespaces.split(\",\").map((ns) => ns.trim().replace(wildcard, \".*?\"));\n    for (const ns of namespaceList) {\n        if (ns.startsWith(\"-\")) {\n            skippedNamespaces.push(new RegExp(`^${ns.substr(1)}$`));\n        }\n        else {\n            enabledNamespaces.push(new RegExp(`^${ns}$`));\n        }\n    }\n    for (const instance of debuggers) {\n        instance.enabled = enabled(instance.namespace);\n    }\n}\nfunction enabled(namespace) {\n    if (namespace.endsWith(\"*\")) {\n        return true;\n    }\n    for (const skipped of skippedNamespaces) {\n        if (skipped.test(namespace)) {\n            return false;\n        }\n    }\n    for (const enabledNamespace of enabledNamespaces) {\n        if (enabledNamespace.test(namespace)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction disable() {\n    const result = enabledString || \"\";\n    enable(\"\");\n    return result;\n}\nfunction createDebugger(namespace) {\n    const newDebugger = Object.assign(debug, {\n        enabled: enabled(namespace),\n        destroy,\n        log: debugObj.log,\n        namespace,\n        extend,\n    });\n    function debug(...args) {\n        if (!newDebugger.enabled) {\n            return;\n        }\n        if (args.length > 0) {\n            args[0] = `${namespace} ${args[0]}`;\n        }\n        newDebugger.log(...args);\n    }\n    debuggers.push(newDebugger);\n    return newDebugger;\n}\nfunction destroy() {\n    const index = debuggers.indexOf(this);\n    if (index >= 0) {\n        debuggers.splice(index, 1);\n        return true;\n    }\n    return false;\n}\nfunction extend(namespace) {\n    const newDebugger = createDebugger(`${this.namespace}:${namespace}`);\n    newDebugger.log = this.log;\n    return newDebugger;\n}\nexport default debugObj;\n//# sourceMappingURL=debug.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport debug from \"./debug.js\";\nconst registeredLoggers = new Set();\nconst logLevelFromEnv = (typeof process !== \"undefined\" && process.env && process.env.AZURE_LOG_LEVEL) || undefined;\nlet azureLogLevel;\n/**\n * The AzureLogger provides a mechanism for overriding where logs are output to.\n * By default, logs are sent to stderr.\n * Override the `log` method to redirect logs to another location.\n */\nexport const AzureLogger = debug(\"azure\");\nAzureLogger.log = (...args) => {\n    debug.log(...args);\n};\nconst AZURE_LOG_LEVELS = [\"verbose\", \"info\", \"warning\", \"error\"];\nif (logLevelFromEnv) {\n    // avoid calling setLogLevel because we don't want a mis-set environment variable to crash\n    if (isAzureLogLevel(logLevelFromEnv)) {\n        setLogLevel(logLevelFromEnv);\n    }\n    else {\n        console.error(`AZURE_LOG_LEVEL set to unknown log level '${logLevelFromEnv}'; logging is not enabled. Acceptable values: ${AZURE_LOG_LEVELS.join(\", \")}.`);\n    }\n}\n/**\n * Immediately enables logging at the specified log level. If no level is specified, logging is disabled.\n * @param level - The log level to enable for logging.\n * Options from most verbose to least verbose are:\n * - verbose\n * - info\n * - warning\n * - error\n */\nexport function setLogLevel(level) {\n    if (level && !isAzureLogLevel(level)) {\n        throw new Error(`Unknown log level '${level}'. Acceptable values: ${AZURE_LOG_LEVELS.join(\",\")}`);\n    }\n    azureLogLevel = level;\n    const enabledNamespaces = [];\n    for (const logger of registeredLoggers) {\n        if (shouldEnable(logger)) {\n            enabledNamespaces.push(logger.namespace);\n        }\n    }\n    debug.enable(enabledNamespaces.join(\",\"));\n}\n/**\n * Retrieves the currently specified log level.\n */\nexport function getLogLevel() {\n    return azureLogLevel;\n}\nconst levelMap = {\n    verbose: 400,\n    info: 300,\n    warning: 200,\n    error: 100,\n};\n/**\n * Creates a logger for use by the Azure SDKs that inherits from `AzureLogger`.\n * @param namespace - The name of the SDK package.\n * @hidden\n */\nexport function createClientLogger(namespace) {\n    const clientRootLogger = AzureLogger.extend(namespace);\n    patchLogMethod(AzureLogger, clientRootLogger);\n    return {\n        error: createLogger(clientRootLogger, \"error\"),\n        warning: createLogger(clientRootLogger, \"warning\"),\n        info: createLogger(clientRootLogger, \"info\"),\n        verbose: createLogger(clientRootLogger, \"verbose\"),\n    };\n}\nfunction patchLogMethod(parent, child) {\n    child.log = (...args) => {\n        parent.log(...args);\n    };\n}\nfunction createLogger(parent, level) {\n    const logger = Object.assign(parent.extend(level), {\n        level,\n    });\n    patchLogMethod(parent, logger);\n    if (shouldEnable(logger)) {\n        const enabledNamespaces = debug.disable();\n        debug.enable(enabledNamespaces + \",\" + logger.namespace);\n    }\n    registeredLoggers.add(logger);\n    return logger;\n}\nfunction shouldEnable(logger) {\n    return Boolean(azureLogLevel && levelMap[logger.level] <= levelMap[azureLogLevel]);\n}\nfunction isAzureLogLevel(logLevel) {\n    return AZURE_LOG_LEVELS.includes(logLevel);\n}\n//# sourceMappingURL=index.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createDefaultHttpClient } from \"@azure/core-rest-pipeline\";\nlet cachedHttpClient;\nexport function getCachedDefaultHttpClient() {\n    if (!cachedHttpClient) {\n        cachedHttpClient = createDefaultHttpClient();\n    }\n    return cachedHttpClient;\n}\n//# sourceMappingURL=httpClientCache.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { CACHE_CAE_SUFFIX, CACHE_NON_CAE_SUFFIX, DEFAULT_TOKEN_CACHE_NAME } from \"../../constants\";\n/**\n * The current persistence provider, undefined by default.\n * @internal\n */\nexport let persistenceProvider = undefined;\n/**\n * An object that allows setting the persistence provider.\n * @internal\n */\nexport const msalNodeFlowCacheControl = {\n    setPersistence(pluginProvider) {\n        persistenceProvider = pluginProvider;\n    },\n};\n/**\n * The current native broker provider, undefined by default.\n * @internal\n */\nexport let nativeBrokerInfo = undefined;\nexport function hasNativeBroker() {\n    return nativeBrokerInfo !== undefined;\n}\n/**\n * An object that allows setting the native broker provider.\n * @internal\n */\nexport const msalNodeFlowNativeBrokerControl = {\n    setNativeBroker(broker) {\n        nativeBrokerInfo = {\n            broker,\n        };\n    },\n};\n/**\n * Configures plugins, validating that required plugins are available and enabled.\n *\n * Does not create the plugins themselves, but rather returns the configuration that will be used to create them.\n *\n * @param options - options for creating the MSAL client\n * @returns plugin configuration\n */\nfunction generatePluginConfiguration(options) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const config = {\n        cache: {},\n        broker: {\n            isEnabled: (_b = (_a = options.brokerOptions) === null || _a === void 0 ? void 0 : _a.enabled) !== null && _b !== void 0 ? _b : false,\n            enableMsaPassthrough: (_d = (_c = options.brokerOptions) === null || _c === void 0 ? void 0 : _c.legacyEnableMsaPassthrough) !== null && _d !== void 0 ? _d : false,\n            parentWindowHandle: (_e = options.brokerOptions) === null || _e === void 0 ? void 0 : _e.parentWindowHandle,\n        },\n    };\n    if ((_f = options.tokenCachePersistenceOptions) === null || _f === void 0 ? void 0 : _f.enabled) {\n        if (persistenceProvider === undefined) {\n            throw new Error([\n                \"Persistent token caching was requested, but no persistence provider was configured.\",\n                \"You must install the identity-cache-persistence plugin package (`npm install --save @azure/identity-cache-persistence`)\",\n                \"and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling\",\n                \"`useIdentityPlugin(cachePersistencePlugin)` before using `tokenCachePersistenceOptions`.\",\n            ].join(\" \"));\n        }\n        const cacheBaseName = options.tokenCachePersistenceOptions.name || DEFAULT_TOKEN_CACHE_NAME;\n        config.cache.cachePlugin = persistenceProvider(Object.assign({ name: `${cacheBaseName}.${CACHE_NON_CAE_SUFFIX}` }, options.tokenCachePersistenceOptions));\n        config.cache.cachePluginCae = persistenceProvider(Object.assign({ name: `${cacheBaseName}.${CACHE_CAE_SUFFIX}` }, options.tokenCachePersistenceOptions));\n    }\n    if ((_g = options.brokerOptions) === null || _g === void 0 ? void 0 : _g.enabled) {\n        if (nativeBrokerInfo === undefined) {\n            throw new Error([\n                \"Broker for WAM was requested to be enabled, but no native broker was configured.\",\n                \"You must install the identity-broker plugin package (`npm install --save @azure/identity-broker`)\",\n                \"and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling\",\n                \"`useIdentityPlugin(createNativeBrokerPlugin())` before using `enableBroker`.\",\n            ].join(\" \"));\n        }\n        config.broker.nativeBrokerPlugin = nativeBrokerInfo.broker;\n    }\n    return config;\n}\n/**\n * Wraps generatePluginConfiguration as a writeable property for test stubbing purposes.\n */\nexport const msalPlugins = {\n    generatePluginConfiguration,\n};\n//# sourceMappingURL=msalPlugins.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { credentialLogger, formatError, formatSuccess } from \"../util/logging\";\nimport { processMultiTenantRequest, resolveAdditionallyAllowedTenantIds, } from \"../util/tenantIdUtils\";\nimport { AzureAuthorityHosts } from \"../constants\";\nimport { CredentialUnavailableError } from \"../errors\";\nimport { IdentityClient } from \"../client/identityClient\";\nimport { checkTenantId } from \"../util/tenantIdUtils\";\nimport fs from \"fs\";\nimport os from \"os\";\nimport path from \"path\";\nconst CommonTenantId = \"common\";\nconst AzureAccountClientId = \"aebc6443-996d-45c2-90f0-388ff96faa56\"; // VSC: 'aebc6443-996d-45c2-90f0-388ff96faa56'\nconst logger = credentialLogger(\"VisualStudioCodeCredential\");\nlet findCredentials = undefined;\nexport const vsCodeCredentialControl = {\n    setVsCodeCredentialFinder(finder) {\n        findCredentials = finder;\n    },\n};\n// Map of unsupported Tenant IDs and the errors we will be throwing.\nconst unsupportedTenantIds = {\n    adfs: \"The VisualStudioCodeCredential does not support authentication with ADFS tenants.\",\n};\nfunction checkUnsupportedTenant(tenantId) {\n    // If the Tenant ID isn't supported, we throw.\n    const unsupportedTenantError = unsupportedTenantIds[tenantId];\n    if (unsupportedTenantError) {\n        throw new CredentialUnavailableError(unsupportedTenantError);\n    }\n}\nconst mapVSCodeAuthorityHosts = {\n    AzureCloud: AzureAuthorityHosts.AzurePublicCloud,\n    AzureChina: AzureAuthorityHosts.AzureChina,\n    AzureGermanCloud: AzureAuthorityHosts.AzureGermany,\n    AzureUSGovernment: AzureAuthorityHosts.AzureGovernment,\n};\n/**\n * Attempts to load a specific property from the VSCode configurations of the current OS.\n * If it fails at any point, returns undefined.\n */\nexport function getPropertyFromVSCode(property) {\n    const settingsPath = [\"User\", \"settings.json\"];\n    // Eventually we can add more folders for more versions of VSCode.\n    const vsCodeFolder = \"Code\";\n    const homedir = os.homedir();\n    function loadProperty(...pathSegments) {\n        const fullPath = path.join(...pathSegments, vsCodeFolder, ...settingsPath);\n        const settings = JSON.parse(fs.readFileSync(fullPath, { encoding: \"utf8\" }));\n        return settings[property];\n    }\n    try {\n        let appData;\n        switch (process.platform) {\n            case \"win32\":\n                appData = process.env.APPDATA;\n                return appData ? loadProperty(appData) : undefined;\n            case \"darwin\":\n                return loadProperty(homedir, \"Library\", \"Application Support\");\n            case \"linux\":\n                return loadProperty(homedir, \".config\");\n            default:\n                return;\n        }\n    }\n    catch (e) {\n        logger.info(`Failed to load the Visual Studio Code configuration file. Error: ${e.message}`);\n        return;\n    }\n}\n/**\n * Connects to Azure using the credential provided by the VSCode extension 'Azure Account'.\n * Once the user has logged in via the extension, this credential can share the same refresh token\n * that is cached by the extension.\n *\n * It's a [known issue](https://github.com/Azure/azure-sdk-for-js/issues/20500) that this credential doesn't\n * work with [Azure Account extension](https://marketplace.visualstudio.com/items?itemName=ms-vscode.azure-account)\n * versions newer than **0.9.11**. A long-term fix to this problem is in progress. In the meantime, consider\n * authenticating with {@link AzureCliCredential}.\n */\nexport class VisualStudioCodeCredential {\n    /**\n     * Creates an instance of VisualStudioCodeCredential to use for automatically authenticating via VSCode.\n     *\n     * **Note**: `VisualStudioCodeCredential` is provided by a plugin package:\n     * `@azure/identity-vscode`. If this package is not installed and registered\n     * using the plugin API (`useIdentityPlugin`), then authentication using\n     * `VisualStudioCodeCredential` will not be available.\n     *\n     * @param options - Options for configuring the client which makes the authentication request.\n     */\n    constructor(options) {\n        // We want to make sure we use the one assigned by the user on the VSCode settings.\n        // Or just `AzureCloud` by default.\n        this.cloudName = (getPropertyFromVSCode(\"azure.cloud\") || \"AzureCloud\");\n        // Picking an authority host based on the cloud name.\n        const authorityHost = mapVSCodeAuthorityHosts[this.cloudName];\n        this.identityClient = new IdentityClient(Object.assign({ authorityHost }, options));\n        if (options && options.tenantId) {\n            checkTenantId(logger, options.tenantId);\n            this.tenantId = options.tenantId;\n        }\n        else {\n            this.tenantId = CommonTenantId;\n        }\n        this.additionallyAllowedTenantIds = resolveAdditionallyAllowedTenantIds(options === null || options === void 0 ? void 0 : options.additionallyAllowedTenants);\n        checkUnsupportedTenant(this.tenantId);\n    }\n    /**\n     * Runs preparations for any further getToken request.\n     */\n    async prepare() {\n        // Attempts to load the tenant from the VSCode configuration file.\n        const settingsTenant = getPropertyFromVSCode(\"azure.tenant\");\n        if (settingsTenant) {\n            this.tenantId = settingsTenant;\n        }\n        checkUnsupportedTenant(this.tenantId);\n    }\n    /**\n     * Runs preparations for any further getToken, but only once.\n     */\n    prepareOnce() {\n        if (!this.preparePromise) {\n            this.preparePromise = this.prepare();\n        }\n        return this.preparePromise;\n    }\n    /**\n     * Returns the token found by searching VSCode's authentication cache or\n     * returns null if no token could be found.\n     *\n     * @param scopes - The list of scopes for which the token will have access.\n     * @param options - The options used to configure any requests this\n     *                `TokenCredential` implementation might make.\n     */\n    async getToken(scopes, options) {\n        var _a, _b;\n        await this.prepareOnce();\n        const tenantId = processMultiTenantRequest(this.tenantId, options, this.additionallyAllowedTenantIds, logger) || this.tenantId;\n        if (findCredentials === undefined) {\n            throw new CredentialUnavailableError([\n                \"No implementation of `VisualStudioCodeCredential` is available.\",\n                \"You must install the identity-vscode plugin package (`npm install --save-dev @azure/identity-vscode`)\",\n                \"and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling\",\n                \"`useIdentityPlugin(vsCodePlugin)` before creating a `VisualStudioCodeCredential`.\",\n                \"To troubleshoot, visit https://aka.ms/azsdk/js/identity/vscodecredential/troubleshoot.\",\n            ].join(\" \"));\n        }\n        let scopeString = typeof scopes === \"string\" ? scopes : scopes.join(\" \");\n        // Check to make sure the scope we get back is a valid scope\n        if (!scopeString.match(/^[0-9a-zA-Z-.:/]+$/)) {\n            const error = new Error(\"Invalid scope was specified by the user or calling client\");\n            logger.getToken.info(formatError(scopes, error));\n            throw error;\n        }\n        if (scopeString.indexOf(\"offline_access\") < 0) {\n            scopeString += \" offline_access\";\n        }\n        // findCredentials returns an array similar to:\n        // [\n        //   {\n        //     account: \"\",\n        //     password: \"\",\n        //   },\n        //   /* ... */\n        // ]\n        const credentials = await findCredentials();\n        // If we can't find the credential based on the name, we'll pick the first one available.\n        const { password: refreshToken } = (_b = (_a = credentials.find(({ account }) => account === this.cloudName)) !== null && _a !== void 0 ? _a : credentials[0]) !== null && _b !== void 0 ? _b : {};\n        if (refreshToken) {\n            const tokenResponse = await this.identityClient.refreshAccessToken(tenantId, AzureAccountClientId, scopeString, refreshToken, undefined);\n            if (tokenResponse) {\n                logger.getToken.info(formatSuccess(scopes));\n                return tokenResponse.accessToken;\n            }\n            else {\n                const error = new CredentialUnavailableError(\"Could not retrieve the token associated with Visual Studio Code. Have you connected using the 'Azure Account' extension recently? To troubleshoot, visit https://aka.ms/azsdk/js/identity/vscodecredential/troubleshoot.\");\n                logger.getToken.info(formatError(scopes, error));\n                throw error;\n            }\n        }\n        else {\n            const error = new CredentialUnavailableError(\"Could not retrieve the token associated with Visual Studio Code. Did you connect using the 'Azure Account' extension? To troubleshoot, visit https://aka.ms/azsdk/js/identity/vscodecredential/troubleshoot.\");\n            logger.getToken.info(formatError(scopes, error));\n            throw error;\n        }\n    }\n}\n//# sourceMappingURL=visualStudioCodeCredential.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * Current version of the `@azure/identity` package.\n */\nexport const SDK_VERSION = `4.2.0`;\n/**\n * The default client ID for authentication\n * @internal\n */\n// TODO: temporary - this is the Azure CLI clientID - we'll replace it when\n// Developer Sign On application is available\n// https://github.com/Azure/azure-sdk-for-net/blob/main/sdk/identity/Azure.Identity/src/Constants.cs#L9\nexport const DeveloperSignOnClientId = \"04b07795-8ddb-461a-bbee-02f9e1bf7b46\";\n/**\n * The default tenant for authentication\n * @internal\n */\nexport const DefaultTenantId = \"common\";\n/**\n * A list of known Azure authority hosts\n */\nexport var AzureAuthorityHosts;\n(function (AzureAuthorityHosts) {\n    /**\n     * China-based Azure Authority Host\n     */\n    AzureAuthorityHosts[\"AzureChina\"] = \"https://login.chinacloudapi.cn\";\n    /**\n     * Germany-based Azure Authority Host\n     */\n    AzureAuthorityHosts[\"AzureGermany\"] = \"https://login.microsoftonline.de\";\n    /**\n     * US Government Azure Authority Host\n     */\n    AzureAuthorityHosts[\"AzureGovernment\"] = \"https://login.microsoftonline.us\";\n    /**\n     * Public Cloud Azure Authority Host\n     */\n    AzureAuthorityHosts[\"AzurePublicCloud\"] = \"https://login.microsoftonline.com\";\n})(AzureAuthorityHosts || (AzureAuthorityHosts = {}));\n/**\n * @internal\n * The default authority host.\n */\nexport const DefaultAuthorityHost = AzureAuthorityHosts.AzurePublicCloud;\n/**\n * @internal\n * Allow acquiring tokens for any tenant for multi-tentant auth.\n */\nexport const ALL_TENANTS = [\"*\"];\n/**\n * @internal\n */\nexport const CACHE_CAE_SUFFIX = \"cae\";\n/**\n * @internal\n */\nexport const CACHE_NON_CAE_SUFFIX = \"nocae\";\n/**\n * @internal\n *\n * The default name for the cache persistence plugin.\n * Matches the constant defined in the cache persistence package.\n */\nexport const DEFAULT_TOKEN_CACHE_NAME = \"msal.cache\";\n//# sourceMappingURL=constants.js.map","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { Constants } from '../utils/Constants.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Log message level.\n */\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"Error\"] = 0] = \"Error\";\n    LogLevel[LogLevel[\"Warning\"] = 1] = \"Warning\";\n    LogLevel[LogLevel[\"Info\"] = 2] = \"Info\";\n    LogLevel[LogLevel[\"Verbose\"] = 3] = \"Verbose\";\n    LogLevel[LogLevel[\"Trace\"] = 4] = \"Trace\";\n})(LogLevel || (LogLevel = {}));\n/**\n * Class which facilitates logging of messages to a specific place.\n */\nclass Logger {\n    constructor(loggerOptions, packageName, packageVersion) {\n        // Current log level, defaults to info.\n        this.level = LogLevel.Info;\n        const defaultLoggerCallback = () => {\n            return;\n        };\n        const setLoggerOptions = loggerOptions || Logger.createDefaultLoggerOptions();\n        this.localCallback =\n            setLoggerOptions.loggerCallback || defaultLoggerCallback;\n        this.piiLoggingEnabled = setLoggerOptions.piiLoggingEnabled || false;\n        this.level =\n            typeof setLoggerOptions.logLevel === \"number\"\n                ? setLoggerOptions.logLevel\n                : LogLevel.Info;\n        this.correlationId =\n            setLoggerOptions.correlationId || Constants.EMPTY_STRING;\n        this.packageName = packageName || Constants.EMPTY_STRING;\n        this.packageVersion = packageVersion || Constants.EMPTY_STRING;\n    }\n    static createDefaultLoggerOptions() {\n        return {\n            loggerCallback: () => {\n                // allow users to not set loggerCallback\n            },\n            piiLoggingEnabled: false,\n            logLevel: LogLevel.Info,\n        };\n    }\n    /**\n     * Create new Logger with existing configurations.\n     */\n    clone(packageName, packageVersion, correlationId) {\n        return new Logger({\n            loggerCallback: this.localCallback,\n            piiLoggingEnabled: this.piiLoggingEnabled,\n            logLevel: this.level,\n            correlationId: correlationId || this.correlationId,\n        }, packageName, packageVersion);\n    }\n    /**\n     * Log message with required options.\n     */\n    logMessage(logMessage, options) {\n        if (options.logLevel > this.level ||\n            (!this.piiLoggingEnabled && options.containsPii)) {\n            return;\n        }\n        const timestamp = new Date().toUTCString();\n        // Add correlationId to logs if set, correlationId provided on log messages take precedence\n        const logHeader = `[${timestamp}] : [${options.correlationId || this.correlationId || \"\"}]`;\n        const log = `${logHeader} : ${this.packageName}@${this.packageVersion} : ${LogLevel[options.logLevel]} - ${logMessage}`;\n        // debug(`msal:${LogLevel[options.logLevel]}${options.containsPii ? \"-Pii\": Constants.EMPTY_STRING}${options.context ? `:${options.context}` : Constants.EMPTY_STRING}`)(logMessage);\n        this.executeCallback(options.logLevel, log, options.containsPii || false);\n    }\n    /**\n     * Execute callback with message.\n     */\n    executeCallback(level, message, containsPii) {\n        if (this.localCallback) {\n            this.localCallback(level, message, containsPii);\n        }\n    }\n    /**\n     * Logs error messages.\n     */\n    error(message, correlationId) {\n        this.logMessage(message, {\n            logLevel: LogLevel.Error,\n            containsPii: false,\n            correlationId: correlationId || Constants.EMPTY_STRING,\n        });\n    }\n    /**\n     * Logs error messages with PII.\n     */\n    errorPii(message, correlationId) {\n        this.logMessage(message, {\n            logLevel: LogLevel.Error,\n            containsPii: true,\n            correlationId: correlationId || Constants.EMPTY_STRING,\n        });\n    }\n    /**\n     * Logs warning messages.\n     */\n    warning(message, correlationId) {\n        this.logMessage(message, {\n            logLevel: LogLevel.Warning,\n            containsPii: false,\n            correlationId: correlationId || Constants.EMPTY_STRING,\n        });\n    }\n    /**\n     * Logs warning messages with PII.\n     */\n    warningPii(message, correlationId) {\n        this.logMessage(message, {\n            logLevel: LogLevel.Warning,\n            containsPii: true,\n            correlationId: correlationId || Constants.EMPTY_STRING,\n        });\n    }\n    /**\n     * Logs info messages.\n     */\n    info(message, correlationId) {\n        this.logMessage(message, {\n            logLevel: LogLevel.Info,\n            containsPii: false,\n            correlationId: correlationId || Constants.EMPTY_STRING,\n        });\n    }\n    /**\n     * Logs info messages with PII.\n     */\n    infoPii(message, correlationId) {\n        this.logMessage(message, {\n            logLevel: LogLevel.Info,\n            containsPii: true,\n            correlationId: correlationId || Constants.EMPTY_STRING,\n        });\n    }\n    /**\n     * Logs verbose messages.\n     */\n    verbose(message, correlationId) {\n        this.logMessage(message, {\n            logLevel: LogLevel.Verbose,\n            containsPii: false,\n            correlationId: correlationId || Constants.EMPTY_STRING,\n        });\n    }\n    /**\n     * Logs verbose messages with PII.\n     */\n    verbosePii(message, correlationId) {\n        this.logMessage(message, {\n            logLevel: LogLevel.Verbose,\n            containsPii: true,\n            correlationId: correlationId || Constants.EMPTY_STRING,\n        });\n    }\n    /**\n     * Logs trace messages.\n     */\n    trace(message, correlationId) {\n        this.logMessage(message, {\n            logLevel: LogLevel.Trace,\n            containsPii: false,\n            correlationId: correlationId || Constants.EMPTY_STRING,\n        });\n    }\n    /**\n     * Logs trace messages with PII.\n     */\n    tracePii(message, correlationId) {\n        this.logMessage(message, {\n            logLevel: LogLevel.Trace,\n            containsPii: true,\n            correlationId: correlationId || Constants.EMPTY_STRING,\n        });\n    }\n    /**\n     * Returns whether PII Logging is enabled or not.\n     */\n    isPiiLoggingEnabled() {\n        return this.piiLoggingEnabled || false;\n    }\n}\n\nexport { LogLevel, Logger };\n//# sourceMappingURL=Logger.mjs.map\n","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * Helps specify a regional authority, or \"AutoDiscoverRegion\" to auto-detect the region.\n */\nexport var RegionalAuthority;\n(function (RegionalAuthority) {\n    /** Instructs MSAL to attempt to discover the region */\n    RegionalAuthority[\"AutoDiscoverRegion\"] = \"AutoDiscoverRegion\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'westus' region. */\n    RegionalAuthority[\"USWest\"] = \"westus\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'westus2' region. */\n    RegionalAuthority[\"USWest2\"] = \"westus2\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'centralus' region. */\n    RegionalAuthority[\"USCentral\"] = \"centralus\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'eastus' region. */\n    RegionalAuthority[\"USEast\"] = \"eastus\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'eastus2' region. */\n    RegionalAuthority[\"USEast2\"] = \"eastus2\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'northcentralus' region. */\n    RegionalAuthority[\"USNorthCentral\"] = \"northcentralus\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'southcentralus' region. */\n    RegionalAuthority[\"USSouthCentral\"] = \"southcentralus\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'westcentralus' region. */\n    RegionalAuthority[\"USWestCentral\"] = \"westcentralus\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'canadacentral' region. */\n    RegionalAuthority[\"CanadaCentral\"] = \"canadacentral\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'canadaeast' region. */\n    RegionalAuthority[\"CanadaEast\"] = \"canadaeast\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'brazilsouth' region. */\n    RegionalAuthority[\"BrazilSouth\"] = \"brazilsouth\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'northeurope' region. */\n    RegionalAuthority[\"EuropeNorth\"] = \"northeurope\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'westeurope' region. */\n    RegionalAuthority[\"EuropeWest\"] = \"westeurope\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'uksouth' region. */\n    RegionalAuthority[\"UKSouth\"] = \"uksouth\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'ukwest' region. */\n    RegionalAuthority[\"UKWest\"] = \"ukwest\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'francecentral' region. */\n    RegionalAuthority[\"FranceCentral\"] = \"francecentral\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'francesouth' region. */\n    RegionalAuthority[\"FranceSouth\"] = \"francesouth\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'switzerlandnorth' region. */\n    RegionalAuthority[\"SwitzerlandNorth\"] = \"switzerlandnorth\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'switzerlandwest' region. */\n    RegionalAuthority[\"SwitzerlandWest\"] = \"switzerlandwest\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'germanynorth' region. */\n    RegionalAuthority[\"GermanyNorth\"] = \"germanynorth\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'germanywestcentral' region. */\n    RegionalAuthority[\"GermanyWestCentral\"] = \"germanywestcentral\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'norwaywest' region. */\n    RegionalAuthority[\"NorwayWest\"] = \"norwaywest\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'norwayeast' region. */\n    RegionalAuthority[\"NorwayEast\"] = \"norwayeast\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'eastasia' region. */\n    RegionalAuthority[\"AsiaEast\"] = \"eastasia\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'southeastasia' region. */\n    RegionalAuthority[\"AsiaSouthEast\"] = \"southeastasia\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'japaneast' region. */\n    RegionalAuthority[\"JapanEast\"] = \"japaneast\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'japanwest' region. */\n    RegionalAuthority[\"JapanWest\"] = \"japanwest\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'australiaeast' region. */\n    RegionalAuthority[\"AustraliaEast\"] = \"australiaeast\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'australiasoutheast' region. */\n    RegionalAuthority[\"AustraliaSouthEast\"] = \"australiasoutheast\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'australiacentral' region. */\n    RegionalAuthority[\"AustraliaCentral\"] = \"australiacentral\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'australiacentral2' region. */\n    RegionalAuthority[\"AustraliaCentral2\"] = \"australiacentral2\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'centralindia' region. */\n    RegionalAuthority[\"IndiaCentral\"] = \"centralindia\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'southindia' region. */\n    RegionalAuthority[\"IndiaSouth\"] = \"southindia\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'westindia' region. */\n    RegionalAuthority[\"IndiaWest\"] = \"westindia\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'koreasouth' region. */\n    RegionalAuthority[\"KoreaSouth\"] = \"koreasouth\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'koreacentral' region. */\n    RegionalAuthority[\"KoreaCentral\"] = \"koreacentral\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'uaecentral' region. */\n    RegionalAuthority[\"UAECentral\"] = \"uaecentral\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'uaenorth' region. */\n    RegionalAuthority[\"UAENorth\"] = \"uaenorth\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'southafricanorth' region. */\n    RegionalAuthority[\"SouthAfricaNorth\"] = \"southafricanorth\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'southafricawest' region. */\n    RegionalAuthority[\"SouthAfricaWest\"] = \"southafricawest\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'chinanorth' region. */\n    RegionalAuthority[\"ChinaNorth\"] = \"chinanorth\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'chinaeast' region. */\n    RegionalAuthority[\"ChinaEast\"] = \"chinaeast\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'chinanorth2' region. */\n    RegionalAuthority[\"ChinaNorth2\"] = \"chinanorth2\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'chinaeast2' region. */\n    RegionalAuthority[\"ChinaEast2\"] = \"chinaeast2\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'germanycentral' region. */\n    RegionalAuthority[\"GermanyCentral\"] = \"germanycentral\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'germanynortheast' region. */\n    RegionalAuthority[\"GermanyNorthEast\"] = \"germanynortheast\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'usgovvirginia' region. */\n    RegionalAuthority[\"GovernmentUSVirginia\"] = \"usgovvirginia\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'usgoviowa' region. */\n    RegionalAuthority[\"GovernmentUSIowa\"] = \"usgoviowa\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'usgovarizona' region. */\n    RegionalAuthority[\"GovernmentUSArizona\"] = \"usgovarizona\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'usgovtexas' region. */\n    RegionalAuthority[\"GovernmentUSTexas\"] = \"usgovtexas\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'usdodeast' region. */\n    RegionalAuthority[\"GovernmentUSDodEast\"] = \"usdodeast\";\n    /** Uses the {@link RegionalAuthority} for the Azure 'usdodcentral' region. */\n    RegionalAuthority[\"GovernmentUSDodCentral\"] = \"usdodcentral\";\n})(RegionalAuthority || (RegionalAuthority = {}));\n/**\n * Calculates the correct regional authority based on the supplied value\n * and the AZURE_REGIONAL_AUTHORITY_NAME environment variable.\n *\n * Values will be returned verbatim, except for {@link RegionalAuthority.AutoDiscoverRegion}\n * which is mapped to a value MSAL can understand.\n *\n * @internal\n */\nexport function calculateRegionalAuthority(regionalAuthority) {\n    // Note: as of today only 3 credentials support regional authority, and the parameter\n    // is not exposed via the public API. Regional Authority is _only_ supported\n    // via the AZURE_REGIONAL_AUTHORITY_NAME env var and _only_ for: ClientSecretCredential, ClientCertificateCredential, and ClientAssertionCredential.\n    var _a, _b;\n    // Accepting the regionalAuthority parameter will allow us to support it in the future.\n    let azureRegion = regionalAuthority;\n    if (azureRegion === undefined &&\n        ((_b = (_a = globalThis.process) === null || _a === void 0 ? void 0 : _a.env) === null || _b === void 0 ? void 0 : _b.AZURE_REGIONAL_AUTHORITY_NAME) !== undefined) {\n        azureRegion = process.env.AZURE_REGIONAL_AUTHORITY_NAME;\n    }\n    if (azureRegion === RegionalAuthority.AutoDiscoverRegion) {\n        return \"AUTO_DISCOVER\";\n    }\n    return azureRegion;\n}\n//# sourceMappingURL=regionalAuthority.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nvar _a;\nimport { randomUUID as v4RandomUUID } from \"crypto\";\n// NOTE: This is a workaround until we can use `globalThis.crypto.randomUUID` in Node.js 19+.\nconst uuidFunction = typeof ((_a = globalThis === null || globalThis === void 0 ? void 0 : globalThis.crypto) === null || _a === void 0 ? void 0 : _a.randomUUID) === \"function\"\n    ? globalThis.crypto.randomUUID.bind(globalThis.crypto)\n    : v4RandomUUID;\n/**\n * Generated Universally Unique Identifier\n *\n * @returns RFC4122 v4 UUID.\n */\nexport function randomUUID() {\n    return uuidFunction();\n}\n//# sourceMappingURL=uuidUtils.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nvar _a, _b, _c, _d;\n/**\n * A constant that indicates whether the environment the code is running is a Web Browser.\n */\n// eslint-disable-next-line @azure/azure-sdk/ts-no-window\nexport const isBrowser = typeof window !== \"undefined\" && typeof window.document !== \"undefined\";\n/**\n * A constant that indicates whether the environment the code is running is a Web Worker.\n */\nexport const isWebWorker = typeof self === \"object\" &&\n    typeof (self === null || self === void 0 ? void 0 : self.importScripts) === \"function\" &&\n    (((_a = self.constructor) === null || _a === void 0 ? void 0 : _a.name) === \"DedicatedWorkerGlobalScope\" ||\n        ((_b = self.constructor) === null || _b === void 0 ? void 0 : _b.name) === \"ServiceWorkerGlobalScope\" ||\n        ((_c = self.constructor) === null || _c === void 0 ? void 0 : _c.name) === \"SharedWorkerGlobalScope\");\n/**\n * A constant that indicates whether the environment the code is running is Deno.\n */\nexport const isDeno = typeof Deno !== \"undefined\" &&\n    typeof Deno.version !== \"undefined\" &&\n    typeof Deno.version.deno !== \"undefined\";\n/**\n * A constant that indicates whether the environment the code is running is Bun.sh.\n */\nexport const isBun = typeof Bun !== \"undefined\" && typeof Bun.version !== \"undefined\";\n/**\n * A constant that indicates whether the environment the code is running is a Node.js compatible environment.\n */\nexport const isNodeLike = typeof globalThis.process !== \"undefined\" &&\n    Boolean(globalThis.process.version) &&\n    Boolean((_d = globalThis.process.versions) === null || _d === void 0 ? void 0 : _d.node);\n/**\n * A constant that indicates whether the environment the code is running is a Node.js compatible environment.\n * @deprecated Use `isNodeLike` instead.\n */\nexport const isNode = isNodeLike;\n/**\n * A constant that indicates whether the environment the code is running is Node.JS.\n */\nexport const isNodeRuntime = isNodeLike && !isBun && !isDeno;\n/**\n * A constant that indicates whether the environment the code is running is in React-Native.\n */\n// https://github.com/facebook/react-native/blob/main/packages/react-native/Libraries/Core/setUpNavigator.js\nexport const isReactNative = typeof navigator !== \"undefined\" && (navigator === null || navigator === void 0 ? void 0 : navigator.product) === \"ReactNative\";\n//# sourceMappingURL=checkEnvironment.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { EOL } from \"node:os\";\nimport util from \"node:util\";\nimport * as process from \"node:process\";\nexport function log(message, ...args) {\n    process.stderr.write(`${util.format(message, ...args)}${EOL}`);\n}\n//# sourceMappingURL=log.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createClientLogger } from \"@azure/logger\";\n/**\n * The AzureLogger used for all clients within the identity package\n */\nexport const logger = createClientLogger(\"identity\");\n/**\n * Separates a list of environment variable names into a plain object with two arrays: an array of missing environment variables and another array with assigned environment variables.\n * @param supportedEnvVars - List of environment variable names\n */\nexport function processEnvVars(supportedEnvVars) {\n    return supportedEnvVars.reduce((acc, envVariable) => {\n        if (process.env[envVariable]) {\n            acc.assigned.push(envVariable);\n        }\n        else {\n            acc.missing.push(envVariable);\n        }\n        return acc;\n    }, { missing: [], assigned: [] });\n}\n/**\n * Based on a given list of environment variable names,\n * logs the environment variables currently assigned during the usage of a credential that goes by the given name.\n * @param credentialName - Name of the credential in use\n * @param supportedEnvVars - List of environment variables supported by that credential\n */\nexport function logEnvVars(credentialName, supportedEnvVars) {\n    const { assigned } = processEnvVars(supportedEnvVars);\n    logger.info(`${credentialName} => Found the following environment variables: ${assigned.join(\", \")}`);\n}\n/**\n * Formatting the success event on the credentials\n */\nexport function formatSuccess(scope) {\n    return `SUCCESS. Scopes: ${Array.isArray(scope) ? scope.join(\", \") : scope}.`;\n}\n/**\n * Formatting the success event on the credentials\n */\nexport function formatError(scope, error) {\n    let message = \"ERROR.\";\n    if (scope === null || scope === void 0 ? void 0 : scope.length) {\n        message += ` Scopes: ${Array.isArray(scope) ? scope.join(\", \") : scope}.`;\n    }\n    return `${message} Error message: ${typeof error === \"string\" ? error : error.message}.`;\n}\n/**\n * Generates a CredentialLoggerInstance.\n *\n * It logs with the format:\n *\n *   `[title] => [message]`\n *\n */\nexport function credentialLoggerInstance(title, parent, log = logger) {\n    const fullTitle = parent ? `${parent.fullTitle} ${title}` : title;\n    function info(message) {\n        log.info(`${fullTitle} =>`, message);\n    }\n    function warning(message) {\n        log.warning(`${fullTitle} =>`, message);\n    }\n    function verbose(message) {\n        log.verbose(`${fullTitle} =>`, message);\n    }\n    return {\n        title,\n        fullTitle,\n        info,\n        warning,\n        verbose,\n    };\n}\n/**\n * Generates a CredentialLogger, which is a logger declared at the credential's constructor, and used at any point in the credential.\n * It has all the properties of a CredentialLoggerInstance, plus other logger instances, one per method.\n *\n * It logs with the format:\n *\n *   `[title] => [message]`\n *   `[title] => getToken() => [message]`\n *\n */\nexport function credentialLogger(title, log = logger) {\n    const credLogger = credentialLoggerInstance(title, undefined, log);\n    return Object.assign(Object.assign({}, credLogger), { parent: log, getToken: credentialLoggerInstance(\"=> getToken()\", credLogger, log) });\n}\n//# sourceMappingURL=logging.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { ALL_TENANTS, DeveloperSignOnClientId } from \"../constants\";\nimport { formatError } from \"./logging\";\nexport { processMultiTenantRequest } from \"./processMultiTenantRequest\";\n/**\n * @internal\n */\nexport function checkTenantId(logger, tenantId) {\n    if (!tenantId.match(/^[0-9a-zA-Z-.]+$/)) {\n        const error = new Error(\"Invalid tenant id provided. You can locate your tenant id by following the instructions listed here: https://learn.microsoft.com/partner-center/find-ids-and-domain-names.\");\n        logger.info(formatError(\"\", error));\n        throw error;\n    }\n}\n/**\n * @internal\n */\nexport function resolveTenantId(logger, tenantId, clientId) {\n    if (tenantId) {\n        checkTenantId(logger, tenantId);\n        return tenantId;\n    }\n    if (!clientId) {\n        clientId = DeveloperSignOnClientId;\n    }\n    if (clientId !== DeveloperSignOnClientId) {\n        return \"common\";\n    }\n    return \"organizations\";\n}\n/**\n * @internal\n */\nexport function resolveAdditionallyAllowedTenantIds(additionallyAllowedTenants) {\n    if (!additionallyAllowedTenants || additionallyAllowedTenants.length === 0) {\n        return [];\n    }\n    if (additionallyAllowedTenants.includes(\"*\")) {\n        return ALL_TENANTS;\n    }\n    return additionallyAllowedTenants;\n}\n//# sourceMappingURL=tenantIdUtils.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nfunction isErrorResponse(errorResponse) {\n    return (errorResponse &&\n        typeof errorResponse.error === \"string\" &&\n        typeof errorResponse.error_description === \"string\");\n}\n/**\n * The Error.name value of an CredentialUnavailable\n */\nexport const CredentialUnavailableErrorName = \"CredentialUnavailableError\";\n/**\n * This signifies that the credential that was tried in a chained credential\n * was not available to be used as the credential. Rather than treating this as\n * an error that should halt the chain, it's caught and the chain continues\n */\nexport class CredentialUnavailableError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = CredentialUnavailableErrorName;\n    }\n}\n/**\n * The Error.name value of an AuthenticationError\n */\nexport const AuthenticationErrorName = \"AuthenticationError\";\n/**\n * Provides details about a failure to authenticate with Azure Active\n * Directory.  The `errorResponse` field contains more details about\n * the specific failure.\n */\nexport class AuthenticationError extends Error {\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    constructor(statusCode, errorBody) {\n        let errorResponse = {\n            error: \"unknown\",\n            errorDescription: \"An unknown error occurred and no additional details are available.\",\n        };\n        if (isErrorResponse(errorBody)) {\n            errorResponse = convertOAuthErrorResponseToErrorResponse(errorBody);\n        }\n        else if (typeof errorBody === \"string\") {\n            try {\n                // Most error responses will contain JSON-formatted error details\n                // in the response body\n                const oauthErrorResponse = JSON.parse(errorBody);\n                errorResponse = convertOAuthErrorResponseToErrorResponse(oauthErrorResponse);\n            }\n            catch (e) {\n                if (statusCode === 400) {\n                    errorResponse = {\n                        error: \"authority_not_found\",\n                        errorDescription: \"The specified authority URL was not found.\",\n                    };\n                }\n                else {\n                    errorResponse = {\n                        error: \"unknown_error\",\n                        errorDescription: `An unknown error has occurred. Response body:\\n\\n${errorBody}`,\n                    };\n                }\n            }\n        }\n        else {\n            errorResponse = {\n                error: \"unknown_error\",\n                errorDescription: \"An unknown error occurred and no additional details are available.\",\n            };\n        }\n        super(`${errorResponse.error} Status code: ${statusCode}\\nMore details:\\n${errorResponse.errorDescription}`);\n        this.statusCode = statusCode;\n        this.errorResponse = errorResponse;\n        // Ensure that this type reports the correct name\n        this.name = AuthenticationErrorName;\n    }\n}\n/**\n * The Error.name value of an AggregateAuthenticationError\n */\nexport const AggregateAuthenticationErrorName = \"AggregateAuthenticationError\";\n/**\n * Provides an `errors` array containing {@link AuthenticationError} instance\n * for authentication failures from credentials in a {@link ChainedTokenCredential}.\n */\nexport class AggregateAuthenticationError extends Error {\n    constructor(errors, errorMessage) {\n        const errorDetail = errors.join(\"\\n\");\n        super(`${errorMessage}\\n${errorDetail}`);\n        this.errors = errors;\n        // Ensure that this type reports the correct name\n        this.name = AggregateAuthenticationErrorName;\n    }\n}\nfunction convertOAuthErrorResponseToErrorResponse(errorBody) {\n    return {\n        error: errorBody.error,\n        errorDescription: errorBody.error_description,\n        correlationId: errorBody.correlation_id,\n        errorCodes: errorBody.error_codes,\n        timestamp: errorBody.timestamp,\n        traceId: errorBody.trace_id,\n    };\n}\n/**\n * Error used to enforce authentication after trying to retrieve a token silently.\n */\nexport class AuthenticationRequiredError extends Error {\n    constructor(\n    /**\n     * Optional parameters. A message can be specified. The {@link GetTokenOptions} of the request can also be specified to more easily associate the error with the received parameters.\n     */\n    options) {\n        super(options.message);\n        this.scopes = options.scopes;\n        this.getTokenOptions = options.getTokenOptions;\n        this.name = \"AuthenticationRequiredError\";\n    }\n}\n//# sourceMappingURL=errors.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { CredentialUnavailableError } from \"../errors\";\nfunction createConfigurationErrorMessage(tenantId) {\n    return `The current credential is not configured to acquire tokens for tenant ${tenantId}. To enable acquiring tokens for this tenant add it to the AdditionallyAllowedTenants on the credential options, or add \"*\" to AdditionallyAllowedTenants to allow acquiring tokens for any tenant.`;\n}\n/**\n * Of getToken contains a tenantId, this functions allows picking this tenantId as the appropriate for authentication,\n * unless multitenant authentication has been disabled through the AZURE_IDENTITY_DISABLE_MULTITENANTAUTH (on Node.js),\n * or unless the original tenant Id is `adfs`.\n * @internal\n */\nexport function processMultiTenantRequest(tenantId, getTokenOptions, additionallyAllowedTenantIds = [], logger) {\n    var _a;\n    let resolvedTenantId;\n    if (process.env.AZURE_IDENTITY_DISABLE_MULTITENANTAUTH) {\n        resolvedTenantId = tenantId;\n    }\n    else if (tenantId === \"adfs\") {\n        resolvedTenantId = tenantId;\n    }\n    else {\n        resolvedTenantId = (_a = getTokenOptions === null || getTokenOptions === void 0 ? void 0 : getTokenOptions.tenantId) !== null && _a !== void 0 ? _a : tenantId;\n    }\n    if (tenantId &&\n        resolvedTenantId !== tenantId &&\n        !additionallyAllowedTenantIds.includes(\"*\") &&\n        !additionallyAllowedTenantIds.some((t) => t.localeCompare(resolvedTenantId) === 0)) {\n        const message = createConfigurationErrorMessage(tenantId);\n        logger === null || logger === void 0 ? void 0 : logger.info(message);\n        throw new CredentialUnavailableError(message);\n    }\n    return resolvedTenantId;\n}\n//# sourceMappingURL=processMultiTenantRequest.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nconst ValidPhaseNames = new Set([\"Deserialize\", \"Serialize\", \"Retry\", \"Sign\"]);\n/**\n * A private implementation of Pipeline.\n * Do not export this class from the package.\n * @internal\n */\nclass HttpPipeline {\n    constructor(policies) {\n        var _a;\n        this._policies = [];\n        this._policies = (_a = policies === null || policies === void 0 ? void 0 : policies.slice(0)) !== null && _a !== void 0 ? _a : [];\n        this._orderedPolicies = undefined;\n    }\n    addPolicy(policy, options = {}) {\n        if (options.phase && options.afterPhase) {\n            throw new Error(\"Policies inside a phase cannot specify afterPhase.\");\n        }\n        if (options.phase && !ValidPhaseNames.has(options.phase)) {\n            throw new Error(`Invalid phase name: ${options.phase}`);\n        }\n        if (options.afterPhase && !ValidPhaseNames.has(options.afterPhase)) {\n            throw new Error(`Invalid afterPhase name: ${options.afterPhase}`);\n        }\n        this._policies.push({\n            policy,\n            options,\n        });\n        this._orderedPolicies = undefined;\n    }\n    removePolicy(options) {\n        const removedPolicies = [];\n        this._policies = this._policies.filter((policyDescriptor) => {\n            if ((options.name && policyDescriptor.policy.name === options.name) ||\n                (options.phase && policyDescriptor.options.phase === options.phase)) {\n                removedPolicies.push(policyDescriptor.policy);\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n        this._orderedPolicies = undefined;\n        return removedPolicies;\n    }\n    sendRequest(httpClient, request) {\n        const policies = this.getOrderedPolicies();\n        const pipeline = policies.reduceRight((next, policy) => {\n            return (req) => {\n                return policy.sendRequest(req, next);\n            };\n        }, (req) => httpClient.sendRequest(req));\n        return pipeline(request);\n    }\n    getOrderedPolicies() {\n        if (!this._orderedPolicies) {\n            this._orderedPolicies = this.orderPolicies();\n        }\n        return this._orderedPolicies;\n    }\n    clone() {\n        return new HttpPipeline(this._policies);\n    }\n    static create() {\n        return new HttpPipeline();\n    }\n    orderPolicies() {\n        /**\n         * The goal of this method is to reliably order pipeline policies\n         * based on their declared requirements when they were added.\n         *\n         * Order is first determined by phase:\n         *\n         * 1. Serialize Phase\n         * 2. Policies not in a phase\n         * 3. Deserialize Phase\n         * 4. Retry Phase\n         * 5. Sign Phase\n         *\n         * Within each phase, policies are executed in the order\n         * they were added unless they were specified to execute\n         * before/after other policies or after a particular phase.\n         *\n         * To determine the final order, we will walk the policy list\n         * in phase order multiple times until all dependencies are\n         * satisfied.\n         *\n         * `afterPolicies` are the set of policies that must be\n         * executed before a given policy. This requirement is\n         * considered satisfied when each of the listed policies\n         * have been scheduled.\n         *\n         * `beforePolicies` are the set of policies that must be\n         * executed after a given policy. Since this dependency\n         * can be expressed by converting it into a equivalent\n         * `afterPolicies` declarations, they are normalized\n         * into that form for simplicity.\n         *\n         * An `afterPhase` dependency is considered satisfied when all\n         * policies in that phase have scheduled.\n         *\n         */\n        const result = [];\n        // Track all policies we know about.\n        const policyMap = new Map();\n        function createPhase(name) {\n            return {\n                name,\n                policies: new Set(),\n                hasRun: false,\n                hasAfterPolicies: false,\n            };\n        }\n        // Track policies for each phase.\n        const serializePhase = createPhase(\"Serialize\");\n        const noPhase = createPhase(\"None\");\n        const deserializePhase = createPhase(\"Deserialize\");\n        const retryPhase = createPhase(\"Retry\");\n        const signPhase = createPhase(\"Sign\");\n        // a list of phases in order\n        const orderedPhases = [serializePhase, noPhase, deserializePhase, retryPhase, signPhase];\n        // Small helper function to map phase name to each Phase\n        function getPhase(phase) {\n            if (phase === \"Retry\") {\n                return retryPhase;\n            }\n            else if (phase === \"Serialize\") {\n                return serializePhase;\n            }\n            else if (phase === \"Deserialize\") {\n                return deserializePhase;\n            }\n            else if (phase === \"Sign\") {\n                return signPhase;\n            }\n            else {\n                return noPhase;\n            }\n        }\n        // First walk each policy and create a node to track metadata.\n        for (const descriptor of this._policies) {\n            const policy = descriptor.policy;\n            const options = descriptor.options;\n            const policyName = policy.name;\n            if (policyMap.has(policyName)) {\n                throw new Error(\"Duplicate policy names not allowed in pipeline\");\n            }\n            const node = {\n                policy,\n                dependsOn: new Set(),\n                dependants: new Set(),\n            };\n            if (options.afterPhase) {\n                node.afterPhase = getPhase(options.afterPhase);\n                node.afterPhase.hasAfterPolicies = true;\n            }\n            policyMap.set(policyName, node);\n            const phase = getPhase(options.phase);\n            phase.policies.add(node);\n        }\n        // Now that each policy has a node, connect dependency references.\n        for (const descriptor of this._policies) {\n            const { policy, options } = descriptor;\n            const policyName = policy.name;\n            const node = policyMap.get(policyName);\n            if (!node) {\n                throw new Error(`Missing node for policy ${policyName}`);\n            }\n            if (options.afterPolicies) {\n                for (const afterPolicyName of options.afterPolicies) {\n                    const afterNode = policyMap.get(afterPolicyName);\n                    if (afterNode) {\n                        // Linking in both directions helps later\n                        // when we want to notify dependants.\n                        node.dependsOn.add(afterNode);\n                        afterNode.dependants.add(node);\n                    }\n                }\n            }\n            if (options.beforePolicies) {\n                for (const beforePolicyName of options.beforePolicies) {\n                    const beforeNode = policyMap.get(beforePolicyName);\n                    if (beforeNode) {\n                        // To execute before another node, make it\n                        // depend on the current node.\n                        beforeNode.dependsOn.add(node);\n                        node.dependants.add(beforeNode);\n                    }\n                }\n            }\n        }\n        function walkPhase(phase) {\n            phase.hasRun = true;\n            // Sets iterate in insertion order\n            for (const node of phase.policies) {\n                if (node.afterPhase && (!node.afterPhase.hasRun || node.afterPhase.policies.size)) {\n                    // If this node is waiting on a phase to complete,\n                    // we need to skip it for now.\n                    // Even if the phase is empty, we should wait for it\n                    // to be walked to avoid re-ordering policies.\n                    continue;\n                }\n                if (node.dependsOn.size === 0) {\n                    // If there's nothing else we're waiting for, we can\n                    // add this policy to the result list.\n                    result.push(node.policy);\n                    // Notify anything that depends on this policy that\n                    // the policy has been scheduled.\n                    for (const dependant of node.dependants) {\n                        dependant.dependsOn.delete(node);\n                    }\n                    policyMap.delete(node.policy.name);\n                    phase.policies.delete(node);\n                }\n            }\n        }\n        function walkPhases() {\n            for (const phase of orderedPhases) {\n                walkPhase(phase);\n                // if the phase isn't complete\n                if (phase.policies.size > 0 && phase !== noPhase) {\n                    if (!noPhase.hasRun) {\n                        // Try running noPhase to see if that unblocks this phase next tick.\n                        // This can happen if a phase that happens before noPhase\n                        // is waiting on a noPhase policy to complete.\n                        walkPhase(noPhase);\n                    }\n                    // Don't proceed to the next phase until this phase finishes.\n                    return;\n                }\n                if (phase.hasAfterPolicies) {\n                    // Run any policies unblocked by this phase\n                    walkPhase(noPhase);\n                }\n            }\n        }\n        // Iterate until we've put every node in the result list.\n        let iteration = 0;\n        while (policyMap.size > 0) {\n            iteration++;\n            const initialResultLength = result.length;\n            // Keep walking each phase in order until we can order every node.\n            walkPhases();\n            // The result list *should* get at least one larger each time\n            // after the first full pass.\n            // Otherwise, we're going to loop forever.\n            if (result.length <= initialResultLength && iteration > 1) {\n                throw new Error(\"Cannot satisfy policy dependencies due to requirements cycle.\");\n            }\n        }\n        return result;\n    }\n}\n/**\n * Creates a totally empty pipeline.\n * Useful for testing or creating a custom one.\n */\nexport function createEmptyPipeline() {\n    return HttpPipeline.create();\n}\n//# sourceMappingURL=pipeline.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createClientLogger } from \"@azure/logger\";\nexport const logger = createClientLogger(\"core-rest-pipeline\");\n//# sourceMappingURL=log.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * This error is thrown when an asynchronous operation has been aborted.\n * Check for this error by testing the `name` that the name property of the\n * error matches `\"AbortError\"`.\n *\n * @example\n * ```ts\n * const controller = new AbortController();\n * controller.abort();\n * try {\n *   doAsyncWork(controller.signal)\n * } catch (e) {\n *   if (e.name === 'AbortError') {\n *     // handle abort error here.\n *   }\n * }\n * ```\n */\nexport class AbortError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = \"AbortError\";\n    }\n}\n//# sourceMappingURL=AbortError.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * Helper to determine when an input is a generic JS object.\n * @returns true when input is an object type that is not null, Array, RegExp, or Date.\n */\nexport function isObject(input) {\n    return (typeof input === \"object\" &&\n        input !== null &&\n        !Array.isArray(input) &&\n        !(input instanceof RegExp) &&\n        !(input instanceof Date));\n}\n//# sourceMappingURL=object.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { isObject } from \"./object.js\";\n/**\n * Typeguard for an error object shape (has name and message)\n * @param e - Something caught by a catch clause.\n */\nexport function isError(e) {\n    if (isObject(e)) {\n        const hasName = typeof e.name === \"string\";\n        const hasMessage = typeof e.message === \"string\";\n        return hasName && hasMessage;\n    }\n    return false;\n}\n/**\n * Given what is thought to be an error object, return the message if possible.\n * If the message is missing, returns a stringified version of the input.\n * @param e - Something thrown from a try block\n * @returns The error message or a string of the input\n */\nexport function getErrorMessage(e) {\n    if (isError(e)) {\n        return e.message;\n    }\n    else {\n        let stringified;\n        try {\n            if (typeof e === \"object\" && e) {\n                stringified = JSON.stringify(e);\n            }\n            else {\n                stringified = String(e);\n            }\n        }\n        catch (err) {\n            stringified = \"[unable to stringify input]\";\n        }\n        return `Unknown error ${stringified}`;\n    }\n}\n//# sourceMappingURL=error.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * The helper that transforms bytes with specific character encoding into string\n * @param bytes - the uint8array bytes\n * @param format - the format we use to encode the byte\n * @returns a string of the encoded string\n */\nexport function uint8ArrayToString(bytes, format) {\n    return Buffer.from(bytes).toString(format);\n}\n/**\n * The helper that transforms string to specific character encoded bytes array.\n * @param value - the string to be converted\n * @param format - the format we use to decode the value\n * @returns a uint8array\n */\nexport function stringToUint8Array(value, format) {\n    return Buffer.from(value, format);\n}\n//# sourceMappingURL=bytesEncoding.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { isObject } from \"@azure/core-util\";\nconst RedactedString = \"REDACTED\";\n// Make sure this list is up-to-date with the one under core/logger/Readme#Keyconcepts\nconst defaultAllowedHeaderNames = [\n    \"x-ms-client-request-id\",\n    \"x-ms-return-client-request-id\",\n    \"x-ms-useragent\",\n    \"x-ms-correlation-request-id\",\n    \"x-ms-request-id\",\n    \"client-request-id\",\n    \"ms-cv\",\n    \"return-client-request-id\",\n    \"traceparent\",\n    \"Access-Control-Allow-Credentials\",\n    \"Access-Control-Allow-Headers\",\n    \"Access-Control-Allow-Methods\",\n    \"Access-Control-Allow-Origin\",\n    \"Access-Control-Expose-Headers\",\n    \"Access-Control-Max-Age\",\n    \"Access-Control-Request-Headers\",\n    \"Access-Control-Request-Method\",\n    \"Origin\",\n    \"Accept\",\n    \"Accept-Encoding\",\n    \"Cache-Control\",\n    \"Connection\",\n    \"Content-Length\",\n    \"Content-Type\",\n    \"Date\",\n    \"ETag\",\n    \"Expires\",\n    \"If-Match\",\n    \"If-Modified-Since\",\n    \"If-None-Match\",\n    \"If-Unmodified-Since\",\n    \"Last-Modified\",\n    \"Pragma\",\n    \"Request-Id\",\n    \"Retry-After\",\n    \"Server\",\n    \"Transfer-Encoding\",\n    \"User-Agent\",\n    \"WWW-Authenticate\",\n];\nconst defaultAllowedQueryParameters = [\"api-version\"];\n/**\n * @internal\n */\nexport class Sanitizer {\n    constructor({ additionalAllowedHeaderNames: allowedHeaderNames = [], additionalAllowedQueryParameters: allowedQueryParameters = [], } = {}) {\n        allowedHeaderNames = defaultAllowedHeaderNames.concat(allowedHeaderNames);\n        allowedQueryParameters = defaultAllowedQueryParameters.concat(allowedQueryParameters);\n        this.allowedHeaderNames = new Set(allowedHeaderNames.map((n) => n.toLowerCase()));\n        this.allowedQueryParameters = new Set(allowedQueryParameters.map((p) => p.toLowerCase()));\n    }\n    sanitize(obj) {\n        const seen = new Set();\n        return JSON.stringify(obj, (key, value) => {\n            // Ensure Errors include their interesting non-enumerable members\n            if (value instanceof Error) {\n                return Object.assign(Object.assign({}, value), { name: value.name, message: value.message });\n            }\n            if (key === \"headers\") {\n                return this.sanitizeHeaders(value);\n            }\n            else if (key === \"url\") {\n                return this.sanitizeUrl(value);\n            }\n            else if (key === \"query\") {\n                return this.sanitizeQuery(value);\n            }\n            else if (key === \"body\") {\n                // Don't log the request body\n                return undefined;\n            }\n            else if (key === \"response\") {\n                // Don't log response again\n                return undefined;\n            }\n            else if (key === \"operationSpec\") {\n                // When using sendOperationRequest, the request carries a massive\n                // field with the autorest spec. No need to log it.\n                return undefined;\n            }\n            else if (Array.isArray(value) || isObject(value)) {\n                if (seen.has(value)) {\n                    return \"[Circular]\";\n                }\n                seen.add(value);\n            }\n            return value;\n        }, 2);\n    }\n    sanitizeHeaders(obj) {\n        const sanitized = {};\n        for (const key of Object.keys(obj)) {\n            if (this.allowedHeaderNames.has(key.toLowerCase())) {\n                sanitized[key] = obj[key];\n            }\n            else {\n                sanitized[key] = RedactedString;\n            }\n        }\n        return sanitized;\n    }\n    sanitizeQuery(value) {\n        if (typeof value !== \"object\" || value === null) {\n            return value;\n        }\n        const sanitized = {};\n        for (const k of Object.keys(value)) {\n            if (this.allowedQueryParameters.has(k.toLowerCase())) {\n                sanitized[k] = value[k];\n            }\n            else {\n                sanitized[k] = RedactedString;\n            }\n        }\n        return sanitized;\n    }\n    sanitizeUrl(value) {\n        if (typeof value !== \"string\" || value === null) {\n            return value;\n        }\n        const url = new URL(value);\n        if (!url.search) {\n            return value;\n        }\n        for (const [key] of url.searchParams) {\n            if (!this.allowedQueryParameters.has(key.toLowerCase())) {\n                url.searchParams.set(key, RedactedString);\n            }\n        }\n        return url.toString();\n    }\n}\n//# sourceMappingURL=sanitizer.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * The programmatic identifier of the redirectPolicy.\n */\nexport const redirectPolicyName = \"redirectPolicy\";\n/**\n * Methods that are allowed to follow redirects 301 and 302\n */\nconst allowedRedirect = [\"GET\", \"HEAD\"];\n/**\n * A policy to follow Location headers from the server in order\n * to support server-side redirection.\n * In the browser, this policy is not used.\n * @param options - Options to control policy behavior.\n */\nexport function redirectPolicy(options = {}) {\n    const { maxRetries = 20 } = options;\n    return {\n        name: redirectPolicyName,\n        async sendRequest(request, next) {\n            const response = await next(request);\n            return handleRedirect(next, response, maxRetries);\n        },\n    };\n}\nasync function handleRedirect(next, response, maxRetries, currentRetries = 0) {\n    const { request, status, headers } = response;\n    const locationHeader = headers.get(\"location\");\n    if (locationHeader &&\n        (status === 300 ||\n            (status === 301 && allowedRedirect.includes(request.method)) ||\n            (status === 302 && allowedRedirect.includes(request.method)) ||\n            (status === 303 && request.method === \"POST\") ||\n            status === 307) &&\n        currentRetries < maxRetries) {\n        const url = new URL(locationHeader, request.url);\n        request.url = url.toString();\n        // POST request with Status code 303 should be converted into a\n        // redirected GET request if the redirect url is present in the location header\n        if (status === 303) {\n            request.method = \"GET\";\n            request.headers.delete(\"Content-Length\");\n            delete request.body;\n        }\n        request.headers.delete(\"Authorization\");\n        const res = await next(request);\n        return handleRedirect(next, res, maxRetries, currentRetries + 1);\n    }\n    return response;\n}\n//# sourceMappingURL=redirectPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nexport const SDK_VERSION = \"1.16.0\";\nexport const DEFAULT_RETRY_POLICY_COUNT = 3;\n//# sourceMappingURL=constants.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { getHeaderName, setPlatformSpecificData } from \"./userAgentPlatform.js\";\nimport { SDK_VERSION } from \"../constants.js\";\nfunction getUserAgentString(telemetryInfo) {\n    const parts = [];\n    for (const [key, value] of telemetryInfo) {\n        const token = value ? `${key}/${value}` : key;\n        parts.push(token);\n    }\n    return parts.join(\" \");\n}\n/**\n * @internal\n */\nexport function getUserAgentHeaderName() {\n    return getHeaderName();\n}\n/**\n * @internal\n */\nexport function getUserAgentValue(prefix) {\n    const runtimeInfo = new Map();\n    runtimeInfo.set(\"core-rest-pipeline\", SDK_VERSION);\n    setPlatformSpecificData(runtimeInfo);\n    const defaultAgent = getUserAgentString(runtimeInfo);\n    const userAgentValue = prefix ? `${prefix} ${defaultAgent}` : defaultAgent;\n    return userAgentValue;\n}\n//# sourceMappingURL=userAgent.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport * as os from \"node:os\";\nimport * as process from \"node:process\";\n/**\n * @internal\n */\nexport function getHeaderName() {\n    return \"User-Agent\";\n}\n/**\n * @internal\n */\nexport function setPlatformSpecificData(map) {\n    const versions = process.versions;\n    if (versions.bun) {\n        map.set(\"Bun\", versions.bun);\n    }\n    else if (versions.deno) {\n        map.set(\"Deno\", versions.deno);\n    }\n    else if (versions.node) {\n        map.set(\"Node\", versions.node);\n    }\n    map.set(\"OS\", `(${os.arch()}-${os.type()}-${os.release()})`);\n}\n//# sourceMappingURL=userAgentPlatform.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { getUserAgentHeaderName, getUserAgentValue } from \"../util/userAgent.js\";\nconst UserAgentHeaderName = getUserAgentHeaderName();\n/**\n * The programmatic identifier of the userAgentPolicy.\n */\nexport const userAgentPolicyName = \"userAgentPolicy\";\n/**\n * A policy that sets the User-Agent header (or equivalent) to reflect\n * the library version.\n * @param options - Options to customize the user agent value.\n */\nexport function userAgentPolicy(options = {}) {\n    const userAgentValue = getUserAgentValue(options.userAgentPrefix);\n    return {\n        name: userAgentPolicyName,\n        async sendRequest(request, next) {\n            if (!request.headers.has(UserAgentHeaderName)) {\n                request.headers.set(UserAgentHeaderName, userAgentValue);\n            }\n            return next(request);\n        },\n    };\n}\n//# sourceMappingURL=userAgentPolicy.js.map","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nexport function isNodeReadableStream(x) {\n    return Boolean(x && typeof x[\"pipe\"] === \"function\");\n}\nexport function isWebReadableStream(x) {\n    return Boolean(x &&\n        typeof x.getReader === \"function\" &&\n        typeof x.tee === \"function\");\n}\nexport function isReadableStream(x) {\n    return isNodeReadableStream(x) || isWebReadableStream(x);\n}\nexport function isBlob(x) {\n    return typeof x.stream === \"function\";\n}\n//# sourceMappingURL=typeGuards.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { isNodeLike } from \"@azure/core-util\";\nimport { isNodeReadableStream } from \"./typeGuards.js\";\nconst unimplementedMethods = {\n    arrayBuffer: () => {\n        throw new Error(\"Not implemented\");\n    },\n    slice: () => {\n        throw new Error(\"Not implemented\");\n    },\n    text: () => {\n        throw new Error(\"Not implemented\");\n    },\n};\n/**\n * Private symbol used as key on objects created using createFile containing the\n * original source of the file object.\n *\n * This is used in Node to access the original Node stream without using Blob#stream, which\n * returns a web stream. This is done to avoid a couple of bugs to do with Blob#stream and\n * Readable#to/fromWeb in Node versions we support:\n * - https://github.com/nodejs/node/issues/42694 (fixed in Node 18.14)\n * - https://github.com/nodejs/node/issues/48916 (fixed in Node 20.6)\n *\n * Once these versions are no longer supported, we may be able to stop doing this.\n *\n * @internal\n */\nconst rawContent = Symbol(\"rawContent\");\nfunction hasRawContent(x) {\n    return typeof x[rawContent] === \"function\";\n}\n/**\n * Extract the raw content from a given blob-like object. If the input was created using createFile\n * or createFileFromStream, the exact content passed into createFile/createFileFromStream will be used.\n * For true instances of Blob and File, returns the blob's content as a Web ReadableStream<Uint8Array>.\n *\n * @internal\n */\nexport function getRawContent(blob) {\n    if (hasRawContent(blob)) {\n        return blob[rawContent]();\n    }\n    else {\n        return blob.stream();\n    }\n}\n/**\n * Create an object that implements the File interface. This object is intended to be\n * passed into RequestBodyType.formData, and is not guaranteed to work as expected in\n * other situations.\n *\n * Use this function to:\n * - Create a File object for use in RequestBodyType.formData in environments where the\n *   global File object is unavailable.\n * - Create a File-like object from a readable stream without reading the stream into memory.\n *\n * @param stream - the content of the file as a callback returning a stream. When a File object made using createFile is\n *                  passed in a request's form data map, the stream will not be read into memory\n *                  and instead will be streamed when the request is made. In the event of a retry, the\n *                  stream needs to be read again, so this callback SHOULD return a fresh stream if possible.\n * @param name - the name of the file.\n * @param options - optional metadata about the file, e.g. file name, file size, MIME type.\n */\nexport function createFileFromStream(stream, name, options = {}) {\n    var _a, _b, _c, _d;\n    return Object.assign(Object.assign({}, unimplementedMethods), { type: (_a = options.type) !== null && _a !== void 0 ? _a : \"\", lastModified: (_b = options.lastModified) !== null && _b !== void 0 ? _b : new Date().getTime(), webkitRelativePath: (_c = options.webkitRelativePath) !== null && _c !== void 0 ? _c : \"\", size: (_d = options.size) !== null && _d !== void 0 ? _d : -1, name, stream: () => {\n            const s = stream();\n            if (isNodeReadableStream(s)) {\n                throw new Error(\"Not supported: a Node stream was provided as input to createFileFromStream.\");\n            }\n            return s;\n        }, [rawContent]: stream });\n}\n/**\n * Create an object that implements the File interface. This object is intended to be\n * passed into RequestBodyType.formData, and is not guaranteed to work as expected in\n * other situations.\n *\n * Use this function create a File object for use in RequestBodyType.formData in environments where the global File object is unavailable.\n *\n * @param content - the content of the file as a Uint8Array in memory.\n * @param name - the name of the file.\n * @param options - optional metadata about the file, e.g. file name, file size, MIME type.\n */\nexport function createFile(content, name, options = {}) {\n    var _a, _b, _c;\n    if (isNodeLike) {\n        return Object.assign(Object.assign({}, unimplementedMethods), { type: (_a = options.type) !== null && _a !== void 0 ? _a : \"\", lastModified: (_b = options.lastModified) !== null && _b !== void 0 ? _b : new Date().getTime(), webkitRelativePath: (_c = options.webkitRelativePath) !== null && _c !== void 0 ? _c : \"\", size: content.byteLength, name, arrayBuffer: async () => content.buffer, stream: () => new Blob([content]).stream(), [rawContent]: () => content });\n    }\n    else {\n        return new File([content], name, options);\n    }\n}\n//# sourceMappingURL=file.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { __asyncGenerator, __asyncValues, __await } from \"tslib\";\nimport { Readable } from \"node:stream\";\nimport { isBlob } from \"./typeGuards.js\";\nimport { getRawContent } from \"./file.js\";\nfunction streamAsyncIterator() {\n    return __asyncGenerator(this, arguments, function* streamAsyncIterator_1() {\n        const reader = this.getReader();\n        try {\n            while (true) {\n                const { done, value } = yield __await(reader.read());\n                if (done) {\n                    return yield __await(void 0);\n                }\n                yield yield __await(value);\n            }\n        }\n        finally {\n            reader.releaseLock();\n        }\n    });\n}\nfunction makeAsyncIterable(webStream) {\n    if (!webStream[Symbol.asyncIterator]) {\n        webStream[Symbol.asyncIterator] = streamAsyncIterator.bind(webStream);\n    }\n    if (!webStream.values) {\n        webStream.values = streamAsyncIterator.bind(webStream);\n    }\n}\nfunction ensureNodeStream(stream) {\n    if (stream instanceof ReadableStream) {\n        makeAsyncIterable(stream);\n        return Readable.fromWeb(stream);\n    }\n    else {\n        return stream;\n    }\n}\nfunction toStream(source) {\n    if (source instanceof Uint8Array) {\n        return Readable.from(Buffer.from(source));\n    }\n    else if (isBlob(source)) {\n        return toStream(getRawContent(source));\n    }\n    else {\n        return ensureNodeStream(source);\n    }\n}\n/**\n * Utility function that concatenates a set of binary inputs into one combined output.\n *\n * @param sources - array of sources for the concatenation\n * @returns - in Node, a (() =\\> NodeJS.ReadableStream) which, when read, produces a concatenation of all the inputs.\n *           In browser, returns a `Blob` representing all the concatenated inputs.\n *\n * @internal\n */\nexport async function concat(sources) {\n    return function () {\n        const streams = sources.map((x) => (typeof x === \"function\" ? x() : x)).map(toStream);\n        return Readable.from((function () {\n            return __asyncGenerator(this, arguments, function* () {\n                var _a, e_1, _b, _c;\n                for (const stream of streams) {\n                    try {\n                        for (var _d = true, stream_1 = (e_1 = void 0, __asyncValues(stream)), stream_1_1; stream_1_1 = yield __await(stream_1.next()), _a = stream_1_1.done, !_a; _d = true) {\n                            _c = stream_1_1.value;\n                            _d = false;\n                            const chunk = _c;\n                            yield yield __await(chunk);\n                        }\n                    }\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                    finally {\n                        try {\n                            if (!_d && !_a && (_b = stream_1.return)) yield __await(_b.call(stream_1));\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                    }\n                }\n            });\n        })());\n    };\n}\n//# sourceMappingURL=concat.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { randomUUID, stringToUint8Array } from \"@azure/core-util\";\nimport { concat } from \"../util/concat.js\";\nimport { isBlob } from \"../util/typeGuards.js\";\nfunction generateBoundary() {\n    return `----AzSDKFormBoundary${randomUUID()}`;\n}\nfunction encodeHeaders(headers) {\n    let result = \"\";\n    for (const [key, value] of headers) {\n        result += `${key}: ${value}\\r\\n`;\n    }\n    return result;\n}\nfunction getLength(source) {\n    if (source instanceof Uint8Array) {\n        return source.byteLength;\n    }\n    else if (isBlob(source)) {\n        // if was created using createFile then -1 means we have an unknown size\n        return source.size === -1 ? undefined : source.size;\n    }\n    else {\n        return undefined;\n    }\n}\nfunction getTotalLength(sources) {\n    let total = 0;\n    for (const source of sources) {\n        const partLength = getLength(source);\n        if (partLength === undefined) {\n            return undefined;\n        }\n        else {\n            total += partLength;\n        }\n    }\n    return total;\n}\nasync function buildRequestBody(request, parts, boundary) {\n    const sources = [\n        stringToUint8Array(`--${boundary}`, \"utf-8\"),\n        ...parts.flatMap((part) => [\n            stringToUint8Array(\"\\r\\n\", \"utf-8\"),\n            stringToUint8Array(encodeHeaders(part.headers), \"utf-8\"),\n            stringToUint8Array(\"\\r\\n\", \"utf-8\"),\n            part.body,\n            stringToUint8Array(`\\r\\n--${boundary}`, \"utf-8\"),\n        ]),\n        stringToUint8Array(\"--\\r\\n\\r\\n\", \"utf-8\"),\n    ];\n    const contentLength = getTotalLength(sources);\n    if (contentLength) {\n        request.headers.set(\"Content-Length\", contentLength);\n    }\n    request.body = await concat(sources);\n}\n/**\n * Name of multipart policy\n */\nexport const multipartPolicyName = \"multipartPolicy\";\nconst maxBoundaryLength = 70;\nconst validBoundaryCharacters = new Set(`abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'()+,-./:=?`);\nfunction assertValidBoundary(boundary) {\n    if (boundary.length > maxBoundaryLength) {\n        throw new Error(`Multipart boundary \"${boundary}\" exceeds maximum length of 70 characters`);\n    }\n    if (Array.from(boundary).some((x) => !validBoundaryCharacters.has(x))) {\n        throw new Error(`Multipart boundary \"${boundary}\" contains invalid characters`);\n    }\n}\n/**\n * Pipeline policy for multipart requests\n */\nexport function multipartPolicy() {\n    return {\n        name: multipartPolicyName,\n        async sendRequest(request, next) {\n            var _a;\n            if (!request.multipartBody) {\n                return next(request);\n            }\n            if (request.body) {\n                throw new Error(\"multipartBody and regular body cannot be set at the same time\");\n            }\n            let boundary = request.multipartBody.boundary;\n            const contentTypeHeader = (_a = request.headers.get(\"Content-Type\")) !== null && _a !== void 0 ? _a : \"multipart/mixed\";\n            const parsedHeader = contentTypeHeader.match(/^(multipart\\/[^ ;]+)(?:; *boundary=(.+))?$/);\n            if (!parsedHeader) {\n                throw new Error(`Got multipart request body, but content-type header was not multipart: ${contentTypeHeader}`);\n            }\n            const [, contentType, parsedBoundary] = parsedHeader;\n            if (parsedBoundary && boundary && parsedBoundary !== boundary) {\n                throw new Error(`Multipart boundary was specified as ${parsedBoundary} in the header, but got ${boundary} in the request body`);\n            }\n            boundary !== null && boundary !== void 0 ? boundary : (boundary = parsedBoundary);\n            if (boundary) {\n                assertValidBoundary(boundary);\n            }\n            else {\n                boundary = generateBoundary();\n            }\n            request.headers.set(\"Content-Type\", `${contentType}; boundary=${boundary}`);\n            await buildRequestBody(request, request.multipartBody.parts, boundary);\n            request.multipartBody = undefined;\n            return next(request);\n        },\n    };\n}\n//# sourceMappingURL=multipartPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { AbortError } from \"@azure/abort-controller\";\nconst StandardAbortMessage = \"The operation was aborted.\";\n/**\n * A wrapper for setTimeout that resolves a promise after delayInMs milliseconds.\n * @param delayInMs - The number of milliseconds to be delayed.\n * @param value - The value to be resolved with after a timeout of t milliseconds.\n * @param options - The options for delay - currently abort options\n *                  - abortSignal - The abortSignal associated with containing operation.\n *                  - abortErrorMsg - The abort error message associated with containing operation.\n * @returns Resolved promise\n */\nexport function delay(delayInMs, value, options) {\n    return new Promise((resolve, reject) => {\n        let timer = undefined;\n        let onAborted = undefined;\n        const rejectOnAbort = () => {\n            return reject(new AbortError((options === null || options === void 0 ? void 0 : options.abortErrorMsg) ? options === null || options === void 0 ? void 0 : options.abortErrorMsg : StandardAbortMessage));\n        };\n        const removeListeners = () => {\n            if ((options === null || options === void 0 ? void 0 : options.abortSignal) && onAborted) {\n                options.abortSignal.removeEventListener(\"abort\", onAborted);\n            }\n        };\n        onAborted = () => {\n            if (timer) {\n                clearTimeout(timer);\n            }\n            removeListeners();\n            return rejectOnAbort();\n        };\n        if ((options === null || options === void 0 ? void 0 : options.abortSignal) && options.abortSignal.aborted) {\n            return rejectOnAbort();\n        }\n        timer = setTimeout(() => {\n            removeListeners();\n            resolve(value);\n        }, delayInMs);\n        if (options === null || options === void 0 ? void 0 : options.abortSignal) {\n            options.abortSignal.addEventListener(\"abort\", onAborted);\n        }\n    });\n}\n/**\n * @internal\n * @returns the parsed value or undefined if the parsed value is invalid.\n */\nexport function parseHeaderValueAsNumber(response, headerName) {\n    const value = response.headers.get(headerName);\n    if (!value)\n        return;\n    const valueAsNum = Number(value);\n    if (Number.isNaN(valueAsNum))\n        return;\n    return valueAsNum;\n}\n//# sourceMappingURL=helpers.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { parseHeaderValueAsNumber } from \"../util/helpers.js\";\n/**\n * The header that comes back from Azure services representing\n * the amount of time (minimum) to wait to retry (in seconds or timestamp after which we can retry).\n */\nconst RetryAfterHeader = \"Retry-After\";\n/**\n * The headers that come back from Azure services representing\n * the amount of time (minimum) to wait to retry.\n *\n * \"retry-after-ms\", \"x-ms-retry-after-ms\" : milliseconds\n * \"Retry-After\" : seconds or timestamp\n */\nconst AllRetryAfterHeaders = [\"retry-after-ms\", \"x-ms-retry-after-ms\", RetryAfterHeader];\n/**\n * A response is a throttling retry response if it has a throttling status code (429 or 503),\n * as long as one of the [ \"Retry-After\" or \"retry-after-ms\" or \"x-ms-retry-after-ms\" ] headers has a valid value.\n *\n * Returns the `retryAfterInMs` value if the response is a throttling retry response.\n * If not throttling retry response, returns `undefined`.\n *\n * @internal\n */\nfunction getRetryAfterInMs(response) {\n    if (!(response && [429, 503].includes(response.status)))\n        return undefined;\n    try {\n        // Headers: \"retry-after-ms\", \"x-ms-retry-after-ms\", \"Retry-After\"\n        for (const header of AllRetryAfterHeaders) {\n            const retryAfterValue = parseHeaderValueAsNumber(response, header);\n            if (retryAfterValue === 0 || retryAfterValue) {\n                // \"Retry-After\" header ==> seconds\n                // \"retry-after-ms\", \"x-ms-retry-after-ms\" headers ==> milli-seconds\n                const multiplyingFactor = header === RetryAfterHeader ? 1000 : 1;\n                return retryAfterValue * multiplyingFactor; // in milli-seconds\n            }\n        }\n        // RetryAfterHeader (\"Retry-After\") has a special case where it might be formatted as a date instead of a number of seconds\n        const retryAfterHeader = response.headers.get(RetryAfterHeader);\n        if (!retryAfterHeader)\n            return;\n        const date = Date.parse(retryAfterHeader);\n        const diff = date - Date.now();\n        // negative diff would mean a date in the past, so retry asap with 0 milliseconds\n        return Number.isFinite(diff) ? Math.max(0, diff) : undefined;\n    }\n    catch (e) {\n        return undefined;\n    }\n}\n/**\n * A response is a retry response if it has a throttling status code (429 or 503),\n * as long as one of the [ \"Retry-After\" or \"retry-after-ms\" or \"x-ms-retry-after-ms\" ] headers has a valid value.\n */\nexport function isThrottlingRetryResponse(response) {\n    return Number.isFinite(getRetryAfterInMs(response));\n}\nexport function throttlingRetryStrategy() {\n    return {\n        name: \"throttlingRetryStrategy\",\n        retry({ response }) {\n            const retryAfterInMs = getRetryAfterInMs(response);\n            if (!Number.isFinite(retryAfterInMs)) {\n                return { skipStrategy: true };\n            }\n            return {\n                retryAfterInMs,\n            };\n        },\n    };\n}\n//# sourceMappingURL=throttlingRetryStrategy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { delay } from \"../util/helpers.js\";\nimport { createClientLogger } from \"@azure/logger\";\nimport { AbortError } from \"@azure/abort-controller\";\nimport { DEFAULT_RETRY_POLICY_COUNT } from \"../constants.js\";\nconst retryPolicyLogger = createClientLogger(\"core-rest-pipeline retryPolicy\");\n/**\n * The programmatic identifier of the retryPolicy.\n */\nconst retryPolicyName = \"retryPolicy\";\n/**\n * retryPolicy is a generic policy to enable retrying requests when certain conditions are met\n */\nexport function retryPolicy(strategies, options = { maxRetries: DEFAULT_RETRY_POLICY_COUNT }) {\n    const logger = options.logger || retryPolicyLogger;\n    return {\n        name: retryPolicyName,\n        async sendRequest(request, next) {\n            var _a, _b;\n            let response;\n            let responseError;\n            let retryCount = -1;\n            // eslint-disable-next-line no-constant-condition\n            retryRequest: while (true) {\n                retryCount += 1;\n                response = undefined;\n                responseError = undefined;\n                try {\n                    logger.info(`Retry ${retryCount}: Attempting to send request`, request.requestId);\n                    response = await next(request);\n                    logger.info(`Retry ${retryCount}: Received a response from request`, request.requestId);\n                }\n                catch (e) {\n                    logger.error(`Retry ${retryCount}: Received an error from request`, request.requestId);\n                    // RestErrors are valid targets for the retry strategies.\n                    // If none of the retry strategies can work with them, they will be thrown later in this policy.\n                    // If the received error is not a RestError, it is immediately thrown.\n                    responseError = e;\n                    if (!e || responseError.name !== \"RestError\") {\n                        throw e;\n                    }\n                    response = responseError.response;\n                }\n                if ((_a = request.abortSignal) === null || _a === void 0 ? void 0 : _a.aborted) {\n                    logger.error(`Retry ${retryCount}: Request aborted.`);\n                    const abortError = new AbortError();\n                    throw abortError;\n                }\n                if (retryCount >= ((_b = options.maxRetries) !== null && _b !== void 0 ? _b : DEFAULT_RETRY_POLICY_COUNT)) {\n                    logger.info(`Retry ${retryCount}: Maximum retries reached. Returning the last received response, or throwing the last received error.`);\n                    if (responseError) {\n                        throw responseError;\n                    }\n                    else if (response) {\n                        return response;\n                    }\n                    else {\n                        throw new Error(\"Maximum retries reached with no response or error to throw\");\n                    }\n                }\n                logger.info(`Retry ${retryCount}: Processing ${strategies.length} retry strategies.`);\n                strategiesLoop: for (const strategy of strategies) {\n                    const strategyLogger = strategy.logger || retryPolicyLogger;\n                    strategyLogger.info(`Retry ${retryCount}: Processing retry strategy ${strategy.name}.`);\n                    const modifiers = strategy.retry({\n                        retryCount,\n                        response,\n                        responseError,\n                    });\n                    if (modifiers.skipStrategy) {\n                        strategyLogger.info(`Retry ${retryCount}: Skipped.`);\n                        continue strategiesLoop;\n                    }\n                    const { errorToThrow, retryAfterInMs, redirectTo } = modifiers;\n                    if (errorToThrow) {\n                        strategyLogger.error(`Retry ${retryCount}: Retry strategy ${strategy.name} throws error:`, errorToThrow);\n                        throw errorToThrow;\n                    }\n                    if (retryAfterInMs || retryAfterInMs === 0) {\n                        strategyLogger.info(`Retry ${retryCount}: Retry strategy ${strategy.name} retries after ${retryAfterInMs}`);\n                        await delay(retryAfterInMs, undefined, { abortSignal: request.abortSignal });\n                        continue retryRequest;\n                    }\n                    if (redirectTo) {\n                        strategyLogger.info(`Retry ${retryCount}: Retry strategy ${strategy.name} redirects to ${redirectTo}`);\n                        request.url = redirectTo;\n                        continue retryRequest;\n                    }\n                }\n                if (responseError) {\n                    logger.info(`None of the retry strategies could work with the received error. Throwing it.`);\n                    throw responseError;\n                }\n                if (response) {\n                    logger.info(`None of the retry strategies could work with the received response. Returning it.`);\n                    return response;\n                }\n                // If all the retries skip and there's no response,\n                // we're still in the retry loop, so a new request will be sent\n                // until `maxRetries` is reached.\n            }\n        },\n    };\n}\n//# sourceMappingURL=retryPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nfunction normalizeName(name) {\n    return name.toLowerCase();\n}\nfunction* headerIterator(map) {\n    for (const entry of map.values()) {\n        yield [entry.name, entry.value];\n    }\n}\nclass HttpHeadersImpl {\n    constructor(rawHeaders) {\n        this._headersMap = new Map();\n        if (rawHeaders) {\n            for (const headerName of Object.keys(rawHeaders)) {\n                this.set(headerName, rawHeaders[headerName]);\n            }\n        }\n    }\n    /**\n     * Set a header in this collection with the provided name and value. The name is\n     * case-insensitive.\n     * @param name - The name of the header to set. This value is case-insensitive.\n     * @param value - The value of the header to set.\n     */\n    set(name, value) {\n        this._headersMap.set(normalizeName(name), { name, value: String(value).trim() });\n    }\n    /**\n     * Get the header value for the provided header name, or undefined if no header exists in this\n     * collection with the provided name.\n     * @param name - The name of the header. This value is case-insensitive.\n     */\n    get(name) {\n        var _a;\n        return (_a = this._headersMap.get(normalizeName(name))) === null || _a === void 0 ? void 0 : _a.value;\n    }\n    /**\n     * Get whether or not this header collection contains a header entry for the provided header name.\n     * @param name - The name of the header to set. This value is case-insensitive.\n     */\n    has(name) {\n        return this._headersMap.has(normalizeName(name));\n    }\n    /**\n     * Remove the header with the provided headerName.\n     * @param name - The name of the header to remove.\n     */\n    delete(name) {\n        this._headersMap.delete(normalizeName(name));\n    }\n    /**\n     * Get the JSON object representation of this HTTP header collection.\n     */\n    toJSON(options = {}) {\n        const result = {};\n        if (options.preserveCase) {\n            for (const entry of this._headersMap.values()) {\n                result[entry.name] = entry.value;\n            }\n        }\n        else {\n            for (const [normalizedName, entry] of this._headersMap) {\n                result[normalizedName] = entry.value;\n            }\n        }\n        return result;\n    }\n    /**\n     * Get the string representation of this HTTP header collection.\n     */\n    toString() {\n        return JSON.stringify(this.toJSON({ preserveCase: true }));\n    }\n    /**\n     * Iterate over tuples of header [name, value] pairs.\n     */\n    [Symbol.iterator]() {\n        return headerIterator(this._headersMap);\n    }\n}\n/**\n * Creates an object that satisfies the `HttpHeaders` interface.\n * @param rawHeaders - A simple object representing initial headers\n */\nexport function createHttpHeaders(rawHeaders) {\n    return new HttpHeadersImpl(rawHeaders);\n}\n//# sourceMappingURL=httpHeaders.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { isNodeLike, stringToUint8Array } from \"@azure/core-util\";\nimport { createHttpHeaders } from \"../httpHeaders.js\";\n/**\n * The programmatic identifier of the formDataPolicy.\n */\nexport const formDataPolicyName = \"formDataPolicy\";\nfunction formDataToFormDataMap(formData) {\n    var _a;\n    const formDataMap = {};\n    for (const [key, value] of formData.entries()) {\n        (_a = formDataMap[key]) !== null && _a !== void 0 ? _a : (formDataMap[key] = []);\n        formDataMap[key].push(value);\n    }\n    return formDataMap;\n}\n/**\n * A policy that encodes FormData on the request into the body.\n */\nexport function formDataPolicy() {\n    return {\n        name: formDataPolicyName,\n        async sendRequest(request, next) {\n            if (isNodeLike && typeof FormData !== \"undefined\" && request.body instanceof FormData) {\n                request.formData = formDataToFormDataMap(request.body);\n                request.body = undefined;\n            }\n            if (request.formData) {\n                const contentType = request.headers.get(\"Content-Type\");\n                if (contentType && contentType.indexOf(\"application/x-www-form-urlencoded\") !== -1) {\n                    request.body = wwwFormUrlEncode(request.formData);\n                }\n                else {\n                    await prepareFormData(request.formData, request);\n                }\n                request.formData = undefined;\n            }\n            return next(request);\n        },\n    };\n}\nfunction wwwFormUrlEncode(formData) {\n    const urlSearchParams = new URLSearchParams();\n    for (const [key, value] of Object.entries(formData)) {\n        if (Array.isArray(value)) {\n            for (const subValue of value) {\n                urlSearchParams.append(key, subValue.toString());\n            }\n        }\n        else {\n            urlSearchParams.append(key, value.toString());\n        }\n    }\n    return urlSearchParams.toString();\n}\nasync function prepareFormData(formData, request) {\n    // validate content type (multipart/form-data)\n    const contentType = request.headers.get(\"Content-Type\");\n    if (contentType && !contentType.startsWith(\"multipart/form-data\")) {\n        // content type is specified and is not multipart/form-data. Exit.\n        return;\n    }\n    request.headers.set(\"Content-Type\", contentType !== null && contentType !== void 0 ? contentType : \"multipart/form-data\");\n    // set body to MultipartRequestBody using content from FormDataMap\n    const parts = [];\n    for (const [fieldName, values] of Object.entries(formData)) {\n        for (const value of Array.isArray(values) ? values : [values]) {\n            if (typeof value === \"string\") {\n                parts.push({\n                    headers: createHttpHeaders({\n                        \"Content-Disposition\": `form-data; name=\"${fieldName}\"`,\n                    }),\n                    body: stringToUint8Array(value, \"utf-8\"),\n                });\n            }\n            else if (value === undefined || value === null || typeof value !== \"object\") {\n                throw new Error(`Unexpected value for key ${fieldName}: ${value}. Value should be serialized to string first.`);\n            }\n            else {\n                // using || instead of ?? here since if value.name is empty we should create a file name\n                const fileName = value.name || \"blob\";\n                const headers = createHttpHeaders();\n                headers.set(\"Content-Disposition\", `form-data; name=\"${fieldName}\"; filename=\"${fileName}\"`);\n                // again, || is used since an empty value.type means the content type is unset\n                headers.set(\"Content-Type\", value.type || \"application/octet-stream\");\n                parts.push({\n                    headers,\n                    body: value,\n                });\n            }\n        }\n    }\n    request.multipartBody = { parts };\n}\n//# sourceMappingURL=formDataPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { HttpsProxyAgent } from \"https-proxy-agent\";\nimport { HttpProxyAgent } from \"http-proxy-agent\";\nimport { logger } from \"../log.js\";\nconst HTTPS_PROXY = \"HTTPS_PROXY\";\nconst HTTP_PROXY = \"HTTP_PROXY\";\nconst ALL_PROXY = \"ALL_PROXY\";\nconst NO_PROXY = \"NO_PROXY\";\n/**\n * The programmatic identifier of the proxyPolicy.\n */\nexport const proxyPolicyName = \"proxyPolicy\";\n/**\n * Stores the patterns specified in NO_PROXY environment variable.\n * @internal\n */\nexport const globalNoProxyList = [];\nlet noProxyListLoaded = false;\n/** A cache of whether a host should bypass the proxy. */\nconst globalBypassedMap = new Map();\nfunction getEnvironmentValue(name) {\n    if (process.env[name]) {\n        return process.env[name];\n    }\n    else if (process.env[name.toLowerCase()]) {\n        return process.env[name.toLowerCase()];\n    }\n    return undefined;\n}\nfunction loadEnvironmentProxyValue() {\n    if (!process) {\n        return undefined;\n    }\n    const httpsProxy = getEnvironmentValue(HTTPS_PROXY);\n    const allProxy = getEnvironmentValue(ALL_PROXY);\n    const httpProxy = getEnvironmentValue(HTTP_PROXY);\n    return httpsProxy || allProxy || httpProxy;\n}\n/**\n * Check whether the host of a given `uri` matches any pattern in the no proxy list.\n * If there's a match, any request sent to the same host shouldn't have the proxy settings set.\n * This implementation is a port of https://github.com/Azure/azure-sdk-for-net/blob/8cca811371159e527159c7eb65602477898683e2/sdk/core/Azure.Core/src/Pipeline/Internal/HttpEnvironmentProxy.cs#L210\n */\nfunction isBypassed(uri, noProxyList, bypassedMap) {\n    if (noProxyList.length === 0) {\n        return false;\n    }\n    const host = new URL(uri).hostname;\n    if (bypassedMap === null || bypassedMap === void 0 ? void 0 : bypassedMap.has(host)) {\n        return bypassedMap.get(host);\n    }\n    let isBypassedFlag = false;\n    for (const pattern of noProxyList) {\n        if (pattern[0] === \".\") {\n            // This should match either domain it self or any subdomain or host\n            // .foo.com will match foo.com it self or *.foo.com\n            if (host.endsWith(pattern)) {\n                isBypassedFlag = true;\n            }\n            else {\n                if (host.length === pattern.length - 1 && host === pattern.slice(1)) {\n                    isBypassedFlag = true;\n                }\n            }\n        }\n        else {\n            if (host === pattern) {\n                isBypassedFlag = true;\n            }\n        }\n    }\n    bypassedMap === null || bypassedMap === void 0 ? void 0 : bypassedMap.set(host, isBypassedFlag);\n    return isBypassedFlag;\n}\nexport function loadNoProxy() {\n    const noProxy = getEnvironmentValue(NO_PROXY);\n    noProxyListLoaded = true;\n    if (noProxy) {\n        return noProxy\n            .split(\",\")\n            .map((item) => item.trim())\n            .filter((item) => item.length);\n    }\n    return [];\n}\n/**\n * This method converts a proxy url into `ProxySettings` for use with ProxyPolicy.\n * If no argument is given, it attempts to parse a proxy URL from the environment\n * variables `HTTPS_PROXY` or `HTTP_PROXY`.\n * @param proxyUrl - The url of the proxy to use. May contain authentication information.\n * @deprecated - Internally this method is no longer necessary when setting proxy information.\n */\nexport function getDefaultProxySettings(proxyUrl) {\n    if (!proxyUrl) {\n        proxyUrl = loadEnvironmentProxyValue();\n        if (!proxyUrl) {\n            return undefined;\n        }\n    }\n    const parsedUrl = new URL(proxyUrl);\n    const schema = parsedUrl.protocol ? parsedUrl.protocol + \"//\" : \"\";\n    return {\n        host: schema + parsedUrl.hostname,\n        port: Number.parseInt(parsedUrl.port || \"80\"),\n        username: parsedUrl.username,\n        password: parsedUrl.password,\n    };\n}\n/**\n * This method attempts to parse a proxy URL from the environment\n * variables `HTTPS_PROXY` or `HTTP_PROXY`.\n */\nfunction getDefaultProxySettingsInternal() {\n    const envProxy = loadEnvironmentProxyValue();\n    return envProxy ? new URL(envProxy) : undefined;\n}\nfunction getUrlFromProxySettings(settings) {\n    let parsedProxyUrl;\n    try {\n        parsedProxyUrl = new URL(settings.host);\n    }\n    catch (_error) {\n        throw new Error(`Expecting a valid host string in proxy settings, but found \"${settings.host}\".`);\n    }\n    parsedProxyUrl.port = String(settings.port);\n    if (settings.username) {\n        parsedProxyUrl.username = settings.username;\n    }\n    if (settings.password) {\n        parsedProxyUrl.password = settings.password;\n    }\n    return parsedProxyUrl;\n}\nfunction setProxyAgentOnRequest(request, cachedAgents, proxyUrl) {\n    // Custom Agent should take precedence so if one is present\n    // we should skip to avoid overwriting it.\n    if (request.agent) {\n        return;\n    }\n    const url = new URL(request.url);\n    const isInsecure = url.protocol !== \"https:\";\n    if (request.tlsSettings) {\n        logger.warning(\"TLS settings are not supported in combination with custom Proxy, certificates provided to the client will be ignored.\");\n    }\n    const headers = request.headers.toJSON();\n    if (isInsecure) {\n        if (!cachedAgents.httpProxyAgent) {\n            cachedAgents.httpProxyAgent = new HttpProxyAgent(proxyUrl, { headers });\n        }\n        request.agent = cachedAgents.httpProxyAgent;\n    }\n    else {\n        if (!cachedAgents.httpsProxyAgent) {\n            cachedAgents.httpsProxyAgent = new HttpsProxyAgent(proxyUrl, { headers });\n        }\n        request.agent = cachedAgents.httpsProxyAgent;\n    }\n}\n/**\n * A policy that allows one to apply proxy settings to all requests.\n * If not passed static settings, they will be retrieved from the HTTPS_PROXY\n * or HTTP_PROXY environment variables.\n * @param proxySettings - ProxySettings to use on each request.\n * @param options - additional settings, for example, custom NO_PROXY patterns\n */\nexport function proxyPolicy(proxySettings, options) {\n    if (!noProxyListLoaded) {\n        globalNoProxyList.push(...loadNoProxy());\n    }\n    const defaultProxy = proxySettings\n        ? getUrlFromProxySettings(proxySettings)\n        : getDefaultProxySettingsInternal();\n    const cachedAgents = {};\n    return {\n        name: proxyPolicyName,\n        async sendRequest(request, next) {\n            var _a;\n            if (!request.proxySettings &&\n                defaultProxy &&\n                !isBypassed(request.url, (_a = options === null || options === void 0 ? void 0 : options.customNoProxyList) !== null && _a !== void 0 ? _a : globalNoProxyList, (options === null || options === void 0 ? void 0 : options.customNoProxyList) ? undefined : globalBypassedMap)) {\n                setProxyAgentOnRequest(request, cachedAgents, defaultProxy);\n            }\n            else if (request.proxySettings) {\n                setProxyAgentOnRequest(request, cachedAgents, getUrlFromProxySettings(request.proxySettings));\n            }\n            return next(request);\n        },\n    };\n}\n//# sourceMappingURL=proxyPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/** @internal */\nexport const knownContextKeys = {\n    span: Symbol.for(\"@azure/core-tracing span\"),\n    namespace: Symbol.for(\"@azure/core-tracing namespace\"),\n};\n/**\n * Creates a new {@link TracingContext} with the given options.\n * @param options - A set of known keys that may be set on the context.\n * @returns A new {@link TracingContext} with the given options.\n *\n * @internal\n */\nexport function createTracingContext(options = {}) {\n    let context = new TracingContextImpl(options.parentContext);\n    if (options.span) {\n        context = context.setValue(knownContextKeys.span, options.span);\n    }\n    if (options.namespace) {\n        context = context.setValue(knownContextKeys.namespace, options.namespace);\n    }\n    return context;\n}\n/** @internal */\nexport class TracingContextImpl {\n    constructor(initialContext) {\n        this._contextMap =\n            initialContext instanceof TracingContextImpl\n                ? new Map(initialContext._contextMap)\n                : new Map();\n    }\n    setValue(key, value) {\n        const newContext = new TracingContextImpl(this);\n        newContext._contextMap.set(key, value);\n        return newContext;\n    }\n    getValue(key) {\n        return this._contextMap.get(key);\n    }\n    deleteValue(key) {\n        const newContext = new TracingContextImpl(this);\n        newContext._contextMap.delete(key);\n        return newContext;\n    }\n}\n//# sourceMappingURL=tracingContext.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n// @ts-expect-error The recommended approach to sharing module state between ESM and CJS.\n// See https://github.com/isaacs/tshy/blob/main/README.md#module-local-state for additional information.\nimport { state as cjsState } from \"../commonjs/state.js\";\n/**\n * Defines the shared state between CJS and ESM by re-exporting the CJS state.\n */\nexport const state = cjsState;\n//# sourceMappingURL=state.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createTracingContext } from \"./tracingContext.js\";\nimport { state } from \"./state.js\";\nexport function createDefaultTracingSpan() {\n    return {\n        end: () => {\n            // noop\n        },\n        isRecording: () => false,\n        recordException: () => {\n            // noop\n        },\n        setAttribute: () => {\n            // noop\n        },\n        setStatus: () => {\n            // noop\n        },\n    };\n}\nexport function createDefaultInstrumenter() {\n    return {\n        createRequestHeaders: () => {\n            return {};\n        },\n        parseTraceparentHeader: () => {\n            return undefined;\n        },\n        startSpan: (_name, spanOptions) => {\n            return {\n                span: createDefaultTracingSpan(),\n                tracingContext: createTracingContext({ parentContext: spanOptions.tracingContext }),\n            };\n        },\n        withContext(_context, callback, ...callbackArgs) {\n            return callback(...callbackArgs);\n        },\n    };\n}\n/**\n * Extends the Azure SDK with support for a given instrumenter implementation.\n *\n * @param instrumenter - The instrumenter implementation to use.\n */\nexport function useInstrumenter(instrumenter) {\n    state.instrumenterImplementation = instrumenter;\n}\n/**\n * Gets the currently set instrumenter, a No-Op instrumenter by default.\n *\n * @returns The currently set instrumenter\n */\nexport function getInstrumenter() {\n    if (!state.instrumenterImplementation) {\n        state.instrumenterImplementation = createDefaultInstrumenter();\n    }\n    return state.instrumenterImplementation;\n}\n//# sourceMappingURL=instrumenter.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { getInstrumenter } from \"./instrumenter.js\";\nimport { knownContextKeys } from \"./tracingContext.js\";\n/**\n * Creates a new tracing client.\n *\n * @param options - Options used to configure the tracing client.\n * @returns - An instance of {@link TracingClient}.\n */\nexport function createTracingClient(options) {\n    const { namespace, packageName, packageVersion } = options;\n    function startSpan(name, operationOptions, spanOptions) {\n        var _a;\n        const startSpanResult = getInstrumenter().startSpan(name, Object.assign(Object.assign({}, spanOptions), { packageName: packageName, packageVersion: packageVersion, tracingContext: (_a = operationOptions === null || operationOptions === void 0 ? void 0 : operationOptions.tracingOptions) === null || _a === void 0 ? void 0 : _a.tracingContext }));\n        let tracingContext = startSpanResult.tracingContext;\n        const span = startSpanResult.span;\n        if (!tracingContext.getValue(knownContextKeys.namespace)) {\n            tracingContext = tracingContext.setValue(knownContextKeys.namespace, namespace);\n        }\n        span.setAttribute(\"az.namespace\", tracingContext.getValue(knownContextKeys.namespace));\n        const updatedOptions = Object.assign({}, operationOptions, {\n            tracingOptions: Object.assign(Object.assign({}, operationOptions === null || operationOptions === void 0 ? void 0 : operationOptions.tracingOptions), { tracingContext }),\n        });\n        return {\n            span,\n            updatedOptions,\n        };\n    }\n    async function withSpan(name, operationOptions, callback, spanOptions) {\n        const { span, updatedOptions } = startSpan(name, operationOptions, spanOptions);\n        try {\n            const result = await withContext(updatedOptions.tracingOptions.tracingContext, () => Promise.resolve(callback(updatedOptions, span)));\n            span.setStatus({ status: \"success\" });\n            return result;\n        }\n        catch (err) {\n            span.setStatus({ status: \"error\", error: err });\n            throw err;\n        }\n        finally {\n            span.end();\n        }\n    }\n    function withContext(context, callback, ...callbackArgs) {\n        return getInstrumenter().withContext(context, callback, ...callbackArgs);\n    }\n    /**\n     * Parses a traceparent header value into a span identifier.\n     *\n     * @param traceparentHeader - The traceparent header to parse.\n     * @returns An implementation-specific identifier for the span.\n     */\n    function parseTraceparentHeader(traceparentHeader) {\n        return getInstrumenter().parseTraceparentHeader(traceparentHeader);\n    }\n    /**\n     * Creates a set of request headers to propagate tracing information to a backend.\n     *\n     * @param tracingContext - The context containing the span to serialize.\n     * @returns The set of headers to add to a request.\n     */\n    function createRequestHeaders(tracingContext) {\n        return getInstrumenter().createRequestHeaders(tracingContext);\n    }\n    return {\n        startSpan,\n        withSpan,\n        withContext,\n        parseTraceparentHeader,\n        createRequestHeaders,\n    };\n}\n//# sourceMappingURL=tracingClient.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { inspect } from \"node:util\";\nexport const custom = inspect.custom;\n//# sourceMappingURL=inspect.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { isError } from \"@azure/core-util\";\nimport { custom } from \"./util/inspect.js\";\nimport { Sanitizer } from \"./util/sanitizer.js\";\nconst errorSanitizer = new Sanitizer();\n/**\n * A custom error type for failed pipeline requests.\n */\nexport class RestError extends Error {\n    constructor(message, options = {}) {\n        super(message);\n        this.name = \"RestError\";\n        this.code = options.code;\n        this.statusCode = options.statusCode;\n        this.request = options.request;\n        this.response = options.response;\n        Object.setPrototypeOf(this, RestError.prototype);\n    }\n    /**\n     * Logging method for util.inspect in Node\n     */\n    [custom]() {\n        return `RestError: ${this.message} \\n ${errorSanitizer.sanitize(this)}`;\n    }\n}\n/**\n * Something went wrong when making the request.\n * This means the actual request failed for some reason,\n * such as a DNS issue or the connection being lost.\n */\nRestError.REQUEST_SEND_ERROR = \"REQUEST_SEND_ERROR\";\n/**\n * This means that parsing the response from the server failed.\n * It may have been malformed.\n */\nRestError.PARSE_ERROR = \"PARSE_ERROR\";\n/**\n * Typeguard for RestError\n * @param e - Something caught by a catch clause.\n */\nexport function isRestError(e) {\n    if (e instanceof RestError) {\n        return true;\n    }\n    return isError(e) && e.name === \"RestError\";\n}\n//# sourceMappingURL=restError.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport * as http from \"node:http\";\nimport * as https from \"node:https\";\nimport * as zlib from \"node:zlib\";\nimport { Transform } from \"node:stream\";\nimport { AbortError } from \"@azure/abort-controller\";\nimport { createHttpHeaders } from \"./httpHeaders.js\";\nimport { RestError } from \"./restError.js\";\nimport { logger } from \"./log.js\";\nconst DEFAULT_TLS_SETTINGS = {};\nfunction isReadableStream(body) {\n    return body && typeof body.pipe === \"function\";\n}\nfunction isStreamComplete(stream) {\n    return new Promise((resolve) => {\n        stream.on(\"close\", resolve);\n        stream.on(\"end\", resolve);\n        stream.on(\"error\", resolve);\n    });\n}\nfunction isArrayBuffer(body) {\n    return body && typeof body.byteLength === \"number\";\n}\nclass ReportTransform extends Transform {\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    _transform(chunk, _encoding, callback) {\n        this.push(chunk);\n        this.loadedBytes += chunk.length;\n        try {\n            this.progressCallback({ loadedBytes: this.loadedBytes });\n            callback();\n        }\n        catch (e) {\n            callback(e);\n        }\n    }\n    constructor(progressCallback) {\n        super();\n        this.loadedBytes = 0;\n        this.progressCallback = progressCallback;\n    }\n}\n/**\n * A HttpClient implementation that uses Node's \"https\" module to send HTTPS requests.\n * @internal\n */\nclass NodeHttpClient {\n    constructor() {\n        this.cachedHttpsAgents = new WeakMap();\n    }\n    /**\n     * Makes a request over an underlying transport layer and returns the response.\n     * @param request - The request to be made.\n     */\n    async sendRequest(request) {\n        var _a, _b, _c;\n        const abortController = new AbortController();\n        let abortListener;\n        if (request.abortSignal) {\n            if (request.abortSignal.aborted) {\n                throw new AbortError(\"The operation was aborted.\");\n            }\n            abortListener = (event) => {\n                if (event.type === \"abort\") {\n                    abortController.abort();\n                }\n            };\n            request.abortSignal.addEventListener(\"abort\", abortListener);\n        }\n        if (request.timeout > 0) {\n            setTimeout(() => {\n                abortController.abort();\n            }, request.timeout);\n        }\n        const acceptEncoding = request.headers.get(\"Accept-Encoding\");\n        const shouldDecompress = (acceptEncoding === null || acceptEncoding === void 0 ? void 0 : acceptEncoding.includes(\"gzip\")) || (acceptEncoding === null || acceptEncoding === void 0 ? void 0 : acceptEncoding.includes(\"deflate\"));\n        let body = typeof request.body === \"function\" ? request.body() : request.body;\n        if (body && !request.headers.has(\"Content-Length\")) {\n            const bodyLength = getBodyLength(body);\n            if (bodyLength !== null) {\n                request.headers.set(\"Content-Length\", bodyLength);\n            }\n        }\n        let responseStream;\n        try {\n            if (body && request.onUploadProgress) {\n                const onUploadProgress = request.onUploadProgress;\n                const uploadReportStream = new ReportTransform(onUploadProgress);\n                uploadReportStream.on(\"error\", (e) => {\n                    logger.error(\"Error in upload progress\", e);\n                });\n                if (isReadableStream(body)) {\n                    body.pipe(uploadReportStream);\n                }\n                else {\n                    uploadReportStream.end(body);\n                }\n                body = uploadReportStream;\n            }\n            const res = await this.makeRequest(request, abortController, body);\n            const headers = getResponseHeaders(res);\n            const status = (_a = res.statusCode) !== null && _a !== void 0 ? _a : 0;\n            const response = {\n                status,\n                headers,\n                request,\n            };\n            // Responses to HEAD must not have a body.\n            // If they do return a body, that body must be ignored.\n            if (request.method === \"HEAD\") {\n                // call resume() and not destroy() to avoid closing the socket\n                // and losing keep alive\n                res.resume();\n                return response;\n            }\n            responseStream = shouldDecompress ? getDecodedResponseStream(res, headers) : res;\n            const onDownloadProgress = request.onDownloadProgress;\n            if (onDownloadProgress) {\n                const downloadReportStream = new ReportTransform(onDownloadProgress);\n                downloadReportStream.on(\"error\", (e) => {\n                    logger.error(\"Error in download progress\", e);\n                });\n                responseStream.pipe(downloadReportStream);\n                responseStream = downloadReportStream;\n            }\n            if (\n            // Value of POSITIVE_INFINITY in streamResponseStatusCodes is considered as any status code\n            ((_b = request.streamResponseStatusCodes) === null || _b === void 0 ? void 0 : _b.has(Number.POSITIVE_INFINITY)) ||\n                ((_c = request.streamResponseStatusCodes) === null || _c === void 0 ? void 0 : _c.has(response.status))) {\n                response.readableStreamBody = responseStream;\n            }\n            else {\n                response.bodyAsText = await streamToText(responseStream);\n            }\n            return response;\n        }\n        finally {\n            // clean up event listener\n            if (request.abortSignal && abortListener) {\n                let uploadStreamDone = Promise.resolve();\n                if (isReadableStream(body)) {\n                    uploadStreamDone = isStreamComplete(body);\n                }\n                let downloadStreamDone = Promise.resolve();\n                if (isReadableStream(responseStream)) {\n                    downloadStreamDone = isStreamComplete(responseStream);\n                }\n                Promise.all([uploadStreamDone, downloadStreamDone])\n                    .then(() => {\n                    var _a;\n                    // eslint-disable-next-line promise/always-return\n                    if (abortListener) {\n                        (_a = request.abortSignal) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"abort\", abortListener);\n                    }\n                })\n                    .catch((e) => {\n                    logger.warning(\"Error when cleaning up abortListener on httpRequest\", e);\n                });\n            }\n        }\n    }\n    makeRequest(request, abortController, body) {\n        var _a;\n        const url = new URL(request.url);\n        const isInsecure = url.protocol !== \"https:\";\n        if (isInsecure && !request.allowInsecureConnection) {\n            throw new Error(`Cannot connect to ${request.url} while allowInsecureConnection is false.`);\n        }\n        const agent = (_a = request.agent) !== null && _a !== void 0 ? _a : this.getOrCreateAgent(request, isInsecure);\n        const options = {\n            agent,\n            hostname: url.hostname,\n            path: `${url.pathname}${url.search}`,\n            port: url.port,\n            method: request.method,\n            headers: request.headers.toJSON({ preserveCase: true }),\n        };\n        return new Promise((resolve, reject) => {\n            const req = isInsecure ? http.request(options, resolve) : https.request(options, resolve);\n            req.once(\"error\", (err) => {\n                var _a;\n                reject(new RestError(err.message, { code: (_a = err.code) !== null && _a !== void 0 ? _a : RestError.REQUEST_SEND_ERROR, request }));\n            });\n            abortController.signal.addEventListener(\"abort\", () => {\n                const abortError = new AbortError(\"The operation was aborted.\");\n                req.destroy(abortError);\n                reject(abortError);\n            });\n            if (body && isReadableStream(body)) {\n                body.pipe(req);\n            }\n            else if (body) {\n                if (typeof body === \"string\" || Buffer.isBuffer(body)) {\n                    req.end(body);\n                }\n                else if (isArrayBuffer(body)) {\n                    req.end(ArrayBuffer.isView(body) ? Buffer.from(body.buffer) : Buffer.from(body));\n                }\n                else {\n                    logger.error(\"Unrecognized body type\", body);\n                    reject(new RestError(\"Unrecognized body type\"));\n                }\n            }\n            else {\n                // streams don't like \"undefined\" being passed as data\n                req.end();\n            }\n        });\n    }\n    getOrCreateAgent(request, isInsecure) {\n        var _a;\n        const disableKeepAlive = request.disableKeepAlive;\n        // Handle Insecure requests first\n        if (isInsecure) {\n            if (disableKeepAlive) {\n                // keepAlive:false is the default so we don't need a custom Agent\n                return http.globalAgent;\n            }\n            if (!this.cachedHttpAgent) {\n                // If there is no cached agent create a new one and cache it.\n                this.cachedHttpAgent = new http.Agent({ keepAlive: true });\n            }\n            return this.cachedHttpAgent;\n        }\n        else {\n            if (disableKeepAlive && !request.tlsSettings) {\n                // When there are no tlsSettings and keepAlive is false\n                // we don't need a custom agent\n                return https.globalAgent;\n            }\n            // We use the tlsSettings to index cached clients\n            const tlsSettings = (_a = request.tlsSettings) !== null && _a !== void 0 ? _a : DEFAULT_TLS_SETTINGS;\n            // Get the cached agent or create a new one with the\n            // provided values for keepAlive and tlsSettings\n            let agent = this.cachedHttpsAgents.get(tlsSettings);\n            if (agent && agent.options.keepAlive === !disableKeepAlive) {\n                return agent;\n            }\n            logger.info(\"No cached TLS Agent exist, creating a new Agent\");\n            agent = new https.Agent(Object.assign({ \n                // keepAlive is true if disableKeepAlive is false.\n                keepAlive: !disableKeepAlive }, tlsSettings));\n            this.cachedHttpsAgents.set(tlsSettings, agent);\n            return agent;\n        }\n    }\n}\nfunction getResponseHeaders(res) {\n    const headers = createHttpHeaders();\n    for (const header of Object.keys(res.headers)) {\n        const value = res.headers[header];\n        if (Array.isArray(value)) {\n            if (value.length > 0) {\n                headers.set(header, value[0]);\n            }\n        }\n        else if (value) {\n            headers.set(header, value);\n        }\n    }\n    return headers;\n}\nfunction getDecodedResponseStream(stream, headers) {\n    const contentEncoding = headers.get(\"Content-Encoding\");\n    if (contentEncoding === \"gzip\") {\n        const unzip = zlib.createGunzip();\n        stream.pipe(unzip);\n        return unzip;\n    }\n    else if (contentEncoding === \"deflate\") {\n        const inflate = zlib.createInflate();\n        stream.pipe(inflate);\n        return inflate;\n    }\n    return stream;\n}\nfunction streamToText(stream) {\n    return new Promise((resolve, reject) => {\n        const buffer = [];\n        stream.on(\"data\", (chunk) => {\n            if (Buffer.isBuffer(chunk)) {\n                buffer.push(chunk);\n            }\n            else {\n                buffer.push(Buffer.from(chunk));\n            }\n        });\n        stream.on(\"end\", () => {\n            resolve(Buffer.concat(buffer).toString(\"utf8\"));\n        });\n        stream.on(\"error\", (e) => {\n            if (e && (e === null || e === void 0 ? void 0 : e.name) === \"AbortError\") {\n                reject(e);\n            }\n            else {\n                reject(new RestError(`Error reading response as text: ${e.message}`, {\n                    code: RestError.PARSE_ERROR,\n                }));\n            }\n        });\n    });\n}\n/** @internal */\nexport function getBodyLength(body) {\n    if (!body) {\n        return 0;\n    }\n    else if (Buffer.isBuffer(body)) {\n        return body.length;\n    }\n    else if (isReadableStream(body)) {\n        return null;\n    }\n    else if (isArrayBuffer(body)) {\n        return body.byteLength;\n    }\n    else if (typeof body === \"string\") {\n        return Buffer.from(body).length;\n    }\n    else {\n        return null;\n    }\n}\n/**\n * Create a new HttpClient instance for the NodeJS environment.\n * @internal\n */\nexport function createNodeHttpClient() {\n    return new NodeHttpClient();\n}\n//# sourceMappingURL=nodeHttpClient.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createHttpHeaders } from \"./httpHeaders.js\";\nimport { randomUUID } from \"@azure/core-util\";\nclass PipelineRequestImpl {\n    constructor(options) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        this.url = options.url;\n        this.body = options.body;\n        this.headers = (_a = options.headers) !== null && _a !== void 0 ? _a : createHttpHeaders();\n        this.method = (_b = options.method) !== null && _b !== void 0 ? _b : \"GET\";\n        this.timeout = (_c = options.timeout) !== null && _c !== void 0 ? _c : 0;\n        this.multipartBody = options.multipartBody;\n        this.formData = options.formData;\n        this.disableKeepAlive = (_d = options.disableKeepAlive) !== null && _d !== void 0 ? _d : false;\n        this.proxySettings = options.proxySettings;\n        this.streamResponseStatusCodes = options.streamResponseStatusCodes;\n        this.withCredentials = (_e = options.withCredentials) !== null && _e !== void 0 ? _e : false;\n        this.abortSignal = options.abortSignal;\n        this.tracingOptions = options.tracingOptions;\n        this.onUploadProgress = options.onUploadProgress;\n        this.onDownloadProgress = options.onDownloadProgress;\n        this.requestId = options.requestId || randomUUID();\n        this.allowInsecureConnection = (_f = options.allowInsecureConnection) !== null && _f !== void 0 ? _f : false;\n        this.enableBrowserStreams = (_g = options.enableBrowserStreams) !== null && _g !== void 0 ? _g : false;\n    }\n}\n/**\n * Creates a new pipeline request with the given options.\n * This method is to allow for the easy setting of default values and not required.\n * @param options - The options to create the request with.\n */\nexport function createPipelineRequest(options) {\n    return new PipelineRequestImpl(options);\n}\n//# sourceMappingURL=pipelineRequest.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { delay } from \"./helpers.js\";\n// Default options for the cycler if none are provided\nexport const DEFAULT_CYCLER_OPTIONS = {\n    forcedRefreshWindowInMs: 1000, // Force waiting for a refresh 1s before the token expires\n    retryIntervalInMs: 3000, // Allow refresh attempts every 3s\n    refreshWindowInMs: 1000 * 60 * 2, // Start refreshing 2m before expiry\n};\n/**\n * Converts an an unreliable access token getter (which may resolve with null)\n * into an AccessTokenGetter by retrying the unreliable getter in a regular\n * interval.\n *\n * @param getAccessToken - A function that produces a promise of an access token that may fail by returning null.\n * @param retryIntervalInMs - The time (in milliseconds) to wait between retry attempts.\n * @param refreshTimeout - The timestamp after which the refresh attempt will fail, throwing an exception.\n * @returns - A promise that, if it resolves, will resolve with an access token.\n */\nasync function beginRefresh(getAccessToken, retryIntervalInMs, refreshTimeout) {\n    // This wrapper handles exceptions gracefully as long as we haven't exceeded\n    // the timeout.\n    async function tryGetAccessToken() {\n        if (Date.now() < refreshTimeout) {\n            try {\n                return await getAccessToken();\n            }\n            catch (_a) {\n                return null;\n            }\n        }\n        else {\n            const finalToken = await getAccessToken();\n            // Timeout is up, so throw if it's still null\n            if (finalToken === null) {\n                throw new Error(\"Failed to refresh access token.\");\n            }\n            return finalToken;\n        }\n    }\n    let token = await tryGetAccessToken();\n    while (token === null) {\n        await delay(retryIntervalInMs);\n        token = await tryGetAccessToken();\n    }\n    return token;\n}\n/**\n * Creates a token cycler from a credential, scopes, and optional settings.\n *\n * A token cycler represents a way to reliably retrieve a valid access token\n * from a TokenCredential. It will handle initializing the token, refreshing it\n * when it nears expiration, and synchronizes refresh attempts to avoid\n * concurrency hazards.\n *\n * @param credential - the underlying TokenCredential that provides the access\n * token\n * @param tokenCyclerOptions - optionally override default settings for the cycler\n *\n * @returns - a function that reliably produces a valid access token\n */\nexport function createTokenCycler(credential, tokenCyclerOptions) {\n    let refreshWorker = null;\n    let token = null;\n    let tenantId;\n    const options = Object.assign(Object.assign({}, DEFAULT_CYCLER_OPTIONS), tokenCyclerOptions);\n    /**\n     * This little holder defines several predicates that we use to construct\n     * the rules of refreshing the token.\n     */\n    const cycler = {\n        /**\n         * Produces true if a refresh job is currently in progress.\n         */\n        get isRefreshing() {\n            return refreshWorker !== null;\n        },\n        /**\n         * Produces true if the cycler SHOULD refresh (we are within the refresh\n         * window and not already refreshing)\n         */\n        get shouldRefresh() {\n            var _a;\n            return (!cycler.isRefreshing &&\n                ((_a = token === null || token === void 0 ? void 0 : token.expiresOnTimestamp) !== null && _a !== void 0 ? _a : 0) - options.refreshWindowInMs < Date.now());\n        },\n        /**\n         * Produces true if the cycler MUST refresh (null or nearly-expired\n         * token).\n         */\n        get mustRefresh() {\n            return (token === null || token.expiresOnTimestamp - options.forcedRefreshWindowInMs < Date.now());\n        },\n    };\n    /**\n     * Starts a refresh job or returns the existing job if one is already\n     * running.\n     */\n    function refresh(scopes, getTokenOptions) {\n        var _a;\n        if (!cycler.isRefreshing) {\n            // We bind `scopes` here to avoid passing it around a lot\n            const tryGetAccessToken = () => credential.getToken(scopes, getTokenOptions);\n            // Take advantage of promise chaining to insert an assignment to `token`\n            // before the refresh can be considered done.\n            refreshWorker = beginRefresh(tryGetAccessToken, options.retryIntervalInMs, \n            // If we don't have a token, then we should timeout immediately\n            (_a = token === null || token === void 0 ? void 0 : token.expiresOnTimestamp) !== null && _a !== void 0 ? _a : Date.now())\n                .then((_token) => {\n                refreshWorker = null;\n                token = _token;\n                tenantId = getTokenOptions.tenantId;\n                return token;\n            })\n                .catch((reason) => {\n                // We also should reset the refresher if we enter a failed state.  All\n                // existing awaiters will throw, but subsequent requests will start a\n                // new retry chain.\n                refreshWorker = null;\n                token = null;\n                tenantId = undefined;\n                throw reason;\n            });\n        }\n        return refreshWorker;\n    }\n    return async (scopes, tokenOptions) => {\n        //\n        // Simple rules:\n        // - If we MUST refresh, then return the refresh task, blocking\n        //   the pipeline until a token is available.\n        // - If we SHOULD refresh, then run refresh but don't return it\n        //   (we can still use the cached token).\n        // - Return the token, since it's fine if we didn't return in\n        //   step 1.\n        //\n        // If the tenantId passed in token options is different to the one we have\n        // Or if we are in claim challenge and the token was rejected and a new access token need to be issued, we need to\n        // refresh the token with the new tenantId or token.\n        const mustRefresh = tenantId !== tokenOptions.tenantId || Boolean(tokenOptions.claims) || cycler.mustRefresh;\n        if (mustRefresh)\n            return refresh(scopes, tokenOptions);\n        if (cycler.shouldRefresh) {\n            refresh(scopes, tokenOptions);\n        }\n        return token;\n    };\n}\n//# sourceMappingURL=tokenCycler.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createTokenCycler } from \"../util/tokenCycler.js\";\nimport { logger as coreLogger } from \"../log.js\";\n/**\n * The programmatic identifier of the bearerTokenAuthenticationPolicy.\n */\nexport const bearerTokenAuthenticationPolicyName = \"bearerTokenAuthenticationPolicy\";\n/**\n * Default authorize request handler\n */\nasync function defaultAuthorizeRequest(options) {\n    const { scopes, getAccessToken, request } = options;\n    const getTokenOptions = {\n        abortSignal: request.abortSignal,\n        tracingOptions: request.tracingOptions,\n    };\n    const accessToken = await getAccessToken(scopes, getTokenOptions);\n    if (accessToken) {\n        options.request.headers.set(\"Authorization\", `Bearer ${accessToken.token}`);\n    }\n}\n/**\n * We will retrieve the challenge only if the response status code was 401,\n * and if the response contained the header \"WWW-Authenticate\" with a non-empty value.\n */\nfunction getChallenge(response) {\n    const challenge = response.headers.get(\"WWW-Authenticate\");\n    if (response.status === 401 && challenge) {\n        return challenge;\n    }\n    return;\n}\n/**\n * A policy that can request a token from a TokenCredential implementation and\n * then apply it to the Authorization header of a request as a Bearer token.\n */\nexport function bearerTokenAuthenticationPolicy(options) {\n    var _a;\n    const { credential, scopes, challengeCallbacks } = options;\n    const logger = options.logger || coreLogger;\n    const callbacks = Object.assign({ authorizeRequest: (_a = challengeCallbacks === null || challengeCallbacks === void 0 ? void 0 : challengeCallbacks.authorizeRequest) !== null && _a !== void 0 ? _a : defaultAuthorizeRequest, authorizeRequestOnChallenge: challengeCallbacks === null || challengeCallbacks === void 0 ? void 0 : challengeCallbacks.authorizeRequestOnChallenge }, challengeCallbacks);\n    // This function encapsulates the entire process of reliably retrieving the token\n    // The options are left out of the public API until there's demand to configure this.\n    // Remember to extend `BearerTokenAuthenticationPolicyOptions` with `TokenCyclerOptions`\n    // in order to pass through the `options` object.\n    const getAccessToken = credential\n        ? createTokenCycler(credential /* , options */)\n        : () => Promise.resolve(null);\n    return {\n        name: bearerTokenAuthenticationPolicyName,\n        /**\n         * If there's no challenge parameter:\n         * - It will try to retrieve the token using the cache, or the credential's getToken.\n         * - Then it will try the next policy with or without the retrieved token.\n         *\n         * It uses the challenge parameters to:\n         * - Skip a first attempt to get the token from the credential if there's no cached token,\n         *   since it expects the token to be retrievable only after the challenge.\n         * - Prepare the outgoing request if the `prepareRequest` method has been provided.\n         * - Send an initial request to receive the challenge if it fails.\n         * - Process a challenge if the response contains it.\n         * - Retrieve a token with the challenge information, then re-send the request.\n         */\n        async sendRequest(request, next) {\n            if (!request.url.toLowerCase().startsWith(\"https://\")) {\n                throw new Error(\"Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.\");\n            }\n            await callbacks.authorizeRequest({\n                scopes: Array.isArray(scopes) ? scopes : [scopes],\n                request,\n                getAccessToken,\n                logger,\n            });\n            let response;\n            let error;\n            try {\n                response = await next(request);\n            }\n            catch (err) {\n                error = err;\n                response = err.response;\n            }\n            if (callbacks.authorizeRequestOnChallenge &&\n                (response === null || response === void 0 ? void 0 : response.status) === 401 &&\n                getChallenge(response)) {\n                // processes challenge\n                const shouldSendRequest = await callbacks.authorizeRequestOnChallenge({\n                    scopes: Array.isArray(scopes) ? scopes : [scopes],\n                    request,\n                    response,\n                    getAccessToken,\n                    logger,\n                });\n                if (shouldSendRequest) {\n                    return next(request);\n                }\n            }\n            if (error) {\n                throw error;\n            }\n            else {\n                return response;\n            }\n        },\n    };\n}\n//# sourceMappingURL=bearerTokenAuthenticationPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport * as base64 from \"./base64.js\";\nimport { XML_ATTRKEY, XML_CHARKEY, } from \"./interfaces.js\";\nimport { isDuration, isValidUuid } from \"./utils.js\";\nclass SerializerImpl {\n    constructor(modelMappers = {}, isXML = false) {\n        this.modelMappers = modelMappers;\n        this.isXML = isXML;\n    }\n    /**\n     * @deprecated Removing the constraints validation on client side.\n     */\n    validateConstraints(mapper, value, objectName) {\n        const failValidation = (constraintName, constraintValue) => {\n            throw new Error(`\"${objectName}\" with value \"${value}\" should satisfy the constraint \"${constraintName}\": ${constraintValue}.`);\n        };\n        if (mapper.constraints && value !== undefined && value !== null) {\n            const { ExclusiveMaximum, ExclusiveMinimum, InclusiveMaximum, InclusiveMinimum, MaxItems, MaxLength, MinItems, MinLength, MultipleOf, Pattern, UniqueItems, } = mapper.constraints;\n            if (ExclusiveMaximum !== undefined && value >= ExclusiveMaximum) {\n                failValidation(\"ExclusiveMaximum\", ExclusiveMaximum);\n            }\n            if (ExclusiveMinimum !== undefined && value <= ExclusiveMinimum) {\n                failValidation(\"ExclusiveMinimum\", ExclusiveMinimum);\n            }\n            if (InclusiveMaximum !== undefined && value > InclusiveMaximum) {\n                failValidation(\"InclusiveMaximum\", InclusiveMaximum);\n            }\n            if (InclusiveMinimum !== undefined && value < InclusiveMinimum) {\n                failValidation(\"InclusiveMinimum\", InclusiveMinimum);\n            }\n            if (MaxItems !== undefined && value.length > MaxItems) {\n                failValidation(\"MaxItems\", MaxItems);\n            }\n            if (MaxLength !== undefined && value.length > MaxLength) {\n                failValidation(\"MaxLength\", MaxLength);\n            }\n            if (MinItems !== undefined && value.length < MinItems) {\n                failValidation(\"MinItems\", MinItems);\n            }\n            if (MinLength !== undefined && value.length < MinLength) {\n                failValidation(\"MinLength\", MinLength);\n            }\n            if (MultipleOf !== undefined && value % MultipleOf !== 0) {\n                failValidation(\"MultipleOf\", MultipleOf);\n            }\n            if (Pattern) {\n                const pattern = typeof Pattern === \"string\" ? new RegExp(Pattern) : Pattern;\n                if (typeof value !== \"string\" || value.match(pattern) === null) {\n                    failValidation(\"Pattern\", Pattern);\n                }\n            }\n            if (UniqueItems &&\n                value.some((item, i, ar) => ar.indexOf(item) !== i)) {\n                failValidation(\"UniqueItems\", UniqueItems);\n            }\n        }\n    }\n    /**\n     * Serialize the given object based on its metadata defined in the mapper\n     *\n     * @param mapper - The mapper which defines the metadata of the serializable object\n     *\n     * @param object - A valid Javascript object to be serialized\n     *\n     * @param objectName - Name of the serialized object\n     *\n     * @param options - additional options to serialization\n     *\n     * @returns A valid serialized Javascript object\n     */\n    serialize(mapper, object, objectName, options = { xml: {} }) {\n        var _a, _b, _c;\n        const updatedOptions = {\n            xml: {\n                rootName: (_a = options.xml.rootName) !== null && _a !== void 0 ? _a : \"\",\n                includeRoot: (_b = options.xml.includeRoot) !== null && _b !== void 0 ? _b : false,\n                xmlCharKey: (_c = options.xml.xmlCharKey) !== null && _c !== void 0 ? _c : XML_CHARKEY,\n            },\n        };\n        let payload = {};\n        const mapperType = mapper.type.name;\n        if (!objectName) {\n            objectName = mapper.serializedName;\n        }\n        if (mapperType.match(/^Sequence$/i) !== null) {\n            payload = [];\n        }\n        if (mapper.isConstant) {\n            object = mapper.defaultValue;\n        }\n        // This table of allowed values should help explain\n        // the mapper.required and mapper.nullable properties.\n        // X means \"neither undefined or null are allowed\".\n        //           || required\n        //           || true      | false\n        //  nullable || ==========================\n        //      true || null      | undefined/null\n        //     false || X         | undefined\n        // undefined || X         | undefined/null\n        const { required, nullable } = mapper;\n        if (required && nullable && object === undefined) {\n            throw new Error(`${objectName} cannot be undefined.`);\n        }\n        if (required && !nullable && (object === undefined || object === null)) {\n            throw new Error(`${objectName} cannot be null or undefined.`);\n        }\n        if (!required && nullable === false && object === null) {\n            throw new Error(`${objectName} cannot be null.`);\n        }\n        if (object === undefined || object === null) {\n            payload = object;\n        }\n        else {\n            if (mapperType.match(/^any$/i) !== null) {\n                payload = object;\n            }\n            else if (mapperType.match(/^(Number|String|Boolean|Object|Stream|Uuid)$/i) !== null) {\n                payload = serializeBasicTypes(mapperType, objectName, object);\n            }\n            else if (mapperType.match(/^Enum$/i) !== null) {\n                const enumMapper = mapper;\n                payload = serializeEnumType(objectName, enumMapper.type.allowedValues, object);\n            }\n            else if (mapperType.match(/^(Date|DateTime|TimeSpan|DateTimeRfc1123|UnixTime)$/i) !== null) {\n                payload = serializeDateTypes(mapperType, object, objectName);\n            }\n            else if (mapperType.match(/^ByteArray$/i) !== null) {\n                payload = serializeByteArrayType(objectName, object);\n            }\n            else if (mapperType.match(/^Base64Url$/i) !== null) {\n                payload = serializeBase64UrlType(objectName, object);\n            }\n            else if (mapperType.match(/^Sequence$/i) !== null) {\n                payload = serializeSequenceType(this, mapper, object, objectName, Boolean(this.isXML), updatedOptions);\n            }\n            else if (mapperType.match(/^Dictionary$/i) !== null) {\n                payload = serializeDictionaryType(this, mapper, object, objectName, Boolean(this.isXML), updatedOptions);\n            }\n            else if (mapperType.match(/^Composite$/i) !== null) {\n                payload = serializeCompositeType(this, mapper, object, objectName, Boolean(this.isXML), updatedOptions);\n            }\n        }\n        return payload;\n    }\n    /**\n     * Deserialize the given object based on its metadata defined in the mapper\n     *\n     * @param mapper - The mapper which defines the metadata of the serializable object\n     *\n     * @param responseBody - A valid Javascript entity to be deserialized\n     *\n     * @param objectName - Name of the deserialized object\n     *\n     * @param options - Controls behavior of XML parser and builder.\n     *\n     * @returns A valid deserialized Javascript object\n     */\n    deserialize(mapper, responseBody, objectName, options = { xml: {} }) {\n        var _a, _b, _c, _d;\n        const updatedOptions = {\n            xml: {\n                rootName: (_a = options.xml.rootName) !== null && _a !== void 0 ? _a : \"\",\n                includeRoot: (_b = options.xml.includeRoot) !== null && _b !== void 0 ? _b : false,\n                xmlCharKey: (_c = options.xml.xmlCharKey) !== null && _c !== void 0 ? _c : XML_CHARKEY,\n            },\n            ignoreUnknownProperties: (_d = options.ignoreUnknownProperties) !== null && _d !== void 0 ? _d : false,\n        };\n        if (responseBody === undefined || responseBody === null) {\n            if (this.isXML && mapper.type.name === \"Sequence\" && !mapper.xmlIsWrapped) {\n                // Edge case for empty XML non-wrapped lists. xml2js can't distinguish\n                // between the list being empty versus being missing,\n                // so let's do the more user-friendly thing and return an empty list.\n                responseBody = [];\n            }\n            // specifically check for undefined as default value can be a falsey value `0, \"\", false, null`\n            if (mapper.defaultValue !== undefined) {\n                responseBody = mapper.defaultValue;\n            }\n            return responseBody;\n        }\n        let payload;\n        const mapperType = mapper.type.name;\n        if (!objectName) {\n            objectName = mapper.serializedName;\n        }\n        if (mapperType.match(/^Composite$/i) !== null) {\n            payload = deserializeCompositeType(this, mapper, responseBody, objectName, updatedOptions);\n        }\n        else {\n            if (this.isXML) {\n                const xmlCharKey = updatedOptions.xml.xmlCharKey;\n                /**\n                 * If the mapper specifies this as a non-composite type value but the responseBody contains\n                 * both header (\"$\" i.e., XML_ATTRKEY) and body (\"#\" i.e., XML_CHARKEY) properties,\n                 * then just reduce the responseBody value to the body (\"#\" i.e., XML_CHARKEY) property.\n                 */\n                if (responseBody[XML_ATTRKEY] !== undefined && responseBody[xmlCharKey] !== undefined) {\n                    responseBody = responseBody[xmlCharKey];\n                }\n            }\n            if (mapperType.match(/^Number$/i) !== null) {\n                payload = parseFloat(responseBody);\n                if (isNaN(payload)) {\n                    payload = responseBody;\n                }\n            }\n            else if (mapperType.match(/^Boolean$/i) !== null) {\n                if (responseBody === \"true\") {\n                    payload = true;\n                }\n                else if (responseBody === \"false\") {\n                    payload = false;\n                }\n                else {\n                    payload = responseBody;\n                }\n            }\n            else if (mapperType.match(/^(String|Enum|Object|Stream|Uuid|TimeSpan|any)$/i) !== null) {\n                payload = responseBody;\n            }\n            else if (mapperType.match(/^(Date|DateTime|DateTimeRfc1123)$/i) !== null) {\n                payload = new Date(responseBody);\n            }\n            else if (mapperType.match(/^UnixTime$/i) !== null) {\n                payload = unixTimeToDate(responseBody);\n            }\n            else if (mapperType.match(/^ByteArray$/i) !== null) {\n                payload = base64.decodeString(responseBody);\n            }\n            else if (mapperType.match(/^Base64Url$/i) !== null) {\n                payload = base64UrlToByteArray(responseBody);\n            }\n            else if (mapperType.match(/^Sequence$/i) !== null) {\n                payload = deserializeSequenceType(this, mapper, responseBody, objectName, updatedOptions);\n            }\n            else if (mapperType.match(/^Dictionary$/i) !== null) {\n                payload = deserializeDictionaryType(this, mapper, responseBody, objectName, updatedOptions);\n            }\n        }\n        if (mapper.isConstant) {\n            payload = mapper.defaultValue;\n        }\n        return payload;\n    }\n}\n/**\n * Method that creates and returns a Serializer.\n * @param modelMappers - Known models to map\n * @param isXML - If XML should be supported\n */\nexport function createSerializer(modelMappers = {}, isXML = false) {\n    return new SerializerImpl(modelMappers, isXML);\n}\nfunction trimEnd(str, ch) {\n    let len = str.length;\n    while (len - 1 >= 0 && str[len - 1] === ch) {\n        --len;\n    }\n    return str.substr(0, len);\n}\nfunction bufferToBase64Url(buffer) {\n    if (!buffer) {\n        return undefined;\n    }\n    if (!(buffer instanceof Uint8Array)) {\n        throw new Error(`Please provide an input of type Uint8Array for converting to Base64Url.`);\n    }\n    // Uint8Array to Base64.\n    const str = base64.encodeByteArray(buffer);\n    // Base64 to Base64Url.\n    return trimEnd(str, \"=\").replace(/\\+/g, \"-\").replace(/\\//g, \"_\");\n}\nfunction base64UrlToByteArray(str) {\n    if (!str) {\n        return undefined;\n    }\n    if (str && typeof str.valueOf() !== \"string\") {\n        throw new Error(\"Please provide an input of type string for converting to Uint8Array\");\n    }\n    // Base64Url to Base64.\n    str = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    // Base64 to Uint8Array.\n    return base64.decodeString(str);\n}\nfunction splitSerializeName(prop) {\n    const classes = [];\n    let partialclass = \"\";\n    if (prop) {\n        const subwords = prop.split(\".\");\n        for (const item of subwords) {\n            if (item.charAt(item.length - 1) === \"\\\\\") {\n                partialclass += item.substr(0, item.length - 1) + \".\";\n            }\n            else {\n                partialclass += item;\n                classes.push(partialclass);\n                partialclass = \"\";\n            }\n        }\n    }\n    return classes;\n}\nfunction dateToUnixTime(d) {\n    if (!d) {\n        return undefined;\n    }\n    if (typeof d.valueOf() === \"string\") {\n        d = new Date(d);\n    }\n    return Math.floor(d.getTime() / 1000);\n}\nfunction unixTimeToDate(n) {\n    if (!n) {\n        return undefined;\n    }\n    return new Date(n * 1000);\n}\nfunction serializeBasicTypes(typeName, objectName, value) {\n    if (value !== null && value !== undefined) {\n        if (typeName.match(/^Number$/i) !== null) {\n            if (typeof value !== \"number\") {\n                throw new Error(`${objectName} with value ${value} must be of type number.`);\n            }\n        }\n        else if (typeName.match(/^String$/i) !== null) {\n            if (typeof value.valueOf() !== \"string\") {\n                throw new Error(`${objectName} with value \"${value}\" must be of type string.`);\n            }\n        }\n        else if (typeName.match(/^Uuid$/i) !== null) {\n            if (!(typeof value.valueOf() === \"string\" && isValidUuid(value))) {\n                throw new Error(`${objectName} with value \"${value}\" must be of type string and a valid uuid.`);\n            }\n        }\n        else if (typeName.match(/^Boolean$/i) !== null) {\n            if (typeof value !== \"boolean\") {\n                throw new Error(`${objectName} with value ${value} must be of type boolean.`);\n            }\n        }\n        else if (typeName.match(/^Stream$/i) !== null) {\n            const objectType = typeof value;\n            if (objectType !== \"string\" &&\n                typeof value.pipe !== \"function\" && // NodeJS.ReadableStream\n                typeof value.tee !== \"function\" && // browser ReadableStream\n                !(value instanceof ArrayBuffer) &&\n                !ArrayBuffer.isView(value) &&\n                // File objects count as a type of Blob, so we want to use instanceof explicitly\n                !((typeof Blob === \"function\" || typeof Blob === \"object\") && value instanceof Blob) &&\n                objectType !== \"function\") {\n                throw new Error(`${objectName} must be a string, Blob, ArrayBuffer, ArrayBufferView, ReadableStream, or () => ReadableStream.`);\n            }\n        }\n    }\n    return value;\n}\nfunction serializeEnumType(objectName, allowedValues, value) {\n    if (!allowedValues) {\n        throw new Error(`Please provide a set of allowedValues to validate ${objectName} as an Enum Type.`);\n    }\n    const isPresent = allowedValues.some((item) => {\n        if (typeof item.valueOf() === \"string\") {\n            return item.toLowerCase() === value.toLowerCase();\n        }\n        return item === value;\n    });\n    if (!isPresent) {\n        throw new Error(`${value} is not a valid value for ${objectName}. The valid values are: ${JSON.stringify(allowedValues)}.`);\n    }\n    return value;\n}\nfunction serializeByteArrayType(objectName, value) {\n    if (value !== undefined && value !== null) {\n        if (!(value instanceof Uint8Array)) {\n            throw new Error(`${objectName} must be of type Uint8Array.`);\n        }\n        value = base64.encodeByteArray(value);\n    }\n    return value;\n}\nfunction serializeBase64UrlType(objectName, value) {\n    if (value !== undefined && value !== null) {\n        if (!(value instanceof Uint8Array)) {\n            throw new Error(`${objectName} must be of type Uint8Array.`);\n        }\n        value = bufferToBase64Url(value);\n    }\n    return value;\n}\nfunction serializeDateTypes(typeName, value, objectName) {\n    if (value !== undefined && value !== null) {\n        if (typeName.match(/^Date$/i) !== null) {\n            if (!(value instanceof Date ||\n                (typeof value.valueOf() === \"string\" && !isNaN(Date.parse(value))))) {\n                throw new Error(`${objectName} must be an instanceof Date or a string in ISO8601 format.`);\n            }\n            value =\n                value instanceof Date\n                    ? value.toISOString().substring(0, 10)\n                    : new Date(value).toISOString().substring(0, 10);\n        }\n        else if (typeName.match(/^DateTime$/i) !== null) {\n            if (!(value instanceof Date ||\n                (typeof value.valueOf() === \"string\" && !isNaN(Date.parse(value))))) {\n                throw new Error(`${objectName} must be an instanceof Date or a string in ISO8601 format.`);\n            }\n            value = value instanceof Date ? value.toISOString() : new Date(value).toISOString();\n        }\n        else if (typeName.match(/^DateTimeRfc1123$/i) !== null) {\n            if (!(value instanceof Date ||\n                (typeof value.valueOf() === \"string\" && !isNaN(Date.parse(value))))) {\n                throw new Error(`${objectName} must be an instanceof Date or a string in RFC-1123 format.`);\n            }\n            value = value instanceof Date ? value.toUTCString() : new Date(value).toUTCString();\n        }\n        else if (typeName.match(/^UnixTime$/i) !== null) {\n            if (!(value instanceof Date ||\n                (typeof value.valueOf() === \"string\" && !isNaN(Date.parse(value))))) {\n                throw new Error(`${objectName} must be an instanceof Date or a string in RFC-1123/ISO8601 format ` +\n                    `for it to be serialized in UnixTime/Epoch format.`);\n            }\n            value = dateToUnixTime(value);\n        }\n        else if (typeName.match(/^TimeSpan$/i) !== null) {\n            if (!isDuration(value)) {\n                throw new Error(`${objectName} must be a string in ISO 8601 format. Instead was \"${value}\".`);\n            }\n        }\n    }\n    return value;\n}\nfunction serializeSequenceType(serializer, mapper, object, objectName, isXml, options) {\n    var _a;\n    if (!Array.isArray(object)) {\n        throw new Error(`${objectName} must be of type Array.`);\n    }\n    let elementType = mapper.type.element;\n    if (!elementType || typeof elementType !== \"object\") {\n        throw new Error(`element\" metadata for an Array must be defined in the ` +\n            `mapper and it must of type \"object\" in ${objectName}.`);\n    }\n    // Quirk: Composite mappers referenced by `element` might\n    // not have *all* properties declared (like uberParent),\n    // so let's try to look up the full definition by name.\n    if (elementType.type.name === \"Composite\" && elementType.type.className) {\n        elementType = (_a = serializer.modelMappers[elementType.type.className]) !== null && _a !== void 0 ? _a : elementType;\n    }\n    const tempArray = [];\n    for (let i = 0; i < object.length; i++) {\n        const serializedValue = serializer.serialize(elementType, object[i], objectName, options);\n        if (isXml && elementType.xmlNamespace) {\n            const xmlnsKey = elementType.xmlNamespacePrefix\n                ? `xmlns:${elementType.xmlNamespacePrefix}`\n                : \"xmlns\";\n            if (elementType.type.name === \"Composite\") {\n                tempArray[i] = Object.assign({}, serializedValue);\n                tempArray[i][XML_ATTRKEY] = { [xmlnsKey]: elementType.xmlNamespace };\n            }\n            else {\n                tempArray[i] = {};\n                tempArray[i][options.xml.xmlCharKey] = serializedValue;\n                tempArray[i][XML_ATTRKEY] = { [xmlnsKey]: elementType.xmlNamespace };\n            }\n        }\n        else {\n            tempArray[i] = serializedValue;\n        }\n    }\n    return tempArray;\n}\nfunction serializeDictionaryType(serializer, mapper, object, objectName, isXml, options) {\n    if (typeof object !== \"object\") {\n        throw new Error(`${objectName} must be of type object.`);\n    }\n    const valueType = mapper.type.value;\n    if (!valueType || typeof valueType !== \"object\") {\n        throw new Error(`\"value\" metadata for a Dictionary must be defined in the ` +\n            `mapper and it must of type \"object\" in ${objectName}.`);\n    }\n    const tempDictionary = {};\n    for (const key of Object.keys(object)) {\n        const serializedValue = serializer.serialize(valueType, object[key], objectName, options);\n        // If the element needs an XML namespace we need to add it within the $ property\n        tempDictionary[key] = getXmlObjectValue(valueType, serializedValue, isXml, options);\n    }\n    // Add the namespace to the root element if needed\n    if (isXml && mapper.xmlNamespace) {\n        const xmlnsKey = mapper.xmlNamespacePrefix ? `xmlns:${mapper.xmlNamespacePrefix}` : \"xmlns\";\n        const result = tempDictionary;\n        result[XML_ATTRKEY] = { [xmlnsKey]: mapper.xmlNamespace };\n        return result;\n    }\n    return tempDictionary;\n}\n/**\n * Resolves the additionalProperties property from a referenced mapper\n * @param serializer - the serializer containing the entire set of mappers\n * @param mapper - the composite mapper to resolve\n * @param objectName - name of the object being serialized\n */\nfunction resolveAdditionalProperties(serializer, mapper, objectName) {\n    const additionalProperties = mapper.type.additionalProperties;\n    if (!additionalProperties && mapper.type.className) {\n        const modelMapper = resolveReferencedMapper(serializer, mapper, objectName);\n        return modelMapper === null || modelMapper === void 0 ? void 0 : modelMapper.type.additionalProperties;\n    }\n    return additionalProperties;\n}\n/**\n * Finds the mapper referenced by className\n * @param serializer - the serializer containing the entire set of mappers\n * @param mapper - the composite mapper to resolve\n * @param objectName - name of the object being serialized\n */\nfunction resolveReferencedMapper(serializer, mapper, objectName) {\n    const className = mapper.type.className;\n    if (!className) {\n        throw new Error(`Class name for model \"${objectName}\" is not provided in the mapper \"${JSON.stringify(mapper, undefined, 2)}\".`);\n    }\n    return serializer.modelMappers[className];\n}\n/**\n * Resolves a composite mapper's modelProperties.\n * @param serializer - the serializer containing the entire set of mappers\n * @param mapper - the composite mapper to resolve\n */\nfunction resolveModelProperties(serializer, mapper, objectName) {\n    let modelProps = mapper.type.modelProperties;\n    if (!modelProps) {\n        const modelMapper = resolveReferencedMapper(serializer, mapper, objectName);\n        if (!modelMapper) {\n            throw new Error(`mapper() cannot be null or undefined for model \"${mapper.type.className}\".`);\n        }\n        modelProps = modelMapper === null || modelMapper === void 0 ? void 0 : modelMapper.type.modelProperties;\n        if (!modelProps) {\n            throw new Error(`modelProperties cannot be null or undefined in the ` +\n                `mapper \"${JSON.stringify(modelMapper)}\" of type \"${mapper.type.className}\" for object \"${objectName}\".`);\n        }\n    }\n    return modelProps;\n}\nfunction serializeCompositeType(serializer, mapper, object, objectName, isXml, options) {\n    if (getPolymorphicDiscriminatorRecursively(serializer, mapper)) {\n        mapper = getPolymorphicMapper(serializer, mapper, object, \"clientName\");\n    }\n    if (object !== undefined && object !== null) {\n        const payload = {};\n        const modelProps = resolveModelProperties(serializer, mapper, objectName);\n        for (const key of Object.keys(modelProps)) {\n            const propertyMapper = modelProps[key];\n            if (propertyMapper.readOnly) {\n                continue;\n            }\n            let propName;\n            let parentObject = payload;\n            if (serializer.isXML) {\n                if (propertyMapper.xmlIsWrapped) {\n                    propName = propertyMapper.xmlName;\n                }\n                else {\n                    propName = propertyMapper.xmlElementName || propertyMapper.xmlName;\n                }\n            }\n            else {\n                const paths = splitSerializeName(propertyMapper.serializedName);\n                propName = paths.pop();\n                for (const pathName of paths) {\n                    const childObject = parentObject[pathName];\n                    if ((childObject === undefined || childObject === null) &&\n                        ((object[key] !== undefined && object[key] !== null) ||\n                            propertyMapper.defaultValue !== undefined)) {\n                        parentObject[pathName] = {};\n                    }\n                    parentObject = parentObject[pathName];\n                }\n            }\n            if (parentObject !== undefined && parentObject !== null) {\n                if (isXml && mapper.xmlNamespace) {\n                    const xmlnsKey = mapper.xmlNamespacePrefix\n                        ? `xmlns:${mapper.xmlNamespacePrefix}`\n                        : \"xmlns\";\n                    parentObject[XML_ATTRKEY] = Object.assign(Object.assign({}, parentObject[XML_ATTRKEY]), { [xmlnsKey]: mapper.xmlNamespace });\n                }\n                const propertyObjectName = propertyMapper.serializedName !== \"\"\n                    ? objectName + \".\" + propertyMapper.serializedName\n                    : objectName;\n                let toSerialize = object[key];\n                const polymorphicDiscriminator = getPolymorphicDiscriminatorRecursively(serializer, mapper);\n                if (polymorphicDiscriminator &&\n                    polymorphicDiscriminator.clientName === key &&\n                    (toSerialize === undefined || toSerialize === null)) {\n                    toSerialize = mapper.serializedName;\n                }\n                const serializedValue = serializer.serialize(propertyMapper, toSerialize, propertyObjectName, options);\n                if (serializedValue !== undefined && propName !== undefined && propName !== null) {\n                    const value = getXmlObjectValue(propertyMapper, serializedValue, isXml, options);\n                    if (isXml && propertyMapper.xmlIsAttribute) {\n                        // XML_ATTRKEY, i.e., $ is the key attributes are kept under in xml2js.\n                        // This keeps things simple while preventing name collision\n                        // with names in user documents.\n                        parentObject[XML_ATTRKEY] = parentObject[XML_ATTRKEY] || {};\n                        parentObject[XML_ATTRKEY][propName] = serializedValue;\n                    }\n                    else if (isXml && propertyMapper.xmlIsWrapped) {\n                        parentObject[propName] = { [propertyMapper.xmlElementName]: value };\n                    }\n                    else {\n                        parentObject[propName] = value;\n                    }\n                }\n            }\n        }\n        const additionalPropertiesMapper = resolveAdditionalProperties(serializer, mapper, objectName);\n        if (additionalPropertiesMapper) {\n            const propNames = Object.keys(modelProps);\n            for (const clientPropName in object) {\n                const isAdditionalProperty = propNames.every((pn) => pn !== clientPropName);\n                if (isAdditionalProperty) {\n                    payload[clientPropName] = serializer.serialize(additionalPropertiesMapper, object[clientPropName], objectName + '[\"' + clientPropName + '\"]', options);\n                }\n            }\n        }\n        return payload;\n    }\n    return object;\n}\nfunction getXmlObjectValue(propertyMapper, serializedValue, isXml, options) {\n    if (!isXml || !propertyMapper.xmlNamespace) {\n        return serializedValue;\n    }\n    const xmlnsKey = propertyMapper.xmlNamespacePrefix\n        ? `xmlns:${propertyMapper.xmlNamespacePrefix}`\n        : \"xmlns\";\n    const xmlNamespace = { [xmlnsKey]: propertyMapper.xmlNamespace };\n    if ([\"Composite\"].includes(propertyMapper.type.name)) {\n        if (serializedValue[XML_ATTRKEY]) {\n            return serializedValue;\n        }\n        else {\n            const result = Object.assign({}, serializedValue);\n            result[XML_ATTRKEY] = xmlNamespace;\n            return result;\n        }\n    }\n    const result = {};\n    result[options.xml.xmlCharKey] = serializedValue;\n    result[XML_ATTRKEY] = xmlNamespace;\n    return result;\n}\nfunction isSpecialXmlProperty(propertyName, options) {\n    return [XML_ATTRKEY, options.xml.xmlCharKey].includes(propertyName);\n}\nfunction deserializeCompositeType(serializer, mapper, responseBody, objectName, options) {\n    var _a, _b;\n    const xmlCharKey = (_a = options.xml.xmlCharKey) !== null && _a !== void 0 ? _a : XML_CHARKEY;\n    if (getPolymorphicDiscriminatorRecursively(serializer, mapper)) {\n        mapper = getPolymorphicMapper(serializer, mapper, responseBody, \"serializedName\");\n    }\n    const modelProps = resolveModelProperties(serializer, mapper, objectName);\n    let instance = {};\n    const handledPropertyNames = [];\n    for (const key of Object.keys(modelProps)) {\n        const propertyMapper = modelProps[key];\n        const paths = splitSerializeName(modelProps[key].serializedName);\n        handledPropertyNames.push(paths[0]);\n        const { serializedName, xmlName, xmlElementName } = propertyMapper;\n        let propertyObjectName = objectName;\n        if (serializedName !== \"\" && serializedName !== undefined) {\n            propertyObjectName = objectName + \".\" + serializedName;\n        }\n        const headerCollectionPrefix = propertyMapper.headerCollectionPrefix;\n        if (headerCollectionPrefix) {\n            const dictionary = {};\n            for (const headerKey of Object.keys(responseBody)) {\n                if (headerKey.startsWith(headerCollectionPrefix)) {\n                    dictionary[headerKey.substring(headerCollectionPrefix.length)] = serializer.deserialize(propertyMapper.type.value, responseBody[headerKey], propertyObjectName, options);\n                }\n                handledPropertyNames.push(headerKey);\n            }\n            instance[key] = dictionary;\n        }\n        else if (serializer.isXML) {\n            if (propertyMapper.xmlIsAttribute && responseBody[XML_ATTRKEY]) {\n                instance[key] = serializer.deserialize(propertyMapper, responseBody[XML_ATTRKEY][xmlName], propertyObjectName, options);\n            }\n            else if (propertyMapper.xmlIsMsText) {\n                if (responseBody[xmlCharKey] !== undefined) {\n                    instance[key] = responseBody[xmlCharKey];\n                }\n                else if (typeof responseBody === \"string\") {\n                    // The special case where xml parser parses \"<Name>content</Name>\" into JSON of\n                    //   `{ name: \"content\"}` instead of `{ name: { \"_\": \"content\" }}`\n                    instance[key] = responseBody;\n                }\n            }\n            else {\n                const propertyName = xmlElementName || xmlName || serializedName;\n                if (propertyMapper.xmlIsWrapped) {\n                    /* a list of <xmlElementName> wrapped by <xmlName>\n                      For the xml example below\n                        <Cors>\n                          <CorsRule>...</CorsRule>\n                          <CorsRule>...</CorsRule>\n                        </Cors>\n                      the responseBody has\n                        {\n                          Cors: {\n                            CorsRule: [{...}, {...}]\n                          }\n                        }\n                      xmlName is \"Cors\" and xmlElementName is\"CorsRule\".\n                    */\n                    const wrapped = responseBody[xmlName];\n                    const elementList = (_b = wrapped === null || wrapped === void 0 ? void 0 : wrapped[xmlElementName]) !== null && _b !== void 0 ? _b : [];\n                    instance[key] = serializer.deserialize(propertyMapper, elementList, propertyObjectName, options);\n                    handledPropertyNames.push(xmlName);\n                }\n                else {\n                    const property = responseBody[propertyName];\n                    instance[key] = serializer.deserialize(propertyMapper, property, propertyObjectName, options);\n                    handledPropertyNames.push(propertyName);\n                }\n            }\n        }\n        else {\n            // deserialize the property if it is present in the provided responseBody instance\n            let propertyInstance;\n            let res = responseBody;\n            // traversing the object step by step.\n            let steps = 0;\n            for (const item of paths) {\n                if (!res)\n                    break;\n                steps++;\n                res = res[item];\n            }\n            // only accept null when reaching the last position of object otherwise it would be undefined\n            if (res === null && steps < paths.length) {\n                res = undefined;\n            }\n            propertyInstance = res;\n            const polymorphicDiscriminator = mapper.type.polymorphicDiscriminator;\n            // checking that the model property name (key)(ex: \"fishtype\") and the\n            // clientName of the polymorphicDiscriminator {metadata} (ex: \"fishtype\")\n            // instead of the serializedName of the polymorphicDiscriminator (ex: \"fish.type\")\n            // is a better approach. The generator is not consistent with escaping '\\.' in the\n            // serializedName of the property (ex: \"fish\\.type\") that is marked as polymorphic discriminator\n            // and the serializedName of the metadata polymorphicDiscriminator (ex: \"fish.type\"). However,\n            // the clientName transformation of the polymorphicDiscriminator (ex: \"fishtype\") and\n            // the transformation of model property name (ex: \"fishtype\") is done consistently.\n            // Hence, it is a safer bet to rely on the clientName of the polymorphicDiscriminator.\n            if (polymorphicDiscriminator &&\n                key === polymorphicDiscriminator.clientName &&\n                (propertyInstance === undefined || propertyInstance === null)) {\n                propertyInstance = mapper.serializedName;\n            }\n            let serializedValue;\n            // paging\n            if (Array.isArray(responseBody[key]) && modelProps[key].serializedName === \"\") {\n                propertyInstance = responseBody[key];\n                const arrayInstance = serializer.deserialize(propertyMapper, propertyInstance, propertyObjectName, options);\n                // Copy over any properties that have already been added into the instance, where they do\n                // not exist on the newly de-serialized array\n                for (const [k, v] of Object.entries(instance)) {\n                    if (!Object.prototype.hasOwnProperty.call(arrayInstance, k)) {\n                        arrayInstance[k] = v;\n                    }\n                }\n                instance = arrayInstance;\n            }\n            else if (propertyInstance !== undefined || propertyMapper.defaultValue !== undefined) {\n                serializedValue = serializer.deserialize(propertyMapper, propertyInstance, propertyObjectName, options);\n                instance[key] = serializedValue;\n            }\n        }\n    }\n    const additionalPropertiesMapper = mapper.type.additionalProperties;\n    if (additionalPropertiesMapper) {\n        const isAdditionalProperty = (responsePropName) => {\n            for (const clientPropName in modelProps) {\n                const paths = splitSerializeName(modelProps[clientPropName].serializedName);\n                if (paths[0] === responsePropName) {\n                    return false;\n                }\n            }\n            return true;\n        };\n        for (const responsePropName in responseBody) {\n            if (isAdditionalProperty(responsePropName)) {\n                instance[responsePropName] = serializer.deserialize(additionalPropertiesMapper, responseBody[responsePropName], objectName + '[\"' + responsePropName + '\"]', options);\n            }\n        }\n    }\n    else if (responseBody && !options.ignoreUnknownProperties) {\n        for (const key of Object.keys(responseBody)) {\n            if (instance[key] === undefined &&\n                !handledPropertyNames.includes(key) &&\n                !isSpecialXmlProperty(key, options)) {\n                instance[key] = responseBody[key];\n            }\n        }\n    }\n    return instance;\n}\nfunction deserializeDictionaryType(serializer, mapper, responseBody, objectName, options) {\n    /* jshint validthis: true */\n    const value = mapper.type.value;\n    if (!value || typeof value !== \"object\") {\n        throw new Error(`\"value\" metadata for a Dictionary must be defined in the ` +\n            `mapper and it must of type \"object\" in ${objectName}`);\n    }\n    if (responseBody) {\n        const tempDictionary = {};\n        for (const key of Object.keys(responseBody)) {\n            tempDictionary[key] = serializer.deserialize(value, responseBody[key], objectName, options);\n        }\n        return tempDictionary;\n    }\n    return responseBody;\n}\nfunction deserializeSequenceType(serializer, mapper, responseBody, objectName, options) {\n    var _a;\n    let element = mapper.type.element;\n    if (!element || typeof element !== \"object\") {\n        throw new Error(`element\" metadata for an Array must be defined in the ` +\n            `mapper and it must of type \"object\" in ${objectName}`);\n    }\n    if (responseBody) {\n        if (!Array.isArray(responseBody)) {\n            // xml2js will interpret a single element array as just the element, so force it to be an array\n            responseBody = [responseBody];\n        }\n        // Quirk: Composite mappers referenced by `element` might\n        // not have *all* properties declared (like uberParent),\n        // so let's try to look up the full definition by name.\n        if (element.type.name === \"Composite\" && element.type.className) {\n            element = (_a = serializer.modelMappers[element.type.className]) !== null && _a !== void 0 ? _a : element;\n        }\n        const tempArray = [];\n        for (let i = 0; i < responseBody.length; i++) {\n            tempArray[i] = serializer.deserialize(element, responseBody[i], `${objectName}[${i}]`, options);\n        }\n        return tempArray;\n    }\n    return responseBody;\n}\nfunction getIndexDiscriminator(discriminators, discriminatorValue, typeName) {\n    const typeNamesToCheck = [typeName];\n    while (typeNamesToCheck.length) {\n        const currentName = typeNamesToCheck.shift();\n        const indexDiscriminator = discriminatorValue === currentName\n            ? discriminatorValue\n            : currentName + \".\" + discriminatorValue;\n        if (Object.prototype.hasOwnProperty.call(discriminators, indexDiscriminator)) {\n            return discriminators[indexDiscriminator];\n        }\n        else {\n            for (const [name, mapper] of Object.entries(discriminators)) {\n                if (name.startsWith(currentName + \".\") &&\n                    mapper.type.uberParent === currentName &&\n                    mapper.type.className) {\n                    typeNamesToCheck.push(mapper.type.className);\n                }\n            }\n        }\n    }\n    return undefined;\n}\nfunction getPolymorphicMapper(serializer, mapper, object, polymorphicPropertyName) {\n    var _a;\n    const polymorphicDiscriminator = getPolymorphicDiscriminatorRecursively(serializer, mapper);\n    if (polymorphicDiscriminator) {\n        let discriminatorName = polymorphicDiscriminator[polymorphicPropertyName];\n        if (discriminatorName) {\n            // The serializedName might have \\\\, which we just want to ignore\n            if (polymorphicPropertyName === \"serializedName\") {\n                discriminatorName = discriminatorName.replace(/\\\\/gi, \"\");\n            }\n            const discriminatorValue = object[discriminatorName];\n            const typeName = (_a = mapper.type.uberParent) !== null && _a !== void 0 ? _a : mapper.type.className;\n            if (typeof discriminatorValue === \"string\" && typeName) {\n                const polymorphicMapper = getIndexDiscriminator(serializer.modelMappers.discriminators, discriminatorValue, typeName);\n                if (polymorphicMapper) {\n                    mapper = polymorphicMapper;\n                }\n            }\n        }\n    }\n    return mapper;\n}\nfunction getPolymorphicDiscriminatorRecursively(serializer, mapper) {\n    return (mapper.type.polymorphicDiscriminator ||\n        getPolymorphicDiscriminatorSafely(serializer, mapper.type.uberParent) ||\n        getPolymorphicDiscriminatorSafely(serializer, mapper.type.className));\n}\nfunction getPolymorphicDiscriminatorSafely(serializer, typeName) {\n    return (typeName &&\n        serializer.modelMappers[typeName] &&\n        serializer.modelMappers[typeName].type.polymorphicDiscriminator);\n}\n/**\n * Known types of Mappers\n */\nexport const MapperTypeNames = {\n    Base64Url: \"Base64Url\",\n    Boolean: \"Boolean\",\n    ByteArray: \"ByteArray\",\n    Composite: \"Composite\",\n    Date: \"Date\",\n    DateTime: \"DateTime\",\n    DateTimeRfc1123: \"DateTimeRfc1123\",\n    Dictionary: \"Dictionary\",\n    Enum: \"Enum\",\n    Number: \"Number\",\n    Object: \"Object\",\n    Sequence: \"Sequence\",\n    String: \"String\",\n    Stream: \"Stream\",\n    TimeSpan: \"TimeSpan\",\n    UnixTime: \"UnixTime\",\n};\n//# sourceMappingURL=serializer.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n// @ts-expect-error The recommended approach to sharing module state between ESM and CJS.\n// See https://github.com/isaacs/tshy/blob/main/README.md#module-local-state for additional information.\nimport { state as cjsState } from \"../commonjs/state.js\";\n/**\n * Defines the shared state between CJS and ESM by re-exporting the CJS state.\n */\nexport const state = cjsState;\n//# sourceMappingURL=state.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { state } from \"./state.js\";\n/**\n * @internal\n * Retrieves the value to use for a given operation argument\n * @param operationArguments - The arguments passed from the generated client\n * @param parameter - The parameter description\n * @param fallbackObject - If something isn't found in the arguments bag, look here.\n *  Generally used to look at the service client properties.\n */\nexport function getOperationArgumentValueFromParameter(operationArguments, parameter, fallbackObject) {\n    let parameterPath = parameter.parameterPath;\n    const parameterMapper = parameter.mapper;\n    let value;\n    if (typeof parameterPath === \"string\") {\n        parameterPath = [parameterPath];\n    }\n    if (Array.isArray(parameterPath)) {\n        if (parameterPath.length > 0) {\n            if (parameterMapper.isConstant) {\n                value = parameterMapper.defaultValue;\n            }\n            else {\n                let propertySearchResult = getPropertyFromParameterPath(operationArguments, parameterPath);\n                if (!propertySearchResult.propertyFound && fallbackObject) {\n                    propertySearchResult = getPropertyFromParameterPath(fallbackObject, parameterPath);\n                }\n                let useDefaultValue = false;\n                if (!propertySearchResult.propertyFound) {\n                    useDefaultValue =\n                        parameterMapper.required ||\n                            (parameterPath[0] === \"options\" && parameterPath.length === 2);\n                }\n                value = useDefaultValue ? parameterMapper.defaultValue : propertySearchResult.propertyValue;\n            }\n        }\n    }\n    else {\n        if (parameterMapper.required) {\n            value = {};\n        }\n        for (const propertyName in parameterPath) {\n            const propertyMapper = parameterMapper.type.modelProperties[propertyName];\n            const propertyPath = parameterPath[propertyName];\n            const propertyValue = getOperationArgumentValueFromParameter(operationArguments, {\n                parameterPath: propertyPath,\n                mapper: propertyMapper,\n            }, fallbackObject);\n            if (propertyValue !== undefined) {\n                if (!value) {\n                    value = {};\n                }\n                value[propertyName] = propertyValue;\n            }\n        }\n    }\n    return value;\n}\nfunction getPropertyFromParameterPath(parent, parameterPath) {\n    const result = { propertyFound: false };\n    let i = 0;\n    for (; i < parameterPath.length; ++i) {\n        const parameterPathPart = parameterPath[i];\n        // Make sure to check inherited properties too, so don't use hasOwnProperty().\n        if (parent && parameterPathPart in parent) {\n            parent = parent[parameterPathPart];\n        }\n        else {\n            break;\n        }\n    }\n    if (i === parameterPath.length) {\n        result.propertyValue = parent;\n        result.propertyFound = true;\n    }\n    return result;\n}\nconst originalRequestSymbol = Symbol.for(\"@azure/core-client original request\");\nfunction hasOriginalRequest(request) {\n    return originalRequestSymbol in request;\n}\nexport function getOperationRequestInfo(request) {\n    if (hasOriginalRequest(request)) {\n        return getOperationRequestInfo(request[originalRequestSymbol]);\n    }\n    let info = state.operationRequestMap.get(request);\n    if (!info) {\n        info = {};\n        state.operationRequestMap.set(request, info);\n    }\n    return info;\n}\n//# sourceMappingURL=operationHelpers.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { XML_CHARKEY, } from \"./interfaces.js\";\nimport { RestError, } from \"@azure/core-rest-pipeline\";\nimport { MapperTypeNames } from \"./serializer.js\";\nimport { getOperationRequestInfo } from \"./operationHelpers.js\";\nconst defaultJsonContentTypes = [\"application/json\", \"text/json\"];\nconst defaultXmlContentTypes = [\"application/xml\", \"application/atom+xml\"];\n/**\n * The programmatic identifier of the deserializationPolicy.\n */\nexport const deserializationPolicyName = \"deserializationPolicy\";\n/**\n * This policy handles parsing out responses according to OperationSpecs on the request.\n */\nexport function deserializationPolicy(options = {}) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const jsonContentTypes = (_b = (_a = options.expectedContentTypes) === null || _a === void 0 ? void 0 : _a.json) !== null && _b !== void 0 ? _b : defaultJsonContentTypes;\n    const xmlContentTypes = (_d = (_c = options.expectedContentTypes) === null || _c === void 0 ? void 0 : _c.xml) !== null && _d !== void 0 ? _d : defaultXmlContentTypes;\n    const parseXML = options.parseXML;\n    const serializerOptions = options.serializerOptions;\n    const updatedOptions = {\n        xml: {\n            rootName: (_e = serializerOptions === null || serializerOptions === void 0 ? void 0 : serializerOptions.xml.rootName) !== null && _e !== void 0 ? _e : \"\",\n            includeRoot: (_f = serializerOptions === null || serializerOptions === void 0 ? void 0 : serializerOptions.xml.includeRoot) !== null && _f !== void 0 ? _f : false,\n            xmlCharKey: (_g = serializerOptions === null || serializerOptions === void 0 ? void 0 : serializerOptions.xml.xmlCharKey) !== null && _g !== void 0 ? _g : XML_CHARKEY,\n        },\n    };\n    return {\n        name: deserializationPolicyName,\n        async sendRequest(request, next) {\n            const response = await next(request);\n            return deserializeResponseBody(jsonContentTypes, xmlContentTypes, response, updatedOptions, parseXML);\n        },\n    };\n}\nfunction getOperationResponseMap(parsedResponse) {\n    let result;\n    const request = parsedResponse.request;\n    const operationInfo = getOperationRequestInfo(request);\n    const operationSpec = operationInfo === null || operationInfo === void 0 ? void 0 : operationInfo.operationSpec;\n    if (operationSpec) {\n        if (!(operationInfo === null || operationInfo === void 0 ? void 0 : operationInfo.operationResponseGetter)) {\n            result = operationSpec.responses[parsedResponse.status];\n        }\n        else {\n            result = operationInfo === null || operationInfo === void 0 ? void 0 : operationInfo.operationResponseGetter(operationSpec, parsedResponse);\n        }\n    }\n    return result;\n}\nfunction shouldDeserializeResponse(parsedResponse) {\n    const request = parsedResponse.request;\n    const operationInfo = getOperationRequestInfo(request);\n    const shouldDeserialize = operationInfo === null || operationInfo === void 0 ? void 0 : operationInfo.shouldDeserialize;\n    let result;\n    if (shouldDeserialize === undefined) {\n        result = true;\n    }\n    else if (typeof shouldDeserialize === \"boolean\") {\n        result = shouldDeserialize;\n    }\n    else {\n        result = shouldDeserialize(parsedResponse);\n    }\n    return result;\n}\nasync function deserializeResponseBody(jsonContentTypes, xmlContentTypes, response, options, parseXML) {\n    const parsedResponse = await parse(jsonContentTypes, xmlContentTypes, response, options, parseXML);\n    if (!shouldDeserializeResponse(parsedResponse)) {\n        return parsedResponse;\n    }\n    const operationInfo = getOperationRequestInfo(parsedResponse.request);\n    const operationSpec = operationInfo === null || operationInfo === void 0 ? void 0 : operationInfo.operationSpec;\n    if (!operationSpec || !operationSpec.responses) {\n        return parsedResponse;\n    }\n    const responseSpec = getOperationResponseMap(parsedResponse);\n    const { error, shouldReturnResponse } = handleErrorResponse(parsedResponse, operationSpec, responseSpec, options);\n    if (error) {\n        throw error;\n    }\n    else if (shouldReturnResponse) {\n        return parsedResponse;\n    }\n    // An operation response spec does exist for current status code, so\n    // use it to deserialize the response.\n    if (responseSpec) {\n        if (responseSpec.bodyMapper) {\n            let valueToDeserialize = parsedResponse.parsedBody;\n            if (operationSpec.isXML && responseSpec.bodyMapper.type.name === MapperTypeNames.Sequence) {\n                valueToDeserialize =\n                    typeof valueToDeserialize === \"object\"\n                        ? valueToDeserialize[responseSpec.bodyMapper.xmlElementName]\n                        : [];\n            }\n            try {\n                parsedResponse.parsedBody = operationSpec.serializer.deserialize(responseSpec.bodyMapper, valueToDeserialize, \"operationRes.parsedBody\", options);\n            }\n            catch (deserializeError) {\n                const restError = new RestError(`Error ${deserializeError} occurred in deserializing the responseBody - ${parsedResponse.bodyAsText}`, {\n                    statusCode: parsedResponse.status,\n                    request: parsedResponse.request,\n                    response: parsedResponse,\n                });\n                throw restError;\n            }\n        }\n        else if (operationSpec.httpMethod === \"HEAD\") {\n            // head methods never have a body, but we return a boolean to indicate presence/absence of the resource\n            parsedResponse.parsedBody = response.status >= 200 && response.status < 300;\n        }\n        if (responseSpec.headersMapper) {\n            parsedResponse.parsedHeaders = operationSpec.serializer.deserialize(responseSpec.headersMapper, parsedResponse.headers.toJSON(), \"operationRes.parsedHeaders\", { xml: {}, ignoreUnknownProperties: true });\n        }\n    }\n    return parsedResponse;\n}\nfunction isOperationSpecEmpty(operationSpec) {\n    const expectedStatusCodes = Object.keys(operationSpec.responses);\n    return (expectedStatusCodes.length === 0 ||\n        (expectedStatusCodes.length === 1 && expectedStatusCodes[0] === \"default\"));\n}\nfunction handleErrorResponse(parsedResponse, operationSpec, responseSpec, options) {\n    var _a;\n    const isSuccessByStatus = 200 <= parsedResponse.status && parsedResponse.status < 300;\n    const isExpectedStatusCode = isOperationSpecEmpty(operationSpec)\n        ? isSuccessByStatus\n        : !!responseSpec;\n    if (isExpectedStatusCode) {\n        if (responseSpec) {\n            if (!responseSpec.isError) {\n                return { error: null, shouldReturnResponse: false };\n            }\n        }\n        else {\n            return { error: null, shouldReturnResponse: false };\n        }\n    }\n    const errorResponseSpec = responseSpec !== null && responseSpec !== void 0 ? responseSpec : operationSpec.responses.default;\n    const initialErrorMessage = ((_a = parsedResponse.request.streamResponseStatusCodes) === null || _a === void 0 ? void 0 : _a.has(parsedResponse.status))\n        ? `Unexpected status code: ${parsedResponse.status}`\n        : parsedResponse.bodyAsText;\n    const error = new RestError(initialErrorMessage, {\n        statusCode: parsedResponse.status,\n        request: parsedResponse.request,\n        response: parsedResponse,\n    });\n    // If the item failed but there's no error spec or default spec to deserialize the error,\n    // we should fail so we just throw the parsed response\n    if (!errorResponseSpec) {\n        throw error;\n    }\n    const defaultBodyMapper = errorResponseSpec.bodyMapper;\n    const defaultHeadersMapper = errorResponseSpec.headersMapper;\n    try {\n        // If error response has a body, try to deserialize it using default body mapper.\n        // Then try to extract error code & message from it\n        if (parsedResponse.parsedBody) {\n            const parsedBody = parsedResponse.parsedBody;\n            let deserializedError;\n            if (defaultBodyMapper) {\n                let valueToDeserialize = parsedBody;\n                if (operationSpec.isXML && defaultBodyMapper.type.name === MapperTypeNames.Sequence) {\n                    valueToDeserialize = [];\n                    const elementName = defaultBodyMapper.xmlElementName;\n                    if (typeof parsedBody === \"object\" && elementName) {\n                        valueToDeserialize = parsedBody[elementName];\n                    }\n                }\n                deserializedError = operationSpec.serializer.deserialize(defaultBodyMapper, valueToDeserialize, \"error.response.parsedBody\", options);\n            }\n            const internalError = parsedBody.error || deserializedError || parsedBody;\n            error.code = internalError.code;\n            if (internalError.message) {\n                error.message = internalError.message;\n            }\n            if (defaultBodyMapper) {\n                error.response.parsedBody = deserializedError;\n            }\n        }\n        // If error response has headers, try to deserialize it using default header mapper\n        if (parsedResponse.headers && defaultHeadersMapper) {\n            error.response.parsedHeaders =\n                operationSpec.serializer.deserialize(defaultHeadersMapper, parsedResponse.headers.toJSON(), \"operationRes.parsedHeaders\");\n        }\n    }\n    catch (defaultError) {\n        error.message = `Error \"${defaultError.message}\" occurred in deserializing the responseBody - \"${parsedResponse.bodyAsText}\" for the default response.`;\n    }\n    return { error, shouldReturnResponse: false };\n}\nasync function parse(jsonContentTypes, xmlContentTypes, operationResponse, opts, parseXML) {\n    var _a;\n    if (!((_a = operationResponse.request.streamResponseStatusCodes) === null || _a === void 0 ? void 0 : _a.has(operationResponse.status)) &&\n        operationResponse.bodyAsText) {\n        const text = operationResponse.bodyAsText;\n        const contentType = operationResponse.headers.get(\"Content-Type\") || \"\";\n        const contentComponents = !contentType\n            ? []\n            : contentType.split(\";\").map((component) => component.toLowerCase());\n        try {\n            if (contentComponents.length === 0 ||\n                contentComponents.some((component) => jsonContentTypes.indexOf(component) !== -1)) {\n                operationResponse.parsedBody = JSON.parse(text);\n                return operationResponse;\n            }\n            else if (contentComponents.some((component) => xmlContentTypes.indexOf(component) !== -1)) {\n                if (!parseXML) {\n                    throw new Error(\"Parsing XML not supported.\");\n                }\n                const body = await parseXML(text, opts.xml);\n                operationResponse.parsedBody = body;\n                return operationResponse;\n            }\n        }\n        catch (err) {\n            const msg = `Error \"${err}\" occurred while parsing the response body - ${operationResponse.bodyAsText}.`;\n            const errCode = err.code || RestError.PARSE_ERROR;\n            const e = new RestError(msg, {\n                code: errCode,\n                statusCode: operationResponse.status,\n                request: operationResponse.request,\n                response: operationResponse,\n            });\n            throw e;\n        }\n    }\n    return operationResponse;\n}\n//# sourceMappingURL=deserializationPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { MapperTypeNames } from \"./serializer.js\";\n/**\n * Gets the list of status codes for streaming responses.\n * @internal\n */\nexport function getStreamingResponseStatusCodes(operationSpec) {\n    const result = new Set();\n    for (const statusCode in operationSpec.responses) {\n        const operationResponse = operationSpec.responses[statusCode];\n        if (operationResponse.bodyMapper &&\n            operationResponse.bodyMapper.type.name === MapperTypeNames.Stream) {\n            result.add(Number(statusCode));\n        }\n    }\n    return result;\n}\n/**\n * Get the path to this parameter's value as a dotted string (a.b.c).\n * @param parameter - The parameter to get the path string for.\n * @returns The path to this parameter's value as a dotted string.\n * @internal\n */\nexport function getPathStringFromParameter(parameter) {\n    const { parameterPath, mapper } = parameter;\n    let result;\n    if (typeof parameterPath === \"string\") {\n        result = parameterPath;\n    }\n    else if (Array.isArray(parameterPath)) {\n        result = parameterPath.join(\".\");\n    }\n    else {\n        result = mapper.serializedName;\n    }\n    return result;\n}\n//# sourceMappingURL=interfaceHelpers.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * A type guard for a primitive response body.\n * @param value - Value to test\n *\n * @internal\n */\nexport function isPrimitiveBody(value, mapperTypeName) {\n    return (mapperTypeName !== \"Composite\" &&\n        mapperTypeName !== \"Dictionary\" &&\n        (typeof value === \"string\" ||\n            typeof value === \"number\" ||\n            typeof value === \"boolean\" ||\n            (mapperTypeName === null || mapperTypeName === void 0 ? void 0 : mapperTypeName.match(/^(Date|DateTime|DateTimeRfc1123|UnixTime|ByteArray|Base64Url)$/i)) !==\n                null ||\n            value === undefined ||\n            value === null));\n}\nconst validateISODuration = /^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;\n/**\n * Returns true if the given string is in ISO 8601 format.\n * @param value - The value to be validated for ISO 8601 duration format.\n * @internal\n */\nexport function isDuration(value) {\n    return validateISODuration.test(value);\n}\nconst validUuidRegex = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i;\n/**\n * Returns true if the provided uuid is valid.\n *\n * @param uuid - The uuid that needs to be validated.\n *\n * @internal\n */\nexport function isValidUuid(uuid) {\n    return validUuidRegex.test(uuid);\n}\n/**\n * Maps the response as follows:\n * - wraps the response body if needed (typically if its type is primitive).\n * - returns null if the combination of the headers and the body is empty.\n * - otherwise, returns the combination of the headers and the body.\n *\n * @param responseObject - a representation of the parsed response\n * @returns the response that will be returned to the user which can be null and/or wrapped\n *\n * @internal\n */\nfunction handleNullableResponseAndWrappableBody(responseObject) {\n    const combinedHeadersAndBody = Object.assign(Object.assign({}, responseObject.headers), responseObject.body);\n    if (responseObject.hasNullableType &&\n        Object.getOwnPropertyNames(combinedHeadersAndBody).length === 0) {\n        return responseObject.shouldWrapBody ? { body: null } : null;\n    }\n    else {\n        return responseObject.shouldWrapBody\n            ? Object.assign(Object.assign({}, responseObject.headers), { body: responseObject.body }) : combinedHeadersAndBody;\n    }\n}\n/**\n * Take a `FullOperationResponse` and turn it into a flat\n * response object to hand back to the consumer.\n * @param fullResponse - The processed response from the operation request\n * @param responseSpec - The response map from the OperationSpec\n *\n * @internal\n */\nexport function flattenResponse(fullResponse, responseSpec) {\n    var _a, _b;\n    const parsedHeaders = fullResponse.parsedHeaders;\n    // head methods never have a body, but we return a boolean set to body property\n    // to indicate presence/absence of the resource\n    if (fullResponse.request.method === \"HEAD\") {\n        return Object.assign(Object.assign({}, parsedHeaders), { body: fullResponse.parsedBody });\n    }\n    const bodyMapper = responseSpec && responseSpec.bodyMapper;\n    const isNullable = Boolean(bodyMapper === null || bodyMapper === void 0 ? void 0 : bodyMapper.nullable);\n    const expectedBodyTypeName = bodyMapper === null || bodyMapper === void 0 ? void 0 : bodyMapper.type.name;\n    /** If the body is asked for, we look at the expected body type to handle it */\n    if (expectedBodyTypeName === \"Stream\") {\n        return Object.assign(Object.assign({}, parsedHeaders), { blobBody: fullResponse.blobBody, readableStreamBody: fullResponse.readableStreamBody });\n    }\n    const modelProperties = (expectedBodyTypeName === \"Composite\" &&\n        bodyMapper.type.modelProperties) ||\n        {};\n    const isPageableResponse = Object.keys(modelProperties).some((k) => modelProperties[k].serializedName === \"\");\n    if (expectedBodyTypeName === \"Sequence\" || isPageableResponse) {\n        const arrayResponse = (_a = fullResponse.parsedBody) !== null && _a !== void 0 ? _a : [];\n        for (const key of Object.keys(modelProperties)) {\n            if (modelProperties[key].serializedName) {\n                arrayResponse[key] = (_b = fullResponse.parsedBody) === null || _b === void 0 ? void 0 : _b[key];\n            }\n        }\n        if (parsedHeaders) {\n            for (const key of Object.keys(parsedHeaders)) {\n                arrayResponse[key] = parsedHeaders[key];\n            }\n        }\n        return isNullable &&\n            !fullResponse.parsedBody &&\n            !parsedHeaders &&\n            Object.getOwnPropertyNames(modelProperties).length === 0\n            ? null\n            : arrayResponse;\n    }\n    return handleNullableResponseAndWrappableBody({\n        body: fullResponse.parsedBody,\n        headers: parsedHeaders,\n        hasNullableType: isNullable,\n        shouldWrapBody: isPrimitiveBody(fullResponse.parsedBody, expectedBodyTypeName),\n    });\n}\n//# sourceMappingURL=utils.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { getOperationArgumentValueFromParameter } from \"./operationHelpers.js\";\nimport { getPathStringFromParameter } from \"./interfaceHelpers.js\";\nconst CollectionFormatToDelimiterMap = {\n    CSV: \",\",\n    SSV: \" \",\n    Multi: \"Multi\",\n    TSV: \"\\t\",\n    Pipes: \"|\",\n};\nexport function getRequestUrl(baseUri, operationSpec, operationArguments, fallbackObject) {\n    const urlReplacements = calculateUrlReplacements(operationSpec, operationArguments, fallbackObject);\n    let isAbsolutePath = false;\n    let requestUrl = replaceAll(baseUri, urlReplacements);\n    if (operationSpec.path) {\n        let path = replaceAll(operationSpec.path, urlReplacements);\n        // QUIRK: sometimes we get a path component like /{nextLink}\n        // which may be a fully formed URL with a leading /. In that case, we should\n        // remove the leading /\n        if (operationSpec.path === \"/{nextLink}\" && path.startsWith(\"/\")) {\n            path = path.substring(1);\n        }\n        // QUIRK: sometimes we get a path component like {nextLink}\n        // which may be a fully formed URL. In that case, we should\n        // ignore the baseUri.\n        if (isAbsoluteUrl(path)) {\n            requestUrl = path;\n            isAbsolutePath = true;\n        }\n        else {\n            requestUrl = appendPath(requestUrl, path);\n        }\n    }\n    const { queryParams, sequenceParams } = calculateQueryParameters(operationSpec, operationArguments, fallbackObject);\n    /**\n     * Notice that this call sets the `noOverwrite` parameter to true if the `requestUrl`\n     * is an absolute path. This ensures that existing query parameter values in `requestUrl`\n     * do not get overwritten. On the other hand when `requestUrl` is not absolute path, it\n     * is still being built so there is nothing to overwrite.\n     */\n    requestUrl = appendQueryParams(requestUrl, queryParams, sequenceParams, isAbsolutePath);\n    return requestUrl;\n}\nfunction replaceAll(input, replacements) {\n    let result = input;\n    for (const [searchValue, replaceValue] of replacements) {\n        result = result.split(searchValue).join(replaceValue);\n    }\n    return result;\n}\nfunction calculateUrlReplacements(operationSpec, operationArguments, fallbackObject) {\n    var _a;\n    const result = new Map();\n    if ((_a = operationSpec.urlParameters) === null || _a === void 0 ? void 0 : _a.length) {\n        for (const urlParameter of operationSpec.urlParameters) {\n            let urlParameterValue = getOperationArgumentValueFromParameter(operationArguments, urlParameter, fallbackObject);\n            const parameterPathString = getPathStringFromParameter(urlParameter);\n            urlParameterValue = operationSpec.serializer.serialize(urlParameter.mapper, urlParameterValue, parameterPathString);\n            if (!urlParameter.skipEncoding) {\n                urlParameterValue = encodeURIComponent(urlParameterValue);\n            }\n            result.set(`{${urlParameter.mapper.serializedName || parameterPathString}}`, urlParameterValue);\n        }\n    }\n    return result;\n}\nfunction isAbsoluteUrl(url) {\n    return url.includes(\"://\");\n}\nfunction appendPath(url, pathToAppend) {\n    if (!pathToAppend) {\n        return url;\n    }\n    const parsedUrl = new URL(url);\n    let newPath = parsedUrl.pathname;\n    if (!newPath.endsWith(\"/\")) {\n        newPath = `${newPath}/`;\n    }\n    if (pathToAppend.startsWith(\"/\")) {\n        pathToAppend = pathToAppend.substring(1);\n    }\n    const searchStart = pathToAppend.indexOf(\"?\");\n    if (searchStart !== -1) {\n        const path = pathToAppend.substring(0, searchStart);\n        const search = pathToAppend.substring(searchStart + 1);\n        newPath = newPath + path;\n        if (search) {\n            parsedUrl.search = parsedUrl.search ? `${parsedUrl.search}&${search}` : search;\n        }\n    }\n    else {\n        newPath = newPath + pathToAppend;\n    }\n    parsedUrl.pathname = newPath;\n    return parsedUrl.toString();\n}\nfunction calculateQueryParameters(operationSpec, operationArguments, fallbackObject) {\n    var _a;\n    const result = new Map();\n    const sequenceParams = new Set();\n    if ((_a = operationSpec.queryParameters) === null || _a === void 0 ? void 0 : _a.length) {\n        for (const queryParameter of operationSpec.queryParameters) {\n            if (queryParameter.mapper.type.name === \"Sequence\" && queryParameter.mapper.serializedName) {\n                sequenceParams.add(queryParameter.mapper.serializedName);\n            }\n            let queryParameterValue = getOperationArgumentValueFromParameter(operationArguments, queryParameter, fallbackObject);\n            if ((queryParameterValue !== undefined && queryParameterValue !== null) ||\n                queryParameter.mapper.required) {\n                queryParameterValue = operationSpec.serializer.serialize(queryParameter.mapper, queryParameterValue, getPathStringFromParameter(queryParameter));\n                const delimiter = queryParameter.collectionFormat\n                    ? CollectionFormatToDelimiterMap[queryParameter.collectionFormat]\n                    : \"\";\n                if (Array.isArray(queryParameterValue)) {\n                    // replace null and undefined\n                    queryParameterValue = queryParameterValue.map((item) => {\n                        if (item === null || item === undefined) {\n                            return \"\";\n                        }\n                        return item;\n                    });\n                }\n                if (queryParameter.collectionFormat === \"Multi\" && queryParameterValue.length === 0) {\n                    continue;\n                }\n                else if (Array.isArray(queryParameterValue) &&\n                    (queryParameter.collectionFormat === \"SSV\" || queryParameter.collectionFormat === \"TSV\")) {\n                    queryParameterValue = queryParameterValue.join(delimiter);\n                }\n                if (!queryParameter.skipEncoding) {\n                    if (Array.isArray(queryParameterValue)) {\n                        queryParameterValue = queryParameterValue.map((item) => {\n                            return encodeURIComponent(item);\n                        });\n                    }\n                    else {\n                        queryParameterValue = encodeURIComponent(queryParameterValue);\n                    }\n                }\n                // Join pipes and CSV *after* encoding, or the server will be upset.\n                if (Array.isArray(queryParameterValue) &&\n                    (queryParameter.collectionFormat === \"CSV\" || queryParameter.collectionFormat === \"Pipes\")) {\n                    queryParameterValue = queryParameterValue.join(delimiter);\n                }\n                result.set(queryParameter.mapper.serializedName || getPathStringFromParameter(queryParameter), queryParameterValue);\n            }\n        }\n    }\n    return {\n        queryParams: result,\n        sequenceParams,\n    };\n}\nfunction simpleParseQueryParams(queryString) {\n    const result = new Map();\n    if (!queryString || queryString[0] !== \"?\") {\n        return result;\n    }\n    // remove the leading ?\n    queryString = queryString.slice(1);\n    const pairs = queryString.split(\"&\");\n    for (const pair of pairs) {\n        const [name, value] = pair.split(\"=\", 2);\n        const existingValue = result.get(name);\n        if (existingValue) {\n            if (Array.isArray(existingValue)) {\n                existingValue.push(value);\n            }\n            else {\n                result.set(name, [existingValue, value]);\n            }\n        }\n        else {\n            result.set(name, value);\n        }\n    }\n    return result;\n}\n/** @internal */\nexport function appendQueryParams(url, queryParams, sequenceParams, noOverwrite = false) {\n    if (queryParams.size === 0) {\n        return url;\n    }\n    const parsedUrl = new URL(url);\n    // QUIRK: parsedUrl.searchParams will have their name/value pairs decoded, which\n    // can change their meaning to the server, such as in the case of a SAS signature.\n    // To avoid accidentally un-encoding a query param, we parse the key/values ourselves\n    const combinedParams = simpleParseQueryParams(parsedUrl.search);\n    for (const [name, value] of queryParams) {\n        const existingValue = combinedParams.get(name);\n        if (Array.isArray(existingValue)) {\n            if (Array.isArray(value)) {\n                existingValue.push(...value);\n                const valueSet = new Set(existingValue);\n                combinedParams.set(name, Array.from(valueSet));\n            }\n            else {\n                existingValue.push(value);\n            }\n        }\n        else if (existingValue) {\n            if (Array.isArray(value)) {\n                value.unshift(existingValue);\n            }\n            else if (sequenceParams.has(name)) {\n                combinedParams.set(name, [existingValue, value]);\n            }\n            if (!noOverwrite) {\n                combinedParams.set(name, value);\n            }\n        }\n        else {\n            combinedParams.set(name, value);\n        }\n    }\n    const searchPieces = [];\n    for (const [name, value] of combinedParams) {\n        if (typeof value === \"string\") {\n            searchPieces.push(`${name}=${value}`);\n        }\n        else if (Array.isArray(value)) {\n            // QUIRK: If we get an array of values, include multiple key/value pairs\n            for (const subValue of value) {\n                searchPieces.push(`${name}=${subValue}`);\n            }\n        }\n        else {\n            searchPieces.push(`${name}=${value}`);\n        }\n    }\n    // QUIRK: we have to set search manually as searchParams will encode comma when it shouldn't.\n    parsedUrl.search = searchPieces.length ? `?${searchPieces.join(\"&\")}` : \"\";\n    return parsedUrl.toString();\n}\n//# sourceMappingURL=urlHelpers.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createClientLogger } from \"@azure/logger\";\nexport const logger = createClientLogger(\"core-client\");\n//# sourceMappingURL=log.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createPipelineRequest, } from \"@azure/core-rest-pipeline\";\nimport { createClientPipeline } from \"./pipeline.js\";\nimport { flattenResponse } from \"./utils.js\";\nimport { getCachedDefaultHttpClient } from \"./httpClientCache.js\";\nimport { getOperationRequestInfo } from \"./operationHelpers.js\";\nimport { getRequestUrl } from \"./urlHelpers.js\";\nimport { getStreamingResponseStatusCodes } from \"./interfaceHelpers.js\";\nimport { logger } from \"./log.js\";\n/**\n * Initializes a new instance of the ServiceClient.\n */\nexport class ServiceClient {\n    /**\n     * The ServiceClient constructor\n     * @param credential - The credentials used for authentication with the service.\n     * @param options - The service client options that govern the behavior of the client.\n     */\n    constructor(options = {}) {\n        var _a, _b;\n        this._requestContentType = options.requestContentType;\n        this._endpoint = (_a = options.endpoint) !== null && _a !== void 0 ? _a : options.baseUri;\n        if (options.baseUri) {\n            logger.warning(\"The baseUri option for SDK Clients has been deprecated, please use endpoint instead.\");\n        }\n        this._allowInsecureConnection = options.allowInsecureConnection;\n        this._httpClient = options.httpClient || getCachedDefaultHttpClient();\n        this.pipeline = options.pipeline || createDefaultPipeline(options);\n        if ((_b = options.additionalPolicies) === null || _b === void 0 ? void 0 : _b.length) {\n            for (const { policy, position } of options.additionalPolicies) {\n                // Sign happens after Retry and is commonly needed to occur\n                // before policies that intercept post-retry.\n                const afterPhase = position === \"perRetry\" ? \"Sign\" : undefined;\n                this.pipeline.addPolicy(policy, {\n                    afterPhase,\n                });\n            }\n        }\n    }\n    /**\n     * Send the provided httpRequest.\n     */\n    async sendRequest(request) {\n        return this.pipeline.sendRequest(this._httpClient, request);\n    }\n    /**\n     * Send an HTTP request that is populated using the provided OperationSpec.\n     * @typeParam T - The typed result of the request, based on the OperationSpec.\n     * @param operationArguments - The arguments that the HTTP request's templated values will be populated from.\n     * @param operationSpec - The OperationSpec to use to populate the httpRequest.\n     */\n    async sendOperationRequest(operationArguments, operationSpec) {\n        const endpoint = operationSpec.baseUrl || this._endpoint;\n        if (!endpoint) {\n            throw new Error(\"If operationSpec.baseUrl is not specified, then the ServiceClient must have a endpoint string property that contains the base URL to use.\");\n        }\n        // Templatized URLs sometimes reference properties on the ServiceClient child class,\n        // so we have to pass `this` below in order to search these properties if they're\n        // not part of OperationArguments\n        const url = getRequestUrl(endpoint, operationSpec, operationArguments, this);\n        const request = createPipelineRequest({\n            url,\n        });\n        request.method = operationSpec.httpMethod;\n        const operationInfo = getOperationRequestInfo(request);\n        operationInfo.operationSpec = operationSpec;\n        operationInfo.operationArguments = operationArguments;\n        const contentType = operationSpec.contentType || this._requestContentType;\n        if (contentType && operationSpec.requestBody) {\n            request.headers.set(\"Content-Type\", contentType);\n        }\n        const options = operationArguments.options;\n        if (options) {\n            const requestOptions = options.requestOptions;\n            if (requestOptions) {\n                if (requestOptions.timeout) {\n                    request.timeout = requestOptions.timeout;\n                }\n                if (requestOptions.onUploadProgress) {\n                    request.onUploadProgress = requestOptions.onUploadProgress;\n                }\n                if (requestOptions.onDownloadProgress) {\n                    request.onDownloadProgress = requestOptions.onDownloadProgress;\n                }\n                if (requestOptions.shouldDeserialize !== undefined) {\n                    operationInfo.shouldDeserialize = requestOptions.shouldDeserialize;\n                }\n                if (requestOptions.allowInsecureConnection) {\n                    request.allowInsecureConnection = true;\n                }\n            }\n            if (options.abortSignal) {\n                request.abortSignal = options.abortSignal;\n            }\n            if (options.tracingOptions) {\n                request.tracingOptions = options.tracingOptions;\n            }\n        }\n        if (this._allowInsecureConnection) {\n            request.allowInsecureConnection = true;\n        }\n        if (request.streamResponseStatusCodes === undefined) {\n            request.streamResponseStatusCodes = getStreamingResponseStatusCodes(operationSpec);\n        }\n        try {\n            const rawResponse = await this.sendRequest(request);\n            const flatResponse = flattenResponse(rawResponse, operationSpec.responses[rawResponse.status]);\n            if (options === null || options === void 0 ? void 0 : options.onResponse) {\n                options.onResponse(rawResponse, flatResponse);\n            }\n            return flatResponse;\n        }\n        catch (error) {\n            if (typeof error === \"object\" && (error === null || error === void 0 ? void 0 : error.response)) {\n                const rawResponse = error.response;\n                const flatResponse = flattenResponse(rawResponse, operationSpec.responses[error.statusCode] || operationSpec.responses[\"default\"]);\n                error.details = flatResponse;\n                if (options === null || options === void 0 ? void 0 : options.onResponse) {\n                    options.onResponse(rawResponse, flatResponse, error);\n                }\n            }\n            throw error;\n        }\n    }\n}\nfunction createDefaultPipeline(options) {\n    const credentialScopes = getCredentialScopes(options);\n    const credentialOptions = options.credential && credentialScopes\n        ? { credentialScopes, credential: options.credential }\n        : undefined;\n    return createClientPipeline(Object.assign(Object.assign({}, options), { credentialOptions }));\n}\nfunction getCredentialScopes(options) {\n    if (options.credentialScopes) {\n        return options.credentialScopes;\n    }\n    if (options.endpoint) {\n        return `${options.endpoint}/.default`;\n    }\n    if (options.baseUri) {\n        return `${options.baseUri}/.default`;\n    }\n    if (options.credential && !options.credentialScopes) {\n        throw new Error(`When using credentials, the ServiceClientOptions must contain either a endpoint or a credentialScopes. Unable to create a bearerTokenAuthenticationPolicy`);\n    }\n    return undefined;\n}\n//# sourceMappingURL=serviceClient.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { deserializationPolicy } from \"./deserializationPolicy.js\";\nimport { bearerTokenAuthenticationPolicy, createPipelineFromOptions, } from \"@azure/core-rest-pipeline\";\nimport { serializationPolicy } from \"./serializationPolicy.js\";\n/**\n * Creates a new Pipeline for use with a Service Client.\n * Adds in deserializationPolicy by default.\n * Also adds in bearerTokenAuthenticationPolicy if passed a TokenCredential.\n * @param options - Options to customize the created pipeline.\n */\nexport function createClientPipeline(options = {}) {\n    const pipeline = createPipelineFromOptions(options !== null && options !== void 0 ? options : {});\n    if (options.credentialOptions) {\n        pipeline.addPolicy(bearerTokenAuthenticationPolicy({\n            credential: options.credentialOptions.credential,\n            scopes: options.credentialOptions.credentialScopes,\n        }));\n    }\n    pipeline.addPolicy(serializationPolicy(options.serializationOptions), { phase: \"Serialize\" });\n    pipeline.addPolicy(deserializationPolicy(options.deserializationOptions), {\n        phase: \"Deserialize\",\n    });\n    return pipeline;\n}\n//# sourceMappingURL=pipeline.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { logPolicy } from \"./policies/logPolicy.js\";\nimport { createEmptyPipeline } from \"./pipeline.js\";\nimport { redirectPolicy } from \"./policies/redirectPolicy.js\";\nimport { userAgentPolicy } from \"./policies/userAgentPolicy.js\";\nimport { multipartPolicy, multipartPolicyName } from \"./policies/multipartPolicy.js\";\nimport { decompressResponsePolicy } from \"./policies/decompressResponsePolicy.js\";\nimport { defaultRetryPolicy } from \"./policies/defaultRetryPolicy.js\";\nimport { formDataPolicy } from \"./policies/formDataPolicy.js\";\nimport { isNodeLike } from \"@azure/core-util\";\nimport { proxyPolicy } from \"./policies/proxyPolicy.js\";\nimport { setClientRequestIdPolicy } from \"./policies/setClientRequestIdPolicy.js\";\nimport { tlsPolicy } from \"./policies/tlsPolicy.js\";\nimport { tracingPolicy } from \"./policies/tracingPolicy.js\";\n/**\n * Create a new pipeline with a default set of customizable policies.\n * @param options - Options to configure a custom pipeline.\n */\nexport function createPipelineFromOptions(options) {\n    var _a;\n    const pipeline = createEmptyPipeline();\n    if (isNodeLike) {\n        if (options.tlsOptions) {\n            pipeline.addPolicy(tlsPolicy(options.tlsOptions));\n        }\n        pipeline.addPolicy(proxyPolicy(options.proxyOptions));\n        pipeline.addPolicy(decompressResponsePolicy());\n    }\n    pipeline.addPolicy(formDataPolicy(), { beforePolicies: [multipartPolicyName] });\n    pipeline.addPolicy(userAgentPolicy(options.userAgentOptions));\n    pipeline.addPolicy(setClientRequestIdPolicy((_a = options.telemetryOptions) === null || _a === void 0 ? void 0 : _a.clientRequestIdHeaderName));\n    // The multipart policy is added after policies with no phase, so that\n    // policies can be added between it and formDataPolicy to modify\n    // properties (e.g., making the boundary constant in recorded tests).\n    pipeline.addPolicy(multipartPolicy(), { afterPhase: \"Deserialize\" });\n    pipeline.addPolicy(defaultRetryPolicy(options.retryOptions), { phase: \"Retry\" });\n    pipeline.addPolicy(tracingPolicy(options.userAgentOptions), { afterPhase: \"Retry\" });\n    if (isNodeLike) {\n        // Both XHR and Fetch expect to handle redirects automatically,\n        // so only include this policy when we're in Node.\n        pipeline.addPolicy(redirectPolicy(options.redirectOptions), { afterPhase: \"Retry\" });\n    }\n    pipeline.addPolicy(logPolicy(options.loggingOptions), { afterPhase: \"Sign\" });\n    return pipeline;\n}\n//# sourceMappingURL=createPipelineFromOptions.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * Name of the TLS Policy\n */\nexport const tlsPolicyName = \"tlsPolicy\";\n/**\n * Gets a pipeline policy that adds the client certificate to the HttpClient agent for authentication.\n */\nexport function tlsPolicy(tlsSettings) {\n    return {\n        name: tlsPolicyName,\n        sendRequest: async (req, next) => {\n            // Users may define a request tlsSettings, honor those over the client level one\n            if (!req.tlsSettings) {\n                req.tlsSettings = tlsSettings;\n            }\n            return next(req);\n        },\n    };\n}\n//# sourceMappingURL=tlsPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * The programmatic identifier of the decompressResponsePolicy.\n */\nexport const decompressResponsePolicyName = \"decompressResponsePolicy\";\n/**\n * A policy to enable response decompression according to Accept-Encoding header\n * https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Encoding\n */\nexport function decompressResponsePolicy() {\n    return {\n        name: decompressResponsePolicyName,\n        async sendRequest(request, next) {\n            // HEAD requests have no body\n            if (request.method !== \"HEAD\") {\n                request.headers.set(\"Accept-Encoding\", \"gzip,deflate\");\n            }\n            return next(request);\n        },\n    };\n}\n//# sourceMappingURL=decompressResponsePolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * The programmatic identifier of the setClientRequestIdPolicy.\n */\nexport const setClientRequestIdPolicyName = \"setClientRequestIdPolicy\";\n/**\n * Each PipelineRequest gets a unique id upon creation.\n * This policy passes that unique id along via an HTTP header to enable better\n * telemetry and tracing.\n * @param requestIdHeaderName - The name of the header to pass the request ID to.\n */\nexport function setClientRequestIdPolicy(requestIdHeaderName = \"x-ms-client-request-id\") {\n    return {\n        name: setClientRequestIdPolicyName,\n        async sendRequest(request, next) {\n            if (!request.headers.has(requestIdHeaderName)) {\n                request.headers.set(requestIdHeaderName, request.requestId);\n            }\n            return next(request);\n        },\n    };\n}\n//# sourceMappingURL=setClientRequestIdPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { exponentialRetryStrategy } from \"../retryStrategies/exponentialRetryStrategy.js\";\nimport { throttlingRetryStrategy } from \"../retryStrategies/throttlingRetryStrategy.js\";\nimport { retryPolicy } from \"./retryPolicy.js\";\nimport { DEFAULT_RETRY_POLICY_COUNT } from \"../constants.js\";\n/**\n * Name of the {@link defaultRetryPolicy}\n */\nexport const defaultRetryPolicyName = \"defaultRetryPolicy\";\n/**\n * A policy that retries according to three strategies:\n * - When the server sends a 429 response with a Retry-After header.\n * - When there are errors in the underlying transport layer (e.g. DNS lookup failures).\n * - Or otherwise if the outgoing request fails, it will retry with an exponentially increasing delay.\n */\nexport function defaultRetryPolicy(options = {}) {\n    var _a;\n    return {\n        name: defaultRetryPolicyName,\n        sendRequest: retryPolicy([throttlingRetryStrategy(), exponentialRetryStrategy(options)], {\n            maxRetries: (_a = options.maxRetries) !== null && _a !== void 0 ? _a : DEFAULT_RETRY_POLICY_COUNT,\n        }).sendRequest,\n    };\n}\n//# sourceMappingURL=defaultRetryPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { getRandomIntegerInclusive } from \"@azure/core-util\";\nimport { isThrottlingRetryResponse } from \"./throttlingRetryStrategy.js\";\n// intervals are in milliseconds\nconst DEFAULT_CLIENT_RETRY_INTERVAL = 1000;\nconst DEFAULT_CLIENT_MAX_RETRY_INTERVAL = 1000 * 64;\n/**\n * A retry strategy that retries with an exponentially increasing delay in these two cases:\n * - When there are errors in the underlying transport layer (e.g. DNS lookup failures).\n * - Or otherwise if the outgoing request fails (408, greater or equal than 500, except for 501 and 505).\n */\nexport function exponentialRetryStrategy(options = {}) {\n    var _a, _b;\n    const retryInterval = (_a = options.retryDelayInMs) !== null && _a !== void 0 ? _a : DEFAULT_CLIENT_RETRY_INTERVAL;\n    const maxRetryInterval = (_b = options.maxRetryDelayInMs) !== null && _b !== void 0 ? _b : DEFAULT_CLIENT_MAX_RETRY_INTERVAL;\n    let retryAfterInMs = retryInterval;\n    return {\n        name: \"exponentialRetryStrategy\",\n        retry({ retryCount, response, responseError }) {\n            const matchedSystemError = isSystemError(responseError);\n            const ignoreSystemErrors = matchedSystemError && options.ignoreSystemErrors;\n            const isExponential = isExponentialRetryResponse(response);\n            const ignoreExponentialResponse = isExponential && options.ignoreHttpStatusCodes;\n            const unknownResponse = response && (isThrottlingRetryResponse(response) || !isExponential);\n            if (unknownResponse || ignoreExponentialResponse || ignoreSystemErrors) {\n                return { skipStrategy: true };\n            }\n            if (responseError && !matchedSystemError && !isExponential) {\n                return { errorToThrow: responseError };\n            }\n            // Exponentially increase the delay each time\n            const exponentialDelay = retryAfterInMs * Math.pow(2, retryCount);\n            // Don't let the delay exceed the maximum\n            const clampedExponentialDelay = Math.min(maxRetryInterval, exponentialDelay);\n            // Allow the final value to have some \"jitter\" (within 50% of the delay size) so\n            // that retries across multiple clients don't occur simultaneously.\n            retryAfterInMs =\n                clampedExponentialDelay / 2 + getRandomIntegerInclusive(0, clampedExponentialDelay / 2);\n            return { retryAfterInMs };\n        },\n    };\n}\n/**\n * A response is a retry response if it has status codes:\n * - 408, or\n * - Greater or equal than 500, except for 501 and 505.\n */\nexport function isExponentialRetryResponse(response) {\n    return Boolean(response &&\n        response.status !== undefined &&\n        (response.status >= 500 || response.status === 408) &&\n        response.status !== 501 &&\n        response.status !== 505);\n}\n/**\n * Determines whether an error from a pipeline response was triggered in the network layer.\n */\nexport function isSystemError(err) {\n    if (!err) {\n        return false;\n    }\n    return (err.code === \"ETIMEDOUT\" ||\n        err.code === \"ESOCKETTIMEDOUT\" ||\n        err.code === \"ECONNREFUSED\" ||\n        err.code === \"ECONNRESET\" ||\n        err.code === \"ENOENT\" ||\n        err.code === \"ENOTFOUND\");\n}\n//# sourceMappingURL=exponentialRetryStrategy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * Returns a random integer value between a lower and upper bound,\n * inclusive of both bounds.\n * Note that this uses Math.random and isn't secure. If you need to use\n * this for any kind of security purpose, find a better source of random.\n * @param min - The smallest integer value allowed.\n * @param max - The largest integer value allowed.\n */\nexport function getRandomIntegerInclusive(min, max) {\n    // Make sure inputs are integers.\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    // Pick a random offset from zero to the size of the range.\n    // Since Math.random() can never return 1, we have to make the range one larger\n    // in order to be inclusive of the maximum value after we take the floor.\n    const offset = Math.floor(Math.random() * (max - min + 1));\n    return offset + min;\n}\n//# sourceMappingURL=random.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createTracingClient, } from \"@azure/core-tracing\";\nimport { SDK_VERSION } from \"../constants.js\";\nimport { getUserAgentValue } from \"../util/userAgent.js\";\nimport { logger } from \"../log.js\";\nimport { getErrorMessage, isError } from \"@azure/core-util\";\nimport { isRestError } from \"../restError.js\";\n/**\n * The programmatic identifier of the tracingPolicy.\n */\nexport const tracingPolicyName = \"tracingPolicy\";\n/**\n * A simple policy to create OpenTelemetry Spans for each request made by the pipeline\n * that has SpanOptions with a parent.\n * Requests made without a parent Span will not be recorded.\n * @param options - Options to configure the telemetry logged by the tracing policy.\n */\nexport function tracingPolicy(options = {}) {\n    const userAgent = getUserAgentValue(options.userAgentPrefix);\n    const tracingClient = tryCreateTracingClient();\n    return {\n        name: tracingPolicyName,\n        async sendRequest(request, next) {\n            var _a, _b;\n            if (!tracingClient || !((_a = request.tracingOptions) === null || _a === void 0 ? void 0 : _a.tracingContext)) {\n                return next(request);\n            }\n            const { span, tracingContext } = (_b = tryCreateSpan(tracingClient, request, userAgent)) !== null && _b !== void 0 ? _b : {};\n            if (!span || !tracingContext) {\n                return next(request);\n            }\n            try {\n                const response = await tracingClient.withContext(tracingContext, next, request);\n                tryProcessResponse(span, response);\n                return response;\n            }\n            catch (err) {\n                tryProcessError(span, err);\n                throw err;\n            }\n        },\n    };\n}\nfunction tryCreateTracingClient() {\n    try {\n        return createTracingClient({\n            namespace: \"\",\n            packageName: \"@azure/core-rest-pipeline\",\n            packageVersion: SDK_VERSION,\n        });\n    }\n    catch (e) {\n        logger.warning(`Error when creating the TracingClient: ${getErrorMessage(e)}`);\n        return undefined;\n    }\n}\nfunction tryCreateSpan(tracingClient, request, userAgent) {\n    try {\n        // As per spec, we do not need to differentiate between HTTP and HTTPS in span name.\n        const { span, updatedOptions } = tracingClient.startSpan(`HTTP ${request.method}`, { tracingOptions: request.tracingOptions }, {\n            spanKind: \"client\",\n            spanAttributes: {\n                \"http.method\": request.method,\n                \"http.url\": request.url,\n                requestId: request.requestId,\n            },\n        });\n        // If the span is not recording, don't do any more work.\n        if (!span.isRecording()) {\n            span.end();\n            return undefined;\n        }\n        if (userAgent) {\n            span.setAttribute(\"http.user_agent\", userAgent);\n        }\n        // set headers\n        const headers = tracingClient.createRequestHeaders(updatedOptions.tracingOptions.tracingContext);\n        for (const [key, value] of Object.entries(headers)) {\n            request.headers.set(key, value);\n        }\n        return { span, tracingContext: updatedOptions.tracingOptions.tracingContext };\n    }\n    catch (e) {\n        logger.warning(`Skipping creating a tracing span due to an error: ${getErrorMessage(e)}`);\n        return undefined;\n    }\n}\nfunction tryProcessError(span, error) {\n    try {\n        span.setStatus({\n            status: \"error\",\n            error: isError(error) ? error : undefined,\n        });\n        if (isRestError(error) && error.statusCode) {\n            span.setAttribute(\"http.status_code\", error.statusCode);\n        }\n        span.end();\n    }\n    catch (e) {\n        logger.warning(`Skipping tracing span processing due to an error: ${getErrorMessage(e)}`);\n    }\n}\nfunction tryProcessResponse(span, response) {\n    try {\n        span.setAttribute(\"http.status_code\", response.status);\n        const serviceRequestId = response.headers.get(\"x-ms-request-id\");\n        if (serviceRequestId) {\n            span.setAttribute(\"serviceRequestId\", serviceRequestId);\n        }\n        span.setStatus({\n            status: \"success\",\n        });\n        span.end();\n    }\n    catch (e) {\n        logger.warning(`Skipping tracing span processing due to an error: ${getErrorMessage(e)}`);\n    }\n}\n//# sourceMappingURL=tracingPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { logger as coreLogger } from \"../log.js\";\nimport { Sanitizer } from \"../util/sanitizer.js\";\n/**\n * The programmatic identifier of the logPolicy.\n */\nexport const logPolicyName = \"logPolicy\";\n/**\n * A policy that logs all requests and responses.\n * @param options - Options to configure logPolicy.\n */\nexport function logPolicy(options = {}) {\n    var _a;\n    const logger = (_a = options.logger) !== null && _a !== void 0 ? _a : coreLogger.info;\n    const sanitizer = new Sanitizer({\n        additionalAllowedHeaderNames: options.additionalAllowedHeaderNames,\n        additionalAllowedQueryParameters: options.additionalAllowedQueryParameters,\n    });\n    return {\n        name: logPolicyName,\n        async sendRequest(request, next) {\n            if (!logger.enabled) {\n                return next(request);\n            }\n            logger(`Request: ${sanitizer.sanitize(request)}`);\n            const response = await next(request);\n            logger(`Response status code: ${response.status}`);\n            logger(`Headers: ${sanitizer.sanitize(response.headers)}`);\n            return response;\n        },\n    };\n}\n//# sourceMappingURL=logPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { XML_ATTRKEY, XML_CHARKEY, } from \"./interfaces.js\";\nimport { getOperationArgumentValueFromParameter, getOperationRequestInfo, } from \"./operationHelpers.js\";\nimport { MapperTypeNames } from \"./serializer.js\";\nimport { getPathStringFromParameter } from \"./interfaceHelpers.js\";\n/**\n * The programmatic identifier of the serializationPolicy.\n */\nexport const serializationPolicyName = \"serializationPolicy\";\n/**\n * This policy handles assembling the request body and headers using\n * an OperationSpec and OperationArguments on the request.\n */\nexport function serializationPolicy(options = {}) {\n    const stringifyXML = options.stringifyXML;\n    return {\n        name: serializationPolicyName,\n        async sendRequest(request, next) {\n            const operationInfo = getOperationRequestInfo(request);\n            const operationSpec = operationInfo === null || operationInfo === void 0 ? void 0 : operationInfo.operationSpec;\n            const operationArguments = operationInfo === null || operationInfo === void 0 ? void 0 : operationInfo.operationArguments;\n            if (operationSpec && operationArguments) {\n                serializeHeaders(request, operationArguments, operationSpec);\n                serializeRequestBody(request, operationArguments, operationSpec, stringifyXML);\n            }\n            return next(request);\n        },\n    };\n}\n/**\n * @internal\n */\nexport function serializeHeaders(request, operationArguments, operationSpec) {\n    var _a, _b;\n    if (operationSpec.headerParameters) {\n        for (const headerParameter of operationSpec.headerParameters) {\n            let headerValue = getOperationArgumentValueFromParameter(operationArguments, headerParameter);\n            if ((headerValue !== null && headerValue !== undefined) || headerParameter.mapper.required) {\n                headerValue = operationSpec.serializer.serialize(headerParameter.mapper, headerValue, getPathStringFromParameter(headerParameter));\n                const headerCollectionPrefix = headerParameter.mapper\n                    .headerCollectionPrefix;\n                if (headerCollectionPrefix) {\n                    for (const key of Object.keys(headerValue)) {\n                        request.headers.set(headerCollectionPrefix + key, headerValue[key]);\n                    }\n                }\n                else {\n                    request.headers.set(headerParameter.mapper.serializedName || getPathStringFromParameter(headerParameter), headerValue);\n                }\n            }\n        }\n    }\n    const customHeaders = (_b = (_a = operationArguments.options) === null || _a === void 0 ? void 0 : _a.requestOptions) === null || _b === void 0 ? void 0 : _b.customHeaders;\n    if (customHeaders) {\n        for (const customHeaderName of Object.keys(customHeaders)) {\n            request.headers.set(customHeaderName, customHeaders[customHeaderName]);\n        }\n    }\n}\n/**\n * @internal\n */\nexport function serializeRequestBody(request, operationArguments, operationSpec, stringifyXML = function () {\n    throw new Error(\"XML serialization unsupported!\");\n}) {\n    var _a, _b, _c, _d, _e;\n    const serializerOptions = (_a = operationArguments.options) === null || _a === void 0 ? void 0 : _a.serializerOptions;\n    const updatedOptions = {\n        xml: {\n            rootName: (_b = serializerOptions === null || serializerOptions === void 0 ? void 0 : serializerOptions.xml.rootName) !== null && _b !== void 0 ? _b : \"\",\n            includeRoot: (_c = serializerOptions === null || serializerOptions === void 0 ? void 0 : serializerOptions.xml.includeRoot) !== null && _c !== void 0 ? _c : false,\n            xmlCharKey: (_d = serializerOptions === null || serializerOptions === void 0 ? void 0 : serializerOptions.xml.xmlCharKey) !== null && _d !== void 0 ? _d : XML_CHARKEY,\n        },\n    };\n    const xmlCharKey = updatedOptions.xml.xmlCharKey;\n    if (operationSpec.requestBody && operationSpec.requestBody.mapper) {\n        request.body = getOperationArgumentValueFromParameter(operationArguments, operationSpec.requestBody);\n        const bodyMapper = operationSpec.requestBody.mapper;\n        const { required, serializedName, xmlName, xmlElementName, xmlNamespace, xmlNamespacePrefix, nullable, } = bodyMapper;\n        const typeName = bodyMapper.type.name;\n        try {\n            if ((request.body !== undefined && request.body !== null) ||\n                (nullable && request.body === null) ||\n                required) {\n                const requestBodyParameterPathString = getPathStringFromParameter(operationSpec.requestBody);\n                request.body = operationSpec.serializer.serialize(bodyMapper, request.body, requestBodyParameterPathString, updatedOptions);\n                const isStream = typeName === MapperTypeNames.Stream;\n                if (operationSpec.isXML) {\n                    const xmlnsKey = xmlNamespacePrefix ? `xmlns:${xmlNamespacePrefix}` : \"xmlns\";\n                    const value = getXmlValueWithNamespace(xmlNamespace, xmlnsKey, typeName, request.body, updatedOptions);\n                    if (typeName === MapperTypeNames.Sequence) {\n                        request.body = stringifyXML(prepareXMLRootList(value, xmlElementName || xmlName || serializedName, xmlnsKey, xmlNamespace), { rootName: xmlName || serializedName, xmlCharKey });\n                    }\n                    else if (!isStream) {\n                        request.body = stringifyXML(value, {\n                            rootName: xmlName || serializedName,\n                            xmlCharKey,\n                        });\n                    }\n                }\n                else if (typeName === MapperTypeNames.String &&\n                    (((_e = operationSpec.contentType) === null || _e === void 0 ? void 0 : _e.match(\"text/plain\")) || operationSpec.mediaType === \"text\")) {\n                    // the String serializer has validated that request body is a string\n                    // so just send the string.\n                    return;\n                }\n                else if (!isStream) {\n                    request.body = JSON.stringify(request.body);\n                }\n            }\n        }\n        catch (error) {\n            throw new Error(`Error \"${error.message}\" occurred in serializing the payload - ${JSON.stringify(serializedName, undefined, \"  \")}.`);\n        }\n    }\n    else if (operationSpec.formDataParameters && operationSpec.formDataParameters.length > 0) {\n        request.formData = {};\n        for (const formDataParameter of operationSpec.formDataParameters) {\n            const formDataParameterValue = getOperationArgumentValueFromParameter(operationArguments, formDataParameter);\n            if (formDataParameterValue !== undefined && formDataParameterValue !== null) {\n                const formDataParameterPropertyName = formDataParameter.mapper.serializedName || getPathStringFromParameter(formDataParameter);\n                request.formData[formDataParameterPropertyName] = operationSpec.serializer.serialize(formDataParameter.mapper, formDataParameterValue, getPathStringFromParameter(formDataParameter), updatedOptions);\n            }\n        }\n    }\n}\n/**\n * Adds an xml namespace to the xml serialized object if needed, otherwise it just returns the value itself\n */\nfunction getXmlValueWithNamespace(xmlNamespace, xmlnsKey, typeName, serializedValue, options) {\n    // Composite and Sequence schemas already got their root namespace set during serialization\n    // We just need to add xmlns to the other schema types\n    if (xmlNamespace && ![\"Composite\", \"Sequence\", \"Dictionary\"].includes(typeName)) {\n        const result = {};\n        result[options.xml.xmlCharKey] = serializedValue;\n        result[XML_ATTRKEY] = { [xmlnsKey]: xmlNamespace };\n        return result;\n    }\n    return serializedValue;\n}\nfunction prepareXMLRootList(obj, elementName, xmlNamespaceKey, xmlNamespace) {\n    if (!Array.isArray(obj)) {\n        obj = [obj];\n    }\n    if (!xmlNamespaceKey || !xmlNamespace) {\n        return { [elementName]: obj };\n    }\n    const result = { [elementName]: obj };\n    result[XML_ATTRKEY] = { [xmlNamespaceKey]: xmlNamespace };\n    return result;\n}\n//# sourceMappingURL=serializationPolicy.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * Default key used to access the XML attributes.\n */\nexport const XML_ATTRKEY = \"$\";\n/**\n * Default key used to access the XML value content.\n */\nexport const XML_CHARKEY = \"_\";\n//# sourceMappingURL=interfaces.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/// <reference path=\"../shims-public.d.ts\" />\nconst listenersMap = new WeakMap();\nconst abortedMap = new WeakMap();\n/**\n * An aborter instance implements AbortSignal interface, can abort HTTP requests.\n *\n * - Call AbortSignal.none to create a new AbortSignal instance that cannot be cancelled.\n * Use `AbortSignal.none` when you are required to pass a cancellation token but the operation\n * cannot or will not ever be cancelled.\n *\n * @example\n * Abort without timeout\n * ```ts\n * await doAsyncWork(AbortSignal.none);\n * ```\n */\nexport class AbortSignal {\n    constructor() {\n        /**\n         * onabort event listener.\n         */\n        this.onabort = null;\n        listenersMap.set(this, []);\n        abortedMap.set(this, false);\n    }\n    /**\n     * Status of whether aborted or not.\n     *\n     * @readonly\n     */\n    get aborted() {\n        if (!abortedMap.has(this)) {\n            throw new TypeError(\"Expected `this` to be an instance of AbortSignal.\");\n        }\n        return abortedMap.get(this);\n    }\n    /**\n     * Creates a new AbortSignal instance that will never be aborted.\n     *\n     * @readonly\n     */\n    static get none() {\n        return new AbortSignal();\n    }\n    /**\n     * Added new \"abort\" event listener, only support \"abort\" event.\n     *\n     * @param _type - Only support \"abort\" event\n     * @param listener - The listener to be added\n     */\n    addEventListener(\n    // tslint:disable-next-line:variable-name\n    _type, listener) {\n        if (!listenersMap.has(this)) {\n            throw new TypeError(\"Expected `this` to be an instance of AbortSignal.\");\n        }\n        const listeners = listenersMap.get(this);\n        listeners.push(listener);\n    }\n    /**\n     * Remove \"abort\" event listener, only support \"abort\" event.\n     *\n     * @param _type - Only support \"abort\" event\n     * @param listener - The listener to be removed\n     */\n    removeEventListener(\n    // tslint:disable-next-line:variable-name\n    _type, listener) {\n        if (!listenersMap.has(this)) {\n            throw new TypeError(\"Expected `this` to be an instance of AbortSignal.\");\n        }\n        const listeners = listenersMap.get(this);\n        const index = listeners.indexOf(listener);\n        if (index > -1) {\n            listeners.splice(index, 1);\n        }\n    }\n    /**\n     * Dispatches a synthetic event to the AbortSignal.\n     */\n    dispatchEvent(_event) {\n        throw new Error(\"This is a stub dispatchEvent implementation that should not be used.  It only exists for type-checking purposes.\");\n    }\n}\n/**\n * Helper to trigger an abort event immediately, the onabort and all abort event listeners will be triggered.\n * Will try to trigger abort event for all linked AbortSignal nodes.\n *\n * - If there is a timeout, the timer will be cancelled.\n * - If aborted is true, nothing will happen.\n *\n * @internal\n */\n// eslint-disable-next-line @azure/azure-sdk/ts-use-interface-parameters\nexport function abortSignal(signal) {\n    if (signal.aborted) {\n        return;\n    }\n    if (signal.onabort) {\n        signal.onabort.call(signal);\n    }\n    const listeners = listenersMap.get(signal);\n    if (listeners) {\n        // Create a copy of listeners so mutations to the array\n        // (e.g. via removeListener calls) don't affect the listeners\n        // we invoke.\n        listeners.slice().forEach((listener) => {\n            listener.call(signal, { type: \"abort\" });\n        });\n    }\n    abortedMap.set(signal, true);\n}\n//# sourceMappingURL=AbortSignal.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { AbortSignal, abortSignal } from \"./AbortSignal\";\n/**\n * This error is thrown when an asynchronous operation has been aborted.\n * Check for this error by testing the `name` that the name property of the\n * error matches `\"AbortError\"`.\n *\n * @example\n * ```ts\n * const controller = new AbortController();\n * controller.abort();\n * try {\n *   doAsyncWork(controller.signal)\n * } catch (e) {\n *   if (e.name === 'AbortError') {\n *     // handle abort error here.\n *   }\n * }\n * ```\n */\nexport class AbortError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = \"AbortError\";\n    }\n}\n/**\n * An AbortController provides an AbortSignal and the associated controls to signal\n * that an asynchronous operation should be aborted.\n *\n * @example\n * Abort an operation when another event fires\n * ```ts\n * const controller = new AbortController();\n * const signal = controller.signal;\n * doAsyncWork(signal);\n * button.addEventListener('click', () => controller.abort());\n * ```\n *\n * @example\n * Share aborter cross multiple operations in 30s\n * ```ts\n * // Upload the same data to 2 different data centers at the same time,\n * // abort another when any of them is finished\n * const controller = AbortController.withTimeout(30 * 1000);\n * doAsyncWork(controller.signal).then(controller.abort);\n * doAsyncWork(controller.signal).then(controller.abort);\n *```\n *\n * @example\n * Cascaded aborting\n * ```ts\n * // All operations can't take more than 30 seconds\n * const aborter = Aborter.timeout(30 * 1000);\n *\n * // Following 2 operations can't take more than 25 seconds\n * await doAsyncWork(aborter.withTimeout(25 * 1000));\n * await doAsyncWork(aborter.withTimeout(25 * 1000));\n * ```\n */\nexport class AbortController {\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n    constructor(parentSignals) {\n        this._signal = new AbortSignal();\n        if (!parentSignals) {\n            return;\n        }\n        // coerce parentSignals into an array\n        if (!Array.isArray(parentSignals)) {\n            // eslint-disable-next-line prefer-rest-params\n            parentSignals = arguments;\n        }\n        for (const parentSignal of parentSignals) {\n            // if the parent signal has already had abort() called,\n            // then call abort on this signal as well.\n            if (parentSignal.aborted) {\n                this.abort();\n            }\n            else {\n                // when the parent signal aborts, this signal should as well.\n                parentSignal.addEventListener(\"abort\", () => {\n                    this.abort();\n                });\n            }\n        }\n    }\n    /**\n     * The AbortSignal associated with this controller that will signal aborted\n     * when the abort method is called on this controller.\n     *\n     * @readonly\n     */\n    get signal() {\n        return this._signal;\n    }\n    /**\n     * Signal that any operations passed this controller's associated abort signal\n     * to cancel any remaining work and throw an `AbortError`.\n     */\n    abort() {\n        abortSignal(this._signal);\n    }\n    /**\n     * Creates a new AbortSignal instance that will abort after the provided ms.\n     * @param ms - Elapsed time in milliseconds to trigger an abort.\n     */\n    static timeout(ms) {\n        const signal = new AbortSignal();\n        const timer = setTimeout(abortSignal, ms, signal);\n        // Prevent the active Timer from keeping the Node.js event loop active.\n        if (typeof timer.unref === \"function\") {\n            timer.unref();\n        }\n        return signal;\n    }\n}\n//# sourceMappingURL=AbortController.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { SDK_VERSION } from \"../constants\";\nimport { createTracingClient } from \"@azure/core-tracing\";\n/**\n * Creates a span using the global tracer.\n * @internal\n */\nexport const tracingClient = createTracingClient({\n    namespace: \"Microsoft.AAD\",\n    packageName: \"@azure/identity\",\n    packageVersion: SDK_VERSION,\n});\n//# sourceMappingURL=tracing.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nexport const DefaultScopeSuffix = \"/.default\";\nexport const imdsHost = \"http://169.254.169.254\";\nexport const imdsEndpointPath = \"/metadata/identity/oauth2/token\";\nexport const imdsApiVersion = \"2018-02-01\";\nexport const azureArcAPIVersion = \"2019-11-01\";\nexport const azureFabricVersion = \"2019-07-01-preview\";\n//# sourceMappingURL=constants.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { DefaultScopeSuffix } from \"./constants\";\n/**\n * Most MSIs send requests to the IMDS endpoint, or a similar endpoint.\n * These are GET requests that require sending a `resource` parameter on the query.\n * This resource can be derived from the scopes received through the getToken call, as long as only one scope is received.\n * Multiple scopes assume that the resulting token will have access to multiple resources, which won't be the case.\n *\n * For that reason, when we encounter multiple scopes, we return undefined.\n * It's up to the individual MSI implementations to throw the errors (which helps us provide less generic errors).\n */\nexport function mapScopesToResource(scopes) {\n    let scope = \"\";\n    if (Array.isArray(scopes)) {\n        if (scopes.length !== 1) {\n            return;\n        }\n        scope = scopes[0];\n    }\n    else if (typeof scopes === \"string\") {\n        scope = scopes;\n    }\n    if (!scope.endsWith(DefaultScopeSuffix)) {\n        return scope;\n    }\n    return scope.substr(0, scope.lastIndexOf(DefaultScopeSuffix));\n}\n/**\n * Given a token response, return the expiration timestamp as the number of milliseconds from the Unix epoch.\n * @param body - A parsed response body from the authentication endpoint.\n */\nexport function parseExpirationTimestamp(body) {\n    if (typeof body.expires_on === \"number\") {\n        return body.expires_on * 1000;\n    }\n    if (typeof body.expires_on === \"string\") {\n        const asNumber = +body.expires_on;\n        if (!isNaN(asNumber)) {\n            return asNumber * 1000;\n        }\n        const asDate = Date.parse(body.expires_on);\n        if (!isNaN(asDate)) {\n            return asDate;\n        }\n    }\n    if (typeof body.expires_in === \"number\") {\n        return Date.now() + body.expires_in * 1000;\n    }\n    throw new Error(`Failed to parse token expiration from body. expires_in=\"${body.expires_in}\", expires_on=\"${body.expires_on}\"`);\n}\n//# sourceMappingURL=utils.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { ServiceClient } from \"@azure/core-client\";\nimport { isNode } from \"@azure/core-util\";\nimport { createHttpHeaders, createPipelineRequest, } from \"@azure/core-rest-pipeline\";\nimport { AbortController } from \"@azure/abort-controller\";\nimport { AuthenticationError, AuthenticationErrorName } from \"../errors\";\nimport { getIdentityTokenEndpointSuffix } from \"../util/identityTokenEndpoint\";\nimport { DefaultAuthorityHost, SDK_VERSION } from \"../constants\";\nimport { tracingClient } from \"../util/tracing\";\nimport { logger } from \"../util/logging\";\nimport { parseExpirationTimestamp, } from \"../credentials/managedIdentityCredential/utils\";\nconst noCorrelationId = \"noCorrelationId\";\n/**\n * @internal\n */\nexport function getIdentityClientAuthorityHost(options) {\n    // The authorityHost can come from options or from the AZURE_AUTHORITY_HOST environment variable.\n    let authorityHost = options === null || options === void 0 ? void 0 : options.authorityHost;\n    // The AZURE_AUTHORITY_HOST environment variable can only be provided in Node.js.\n    if (isNode) {\n        authorityHost = authorityHost !== null && authorityHost !== void 0 ? authorityHost : process.env.AZURE_AUTHORITY_HOST;\n    }\n    // If the authorityHost is not provided, we use the default one from the public cloud: https://login.microsoftonline.com\n    return authorityHost !== null && authorityHost !== void 0 ? authorityHost : DefaultAuthorityHost;\n}\n/**\n * The network module used by the Identity credentials.\n *\n * It allows for credentials to abort any pending request independently of the MSAL flow,\n * by calling to the `abortRequests()` method.\n *\n */\nexport class IdentityClient extends ServiceClient {\n    constructor(options) {\n        var _a, _b;\n        const packageDetails = `azsdk-js-identity/${SDK_VERSION}`;\n        const userAgentPrefix = ((_a = options === null || options === void 0 ? void 0 : options.userAgentOptions) === null || _a === void 0 ? void 0 : _a.userAgentPrefix)\n            ? `${options.userAgentOptions.userAgentPrefix} ${packageDetails}`\n            : `${packageDetails}`;\n        const baseUri = getIdentityClientAuthorityHost(options);\n        if (!baseUri.startsWith(\"https:\")) {\n            throw new Error(\"The authorityHost address must use the 'https' protocol.\");\n        }\n        super(Object.assign(Object.assign({ requestContentType: \"application/json; charset=utf-8\", retryOptions: {\n                maxRetries: 3,\n            } }, options), { userAgentOptions: {\n                userAgentPrefix,\n            }, baseUri }));\n        this.authorityHost = baseUri;\n        this.abortControllers = new Map();\n        this.allowLoggingAccountIdentifiers = (_b = options === null || options === void 0 ? void 0 : options.loggingOptions) === null || _b === void 0 ? void 0 : _b.allowLoggingAccountIdentifiers;\n        // used for WorkloadIdentity\n        this.tokenCredentialOptions = Object.assign({}, options);\n    }\n    async sendTokenRequest(request) {\n        logger.info(`IdentityClient: sending token request to [${request.url}]`);\n        const response = await this.sendRequest(request);\n        if (response.bodyAsText && (response.status === 200 || response.status === 201)) {\n            const parsedBody = JSON.parse(response.bodyAsText);\n            if (!parsedBody.access_token) {\n                return null;\n            }\n            this.logIdentifiers(response);\n            const token = {\n                accessToken: {\n                    token: parsedBody.access_token,\n                    expiresOnTimestamp: parseExpirationTimestamp(parsedBody),\n                },\n                refreshToken: parsedBody.refresh_token,\n            };\n            logger.info(`IdentityClient: [${request.url}] token acquired, expires on ${token.accessToken.expiresOnTimestamp}`);\n            return token;\n        }\n        else {\n            const error = new AuthenticationError(response.status, response.bodyAsText);\n            logger.warning(`IdentityClient: authentication error. HTTP status: ${response.status}, ${error.errorResponse.errorDescription}`);\n            throw error;\n        }\n    }\n    async refreshAccessToken(tenantId, clientId, scopes, refreshToken, clientSecret, options = {}) {\n        if (refreshToken === undefined) {\n            return null;\n        }\n        logger.info(`IdentityClient: refreshing access token with client ID: ${clientId}, scopes: ${scopes} started`);\n        const refreshParams = {\n            grant_type: \"refresh_token\",\n            client_id: clientId,\n            refresh_token: refreshToken,\n            scope: scopes,\n        };\n        if (clientSecret !== undefined) {\n            refreshParams.client_secret = clientSecret;\n        }\n        const query = new URLSearchParams(refreshParams);\n        return tracingClient.withSpan(\"IdentityClient.refreshAccessToken\", options, async (updatedOptions) => {\n            try {\n                const urlSuffix = getIdentityTokenEndpointSuffix(tenantId);\n                const request = createPipelineRequest({\n                    url: `${this.authorityHost}/${tenantId}/${urlSuffix}`,\n                    method: \"POST\",\n                    body: query.toString(),\n                    abortSignal: options.abortSignal,\n                    headers: createHttpHeaders({\n                        Accept: \"application/json\",\n                        \"Content-Type\": \"application/x-www-form-urlencoded\",\n                    }),\n                    tracingOptions: updatedOptions.tracingOptions,\n                });\n                const response = await this.sendTokenRequest(request);\n                logger.info(`IdentityClient: refreshed token for client ID: ${clientId}`);\n                return response;\n            }\n            catch (err) {\n                if (err.name === AuthenticationErrorName &&\n                    err.errorResponse.error === \"interaction_required\") {\n                    // It's likely that the refresh token has expired, so\n                    // return null so that the credential implementation will\n                    // initiate the authentication flow again.\n                    logger.info(`IdentityClient: interaction required for client ID: ${clientId}`);\n                    return null;\n                }\n                else {\n                    logger.warning(`IdentityClient: failed refreshing token for client ID: ${clientId}: ${err}`);\n                    throw err;\n                }\n            }\n        });\n    }\n    // Here is a custom layer that allows us to abort requests that go through MSAL,\n    // since MSAL doesn't allow us to pass options all the way through.\n    generateAbortSignal(correlationId) {\n        const controller = new AbortController();\n        const controllers = this.abortControllers.get(correlationId) || [];\n        controllers.push(controller);\n        this.abortControllers.set(correlationId, controllers);\n        const existingOnAbort = controller.signal.onabort;\n        controller.signal.onabort = (...params) => {\n            this.abortControllers.set(correlationId, undefined);\n            if (existingOnAbort) {\n                existingOnAbort(...params);\n            }\n        };\n        return controller.signal;\n    }\n    abortRequests(correlationId) {\n        const key = correlationId || noCorrelationId;\n        const controllers = [\n            ...(this.abortControllers.get(key) || []),\n            // MSAL passes no correlation ID to the get requests...\n            ...(this.abortControllers.get(noCorrelationId) || []),\n        ];\n        if (!controllers.length) {\n            return;\n        }\n        for (const controller of controllers) {\n            controller.abort();\n        }\n        this.abortControllers.set(key, undefined);\n    }\n    getCorrelationId(options) {\n        var _a;\n        const parameter = (_a = options === null || options === void 0 ? void 0 : options.body) === null || _a === void 0 ? void 0 : _a.split(\"&\").map((part) => part.split(\"=\")).find(([key]) => key === \"client-request-id\");\n        return parameter && parameter.length ? parameter[1] || noCorrelationId : noCorrelationId;\n    }\n    // The MSAL network module methods follow\n    async sendGetRequestAsync(url, options) {\n        const request = createPipelineRequest({\n            url,\n            method: \"GET\",\n            body: options === null || options === void 0 ? void 0 : options.body,\n            headers: createHttpHeaders(options === null || options === void 0 ? void 0 : options.headers),\n            abortSignal: this.generateAbortSignal(noCorrelationId),\n        });\n        const response = await this.sendRequest(request);\n        this.logIdentifiers(response);\n        return {\n            body: response.bodyAsText ? JSON.parse(response.bodyAsText) : undefined,\n            headers: response.headers.toJSON(),\n            status: response.status,\n        };\n    }\n    async sendPostRequestAsync(url, options) {\n        const request = createPipelineRequest({\n            url,\n            method: \"POST\",\n            body: options === null || options === void 0 ? void 0 : options.body,\n            headers: createHttpHeaders(options === null || options === void 0 ? void 0 : options.headers),\n            // MSAL doesn't send the correlation ID on the get requests.\n            abortSignal: this.generateAbortSignal(this.getCorrelationId(options)),\n        });\n        const response = await this.sendRequest(request);\n        this.logIdentifiers(response);\n        return {\n            body: response.bodyAsText ? JSON.parse(response.bodyAsText) : undefined,\n            headers: response.headers.toJSON(),\n            status: response.status,\n        };\n    }\n    /**\n     *\n     * @internal\n     */\n    getTokenCredentialOptions() {\n        return this.tokenCredentialOptions;\n    }\n    /**\n     * If allowLoggingAccountIdentifiers was set on the constructor options\n     * we try to log the account identifiers by parsing the received access token.\n     *\n     * The account identifiers we try to log are:\n     * - `appid`: The application or Client Identifier.\n     * - `upn`: User Principal Name.\n     *   - It might not be available in some authentication scenarios.\n     *   - If it's not available, we put a placeholder: \"No User Principal Name available\".\n     * - `tid`: Tenant Identifier.\n     * - `oid`: Object Identifier of the authenticated user.\n     */\n    logIdentifiers(response) {\n        if (!this.allowLoggingAccountIdentifiers || !response.bodyAsText) {\n            return;\n        }\n        const unavailableUpn = \"No User Principal Name available\";\n        try {\n            const parsed = response.parsedBody || JSON.parse(response.bodyAsText);\n            const accessToken = parsed.access_token;\n            if (!accessToken) {\n                // Without an access token allowLoggingAccountIdentifiers isn't useful.\n                return;\n            }\n            const base64Metadata = accessToken.split(\".\")[1];\n            const { appid, upn, tid, oid } = JSON.parse(Buffer.from(base64Metadata, \"base64\").toString(\"utf8\"));\n            logger.info(`[Authenticated account] Client ID: ${appid}. Tenant ID: ${tid}. User Principal Name: ${upn || unavailableUpn}. Object ID (user): ${oid}`);\n        }\n        catch (e) {\n            logger.warning(\"allowLoggingAccountIdentifiers was set, but we couldn't log the account information. Error:\", e.message);\n        }\n    }\n}\n//# sourceMappingURL=identityClient.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nexport function getIdentityTokenEndpointSuffix(tenantId) {\n    if (tenantId === \"adfs\") {\n        return \"oauth2/token\";\n    }\n    else {\n        return \"oauth2/v2.0/token\";\n    }\n}\n//# sourceMappingURL=identityTokenEndpoint.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { msalNodeFlowCacheControl, msalNodeFlowNativeBrokerControl, } from \"../msal/nodeFlows/msalPlugins\";\nimport { vsCodeCredentialControl } from \"../credentials/visualStudioCodeCredential\";\n/**\n * The context passed to an Identity plugin. This contains objects that\n * plugins can use to set backend implementations.\n * @internal\n */\nconst pluginContext = {\n    cachePluginControl: msalNodeFlowCacheControl,\n    nativeBrokerPluginControl: msalNodeFlowNativeBrokerControl,\n    vsCodeCredentialControl: vsCodeCredentialControl,\n};\n/**\n * Extend Azure Identity with additional functionality. Pass a plugin from\n * a plugin package, such as:\n *\n * - `@azure/identity-cache-persistence`: provides persistent token caching\n * - `@azure/identity-vscode`: provides the dependencies of\n *   `VisualStudioCodeCredential` and enables it\n *\n * Example:\n *\n * ```javascript\n * import { cachePersistencePlugin } from \"@azure/identity-cache-persistence\";\n *\n * import { useIdentityPlugin, DefaultAzureCredential } from \"@azure/identity\";\n * useIdentityPlugin(cachePersistencePlugin);\n *\n * // The plugin has the capability to extend `DefaultAzureCredential` and to\n * // add middleware to the underlying credentials, such as persistence.\n * const credential = new DefaultAzureCredential({\n *   tokenCachePersistenceOptions: {\n *     enabled: true\n *   }\n * });\n * ```\n *\n * @param plugin - the plugin to register\n */\nexport function useIdentityPlugin(plugin) {\n    plugin(pluginContext);\n}\n//# sourceMappingURL=consumer.js.map","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nconst Constants = {\n    LIBRARY_NAME: \"MSAL.JS\",\n    SKU: \"msal.js.common\",\n    // Prefix for all library cache entries\n    CACHE_PREFIX: \"msal\",\n    // default authority\n    DEFAULT_AUTHORITY: \"https://login.microsoftonline.com/common/\",\n    DEFAULT_AUTHORITY_HOST: \"login.microsoftonline.com\",\n    DEFAULT_COMMON_TENANT: \"common\",\n    // ADFS String\n    ADFS: \"adfs\",\n    DSTS: \"dstsv2\",\n    // Default AAD Instance Discovery Endpoint\n    AAD_INSTANCE_DISCOVERY_ENDPT: \"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=\",\n    // CIAM URL\n    CIAM_AUTH_URL: \".ciamlogin.com\",\n    AAD_TENANT_DOMAIN_SUFFIX: \".onmicrosoft.com\",\n    // Resource delimiter - used for certain cache entries\n    RESOURCE_DELIM: \"|\",\n    // Placeholder for non-existent account ids/objects\n    NO_ACCOUNT: \"NO_ACCOUNT\",\n    // Claims\n    CLAIMS: \"claims\",\n    // Consumer UTID\n    CONSUMER_UTID: \"9188040d-6c67-4c5b-b112-36a304b66dad\",\n    // Default scopes\n    OPENID_SCOPE: \"openid\",\n    PROFILE_SCOPE: \"profile\",\n    OFFLINE_ACCESS_SCOPE: \"offline_access\",\n    EMAIL_SCOPE: \"email\",\n    // Default response type for authorization code flow\n    CODE_RESPONSE_TYPE: \"code\",\n    CODE_GRANT_TYPE: \"authorization_code\",\n    RT_GRANT_TYPE: \"refresh_token\",\n    FRAGMENT_RESPONSE_MODE: \"fragment\",\n    S256_CODE_CHALLENGE_METHOD: \"S256\",\n    URL_FORM_CONTENT_TYPE: \"application/x-www-form-urlencoded;charset=utf-8\",\n    AUTHORIZATION_PENDING: \"authorization_pending\",\n    NOT_DEFINED: \"not_defined\",\n    EMPTY_STRING: \"\",\n    NOT_APPLICABLE: \"N/A\",\n    FORWARD_SLASH: \"/\",\n    IMDS_ENDPOINT: \"http://169.254.169.254/metadata/instance/compute/location\",\n    IMDS_VERSION: \"2020-06-01\",\n    IMDS_TIMEOUT: 2000,\n    AZURE_REGION_AUTO_DISCOVER_FLAG: \"TryAutoDetect\",\n    REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX: \"login.microsoft.com\",\n    KNOWN_PUBLIC_CLOUDS: [\n        \"login.microsoftonline.com\",\n        \"login.windows.net\",\n        \"login.microsoft.com\",\n        \"sts.windows.net\",\n    ],\n    TOKEN_RESPONSE_TYPE: \"token\",\n    ID_TOKEN_RESPONSE_TYPE: \"id_token\",\n    SHR_NONCE_VALIDITY: 240,\n    INVALID_INSTANCE: \"invalid_instance\",\n};\nconst HttpStatus = {\n    SUCCESS: 200,\n    SUCCESS_RANGE_START: 200,\n    SUCCESS_RANGE_END: 299,\n    REDIRECT: 302,\n    CLIENT_ERROR: 400,\n    CLIENT_ERROR_RANGE_START: 400,\n    BAD_REQUEST: 400,\n    UNAUTHORIZED: 401,\n    NOT_FOUND: 404,\n    REQUEST_TIMEOUT: 408,\n    TOO_MANY_REQUESTS: 429,\n    CLIENT_ERROR_RANGE_END: 499,\n    SERVER_ERROR: 500,\n    SERVER_ERROR_RANGE_START: 500,\n    SERVICE_UNAVAILABLE: 503,\n    GATEWAY_TIMEOUT: 504,\n    SERVER_ERROR_RANGE_END: 599,\n    MULTI_SIDED_ERROR: 600,\n};\nconst OIDC_DEFAULT_SCOPES = [\n    Constants.OPENID_SCOPE,\n    Constants.PROFILE_SCOPE,\n    Constants.OFFLINE_ACCESS_SCOPE,\n];\nconst OIDC_SCOPES = [...OIDC_DEFAULT_SCOPES, Constants.EMAIL_SCOPE];\n/**\n * Request header names\n */\nconst HeaderNames = {\n    CONTENT_TYPE: \"Content-Type\",\n    RETRY_AFTER: \"Retry-After\",\n    CCS_HEADER: \"X-AnchorMailbox\",\n    WWWAuthenticate: \"WWW-Authenticate\",\n    AuthenticationInfo: \"Authentication-Info\",\n    X_MS_REQUEST_ID: \"x-ms-request-id\",\n    X_MS_HTTP_VERSION: \"x-ms-httpver\",\n};\n/**\n * Persistent cache keys MSAL which stay while user is logged in.\n */\nconst PersistentCacheKeys = {\n    ID_TOKEN: \"idtoken\",\n    CLIENT_INFO: \"client.info\",\n    ADAL_ID_TOKEN: \"adal.idtoken\",\n    ERROR: \"error\",\n    ERROR_DESC: \"error.description\",\n    ACTIVE_ACCOUNT: \"active-account\",\n    ACTIVE_ACCOUNT_FILTERS: \"active-account-filters\", // new cache entry for active_account for a more robust version for browser\n};\n/**\n * String constants related to AAD Authority\n */\nconst AADAuthorityConstants = {\n    COMMON: \"common\",\n    ORGANIZATIONS: \"organizations\",\n    CONSUMERS: \"consumers\",\n};\n/**\n * Claims request keys\n */\nconst ClaimsRequestKeys = {\n    ACCESS_TOKEN: \"access_token\",\n    XMS_CC: \"xms_cc\",\n};\n/**\n * we considered making this \"enum\" in the request instead of string, however it looks like the allowed list of\n * prompt values kept changing over past couple of years. There are some undocumented prompt values for some\n * internal partners too, hence the choice of generic \"string\" type instead of the \"enum\"\n */\nconst PromptValue = {\n    LOGIN: \"login\",\n    SELECT_ACCOUNT: \"select_account\",\n    CONSENT: \"consent\",\n    NONE: \"none\",\n    CREATE: \"create\",\n    NO_SESSION: \"no_session\",\n};\n/**\n * allowed values for codeVerifier\n */\nconst CodeChallengeMethodValues = {\n    PLAIN: \"plain\",\n    S256: \"S256\",\n};\n/**\n * allowed values for server response type\n */\nconst ServerResponseType = {\n    QUERY: \"query\",\n    FRAGMENT: \"fragment\",\n};\n/**\n * allowed values for response_mode\n */\nconst ResponseMode = {\n    ...ServerResponseType,\n    FORM_POST: \"form_post\",\n};\n/**\n * allowed grant_type\n */\nconst GrantType = {\n    IMPLICIT_GRANT: \"implicit\",\n    AUTHORIZATION_CODE_GRANT: \"authorization_code\",\n    CLIENT_CREDENTIALS_GRANT: \"client_credentials\",\n    RESOURCE_OWNER_PASSWORD_GRANT: \"password\",\n    REFRESH_TOKEN_GRANT: \"refresh_token\",\n    DEVICE_CODE_GRANT: \"device_code\",\n    JWT_BEARER: \"urn:ietf:params:oauth:grant-type:jwt-bearer\",\n};\n/**\n * Account types in Cache\n */\nconst CacheAccountType = {\n    MSSTS_ACCOUNT_TYPE: \"MSSTS\",\n    ADFS_ACCOUNT_TYPE: \"ADFS\",\n    MSAV1_ACCOUNT_TYPE: \"MSA\",\n    GENERIC_ACCOUNT_TYPE: \"Generic\", // NTLM, Kerberos, FBA, Basic etc\n};\n/**\n * Separators used in cache\n */\nconst Separators = {\n    CACHE_KEY_SEPARATOR: \"-\",\n    CLIENT_INFO_SEPARATOR: \".\",\n};\n/**\n * Credential Type stored in the cache\n */\nconst CredentialType = {\n    ID_TOKEN: \"IdToken\",\n    ACCESS_TOKEN: \"AccessToken\",\n    ACCESS_TOKEN_WITH_AUTH_SCHEME: \"AccessToken_With_AuthScheme\",\n    REFRESH_TOKEN: \"RefreshToken\",\n};\n/**\n * Combine all cache types\n */\nconst CacheType = {\n    ADFS: 1001,\n    MSA: 1002,\n    MSSTS: 1003,\n    GENERIC: 1004,\n    ACCESS_TOKEN: 2001,\n    REFRESH_TOKEN: 2002,\n    ID_TOKEN: 2003,\n    APP_METADATA: 3001,\n    UNDEFINED: 9999,\n};\n/**\n * More Cache related constants\n */\nconst APP_METADATA = \"appmetadata\";\nconst CLIENT_INFO = \"client_info\";\nconst THE_FAMILY_ID = \"1\";\nconst AUTHORITY_METADATA_CONSTANTS = {\n    CACHE_KEY: \"authority-metadata\",\n    REFRESH_TIME_SECONDS: 3600 * 24, // 24 Hours\n};\nconst AuthorityMetadataSource = {\n    CONFIG: \"config\",\n    CACHE: \"cache\",\n    NETWORK: \"network\",\n    HARDCODED_VALUES: \"hardcoded_values\",\n};\nconst SERVER_TELEM_CONSTANTS = {\n    SCHEMA_VERSION: 5,\n    MAX_CUR_HEADER_BYTES: 80,\n    MAX_LAST_HEADER_BYTES: 330,\n    MAX_CACHED_ERRORS: 50,\n    CACHE_KEY: \"server-telemetry\",\n    CATEGORY_SEPARATOR: \"|\",\n    VALUE_SEPARATOR: \",\",\n    OVERFLOW_TRUE: \"1\",\n    OVERFLOW_FALSE: \"0\",\n    UNKNOWN_ERROR: \"unknown_error\",\n};\n/**\n * Type of the authentication request\n */\nconst AuthenticationScheme = {\n    BEARER: \"Bearer\",\n    POP: \"pop\",\n    SSH: \"ssh-cert\",\n};\n/**\n * Constants related to throttling\n */\nconst ThrottlingConstants = {\n    // Default time to throttle RequestThumbprint in seconds\n    DEFAULT_THROTTLE_TIME_SECONDS: 60,\n    // Default maximum time to throttle in seconds, overrides what the server sends back\n    DEFAULT_MAX_THROTTLE_TIME_SECONDS: 3600,\n    // Prefix for storing throttling entries\n    THROTTLING_PREFIX: \"throttling\",\n    // Value assigned to the x-ms-lib-capability header to indicate to the server the library supports throttling\n    X_MS_LIB_CAPABILITY_VALUE: \"retry-after, h429\",\n};\nconst Errors = {\n    INVALID_GRANT_ERROR: \"invalid_grant\",\n    CLIENT_MISMATCH_ERROR: \"client_mismatch\",\n};\n/**\n * Password grant parameters\n */\nconst PasswordGrantConstants = {\n    username: \"username\",\n    password: \"password\",\n};\n/**\n * Response codes\n */\nconst ResponseCodes = {\n    httpSuccess: 200,\n    httpBadRequest: 400,\n};\n/**\n * Region Discovery Sources\n */\nconst RegionDiscoverySources = {\n    FAILED_AUTO_DETECTION: \"1\",\n    INTERNAL_CACHE: \"2\",\n    ENVIRONMENT_VARIABLE: \"3\",\n    IMDS: \"4\",\n};\n/**\n * Region Discovery Outcomes\n */\nconst RegionDiscoveryOutcomes = {\n    CONFIGURED_MATCHES_DETECTED: \"1\",\n    CONFIGURED_NO_AUTO_DETECTION: \"2\",\n    CONFIGURED_NOT_DETECTED: \"3\",\n    AUTO_DETECTION_REQUESTED_SUCCESSFUL: \"4\",\n    AUTO_DETECTION_REQUESTED_FAILED: \"5\",\n};\n/**\n * Specifies the reason for fetching the access token from the identity provider\n */\nconst CacheOutcome = {\n    // When a token is found in the cache or the cache is not supposed to be hit when making the request\n    NOT_APPLICABLE: \"0\",\n    // When the token request goes to the identity provider because force_refresh was set to true. Also occurs if claims were requested\n    FORCE_REFRESH_OR_CLAIMS: \"1\",\n    // When the token request goes to the identity provider because no cached access token exists\n    NO_CACHED_ACCESS_TOKEN: \"2\",\n    // When the token request goes to the identity provider because cached access token expired\n    CACHED_ACCESS_TOKEN_EXPIRED: \"3\",\n    // When the token request goes to the identity provider because refresh_in was used and the existing token needs to be refreshed\n    PROACTIVELY_REFRESHED: \"4\",\n};\nconst JsonWebTokenTypes = {\n    Jwt: \"JWT\",\n    Jwk: \"JWK\",\n    Pop: \"pop\",\n};\nconst ONE_DAY_IN_MS = 86400000;\n// Token renewal offset default in seconds\nconst DEFAULT_TOKEN_RENEWAL_OFFSET_SEC = 300;\n\nexport { AADAuthorityConstants, APP_METADATA, AUTHORITY_METADATA_CONSTANTS, AuthenticationScheme, AuthorityMetadataSource, CLIENT_INFO, CacheAccountType, CacheOutcome, CacheType, ClaimsRequestKeys, CodeChallengeMethodValues, Constants, CredentialType, DEFAULT_TOKEN_RENEWAL_OFFSET_SEC, Errors, GrantType, HeaderNames, HttpStatus, JsonWebTokenTypes, OIDC_DEFAULT_SCOPES, OIDC_SCOPES, ONE_DAY_IN_MS, PasswordGrantConstants, PersistentCacheKeys, PromptValue, RegionDiscoveryOutcomes, RegionDiscoverySources, ResponseCodes, ResponseMode, SERVER_TELEM_CONSTANTS, Separators, ServerResponseType, THE_FAMILY_ID, ThrottlingConstants };\n//# sourceMappingURL=Constants.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\nimport { HttpStatus } from '@azure/msal-common';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n// MSI Constants. Docs for MSI are available here https://docs.microsoft.com/azure/app-service/overview-managed-identity\nconst AUTHORIZATION_HEADER_NAME = \"Authorization\";\nconst METADATA_HEADER_NAME = \"Metadata\";\nconst APP_SERVICE_SECRET_HEADER_NAME = \"X-IDENTITY-HEADER\";\nconst SERVICE_FABRIC_SECRET_HEADER_NAME = \"secret\";\nconst API_VERSION_QUERY_PARAMETER_NAME = \"api-version\";\nconst RESOURCE_BODY_OR_QUERY_PARAMETER_NAME = \"resource\";\nconst DEFAULT_MANAGED_IDENTITY_ID = \"system_assigned_managed_identity\";\nconst MANAGED_IDENTITY_DEFAULT_TENANT = \"managed_identity\";\nconst DEFAULT_AUTHORITY_FOR_MANAGED_IDENTITY = `https://login.microsoftonline.com/${MANAGED_IDENTITY_DEFAULT_TENANT}/`;\n/**\n * Managed Identity Environment Variable Names\n */\nconst ManagedIdentityEnvironmentVariableNames = {\n    AZURE_POD_IDENTITY_AUTHORITY_HOST: \"AZURE_POD_IDENTITY_AUTHORITY_HOST\",\n    IDENTITY_ENDPOINT: \"IDENTITY_ENDPOINT\",\n    IDENTITY_HEADER: \"IDENTITY_HEADER\",\n    IDENTITY_SERVER_THUMBPRINT: \"IDENTITY_SERVER_THUMBPRINT\",\n    IMDS_ENDPOINT: \"IMDS_ENDPOINT\",\n    MSI_ENDPOINT: \"MSI_ENDPOINT\",\n};\n/**\n * Managed Identity Source Names\n */\nconst ManagedIdentitySourceNames = {\n    APP_SERVICE: \"App Service\",\n    AZURE_ARC: \"Azure Arc\",\n    CLOUD_SHELL: \"Cloud Shell\",\n    IMDS: \"IMDS\",\n    SERVICE_FABRIC: \"Service Fabric\",\n};\n/**\n * Managed Identity Ids\n */\nconst ManagedIdentityIdType = {\n    SYSTEM_ASSIGNED: \"system-assigned\",\n    USER_ASSIGNED_CLIENT_ID: \"user-assigned-client-id\",\n    USER_ASSIGNED_RESOURCE_ID: \"user-assigned-resource-id\",\n    USER_ASSIGNED_OBJECT_ID: \"user-assigned-object-id\",\n};\n/**\n * http methods\n */\nconst HttpMethod = {\n    GET: \"get\",\n    POST: \"post\",\n};\nconst ProxyStatus = {\n    SUCCESS: HttpStatus.SUCCESS,\n    SUCCESS_RANGE_START: HttpStatus.SUCCESS_RANGE_START,\n    SUCCESS_RANGE_END: HttpStatus.SUCCESS_RANGE_END,\n    SERVER_ERROR: HttpStatus.SERVER_ERROR,\n};\n/**\n * Constants used for region discovery\n */\nconst REGION_ENVIRONMENT_VARIABLE = \"REGION_NAME\";\n/**\n * Constant used for PKCE\n */\nconst RANDOM_OCTET_SIZE = 32;\n/**\n * Constants used in PKCE\n */\nconst Hash = {\n    SHA256: \"sha256\",\n};\n/**\n * Constants for encoding schemes\n */\nconst CharSet = {\n    CV_CHARSET: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~\",\n};\n/**\n * Constants\n */\nconst Constants = {\n    MSAL_SKU: \"msal.js.node\",\n    JWT_BEARER_ASSERTION_TYPE: \"urn:ietf:params:oauth:client-assertion-type:jwt-bearer\",\n    AUTHORIZATION_PENDING: \"authorization_pending\",\n    HTTP_PROTOCOL: \"http://\",\n    LOCALHOST: \"localhost\",\n};\n/**\n * API Codes for Telemetry purposes.\n * Before adding a new code you must claim it in the MSAL Telemetry tracker as these number spaces are shared across all MSALs\n * 0-99 Silent Flow\n * 600-699 Device Code Flow\n * 800-899 Auth Code Flow\n */\nconst ApiId = {\n    acquireTokenSilent: 62,\n    acquireTokenByUsernamePassword: 371,\n    acquireTokenByDeviceCode: 671,\n    acquireTokenByClientCredential: 771,\n    acquireTokenByCode: 871,\n    acquireTokenByRefreshToken: 872,\n};\n/**\n * JWT  constants\n */\nconst JwtConstants = {\n    ALGORITHM: \"alg\",\n    RSA_256: \"RS256\",\n    X5T: \"x5t\",\n    X5C: \"x5c\",\n    AUDIENCE: \"aud\",\n    EXPIRATION_TIME: \"exp\",\n    ISSUER: \"iss\",\n    SUBJECT: \"sub\",\n    NOT_BEFORE: \"nbf\",\n    JWT_ID: \"jti\",\n};\nconst LOOPBACK_SERVER_CONSTANTS = {\n    INTERVAL_MS: 100,\n    TIMEOUT_MS: 5000,\n};\nconst MANAGED_IDENTITY_MAX_RETRIES = 3;\nconst MANAGED_IDENTITY_RETRY_DELAY = 1000;\nconst MANAGED_IDENTITY_HTTP_STATUS_CODES_TO_RETRY_ON = [\n    HttpStatus.NOT_FOUND,\n    HttpStatus.REQUEST_TIMEOUT,\n    HttpStatus.TOO_MANY_REQUESTS,\n    HttpStatus.SERVER_ERROR,\n    HttpStatus.SERVICE_UNAVAILABLE,\n    HttpStatus.GATEWAY_TIMEOUT,\n];\n\nexport { API_VERSION_QUERY_PARAMETER_NAME, APP_SERVICE_SECRET_HEADER_NAME, AUTHORIZATION_HEADER_NAME, ApiId, CharSet, Constants, DEFAULT_AUTHORITY_FOR_MANAGED_IDENTITY, DEFAULT_MANAGED_IDENTITY_ID, Hash, HttpMethod, JwtConstants, LOOPBACK_SERVER_CONSTANTS, MANAGED_IDENTITY_DEFAULT_TENANT, MANAGED_IDENTITY_HTTP_STATUS_CODES_TO_RETRY_ON, MANAGED_IDENTITY_MAX_RETRIES, MANAGED_IDENTITY_RETRY_DELAY, METADATA_HEADER_NAME, ManagedIdentityEnvironmentVariableNames, ManagedIdentityIdType, ManagedIdentitySourceNames, ProxyStatus, RANDOM_OCTET_SIZE, REGION_ENVIRONMENT_VARIABLE, RESOURCE_BODY_OR_QUERY_PARAMETER_NAME, SERVICE_FABRIC_SECRET_HEADER_NAME };\n//# sourceMappingURL=Constants.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * AuthErrorMessage class containing string constants used by error codes and messages.\n */\nconst unexpectedError = \"unexpected_error\";\nconst postRequestFailed = \"post_request_failed\";\n\nexport { postRequestFailed, unexpectedError };\n//# sourceMappingURL=AuthErrorCodes.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { Constants } from '../utils/Constants.mjs';\nimport { unexpectedError, postRequestFailed } from './AuthErrorCodes.mjs';\nimport * as AuthErrorCodes from './AuthErrorCodes.mjs';\nexport { AuthErrorCodes };\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nconst AuthErrorMessages = {\n    [unexpectedError]: \"Unexpected error in authentication.\",\n    [postRequestFailed]: \"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details.\",\n};\n/**\n * AuthErrorMessage class containing string constants used by error codes and messages.\n * @deprecated Use AuthErrorCodes instead\n */\nconst AuthErrorMessage = {\n    unexpectedError: {\n        code: unexpectedError,\n        desc: AuthErrorMessages[unexpectedError],\n    },\n    postRequestFailed: {\n        code: postRequestFailed,\n        desc: AuthErrorMessages[postRequestFailed],\n    },\n};\n/**\n * General error class thrown by the MSAL.js library.\n */\nclass AuthError extends Error {\n    constructor(errorCode, errorMessage, suberror) {\n        const errorString = errorMessage\n            ? `${errorCode}: ${errorMessage}`\n            : errorCode;\n        super(errorString);\n        Object.setPrototypeOf(this, AuthError.prototype);\n        this.errorCode = errorCode || Constants.EMPTY_STRING;\n        this.errorMessage = errorMessage || Constants.EMPTY_STRING;\n        this.subError = suberror || Constants.EMPTY_STRING;\n        this.name = \"AuthError\";\n    }\n    setCorrelationId(correlationId) {\n        this.correlationId = correlationId;\n    }\n}\nfunction createAuthError(code, additionalMessage) {\n    return new AuthError(code, additionalMessage\n        ? `${AuthErrorMessages[code]} ${additionalMessage}`\n        : AuthErrorMessages[code]);\n}\n\nexport { AuthError, AuthErrorMessage, AuthErrorMessages, createAuthError };\n//# sourceMappingURL=AuthError.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { AuthError } from './AuthError.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Error thrown when there is an error with the server code, for example, unavailability.\n */\nclass ServerError extends AuthError {\n    constructor(errorCode, errorMessage, subError, errorNo) {\n        super(errorCode, errorMessage, subError);\n        this.name = \"ServerError\";\n        this.errorNo = errorNo;\n        Object.setPrototypeOf(this, ServerError.prototype);\n    }\n}\n\nexport { ServerError };\n//# sourceMappingURL=ServerError.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Authority types supported by MSAL.\n */\nconst AuthorityType = {\n    Default: 0,\n    Adfs: 1,\n    Dsts: 2,\n    Ciam: 3,\n};\n\nexport { AuthorityType };\n//# sourceMappingURL=AuthorityType.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nconst redirectUriEmpty = \"redirect_uri_empty\";\nconst claimsRequestParsingError = \"claims_request_parsing_error\";\nconst authorityUriInsecure = \"authority_uri_insecure\";\nconst urlParseError = \"url_parse_error\";\nconst urlEmptyError = \"empty_url_error\";\nconst emptyInputScopesError = \"empty_input_scopes_error\";\nconst invalidPromptValue = \"invalid_prompt_value\";\nconst invalidClaims = \"invalid_claims\";\nconst tokenRequestEmpty = \"token_request_empty\";\nconst logoutRequestEmpty = \"logout_request_empty\";\nconst invalidCodeChallengeMethod = \"invalid_code_challenge_method\";\nconst pkceParamsMissing = \"pkce_params_missing\";\nconst invalidCloudDiscoveryMetadata = \"invalid_cloud_discovery_metadata\";\nconst invalidAuthorityMetadata = \"invalid_authority_metadata\";\nconst untrustedAuthority = \"untrusted_authority\";\nconst missingSshJwk = \"missing_ssh_jwk\";\nconst missingSshKid = \"missing_ssh_kid\";\nconst missingNonceAuthenticationHeader = \"missing_nonce_authentication_header\";\nconst invalidAuthenticationHeader = \"invalid_authentication_header\";\nconst cannotSetOIDCOptions = \"cannot_set_OIDCOptions\";\nconst cannotAllowNativeBroker = \"cannot_allow_native_broker\";\nconst authorityMismatch = \"authority_mismatch\";\n\nexport { authorityMismatch, authorityUriInsecure, cannotAllowNativeBroker, cannotSetOIDCOptions, claimsRequestParsingError, emptyInputScopesError, invalidAuthenticationHeader, invalidAuthorityMetadata, invalidClaims, invalidCloudDiscoveryMetadata, invalidCodeChallengeMethod, invalidPromptValue, logoutRequestEmpty, missingNonceAuthenticationHeader, missingSshJwk, missingSshKid, pkceParamsMissing, redirectUriEmpty, tokenRequestEmpty, untrustedAuthority, urlEmptyError, urlParseError };\n//# sourceMappingURL=ClientConfigurationErrorCodes.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { AuthError } from './AuthError.mjs';\nimport { redirectUriEmpty, claimsRequestParsingError, authorityUriInsecure, urlParseError, urlEmptyError, emptyInputScopesError, invalidPromptValue, invalidClaims, tokenRequestEmpty, logoutRequestEmpty, invalidCodeChallengeMethod, pkceParamsMissing, invalidCloudDiscoveryMetadata, invalidAuthorityMetadata, untrustedAuthority, missingSshJwk, missingSshKid, missingNonceAuthenticationHeader, invalidAuthenticationHeader, cannotSetOIDCOptions, cannotAllowNativeBroker, authorityMismatch } from './ClientConfigurationErrorCodes.mjs';\nimport * as ClientConfigurationErrorCodes from './ClientConfigurationErrorCodes.mjs';\nexport { ClientConfigurationErrorCodes };\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nconst ClientConfigurationErrorMessages = {\n    [redirectUriEmpty]: \"A redirect URI is required for all calls, and none has been set.\",\n    [claimsRequestParsingError]: \"Could not parse the given claims request object.\",\n    [authorityUriInsecure]: \"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options\",\n    [urlParseError]: \"URL could not be parsed into appropriate segments.\",\n    [urlEmptyError]: \"URL was empty or null.\",\n    [emptyInputScopesError]: \"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.\",\n    [invalidPromptValue]: \"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest\",\n    [invalidClaims]: \"Given claims parameter must be a stringified JSON object.\",\n    [tokenRequestEmpty]: \"Token request was empty and not found in cache.\",\n    [logoutRequestEmpty]: \"The logout request was null or undefined.\",\n    [invalidCodeChallengeMethod]: 'code_challenge_method passed is invalid. Valid values are \"plain\" and \"S256\".',\n    [pkceParamsMissing]: \"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request\",\n    [invalidCloudDiscoveryMetadata]: \"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields\",\n    [invalidAuthorityMetadata]: \"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.\",\n    [untrustedAuthority]: \"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.\",\n    [missingSshJwk]: \"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.\",\n    [missingSshKid]: \"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.\",\n    [missingNonceAuthenticationHeader]: \"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.\",\n    [invalidAuthenticationHeader]: \"Invalid authentication header provided\",\n    [cannotSetOIDCOptions]: \"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.\",\n    [cannotAllowNativeBroker]: \"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.\",\n    [authorityMismatch]: \"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority.\",\n};\n/**\n * ClientConfigurationErrorMessage class containing string constants used by error codes and messages.\n * @deprecated Use ClientConfigurationErrorCodes instead\n */\nconst ClientConfigurationErrorMessage = {\n    redirectUriNotSet: {\n        code: redirectUriEmpty,\n        desc: ClientConfigurationErrorMessages[redirectUriEmpty],\n    },\n    claimsRequestParsingError: {\n        code: claimsRequestParsingError,\n        desc: ClientConfigurationErrorMessages[claimsRequestParsingError],\n    },\n    authorityUriInsecure: {\n        code: authorityUriInsecure,\n        desc: ClientConfigurationErrorMessages[authorityUriInsecure],\n    },\n    urlParseError: {\n        code: urlParseError,\n        desc: ClientConfigurationErrorMessages[urlParseError],\n    },\n    urlEmptyError: {\n        code: urlEmptyError,\n        desc: ClientConfigurationErrorMessages[urlEmptyError],\n    },\n    emptyScopesError: {\n        code: emptyInputScopesError,\n        desc: ClientConfigurationErrorMessages[emptyInputScopesError],\n    },\n    invalidPrompt: {\n        code: invalidPromptValue,\n        desc: ClientConfigurationErrorMessages[invalidPromptValue],\n    },\n    invalidClaimsRequest: {\n        code: invalidClaims,\n        desc: ClientConfigurationErrorMessages[invalidClaims],\n    },\n    tokenRequestEmptyError: {\n        code: tokenRequestEmpty,\n        desc: ClientConfigurationErrorMessages[tokenRequestEmpty],\n    },\n    logoutRequestEmptyError: {\n        code: logoutRequestEmpty,\n        desc: ClientConfigurationErrorMessages[logoutRequestEmpty],\n    },\n    invalidCodeChallengeMethod: {\n        code: invalidCodeChallengeMethod,\n        desc: ClientConfigurationErrorMessages[invalidCodeChallengeMethod],\n    },\n    invalidCodeChallengeParams: {\n        code: pkceParamsMissing,\n        desc: ClientConfigurationErrorMessages[pkceParamsMissing],\n    },\n    invalidCloudDiscoveryMetadata: {\n        code: invalidCloudDiscoveryMetadata,\n        desc: ClientConfigurationErrorMessages[invalidCloudDiscoveryMetadata],\n    },\n    invalidAuthorityMetadata: {\n        code: invalidAuthorityMetadata,\n        desc: ClientConfigurationErrorMessages[invalidAuthorityMetadata],\n    },\n    untrustedAuthority: {\n        code: untrustedAuthority,\n        desc: ClientConfigurationErrorMessages[untrustedAuthority],\n    },\n    missingSshJwk: {\n        code: missingSshJwk,\n        desc: ClientConfigurationErrorMessages[missingSshJwk],\n    },\n    missingSshKid: {\n        code: missingSshKid,\n        desc: ClientConfigurationErrorMessages[missingSshKid],\n    },\n    missingNonceAuthenticationHeader: {\n        code: missingNonceAuthenticationHeader,\n        desc: ClientConfigurationErrorMessages[missingNonceAuthenticationHeader],\n    },\n    invalidAuthenticationHeader: {\n        code: invalidAuthenticationHeader,\n        desc: ClientConfigurationErrorMessages[invalidAuthenticationHeader],\n    },\n    cannotSetOIDCOptions: {\n        code: cannotSetOIDCOptions,\n        desc: ClientConfigurationErrorMessages[cannotSetOIDCOptions],\n    },\n    cannotAllowNativeBroker: {\n        code: cannotAllowNativeBroker,\n        desc: ClientConfigurationErrorMessages[cannotAllowNativeBroker],\n    },\n    authorityMismatch: {\n        code: authorityMismatch,\n        desc: ClientConfigurationErrorMessages[authorityMismatch],\n    },\n};\n/**\n * Error thrown when there is an error in configuration of the MSAL.js library.\n */\nclass ClientConfigurationError extends AuthError {\n    constructor(errorCode) {\n        super(errorCode, ClientConfigurationErrorMessages[errorCode]);\n        this.name = \"ClientConfigurationError\";\n        Object.setPrototypeOf(this, ClientConfigurationError.prototype);\n    }\n}\nfunction createClientConfigurationError(errorCode) {\n    return new ClientConfigurationError(errorCode);\n}\n\nexport { ClientConfigurationError, ClientConfigurationErrorMessage, ClientConfigurationErrorMessages, createClientConfigurationError };\n//# sourceMappingURL=ClientConfigurationError.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * @hidden\n */\nclass StringUtils {\n    /**\n     * Check if stringified object is empty\n     * @param strObj\n     */\n    static isEmptyObj(strObj) {\n        if (strObj) {\n            try {\n                const obj = JSON.parse(strObj);\n                return Object.keys(obj).length === 0;\n            }\n            catch (e) { }\n        }\n        return true;\n    }\n    static startsWith(str, search) {\n        return str.indexOf(search) === 0;\n    }\n    static endsWith(str, search) {\n        return (str.length >= search.length &&\n            str.lastIndexOf(search) === str.length - search.length);\n    }\n    /**\n     * Parses string into an object.\n     *\n     * @param query\n     */\n    static queryStringToObject(query) {\n        const obj = {};\n        const params = query.split(\"&\");\n        const decode = (s) => decodeURIComponent(s.replace(/\\+/g, \" \"));\n        params.forEach((pair) => {\n            if (pair.trim()) {\n                const [key, value] = pair.split(/=(.+)/g, 2); // Split on the first occurence of the '=' character\n                if (key && value) {\n                    obj[decode(key)] = decode(value);\n                }\n            }\n        });\n        return obj;\n    }\n    /**\n     * Trims entries in an array.\n     *\n     * @param arr\n     */\n    static trimArrayEntries(arr) {\n        return arr.map((entry) => entry.trim());\n    }\n    /**\n     * Removes empty strings from array\n     * @param arr\n     */\n    static removeEmptyStringsFromArray(arr) {\n        return arr.filter((entry) => {\n            return !!entry;\n        });\n    }\n    /**\n     * Attempts to parse a string into JSON\n     * @param str\n     */\n    static jsonParseHelper(str) {\n        try {\n            return JSON.parse(str);\n        }\n        catch (e) {\n            return null;\n        }\n    }\n    /**\n     * Tests if a given string matches a given pattern, with support for wildcards and queries.\n     * @param pattern Wildcard pattern to string match. Supports \"*\" for wildcards and \"?\" for queries\n     * @param input String to match against\n     */\n    static matchPattern(pattern, input) {\n        /**\n         * Wildcard support: https://stackoverflow.com/a/3117248/4888559\n         * Queries: replaces \"?\" in string with escaped \"\\?\" for regex test\n         */\n        // eslint-disable-next-line security/detect-non-literal-regexp\n        const regex = new RegExp(pattern\n            .replace(/\\\\/g, \"\\\\\\\\\")\n            .replace(/\\*/g, \"[^ ]*\")\n            .replace(/\\?/g, \"\\\\?\"));\n        return regex.test(input);\n    }\n}\n\nexport { StringUtils };\n//# sourceMappingURL=StringUtils.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nconst clientInfoDecodingError = \"client_info_decoding_error\";\nconst clientInfoEmptyError = \"client_info_empty_error\";\nconst tokenParsingError = \"token_parsing_error\";\nconst nullOrEmptyToken = \"null_or_empty_token\";\nconst endpointResolutionError = \"endpoints_resolution_error\";\nconst networkError = \"network_error\";\nconst openIdConfigError = \"openid_config_error\";\nconst hashNotDeserialized = \"hash_not_deserialized\";\nconst invalidState = \"invalid_state\";\nconst stateMismatch = \"state_mismatch\";\nconst stateNotFound = \"state_not_found\";\nconst nonceMismatch = \"nonce_mismatch\";\nconst authTimeNotFound = \"auth_time_not_found\";\nconst maxAgeTranspired = \"max_age_transpired\";\nconst multipleMatchingTokens = \"multiple_matching_tokens\";\nconst multipleMatchingAccounts = \"multiple_matching_accounts\";\nconst multipleMatchingAppMetadata = \"multiple_matching_appMetadata\";\nconst requestCannotBeMade = \"request_cannot_be_made\";\nconst cannotRemoveEmptyScope = \"cannot_remove_empty_scope\";\nconst cannotAppendScopeSet = \"cannot_append_scopeset\";\nconst emptyInputScopeSet = \"empty_input_scopeset\";\nconst deviceCodePollingCancelled = \"device_code_polling_cancelled\";\nconst deviceCodeExpired = \"device_code_expired\";\nconst deviceCodeUnknownError = \"device_code_unknown_error\";\nconst noAccountInSilentRequest = \"no_account_in_silent_request\";\nconst invalidCacheRecord = \"invalid_cache_record\";\nconst invalidCacheEnvironment = \"invalid_cache_environment\";\nconst noAccountFound = \"no_account_found\";\nconst noCryptoObject = \"no_crypto_object\";\nconst unexpectedCredentialType = \"unexpected_credential_type\";\nconst invalidAssertion = \"invalid_assertion\";\nconst invalidClientCredential = \"invalid_client_credential\";\nconst tokenRefreshRequired = \"token_refresh_required\";\nconst userTimeoutReached = \"user_timeout_reached\";\nconst tokenClaimsCnfRequiredForSignedJwt = \"token_claims_cnf_required_for_signedjwt\";\nconst authorizationCodeMissingFromServerResponse = \"authorization_code_missing_from_server_response\";\nconst bindingKeyNotRemoved = \"binding_key_not_removed\";\nconst endSessionEndpointNotSupported = \"end_session_endpoint_not_supported\";\nconst keyIdMissing = \"key_id_missing\";\nconst noNetworkConnectivity = \"no_network_connectivity\";\nconst userCanceled = \"user_canceled\";\nconst missingTenantIdError = \"missing_tenant_id_error\";\nconst methodNotImplemented = \"method_not_implemented\";\nconst nestedAppAuthBridgeDisabled = \"nested_app_auth_bridge_disabled\";\n\nexport { authTimeNotFound, authorizationCodeMissingFromServerResponse, bindingKeyNotRemoved, cannotAppendScopeSet, cannotRemoveEmptyScope, clientInfoDecodingError, clientInfoEmptyError, deviceCodeExpired, deviceCodePollingCancelled, deviceCodeUnknownError, emptyInputScopeSet, endSessionEndpointNotSupported, endpointResolutionError, hashNotDeserialized, invalidAssertion, invalidCacheEnvironment, invalidCacheRecord, invalidClientCredential, invalidState, keyIdMissing, maxAgeTranspired, methodNotImplemented, missingTenantIdError, multipleMatchingAccounts, multipleMatchingAppMetadata, multipleMatchingTokens, nestedAppAuthBridgeDisabled, networkError, noAccountFound, noAccountInSilentRequest, noCryptoObject, noNetworkConnectivity, nonceMismatch, nullOrEmptyToken, openIdConfigError, requestCannotBeMade, stateMismatch, stateNotFound, tokenClaimsCnfRequiredForSignedJwt, tokenParsingError, tokenRefreshRequired, unexpectedCredentialType, userCanceled, userTimeoutReached };\n//# sourceMappingURL=ClientAuthErrorCodes.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { AuthError } from './AuthError.mjs';\nimport { clientInfoDecodingError, clientInfoEmptyError, tokenParsingError, nullOrEmptyToken, endpointResolutionError, networkError, openIdConfigError, hashNotDeserialized, invalidState, stateMismatch, stateNotFound, nonceMismatch, authTimeNotFound, maxAgeTranspired, multipleMatchingTokens, multipleMatchingAccounts, multipleMatchingAppMetadata, requestCannotBeMade, cannotRemoveEmptyScope, cannotAppendScopeSet, emptyInputScopeSet, deviceCodePollingCancelled, deviceCodeExpired, deviceCodeUnknownError, noAccountInSilentRequest, invalidCacheRecord, invalidCacheEnvironment, noAccountFound, noCryptoObject, unexpectedCredentialType, invalidAssertion, invalidClientCredential, tokenRefreshRequired, userTimeoutReached, tokenClaimsCnfRequiredForSignedJwt, authorizationCodeMissingFromServerResponse, bindingKeyNotRemoved, endSessionEndpointNotSupported, keyIdMissing, noNetworkConnectivity, userCanceled, missingTenantIdError, nestedAppAuthBridgeDisabled, methodNotImplemented } from './ClientAuthErrorCodes.mjs';\nimport * as ClientAuthErrorCodes from './ClientAuthErrorCodes.mjs';\nexport { ClientAuthErrorCodes };\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * ClientAuthErrorMessage class containing string constants used by error codes and messages.\n */\nconst ClientAuthErrorMessages = {\n    [clientInfoDecodingError]: \"The client info could not be parsed/decoded correctly\",\n    [clientInfoEmptyError]: \"The client info was empty\",\n    [tokenParsingError]: \"Token cannot be parsed\",\n    [nullOrEmptyToken]: \"The token is null or empty\",\n    [endpointResolutionError]: \"Endpoints cannot be resolved\",\n    [networkError]: \"Network request failed\",\n    [openIdConfigError]: \"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.\",\n    [hashNotDeserialized]: \"The hash parameters could not be deserialized\",\n    [invalidState]: \"State was not the expected format\",\n    [stateMismatch]: \"State mismatch error\",\n    [stateNotFound]: \"State not found\",\n    [nonceMismatch]: \"Nonce mismatch error\",\n    [authTimeNotFound]: \"Max Age was requested and the ID token is missing the auth_time variable.\" +\n        \" auth_time is an optional claim and is not enabled by default - it must be enabled.\" +\n        \" See https://aka.ms/msaljs/optional-claims for more information.\",\n    [maxAgeTranspired]: \"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.\",\n    [multipleMatchingTokens]: \"The cache contains multiple tokens satisfying the requirements. \" +\n        \"Call AcquireToken again providing more requirements such as authority or account.\",\n    [multipleMatchingAccounts]: \"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account\",\n    [multipleMatchingAppMetadata]: \"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata\",\n    [requestCannotBeMade]: \"Token request cannot be made without authorization code or refresh token.\",\n    [cannotRemoveEmptyScope]: \"Cannot remove null or empty scope from ScopeSet\",\n    [cannotAppendScopeSet]: \"Cannot append ScopeSet\",\n    [emptyInputScopeSet]: \"Empty input ScopeSet cannot be processed\",\n    [deviceCodePollingCancelled]: \"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.\",\n    [deviceCodeExpired]: \"Device code is expired.\",\n    [deviceCodeUnknownError]: \"Device code stopped polling for unknown reasons.\",\n    [noAccountInSilentRequest]: \"Please pass an account object, silent flow is not supported without account information\",\n    [invalidCacheRecord]: \"Cache record object was null or undefined.\",\n    [invalidCacheEnvironment]: \"Invalid environment when attempting to create cache entry\",\n    [noAccountFound]: \"No account found in cache for given key.\",\n    [noCryptoObject]: \"No crypto object detected.\",\n    [unexpectedCredentialType]: \"Unexpected credential type.\",\n    [invalidAssertion]: \"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515\",\n    [invalidClientCredential]: \"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential\",\n    [tokenRefreshRequired]: \"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.\",\n    [userTimeoutReached]: \"User defined timeout for device code polling reached\",\n    [tokenClaimsCnfRequiredForSignedJwt]: \"Cannot generate a POP jwt if the token_claims are not populated\",\n    [authorizationCodeMissingFromServerResponse]: \"Server response does not contain an authorization code to proceed\",\n    [bindingKeyNotRemoved]: \"Could not remove the credential's binding key from storage.\",\n    [endSessionEndpointNotSupported]: \"The provided authority does not support logout\",\n    [keyIdMissing]: \"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.\",\n    [noNetworkConnectivity]: \"No network connectivity. Check your internet connection.\",\n    [userCanceled]: \"User cancelled the flow.\",\n    [missingTenantIdError]: \"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.\",\n    [methodNotImplemented]: \"This method has not been implemented\",\n    [nestedAppAuthBridgeDisabled]: \"The nested app auth bridge is disabled\",\n};\n/**\n * String constants used by error codes and messages.\n * @deprecated Use ClientAuthErrorCodes instead\n */\nconst ClientAuthErrorMessage = {\n    clientInfoDecodingError: {\n        code: clientInfoDecodingError,\n        desc: ClientAuthErrorMessages[clientInfoDecodingError],\n    },\n    clientInfoEmptyError: {\n        code: clientInfoEmptyError,\n        desc: ClientAuthErrorMessages[clientInfoEmptyError],\n    },\n    tokenParsingError: {\n        code: tokenParsingError,\n        desc: ClientAuthErrorMessages[tokenParsingError],\n    },\n    nullOrEmptyToken: {\n        code: nullOrEmptyToken,\n        desc: ClientAuthErrorMessages[nullOrEmptyToken],\n    },\n    endpointResolutionError: {\n        code: endpointResolutionError,\n        desc: ClientAuthErrorMessages[endpointResolutionError],\n    },\n    networkError: {\n        code: networkError,\n        desc: ClientAuthErrorMessages[networkError],\n    },\n    unableToGetOpenidConfigError: {\n        code: openIdConfigError,\n        desc: ClientAuthErrorMessages[openIdConfigError],\n    },\n    hashNotDeserialized: {\n        code: hashNotDeserialized,\n        desc: ClientAuthErrorMessages[hashNotDeserialized],\n    },\n    invalidStateError: {\n        code: invalidState,\n        desc: ClientAuthErrorMessages[invalidState],\n    },\n    stateMismatchError: {\n        code: stateMismatch,\n        desc: ClientAuthErrorMessages[stateMismatch],\n    },\n    stateNotFoundError: {\n        code: stateNotFound,\n        desc: ClientAuthErrorMessages[stateNotFound],\n    },\n    nonceMismatchError: {\n        code: nonceMismatch,\n        desc: ClientAuthErrorMessages[nonceMismatch],\n    },\n    authTimeNotFoundError: {\n        code: authTimeNotFound,\n        desc: ClientAuthErrorMessages[authTimeNotFound],\n    },\n    maxAgeTranspired: {\n        code: maxAgeTranspired,\n        desc: ClientAuthErrorMessages[maxAgeTranspired],\n    },\n    multipleMatchingTokens: {\n        code: multipleMatchingTokens,\n        desc: ClientAuthErrorMessages[multipleMatchingTokens],\n    },\n    multipleMatchingAccounts: {\n        code: multipleMatchingAccounts,\n        desc: ClientAuthErrorMessages[multipleMatchingAccounts],\n    },\n    multipleMatchingAppMetadata: {\n        code: multipleMatchingAppMetadata,\n        desc: ClientAuthErrorMessages[multipleMatchingAppMetadata],\n    },\n    tokenRequestCannotBeMade: {\n        code: requestCannotBeMade,\n        desc: ClientAuthErrorMessages[requestCannotBeMade],\n    },\n    removeEmptyScopeError: {\n        code: cannotRemoveEmptyScope,\n        desc: ClientAuthErrorMessages[cannotRemoveEmptyScope],\n    },\n    appendScopeSetError: {\n        code: cannotAppendScopeSet,\n        desc: ClientAuthErrorMessages[cannotAppendScopeSet],\n    },\n    emptyInputScopeSetError: {\n        code: emptyInputScopeSet,\n        desc: ClientAuthErrorMessages[emptyInputScopeSet],\n    },\n    DeviceCodePollingCancelled: {\n        code: deviceCodePollingCancelled,\n        desc: ClientAuthErrorMessages[deviceCodePollingCancelled],\n    },\n    DeviceCodeExpired: {\n        code: deviceCodeExpired,\n        desc: ClientAuthErrorMessages[deviceCodeExpired],\n    },\n    DeviceCodeUnknownError: {\n        code: deviceCodeUnknownError,\n        desc: ClientAuthErrorMessages[deviceCodeUnknownError],\n    },\n    NoAccountInSilentRequest: {\n        code: noAccountInSilentRequest,\n        desc: ClientAuthErrorMessages[noAccountInSilentRequest],\n    },\n    invalidCacheRecord: {\n        code: invalidCacheRecord,\n        desc: ClientAuthErrorMessages[invalidCacheRecord],\n    },\n    invalidCacheEnvironment: {\n        code: invalidCacheEnvironment,\n        desc: ClientAuthErrorMessages[invalidCacheEnvironment],\n    },\n    noAccountFound: {\n        code: noAccountFound,\n        desc: ClientAuthErrorMessages[noAccountFound],\n    },\n    noCryptoObj: {\n        code: noCryptoObject,\n        desc: ClientAuthErrorMessages[noCryptoObject],\n    },\n    unexpectedCredentialType: {\n        code: unexpectedCredentialType,\n        desc: ClientAuthErrorMessages[unexpectedCredentialType],\n    },\n    invalidAssertion: {\n        code: invalidAssertion,\n        desc: ClientAuthErrorMessages[invalidAssertion],\n    },\n    invalidClientCredential: {\n        code: invalidClientCredential,\n        desc: ClientAuthErrorMessages[invalidClientCredential],\n    },\n    tokenRefreshRequired: {\n        code: tokenRefreshRequired,\n        desc: ClientAuthErrorMessages[tokenRefreshRequired],\n    },\n    userTimeoutReached: {\n        code: userTimeoutReached,\n        desc: ClientAuthErrorMessages[userTimeoutReached],\n    },\n    tokenClaimsRequired: {\n        code: tokenClaimsCnfRequiredForSignedJwt,\n        desc: ClientAuthErrorMessages[tokenClaimsCnfRequiredForSignedJwt],\n    },\n    noAuthorizationCodeFromServer: {\n        code: authorizationCodeMissingFromServerResponse,\n        desc: ClientAuthErrorMessages[authorizationCodeMissingFromServerResponse],\n    },\n    bindingKeyNotRemovedError: {\n        code: bindingKeyNotRemoved,\n        desc: ClientAuthErrorMessages[bindingKeyNotRemoved],\n    },\n    logoutNotSupported: {\n        code: endSessionEndpointNotSupported,\n        desc: ClientAuthErrorMessages[endSessionEndpointNotSupported],\n    },\n    keyIdMissing: {\n        code: keyIdMissing,\n        desc: ClientAuthErrorMessages[keyIdMissing],\n    },\n    noNetworkConnectivity: {\n        code: noNetworkConnectivity,\n        desc: ClientAuthErrorMessages[noNetworkConnectivity],\n    },\n    userCanceledError: {\n        code: userCanceled,\n        desc: ClientAuthErrorMessages[userCanceled],\n    },\n    missingTenantIdError: {\n        code: missingTenantIdError,\n        desc: ClientAuthErrorMessages[missingTenantIdError],\n    },\n    nestedAppAuthBridgeDisabled: {\n        code: nestedAppAuthBridgeDisabled,\n        desc: ClientAuthErrorMessages[nestedAppAuthBridgeDisabled],\n    },\n};\n/**\n * Error thrown when there is an error in the client code running on the browser.\n */\nclass ClientAuthError extends AuthError {\n    constructor(errorCode, additionalMessage) {\n        super(errorCode, additionalMessage\n            ? `${ClientAuthErrorMessages[errorCode]}: ${additionalMessage}`\n            : ClientAuthErrorMessages[errorCode]);\n        this.name = \"ClientAuthError\";\n        Object.setPrototypeOf(this, ClientAuthError.prototype);\n    }\n}\nfunction createClientAuthError(errorCode, additionalMessage) {\n    return new ClientAuthError(errorCode, additionalMessage);\n}\n\nexport { ClientAuthError, ClientAuthErrorMessage, ClientAuthErrorMessages, createClientAuthError };\n//# sourceMappingURL=ClientAuthError.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { createClientAuthError } from '../error/ClientAuthError.mjs';\nimport { hashNotDeserialized } from '../error/ClientAuthErrorCodes.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Parses hash string from given string. Returns empty string if no hash symbol is found.\n * @param hashString\n */\nfunction stripLeadingHashOrQuery(responseString) {\n    if (responseString.startsWith(\"#/\")) {\n        return responseString.substring(2);\n    }\n    else if (responseString.startsWith(\"#\") ||\n        responseString.startsWith(\"?\")) {\n        return responseString.substring(1);\n    }\n    return responseString;\n}\n/**\n * Returns URL hash as server auth code response object.\n */\nfunction getDeserializedResponse(responseString) {\n    // Check if given hash is empty\n    if (!responseString || responseString.indexOf(\"=\") < 0) {\n        return null;\n    }\n    try {\n        // Strip the # or ? symbol if present\n        const normalizedResponse = stripLeadingHashOrQuery(responseString);\n        // If # symbol was not present, above will return empty string, so give original hash value\n        const deserializedHash = Object.fromEntries(new URLSearchParams(normalizedResponse));\n        // Check for known response properties\n        if (deserializedHash.code ||\n            deserializedHash.error ||\n            deserializedHash.error_description ||\n            deserializedHash.state) {\n            return deserializedHash;\n        }\n    }\n    catch (e) {\n        throw createClientAuthError(hashNotDeserialized);\n    }\n    return null;\n}\n\nexport { getDeserializedResponse, stripLeadingHashOrQuery };\n//# sourceMappingURL=UrlUtils.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { createClientConfigurationError } from '../error/ClientConfigurationError.mjs';\nimport { StringUtils } from '../utils/StringUtils.mjs';\nimport { AADAuthorityConstants, Constants } from '../utils/Constants.mjs';\nimport { getDeserializedResponse } from '../utils/UrlUtils.mjs';\nimport { urlEmptyError, urlParseError, authorityUriInsecure } from '../error/ClientConfigurationErrorCodes.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Url object class which can perform various transformations on url strings.\n */\nclass UrlString {\n    get urlString() {\n        return this._urlString;\n    }\n    constructor(url) {\n        this._urlString = url;\n        if (!this._urlString) {\n            // Throws error if url is empty\n            throw createClientConfigurationError(urlEmptyError);\n        }\n        if (!url.includes(\"#\")) {\n            this._urlString = UrlString.canonicalizeUri(url);\n        }\n    }\n    /**\n     * Ensure urls are lower case and end with a / character.\n     * @param url\n     */\n    static canonicalizeUri(url) {\n        if (url) {\n            let lowerCaseUrl = url.toLowerCase();\n            if (StringUtils.endsWith(lowerCaseUrl, \"?\")) {\n                lowerCaseUrl = lowerCaseUrl.slice(0, -1);\n            }\n            else if (StringUtils.endsWith(lowerCaseUrl, \"?/\")) {\n                lowerCaseUrl = lowerCaseUrl.slice(0, -2);\n            }\n            if (!StringUtils.endsWith(lowerCaseUrl, \"/\")) {\n                lowerCaseUrl += \"/\";\n            }\n            return lowerCaseUrl;\n        }\n        return url;\n    }\n    /**\n     * Throws if urlString passed is not a valid authority URI string.\n     */\n    validateAsUri() {\n        // Attempts to parse url for uri components\n        let components;\n        try {\n            components = this.getUrlComponents();\n        }\n        catch (e) {\n            throw createClientConfigurationError(urlParseError);\n        }\n        // Throw error if URI or path segments are not parseable.\n        if (!components.HostNameAndPort || !components.PathSegments) {\n            throw createClientConfigurationError(urlParseError);\n        }\n        // Throw error if uri is insecure.\n        if (!components.Protocol ||\n            components.Protocol.toLowerCase() !== \"https:\") {\n            throw createClientConfigurationError(authorityUriInsecure);\n        }\n    }\n    /**\n     * Given a url and a query string return the url with provided query string appended\n     * @param url\n     * @param queryString\n     */\n    static appendQueryString(url, queryString) {\n        if (!queryString) {\n            return url;\n        }\n        return url.indexOf(\"?\") < 0\n            ? `${url}?${queryString}`\n            : `${url}&${queryString}`;\n    }\n    /**\n     * Returns a url with the hash removed\n     * @param url\n     */\n    static removeHashFromUrl(url) {\n        return UrlString.canonicalizeUri(url.split(\"#\")[0]);\n    }\n    /**\n     * Given a url like https://a:b/common/d?e=f#g, and a tenantId, returns https://a:b/tenantId/d\n     * @param href The url\n     * @param tenantId The tenant id to replace\n     */\n    replaceTenantPath(tenantId) {\n        const urlObject = this.getUrlComponents();\n        const pathArray = urlObject.PathSegments;\n        if (tenantId &&\n            pathArray.length !== 0 &&\n            (pathArray[0] === AADAuthorityConstants.COMMON ||\n                pathArray[0] === AADAuthorityConstants.ORGANIZATIONS)) {\n            pathArray[0] = tenantId;\n        }\n        return UrlString.constructAuthorityUriFromObject(urlObject);\n    }\n    /**\n     * Parses out the components from a url string.\n     * @returns An object with the various components. Please cache this value insted of calling this multiple times on the same url.\n     */\n    getUrlComponents() {\n        // https://gist.github.com/curtisz/11139b2cfcaef4a261e0\n        const regEx = RegExp(\"^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\\\?([^#]*))?(#(.*))?\");\n        // If url string does not match regEx, we throw an error\n        const match = this.urlString.match(regEx);\n        if (!match) {\n            throw createClientConfigurationError(urlParseError);\n        }\n        // Url component object\n        const urlComponents = {\n            Protocol: match[1],\n            HostNameAndPort: match[4],\n            AbsolutePath: match[5],\n            QueryString: match[7],\n        };\n        let pathSegments = urlComponents.AbsolutePath.split(\"/\");\n        pathSegments = pathSegments.filter((val) => val && val.length > 0); // remove empty elements\n        urlComponents.PathSegments = pathSegments;\n        if (urlComponents.QueryString &&\n            urlComponents.QueryString.endsWith(\"/\")) {\n            urlComponents.QueryString = urlComponents.QueryString.substring(0, urlComponents.QueryString.length - 1);\n        }\n        return urlComponents;\n    }\n    static getDomainFromUrl(url) {\n        const regEx = RegExp(\"^([^:/?#]+://)?([^/?#]*)\");\n        const match = url.match(regEx);\n        if (!match) {\n            throw createClientConfigurationError(urlParseError);\n        }\n        return match[2];\n    }\n    static getAbsoluteUrl(relativeUrl, baseUrl) {\n        if (relativeUrl[0] === Constants.FORWARD_SLASH) {\n            const url = new UrlString(baseUrl);\n            const baseComponents = url.getUrlComponents();\n            return (baseComponents.Protocol +\n                \"//\" +\n                baseComponents.HostNameAndPort +\n                relativeUrl);\n        }\n        return relativeUrl;\n    }\n    static constructAuthorityUriFromObject(urlObject) {\n        return new UrlString(urlObject.Protocol +\n            \"//\" +\n            urlObject.HostNameAndPort +\n            \"/\" +\n            urlObject.PathSegments.join(\"/\"));\n    }\n    /**\n     * Check if the hash of the URL string contains known properties\n     * @deprecated This API will be removed in a future version\n     */\n    static hashContainsKnownProperties(response) {\n        return !!getDeserializedResponse(response);\n    }\n}\n\nexport { UrlString };\n//# sourceMappingURL=UrlString.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { UrlString } from '../url/UrlString.mjs';\nimport { AuthorityMetadataSource } from '../utils/Constants.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nconst rawMetdataJSON = {\n    endpointMetadata: {\n        \"login.microsoftonline.com\": {\n            token_endpoint: \"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token\",\n            jwks_uri: \"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys\",\n            issuer: \"https://login.microsoftonline.com/{tenantid}/v2.0\",\n            authorization_endpoint: \"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize\",\n            end_session_endpoint: \"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout\",\n        },\n        \"login.chinacloudapi.cn\": {\n            token_endpoint: \"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token\",\n            jwks_uri: \"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys\",\n            issuer: \"https://login.partner.microsoftonline.cn/{tenantid}/v2.0\",\n            authorization_endpoint: \"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize\",\n            end_session_endpoint: \"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout\",\n        },\n        \"login.microsoftonline.us\": {\n            token_endpoint: \"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token\",\n            jwks_uri: \"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys\",\n            issuer: \"https://login.microsoftonline.us/{tenantid}/v2.0\",\n            authorization_endpoint: \"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize\",\n            end_session_endpoint: \"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout\",\n        },\n    },\n    instanceDiscoveryMetadata: {\n        tenant_discovery_endpoint: \"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration\",\n        metadata: [\n            {\n                preferred_network: \"login.microsoftonline.com\",\n                preferred_cache: \"login.windows.net\",\n                aliases: [\n                    \"login.microsoftonline.com\",\n                    \"login.windows.net\",\n                    \"login.microsoft.com\",\n                    \"sts.windows.net\",\n                ],\n            },\n            {\n                preferred_network: \"login.partner.microsoftonline.cn\",\n                preferred_cache: \"login.partner.microsoftonline.cn\",\n                aliases: [\n                    \"login.partner.microsoftonline.cn\",\n                    \"login.chinacloudapi.cn\",\n                ],\n            },\n            {\n                preferred_network: \"login.microsoftonline.de\",\n                preferred_cache: \"login.microsoftonline.de\",\n                aliases: [\"login.microsoftonline.de\"],\n            },\n            {\n                preferred_network: \"login.microsoftonline.us\",\n                preferred_cache: \"login.microsoftonline.us\",\n                aliases: [\n                    \"login.microsoftonline.us\",\n                    \"login.usgovcloudapi.net\",\n                ],\n            },\n            {\n                preferred_network: \"login-us.microsoftonline.com\",\n                preferred_cache: \"login-us.microsoftonline.com\",\n                aliases: [\"login-us.microsoftonline.com\"],\n            },\n        ],\n    },\n};\nconst EndpointMetadata = rawMetdataJSON.endpointMetadata;\nconst InstanceDiscoveryMetadata = rawMetdataJSON.instanceDiscoveryMetadata;\nconst InstanceDiscoveryMetadataAliases = new Set();\nInstanceDiscoveryMetadata.metadata.forEach((metadataEntry) => {\n    metadataEntry.aliases.forEach((alias) => {\n        InstanceDiscoveryMetadataAliases.add(alias);\n    });\n});\n/**\n * Attempts to get an aliases array from the static authority metadata sources based on the canonical authority host\n * @param staticAuthorityOptions\n * @param logger\n * @returns\n */\nfunction getAliasesFromStaticSources(staticAuthorityOptions, logger) {\n    let staticAliases;\n    const canonicalAuthority = staticAuthorityOptions.canonicalAuthority;\n    if (canonicalAuthority) {\n        const authorityHost = new UrlString(canonicalAuthority).getUrlComponents().HostNameAndPort;\n        staticAliases =\n            getAliasesFromMetadata(authorityHost, staticAuthorityOptions.cloudDiscoveryMetadata?.metadata, AuthorityMetadataSource.CONFIG, logger) ||\n                getAliasesFromMetadata(authorityHost, InstanceDiscoveryMetadata.metadata, AuthorityMetadataSource.HARDCODED_VALUES, logger) ||\n                staticAuthorityOptions.knownAuthorities;\n    }\n    return staticAliases || [];\n}\n/**\n * Returns aliases for from the raw cloud discovery metadata passed in\n * @param authorityHost\n * @param rawCloudDiscoveryMetadata\n * @returns\n */\nfunction getAliasesFromMetadata(authorityHost, cloudDiscoveryMetadata, source, logger) {\n    logger?.trace(`getAliasesFromMetadata called with source: ${source}`);\n    if (authorityHost && cloudDiscoveryMetadata) {\n        const metadata = getCloudDiscoveryMetadataFromNetworkResponse(cloudDiscoveryMetadata, authorityHost);\n        if (metadata) {\n            logger?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${source}, returning aliases`);\n            return metadata.aliases;\n        }\n        else {\n            logger?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${source}`);\n        }\n    }\n    return null;\n}\n/**\n * Get cloud discovery metadata for common authorities\n */\nfunction getCloudDiscoveryMetadataFromHardcodedValues(authorityHost) {\n    const metadata = getCloudDiscoveryMetadataFromNetworkResponse(InstanceDiscoveryMetadata.metadata, authorityHost);\n    return metadata;\n}\n/**\n * Searches instance discovery network response for the entry that contains the host in the aliases list\n * @param response\n * @param authority\n */\nfunction getCloudDiscoveryMetadataFromNetworkResponse(response, authorityHost) {\n    for (let i = 0; i < response.length; i++) {\n        const metadata = response[i];\n        if (metadata.aliases.includes(authorityHost)) {\n            return metadata;\n        }\n    }\n    return null;\n}\n\nexport { EndpointMetadata, InstanceDiscoveryMetadata, InstanceDiscoveryMetadataAliases, getAliasesFromMetadata, getAliasesFromStaticSources, getCloudDiscoveryMetadataFromHardcodedValues, getCloudDiscoveryMetadataFromNetworkResponse, rawMetdataJSON };\n//# sourceMappingURL=AuthorityMetadata.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Protocol modes supported by MSAL.\n */\nconst ProtocolMode = {\n    AAD: \"AAD\",\n    OIDC: \"OIDC\",\n};\n\nexport { ProtocolMode };\n//# sourceMappingURL=ProtocolMode.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nconst AzureCloudInstance = {\n    // AzureCloudInstance is not specified.\n    None: \"none\",\n    // Microsoft Azure public cloud\n    AzurePublic: \"https://login.microsoftonline.com\",\n    // Microsoft PPE\n    AzurePpe: \"https://login.windows-ppe.net\",\n    // Microsoft Chinese national/regional cloud\n    AzureChina: \"https://login.chinacloudapi.cn\",\n    // Microsoft German national/regional cloud (\"Black Forest\")\n    AzureGermany: \"https://login.microsoftonline.de\",\n    // US Government cloud\n    AzureUsGovernment: \"https://login.microsoftonline.us\",\n};\n\nexport { AzureCloudInstance };\n//# sourceMappingURL=AuthorityOptions.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Enumeration of operations that are instrumented by have their performance measured by the PerformanceClient.\n *\n * @export\n * @enum {number}\n */\nconst PerformanceEvents = {\n    /**\n     * acquireTokenByCode API (msal-browser and msal-node).\n     * Used to acquire tokens by trading an authorization code against the token endpoint.\n     */\n    AcquireTokenByCode: \"acquireTokenByCode\",\n    /**\n     * acquireTokenByRefreshToken API (msal-browser and msal-node).\n     * Used to renew an access token using a refresh token against the token endpoint.\n     */\n    AcquireTokenByRefreshToken: \"acquireTokenByRefreshToken\",\n    /**\n     * acquireTokenSilent API (msal-browser and msal-node).\n     * Used to silently acquire a new access token (from the cache or the network).\n     */\n    AcquireTokenSilent: \"acquireTokenSilent\",\n    /**\n     * acquireTokenSilentAsync (msal-browser).\n     * Internal API for acquireTokenSilent.\n     */\n    AcquireTokenSilentAsync: \"acquireTokenSilentAsync\",\n    /**\n     * acquireTokenPopup (msal-browser).\n     * Used to acquire a new access token interactively through pop ups\n     */\n    AcquireTokenPopup: \"acquireTokenPopup\",\n    /**\n     * acquireTokenRedirect (msal-browser).\n     * Used to acquire a new access token interactively through redirects\n     */\n    AcquireTokenRedirect: \"acquireTokenRedirect\",\n    /**\n     * getPublicKeyThumbprint API in CryptoOpts class (msal-browser).\n     * Used to generate a public/private keypair and generate a public key thumbprint for pop requests.\n     */\n    CryptoOptsGetPublicKeyThumbprint: \"cryptoOptsGetPublicKeyThumbprint\",\n    /**\n     * signJwt API in CryptoOpts class (msal-browser).\n     * Used to signed a pop token.\n     */\n    CryptoOptsSignJwt: \"cryptoOptsSignJwt\",\n    /**\n     * acquireToken API in the SilentCacheClient class (msal-browser).\n     * Used to read access tokens from the cache.\n     */\n    SilentCacheClientAcquireToken: \"silentCacheClientAcquireToken\",\n    /**\n     * acquireToken API in the SilentIframeClient class (msal-browser).\n     * Used to acquire a new set of tokens from the authorize endpoint in a hidden iframe.\n     */\n    SilentIframeClientAcquireToken: \"silentIframeClientAcquireToken\",\n    AwaitConcurrentIframe: \"awaitConcurrentIframe\",\n    /**\n     * acquireToken API in SilentRereshClient (msal-browser).\n     * Used to acquire a new set of tokens from the token endpoint using a refresh token.\n     */\n    SilentRefreshClientAcquireToken: \"silentRefreshClientAcquireToken\",\n    /**\n     * ssoSilent API (msal-browser).\n     * Used to silently acquire an authorization code and set of tokens using a hidden iframe.\n     */\n    SsoSilent: \"ssoSilent\",\n    /**\n     * getDiscoveredAuthority API in StandardInteractionClient class (msal-browser).\n     * Used to load authority metadata for a request.\n     */\n    StandardInteractionClientGetDiscoveredAuthority: \"standardInteractionClientGetDiscoveredAuthority\",\n    /**\n     * acquireToken APIs in msal-browser.\n     * Used to make an /authorize endpoint call with native brokering enabled.\n     */\n    FetchAccountIdWithNativeBroker: \"fetchAccountIdWithNativeBroker\",\n    /**\n     * acquireToken API in NativeInteractionClient class (msal-browser).\n     * Used to acquire a token from Native component when native brokering is enabled.\n     */\n    NativeInteractionClientAcquireToken: \"nativeInteractionClientAcquireToken\",\n    /**\n     * Time spent creating default headers for requests to token endpoint\n     */\n    BaseClientCreateTokenRequestHeaders: \"baseClientCreateTokenRequestHeaders\",\n    /**\n     * Time spent sending/waiting for the response of a request to the token endpoint\n     */\n    RefreshTokenClientExecutePostToTokenEndpoint: \"refreshTokenClientExecutePostToTokenEndpoint\",\n    AuthorizationCodeClientExecutePostToTokenEndpoint: \"authorizationCodeClientExecutePostToTokenEndpoint\",\n    /**\n     * Used to measure the time taken for completing embedded-broker handshake (PW-Broker).\n     */\n    BrokerHandhshake: \"brokerHandshake\",\n    /**\n     * acquireTokenByRefreshToken API in BrokerClientApplication (PW-Broker) .\n     */\n    AcquireTokenByRefreshTokenInBroker: \"acquireTokenByRefreshTokenInBroker\",\n    /**\n     * Time taken for token acquisition by broker\n     */\n    AcquireTokenByBroker: \"acquireTokenByBroker\",\n    /**\n     * Time spent on the network for refresh token acquisition\n     */\n    RefreshTokenClientExecuteTokenRequest: \"refreshTokenClientExecuteTokenRequest\",\n    /**\n     * Time taken for acquiring refresh token , records RT size\n     */\n    RefreshTokenClientAcquireToken: \"refreshTokenClientAcquireToken\",\n    /**\n     * Time taken for acquiring cached refresh token\n     */\n    RefreshTokenClientAcquireTokenWithCachedRefreshToken: \"refreshTokenClientAcquireTokenWithCachedRefreshToken\",\n    /**\n     * acquireTokenByRefreshToken API in RefreshTokenClient (msal-common).\n     */\n    RefreshTokenClientAcquireTokenByRefreshToken: \"refreshTokenClientAcquireTokenByRefreshToken\",\n    /**\n     * Helper function to create token request body in RefreshTokenClient (msal-common).\n     */\n    RefreshTokenClientCreateTokenRequestBody: \"refreshTokenClientCreateTokenRequestBody\",\n    /**\n     * acquireTokenFromCache (msal-browser).\n     * Internal API for acquiring token from cache\n     */\n    AcquireTokenFromCache: \"acquireTokenFromCache\",\n    SilentFlowClientAcquireCachedToken: \"silentFlowClientAcquireCachedToken\",\n    SilentFlowClientGenerateResultFromCacheRecord: \"silentFlowClientGenerateResultFromCacheRecord\",\n    /**\n     * acquireTokenBySilentIframe (msal-browser).\n     * Internal API for acquiring token by silent Iframe\n     */\n    AcquireTokenBySilentIframe: \"acquireTokenBySilentIframe\",\n    /**\n     * Internal API for initializing base request in BaseInteractionClient (msal-browser)\n     */\n    InitializeBaseRequest: \"initializeBaseRequest\",\n    /**\n     * Internal API for initializing silent request in SilentCacheClient (msal-browser)\n     */\n    InitializeSilentRequest: \"initializeSilentRequest\",\n    InitializeClientApplication: \"initializeClientApplication\",\n    /**\n     * Helper function in SilentIframeClient class (msal-browser).\n     */\n    SilentIframeClientTokenHelper: \"silentIframeClientTokenHelper\",\n    /**\n     * SilentHandler\n     */\n    SilentHandlerInitiateAuthRequest: \"silentHandlerInitiateAuthRequest\",\n    SilentHandlerMonitorIframeForHash: \"silentHandlerMonitorIframeForHash\",\n    SilentHandlerLoadFrame: \"silentHandlerLoadFrame\",\n    SilentHandlerLoadFrameSync: \"silentHandlerLoadFrameSync\",\n    /**\n     * Helper functions in StandardInteractionClient class (msal-browser)\n     */\n    StandardInteractionClientCreateAuthCodeClient: \"standardInteractionClientCreateAuthCodeClient\",\n    StandardInteractionClientGetClientConfiguration: \"standardInteractionClientGetClientConfiguration\",\n    StandardInteractionClientInitializeAuthorizationRequest: \"standardInteractionClientInitializeAuthorizationRequest\",\n    StandardInteractionClientInitializeAuthorizationCodeRequest: \"standardInteractionClientInitializeAuthorizationCodeRequest\",\n    /**\n     * getAuthCodeUrl API (msal-browser and msal-node).\n     */\n    GetAuthCodeUrl: \"getAuthCodeUrl\",\n    /**\n     * Functions from InteractionHandler (msal-browser)\n     */\n    HandleCodeResponseFromServer: \"handleCodeResponseFromServer\",\n    HandleCodeResponse: \"handleCodeResponse\",\n    UpdateTokenEndpointAuthority: \"updateTokenEndpointAuthority\",\n    /**\n     * APIs in Authorization Code Client (msal-common)\n     */\n    AuthClientAcquireToken: \"authClientAcquireToken\",\n    AuthClientExecuteTokenRequest: \"authClientExecuteTokenRequest\",\n    AuthClientCreateTokenRequestBody: \"authClientCreateTokenRequestBody\",\n    AuthClientCreateQueryString: \"authClientCreateQueryString\",\n    /**\n     * Generate functions in PopTokenGenerator (msal-common)\n     */\n    PopTokenGenerateCnf: \"popTokenGenerateCnf\",\n    PopTokenGenerateKid: \"popTokenGenerateKid\",\n    /**\n     * handleServerTokenResponse API in ResponseHandler (msal-common)\n     */\n    HandleServerTokenResponse: \"handleServerTokenResponse\",\n    DeserializeResponse: \"deserializeResponse\",\n    /**\n     * Authority functions\n     */\n    AuthorityFactoryCreateDiscoveredInstance: \"authorityFactoryCreateDiscoveredInstance\",\n    AuthorityResolveEndpointsAsync: \"authorityResolveEndpointsAsync\",\n    AuthorityResolveEndpointsFromLocalSources: \"authorityResolveEndpointsFromLocalSources\",\n    AuthorityGetCloudDiscoveryMetadataFromNetwork: \"authorityGetCloudDiscoveryMetadataFromNetwork\",\n    AuthorityUpdateCloudDiscoveryMetadata: \"authorityUpdateCloudDiscoveryMetadata\",\n    AuthorityGetEndpointMetadataFromNetwork: \"authorityGetEndpointMetadataFromNetwork\",\n    AuthorityUpdateEndpointMetadata: \"authorityUpdateEndpointMetadata\",\n    AuthorityUpdateMetadataWithRegionalInformation: \"authorityUpdateMetadataWithRegionalInformation\",\n    /**\n     * Region Discovery functions\n     */\n    RegionDiscoveryDetectRegion: \"regionDiscoveryDetectRegion\",\n    RegionDiscoveryGetRegionFromIMDS: \"regionDiscoveryGetRegionFromIMDS\",\n    RegionDiscoveryGetCurrentVersion: \"regionDiscoveryGetCurrentVersion\",\n    AcquireTokenByCodeAsync: \"acquireTokenByCodeAsync\",\n    GetEndpointMetadataFromNetwork: \"getEndpointMetadataFromNetwork\",\n    GetCloudDiscoveryMetadataFromNetworkMeasurement: \"getCloudDiscoveryMetadataFromNetworkMeasurement\",\n    HandleRedirectPromiseMeasurement: \"handleRedirectPromise\",\n    HandleNativeRedirectPromiseMeasurement: \"handleNativeRedirectPromise\",\n    UpdateCloudDiscoveryMetadataMeasurement: \"updateCloudDiscoveryMetadataMeasurement\",\n    UsernamePasswordClientAcquireToken: \"usernamePasswordClientAcquireToken\",\n    NativeMessageHandlerHandshake: \"nativeMessageHandlerHandshake\",\n    NativeGenerateAuthResult: \"nativeGenerateAuthResult\",\n    RemoveHiddenIframe: \"removeHiddenIframe\",\n    /**\n     * Cache operations\n     */\n    ClearTokensAndKeysWithClaims: \"clearTokensAndKeysWithClaims\",\n    CacheManagerGetRefreshToken: \"cacheManagerGetRefreshToken\",\n    /**\n     * Crypto Operations\n     */\n    GeneratePkceCodes: \"generatePkceCodes\",\n    GenerateCodeVerifier: \"generateCodeVerifier\",\n    GenerateCodeChallengeFromVerifier: \"generateCodeChallengeFromVerifier\",\n    Sha256Digest: \"sha256Digest\",\n    GetRandomValues: \"getRandomValues\",\n};\nconst PerformanceEventAbbreviations = new Map([\n    [PerformanceEvents.AcquireTokenByCode, \"ATByCode\"],\n    [PerformanceEvents.AcquireTokenByRefreshToken, \"ATByRT\"],\n    [PerformanceEvents.AcquireTokenSilent, \"ATS\"],\n    [PerformanceEvents.AcquireTokenSilentAsync, \"ATSAsync\"],\n    [PerformanceEvents.AcquireTokenPopup, \"ATPopup\"],\n    [PerformanceEvents.AcquireTokenRedirect, \"ATRedirect\"],\n    [\n        PerformanceEvents.CryptoOptsGetPublicKeyThumbprint,\n        \"CryptoGetPKThumb\",\n    ],\n    [PerformanceEvents.CryptoOptsSignJwt, \"CryptoSignJwt\"],\n    [PerformanceEvents.SilentCacheClientAcquireToken, \"SltCacheClientAT\"],\n    [PerformanceEvents.SilentIframeClientAcquireToken, \"SltIframeClientAT\"],\n    [PerformanceEvents.SilentRefreshClientAcquireToken, \"SltRClientAT\"],\n    [PerformanceEvents.SsoSilent, \"SsoSlt\"],\n    [\n        PerformanceEvents.StandardInteractionClientGetDiscoveredAuthority,\n        \"StdIntClientGetDiscAuth\",\n    ],\n    [\n        PerformanceEvents.FetchAccountIdWithNativeBroker,\n        \"FetchAccIdWithNtvBroker\",\n    ],\n    [\n        PerformanceEvents.NativeInteractionClientAcquireToken,\n        \"NtvIntClientAT\",\n    ],\n    [\n        PerformanceEvents.BaseClientCreateTokenRequestHeaders,\n        \"BaseClientCreateTReqHead\",\n    ],\n    [\n        PerformanceEvents.RefreshTokenClientExecutePostToTokenEndpoint,\n        \"RTClientExecPost\",\n    ],\n    [\n        PerformanceEvents.AuthorizationCodeClientExecutePostToTokenEndpoint,\n        \"AuthCodeClientExecPost\",\n    ],\n    [PerformanceEvents.BrokerHandhshake, \"BrokerHandshake\"],\n    [\n        PerformanceEvents.AcquireTokenByRefreshTokenInBroker,\n        \"ATByRTInBroker\",\n    ],\n    [PerformanceEvents.AcquireTokenByBroker, \"ATByBroker\"],\n    [\n        PerformanceEvents.RefreshTokenClientExecuteTokenRequest,\n        \"RTClientExecTReq\",\n    ],\n    [PerformanceEvents.RefreshTokenClientAcquireToken, \"RTClientAT\"],\n    [\n        PerformanceEvents.RefreshTokenClientAcquireTokenWithCachedRefreshToken,\n        \"RTClientATWithCachedRT\",\n    ],\n    [\n        PerformanceEvents.RefreshTokenClientAcquireTokenByRefreshToken,\n        \"RTClientATByRT\",\n    ],\n    [\n        PerformanceEvents.RefreshTokenClientCreateTokenRequestBody,\n        \"RTClientCreateTReqBody\",\n    ],\n    [PerformanceEvents.AcquireTokenFromCache, \"ATFromCache\"],\n    [\n        PerformanceEvents.SilentFlowClientAcquireCachedToken,\n        \"SltFlowClientATCached\",\n    ],\n    [\n        PerformanceEvents.SilentFlowClientGenerateResultFromCacheRecord,\n        \"SltFlowClientGenResFromCache\",\n    ],\n    [PerformanceEvents.AcquireTokenBySilentIframe, \"ATBySltIframe\"],\n    [PerformanceEvents.InitializeBaseRequest, \"InitBaseReq\"],\n    [PerformanceEvents.InitializeSilentRequest, \"InitSltReq\"],\n    [\n        PerformanceEvents.InitializeClientApplication,\n        \"InitClientApplication\",\n    ],\n    [PerformanceEvents.SilentIframeClientTokenHelper, \"SIClientTHelper\"],\n    [\n        PerformanceEvents.SilentHandlerInitiateAuthRequest,\n        \"SHandlerInitAuthReq\",\n    ],\n    [\n        PerformanceEvents.SilentHandlerMonitorIframeForHash,\n        \"SltHandlerMonitorIframeForHash\",\n    ],\n    [PerformanceEvents.SilentHandlerLoadFrame, \"SHandlerLoadFrame\"],\n    [PerformanceEvents.SilentHandlerLoadFrameSync, \"SHandlerLoadFrameSync\"],\n    [\n        PerformanceEvents.StandardInteractionClientCreateAuthCodeClient,\n        \"StdIntClientCreateAuthCodeClient\",\n    ],\n    [\n        PerformanceEvents.StandardInteractionClientGetClientConfiguration,\n        \"StdIntClientGetClientConf\",\n    ],\n    [\n        PerformanceEvents.StandardInteractionClientInitializeAuthorizationRequest,\n        \"StdIntClientInitAuthReq\",\n    ],\n    [\n        PerformanceEvents.StandardInteractionClientInitializeAuthorizationCodeRequest,\n        \"StdIntClientInitAuthCodeReq\",\n    ],\n    [PerformanceEvents.GetAuthCodeUrl, \"GetAuthCodeUrl\"],\n    [\n        PerformanceEvents.HandleCodeResponseFromServer,\n        \"HandleCodeResFromServer\",\n    ],\n    [PerformanceEvents.HandleCodeResponse, \"HandleCodeResp\"],\n    [PerformanceEvents.UpdateTokenEndpointAuthority, \"UpdTEndpointAuth\"],\n    [PerformanceEvents.AuthClientAcquireToken, \"AuthClientAT\"],\n    [PerformanceEvents.AuthClientExecuteTokenRequest, \"AuthClientExecTReq\"],\n    [\n        PerformanceEvents.AuthClientCreateTokenRequestBody,\n        \"AuthClientCreateTReqBody\",\n    ],\n    [\n        PerformanceEvents.AuthClientCreateQueryString,\n        \"AuthClientCreateQueryStr\",\n    ],\n    [PerformanceEvents.PopTokenGenerateCnf, \"PopTGenCnf\"],\n    [PerformanceEvents.PopTokenGenerateKid, \"PopTGenKid\"],\n    [PerformanceEvents.HandleServerTokenResponse, \"HandleServerTRes\"],\n    [PerformanceEvents.DeserializeResponse, \"DeserializeRes\"],\n    [\n        PerformanceEvents.AuthorityFactoryCreateDiscoveredInstance,\n        \"AuthFactCreateDiscInst\",\n    ],\n    [\n        PerformanceEvents.AuthorityResolveEndpointsAsync,\n        \"AuthResolveEndpointsAsync\",\n    ],\n    [\n        PerformanceEvents.AuthorityResolveEndpointsFromLocalSources,\n        \"AuthResolveEndpointsFromLocal\",\n    ],\n    [\n        PerformanceEvents.AuthorityGetCloudDiscoveryMetadataFromNetwork,\n        \"AuthGetCDMetaFromNet\",\n    ],\n    [\n        PerformanceEvents.AuthorityUpdateCloudDiscoveryMetadata,\n        \"AuthUpdCDMeta\",\n    ],\n    [\n        PerformanceEvents.AuthorityGetEndpointMetadataFromNetwork,\n        \"AuthUpdCDMetaFromNet\",\n    ],\n    [\n        PerformanceEvents.AuthorityUpdateEndpointMetadata,\n        \"AuthUpdEndpointMeta\",\n    ],\n    [\n        PerformanceEvents.AuthorityUpdateMetadataWithRegionalInformation,\n        \"AuthUpdMetaWithRegInfo\",\n    ],\n    [PerformanceEvents.RegionDiscoveryDetectRegion, \"RegDiscDetectReg\"],\n    [\n        PerformanceEvents.RegionDiscoveryGetRegionFromIMDS,\n        \"RegDiscGetRegFromIMDS\",\n    ],\n    [\n        PerformanceEvents.RegionDiscoveryGetCurrentVersion,\n        \"RegDiscGetCurrentVer\",\n    ],\n    [PerformanceEvents.AcquireTokenByCodeAsync, \"ATByCodeAsync\"],\n    [\n        PerformanceEvents.GetEndpointMetadataFromNetwork,\n        \"GetEndpointMetaFromNet\",\n    ],\n    [\n        PerformanceEvents.GetCloudDiscoveryMetadataFromNetworkMeasurement,\n        \"GetCDMetaFromNet\",\n    ],\n    [\n        PerformanceEvents.HandleRedirectPromiseMeasurement,\n        \"HandleRedirectPromise\",\n    ],\n    [\n        PerformanceEvents.HandleNativeRedirectPromiseMeasurement,\n        \"HandleNtvRedirectPromise\",\n    ],\n    [\n        PerformanceEvents.UpdateCloudDiscoveryMetadataMeasurement,\n        \"UpdateCDMeta\",\n    ],\n    [\n        PerformanceEvents.UsernamePasswordClientAcquireToken,\n        \"UserPassClientAT\",\n    ],\n    [\n        PerformanceEvents.NativeMessageHandlerHandshake,\n        \"NtvMsgHandlerHandshake\",\n    ],\n    [PerformanceEvents.NativeGenerateAuthResult, \"NtvGenAuthRes\"],\n    [PerformanceEvents.RemoveHiddenIframe, \"RemoveHiddenIframe\"],\n    [\n        PerformanceEvents.ClearTokensAndKeysWithClaims,\n        \"ClearTAndKeysWithClaims\",\n    ],\n    [PerformanceEvents.CacheManagerGetRefreshToken, \"CacheManagerGetRT\"],\n    [PerformanceEvents.GeneratePkceCodes, \"GenPkceCodes\"],\n    [PerformanceEvents.GenerateCodeVerifier, \"GenCodeVerifier\"],\n    [\n        PerformanceEvents.GenerateCodeChallengeFromVerifier,\n        \"GenCodeChallengeFromVerifier\",\n    ],\n    [PerformanceEvents.Sha256Digest, \"Sha256Digest\"],\n    [PerformanceEvents.GetRandomValues, \"GetRandomValues\"],\n]);\n/**\n * State of the performance event.\n *\n * @export\n * @enum {number}\n */\nconst PerformanceEventStatus = {\n    NotStarted: 0,\n    InProgress: 1,\n    Completed: 2,\n};\nconst IntFields = new Set([\n    \"accessTokenSize\",\n    \"durationMs\",\n    \"idTokenSize\",\n    \"matsSilentStatus\",\n    \"matsHttpStatus\",\n    \"refreshTokenSize\",\n    \"queuedTimeMs\",\n    \"startTimeMs\",\n    \"status\",\n    \"multiMatchedAT\",\n    \"multiMatchedID\",\n    \"multiMatchedRT\",\n]);\n\nexport { IntFields, PerformanceEventAbbreviations, PerformanceEventStatus, PerformanceEvents };\n//# sourceMappingURL=PerformanceEvent.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Wraps a function with a performance measurement.\n * Usage: invoke(functionToCall, performanceClient, \"EventName\", \"correlationId\")(...argsToPassToFunction)\n * @param callback\n * @param eventName\n * @param logger\n * @param telemetryClient\n * @param correlationId\n * @returns\n * @internal\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst invoke = (callback, eventName, logger, telemetryClient, correlationId) => {\n    return (...args) => {\n        logger.trace(`Executing function ${eventName}`);\n        const inProgressEvent = telemetryClient?.startMeasurement(eventName, correlationId);\n        if (correlationId) {\n            // Track number of times this API is called in a single request\n            const eventCount = eventName + \"CallCount\";\n            telemetryClient?.incrementFields({ [eventCount]: 1 }, correlationId);\n        }\n        try {\n            const result = callback(...args);\n            inProgressEvent?.end({\n                success: true,\n            });\n            logger.trace(`Returning result from ${eventName}`);\n            return result;\n        }\n        catch (e) {\n            logger.trace(`Error occurred in ${eventName}`);\n            try {\n                logger.trace(JSON.stringify(e));\n            }\n            catch (e) {\n                logger.trace(\"Unable to print error message.\");\n            }\n            inProgressEvent?.end({\n                success: false,\n            }, e);\n            throw e;\n        }\n    };\n};\n/**\n * Wraps an async function with a performance measurement.\n * Usage: invokeAsync(functionToCall, performanceClient, \"EventName\", \"correlationId\")(...argsToPassToFunction)\n * @param callback\n * @param eventName\n * @param logger\n * @param telemetryClient\n * @param correlationId\n * @returns\n * @internal\n *\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst invokeAsync = (callback, eventName, logger, telemetryClient, correlationId) => {\n    return (...args) => {\n        logger.trace(`Executing function ${eventName}`);\n        const inProgressEvent = telemetryClient?.startMeasurement(eventName, correlationId);\n        if (correlationId) {\n            // Track number of times this API is called in a single request\n            const eventCount = eventName + \"CallCount\";\n            telemetryClient?.incrementFields({ [eventCount]: 1 }, correlationId);\n        }\n        telemetryClient?.setPreQueueTime(eventName, correlationId);\n        return callback(...args)\n            .then((response) => {\n            logger.trace(`Returning result from ${eventName}`);\n            inProgressEvent?.end({\n                success: true,\n            });\n            return response;\n        })\n            .catch((e) => {\n            logger.trace(`Error occurred in ${eventName}`);\n            try {\n                logger.trace(JSON.stringify(e));\n            }\n            catch (e) {\n                logger.trace(\"Unable to print error message.\");\n            }\n            inProgressEvent?.end({\n                success: false,\n            }, e);\n            throw e;\n        });\n    };\n};\n\nexport { invoke, invokeAsync };\n//# sourceMappingURL=FunctionWrappers.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { Constants, ResponseCodes, RegionDiscoverySources } from '../utils/Constants.mjs';\nimport { PerformanceEvents } from '../telemetry/performance/PerformanceEvent.mjs';\nimport { invokeAsync } from '../utils/FunctionWrappers.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nclass RegionDiscovery {\n    constructor(networkInterface, logger, performanceClient, correlationId) {\n        this.networkInterface = networkInterface;\n        this.logger = logger;\n        this.performanceClient = performanceClient;\n        this.correlationId = correlationId;\n    }\n    /**\n     * Detect the region from the application's environment.\n     *\n     * @returns Promise<string | null>\n     */\n    async detectRegion(environmentRegion, regionDiscoveryMetadata) {\n        this.performanceClient?.addQueueMeasurement(PerformanceEvents.RegionDiscoveryDetectRegion, this.correlationId);\n        // Initialize auto detected region with the region from the envrionment\n        let autodetectedRegionName = environmentRegion;\n        // Check if a region was detected from the environment, if not, attempt to get the region from IMDS\n        if (!autodetectedRegionName) {\n            const options = RegionDiscovery.IMDS_OPTIONS;\n            try {\n                const localIMDSVersionResponse = await invokeAsync(this.getRegionFromIMDS.bind(this), PerformanceEvents.RegionDiscoveryGetRegionFromIMDS, this.logger, this.performanceClient, this.correlationId)(Constants.IMDS_VERSION, options);\n                if (localIMDSVersionResponse.status ===\n                    ResponseCodes.httpSuccess) {\n                    autodetectedRegionName = localIMDSVersionResponse.body;\n                    regionDiscoveryMetadata.region_source =\n                        RegionDiscoverySources.IMDS;\n                }\n                // If the response using the local IMDS version failed, try to fetch the current version of IMDS and retry.\n                if (localIMDSVersionResponse.status ===\n                    ResponseCodes.httpBadRequest) {\n                    const currentIMDSVersion = await invokeAsync(this.getCurrentVersion.bind(this), PerformanceEvents.RegionDiscoveryGetCurrentVersion, this.logger, this.performanceClient, this.correlationId)(options);\n                    if (!currentIMDSVersion) {\n                        regionDiscoveryMetadata.region_source =\n                            RegionDiscoverySources.FAILED_AUTO_DETECTION;\n                        return null;\n                    }\n                    const currentIMDSVersionResponse = await invokeAsync(this.getRegionFromIMDS.bind(this), PerformanceEvents.RegionDiscoveryGetRegionFromIMDS, this.logger, this.performanceClient, this.correlationId)(currentIMDSVersion, options);\n                    if (currentIMDSVersionResponse.status ===\n                        ResponseCodes.httpSuccess) {\n                        autodetectedRegionName =\n                            currentIMDSVersionResponse.body;\n                        regionDiscoveryMetadata.region_source =\n                            RegionDiscoverySources.IMDS;\n                    }\n                }\n            }\n            catch (e) {\n                regionDiscoveryMetadata.region_source =\n                    RegionDiscoverySources.FAILED_AUTO_DETECTION;\n                return null;\n            }\n        }\n        else {\n            regionDiscoveryMetadata.region_source =\n                RegionDiscoverySources.ENVIRONMENT_VARIABLE;\n        }\n        // If no region was auto detected from the environment or from the IMDS endpoint, mark the attempt as a FAILED_AUTO_DETECTION\n        if (!autodetectedRegionName) {\n            regionDiscoveryMetadata.region_source =\n                RegionDiscoverySources.FAILED_AUTO_DETECTION;\n        }\n        return autodetectedRegionName || null;\n    }\n    /**\n     * Make the call to the IMDS endpoint\n     *\n     * @param imdsEndpointUrl\n     * @returns Promise<NetworkResponse<string>>\n     */\n    async getRegionFromIMDS(version, options) {\n        this.performanceClient?.addQueueMeasurement(PerformanceEvents.RegionDiscoveryGetRegionFromIMDS, this.correlationId);\n        return this.networkInterface.sendGetRequestAsync(`${Constants.IMDS_ENDPOINT}?api-version=${version}&format=text`, options, Constants.IMDS_TIMEOUT);\n    }\n    /**\n     * Get the most recent version of the IMDS endpoint available\n     *\n     * @returns Promise<string | null>\n     */\n    async getCurrentVersion(options) {\n        this.performanceClient?.addQueueMeasurement(PerformanceEvents.RegionDiscoveryGetCurrentVersion, this.correlationId);\n        try {\n            const response = await this.networkInterface.sendGetRequestAsync(`${Constants.IMDS_ENDPOINT}?format=json`, options);\n            // When IMDS endpoint is called without the api version query param, bad request response comes back with latest version.\n            if (response.status === ResponseCodes.httpBadRequest &&\n                response.body &&\n                response.body[\"newest-versions\"] &&\n                response.body[\"newest-versions\"].length > 0) {\n                return response.body[\"newest-versions\"][0];\n            }\n            return null;\n        }\n        catch (e) {\n            return null;\n        }\n    }\n}\n// Options for the IMDS endpoint request\nRegionDiscovery.IMDS_OPTIONS = {\n    headers: {\n        Metadata: \"true\",\n    },\n};\n\nexport { RegionDiscovery };\n//# sourceMappingURL=RegionDiscovery.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { createClientAuthError } from '../error/ClientAuthError.mjs';\nimport { tokenParsingError, nullOrEmptyToken, maxAgeTranspired } from '../error/ClientAuthErrorCodes.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Extract token by decoding the rawToken\n *\n * @param encodedToken\n */\nfunction extractTokenClaims(encodedToken, base64Decode) {\n    const jswPayload = getJWSPayload(encodedToken);\n    // token will be decoded to get the username\n    try {\n        // base64Decode() should throw an error if there is an issue\n        const base64Decoded = base64Decode(jswPayload);\n        return JSON.parse(base64Decoded);\n    }\n    catch (err) {\n        throw createClientAuthError(tokenParsingError);\n    }\n}\n/**\n * decode a JWT\n *\n * @param authToken\n */\nfunction getJWSPayload(authToken) {\n    if (!authToken) {\n        throw createClientAuthError(nullOrEmptyToken);\n    }\n    const tokenPartsRegex = /^([^\\.\\s]*)\\.([^\\.\\s]+)\\.([^\\.\\s]*)$/;\n    const matches = tokenPartsRegex.exec(authToken);\n    if (!matches || matches.length < 4) {\n        throw createClientAuthError(tokenParsingError);\n    }\n    /**\n     * const crackedToken = {\n     *  header: matches[1],\n     *  JWSPayload: matches[2],\n     *  JWSSig: matches[3],\n     * };\n     */\n    return matches[2];\n}\n/**\n * Determine if the token's max_age has transpired\n */\nfunction checkMaxAge(authTime, maxAge) {\n    /*\n     * per https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest\n     * To force an immediate re-authentication: If an app requires that a user re-authenticate prior to access,\n     * provide a value of 0 for the max_age parameter and the AS will force a fresh login.\n     */\n    const fiveMinuteSkew = 300000; // five minutes in milliseconds\n    if (maxAge === 0 || Date.now() - fiveMinuteSkew > authTime + maxAge) {\n        throw createClientAuthError(maxAgeTranspired);\n    }\n}\n\nexport { checkMaxAge, extractTokenClaims, getJWSPayload };\n//# sourceMappingURL=AuthToken.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Utility functions for managing date and time operations.\n */\n/**\n * return the current time in Unix time (seconds).\n */\nfunction nowSeconds() {\n    // Date.getTime() returns in milliseconds.\n    return Math.round(new Date().getTime() / 1000.0);\n}\n/**\n * check if a token is expired based on given UTC time in seconds.\n * @param expiresOn\n */\nfunction isTokenExpired(expiresOn, offset) {\n    // check for access token expiry\n    const expirationSec = Number(expiresOn) || 0;\n    const offsetCurrentTimeSec = nowSeconds() + offset;\n    // If current time + offset is greater than token expiration time, then token is expired.\n    return offsetCurrentTimeSec > expirationSec;\n}\n/**\n * If the current time is earlier than the time that a token was cached at, we must discard the token\n * i.e. The system clock was turned back after acquiring the cached token\n * @param cachedAt\n * @param offset\n */\nfunction wasClockTurnedBack(cachedAt) {\n    const cachedAtSec = Number(cachedAt);\n    return cachedAtSec > nowSeconds();\n}\n/**\n * Waits for t number of milliseconds\n * @param t number\n * @param value T\n */\nfunction delay(t, value) {\n    return new Promise((resolve) => setTimeout(() => resolve(value), t));\n}\n\nexport { delay, isTokenExpired, nowSeconds, wasClockTurnedBack };\n//# sourceMappingURL=TimeUtils.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { extractTokenClaims } from '../../account/AuthToken.mjs';\nimport { createClientAuthError } from '../../error/ClientAuthError.mjs';\nimport { Separators, CredentialType, AuthenticationScheme, SERVER_TELEM_CONSTANTS, ThrottlingConstants, APP_METADATA, AUTHORITY_METADATA_CONSTANTS } from '../../utils/Constants.mjs';\nimport { nowSeconds } from '../../utils/TimeUtils.mjs';\nimport { tokenClaimsCnfRequiredForSignedJwt } from '../../error/ClientAuthErrorCodes.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Cache Key: <home_account_id>-<environment>-<credential_type>-<client_id or familyId>-<realm>-<scopes>-<claims hash>-<scheme>\n * IdToken Example: uid.utid-login.microsoftonline.com-idtoken-app_client_id-contoso.com\n * AccessToken Example: uid.utid-login.microsoftonline.com-accesstoken-app_client_id-contoso.com-scope1 scope2--pop\n * RefreshToken Example: uid.utid-login.microsoftonline.com-refreshtoken-1-contoso.com\n * @param credentialEntity\n * @returns\n */\nfunction generateCredentialKey(credentialEntity) {\n    const credentialKey = [\n        generateAccountId(credentialEntity),\n        generateCredentialId(credentialEntity),\n        generateTarget(credentialEntity),\n        generateClaimsHash(credentialEntity),\n        generateScheme(credentialEntity),\n    ];\n    return credentialKey.join(Separators.CACHE_KEY_SEPARATOR).toLowerCase();\n}\n/**\n * Create IdTokenEntity\n * @param homeAccountId\n * @param authenticationResult\n * @param clientId\n * @param authority\n */\nfunction createIdTokenEntity(homeAccountId, environment, idToken, clientId, tenantId) {\n    const idTokenEntity = {\n        credentialType: CredentialType.ID_TOKEN,\n        homeAccountId: homeAccountId,\n        environment: environment,\n        clientId: clientId,\n        secret: idToken,\n        realm: tenantId,\n    };\n    return idTokenEntity;\n}\n/**\n * Create AccessTokenEntity\n * @param homeAccountId\n * @param environment\n * @param accessToken\n * @param clientId\n * @param tenantId\n * @param scopes\n * @param expiresOn\n * @param extExpiresOn\n */\nfunction createAccessTokenEntity(homeAccountId, environment, accessToken, clientId, tenantId, scopes, expiresOn, extExpiresOn, base64Decode, refreshOn, tokenType, userAssertionHash, keyId, requestedClaims, requestedClaimsHash) {\n    const atEntity = {\n        homeAccountId: homeAccountId,\n        credentialType: CredentialType.ACCESS_TOKEN,\n        secret: accessToken,\n        cachedAt: nowSeconds().toString(),\n        expiresOn: expiresOn.toString(),\n        extendedExpiresOn: extExpiresOn.toString(),\n        environment: environment,\n        clientId: clientId,\n        realm: tenantId,\n        target: scopes,\n        tokenType: tokenType || AuthenticationScheme.BEARER,\n    };\n    if (userAssertionHash) {\n        atEntity.userAssertionHash = userAssertionHash;\n    }\n    if (refreshOn) {\n        atEntity.refreshOn = refreshOn.toString();\n    }\n    if (requestedClaims) {\n        atEntity.requestedClaims = requestedClaims;\n        atEntity.requestedClaimsHash = requestedClaimsHash;\n    }\n    /*\n     * Create Access Token With Auth Scheme instead of regular access token\n     * Cast to lower to handle \"bearer\" from ADFS\n     */\n    if (atEntity.tokenType?.toLowerCase() !==\n        AuthenticationScheme.BEARER.toLowerCase()) {\n        atEntity.credentialType = CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME;\n        switch (atEntity.tokenType) {\n            case AuthenticationScheme.POP:\n                // Make sure keyId is present and add it to credential\n                const tokenClaims = extractTokenClaims(accessToken, base64Decode);\n                if (!tokenClaims?.cnf?.kid) {\n                    throw createClientAuthError(tokenClaimsCnfRequiredForSignedJwt);\n                }\n                atEntity.keyId = tokenClaims.cnf.kid;\n                break;\n            case AuthenticationScheme.SSH:\n                atEntity.keyId = keyId;\n        }\n    }\n    return atEntity;\n}\n/**\n * Create RefreshTokenEntity\n * @param homeAccountId\n * @param authenticationResult\n * @param clientId\n * @param authority\n */\nfunction createRefreshTokenEntity(homeAccountId, environment, refreshToken, clientId, familyId, userAssertionHash, expiresOn) {\n    const rtEntity = {\n        credentialType: CredentialType.REFRESH_TOKEN,\n        homeAccountId: homeAccountId,\n        environment: environment,\n        clientId: clientId,\n        secret: refreshToken,\n    };\n    if (userAssertionHash) {\n        rtEntity.userAssertionHash = userAssertionHash;\n    }\n    if (familyId) {\n        rtEntity.familyId = familyId;\n    }\n    if (expiresOn) {\n        rtEntity.expiresOn = expiresOn.toString();\n    }\n    return rtEntity;\n}\nfunction isCredentialEntity(entity) {\n    return (entity.hasOwnProperty(\"homeAccountId\") &&\n        entity.hasOwnProperty(\"environment\") &&\n        entity.hasOwnProperty(\"credentialType\") &&\n        entity.hasOwnProperty(\"clientId\") &&\n        entity.hasOwnProperty(\"secret\"));\n}\n/**\n * Validates an entity: checks for all expected params\n * @param entity\n */\nfunction isAccessTokenEntity(entity) {\n    if (!entity) {\n        return false;\n    }\n    return (isCredentialEntity(entity) &&\n        entity.hasOwnProperty(\"realm\") &&\n        entity.hasOwnProperty(\"target\") &&\n        (entity[\"credentialType\"] === CredentialType.ACCESS_TOKEN ||\n            entity[\"credentialType\"] ===\n                CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME));\n}\n/**\n * Validates an entity: checks for all expected params\n * @param entity\n */\nfunction isIdTokenEntity(entity) {\n    if (!entity) {\n        return false;\n    }\n    return (isCredentialEntity(entity) &&\n        entity.hasOwnProperty(\"realm\") &&\n        entity[\"credentialType\"] === CredentialType.ID_TOKEN);\n}\n/**\n * Validates an entity: checks for all expected params\n * @param entity\n */\nfunction isRefreshTokenEntity(entity) {\n    if (!entity) {\n        return false;\n    }\n    return (isCredentialEntity(entity) &&\n        entity[\"credentialType\"] === CredentialType.REFRESH_TOKEN);\n}\n/**\n * Generate Account Id key component as per the schema: <home_account_id>-<environment>\n */\nfunction generateAccountId(credentialEntity) {\n    const accountId = [\n        credentialEntity.homeAccountId,\n        credentialEntity.environment,\n    ];\n    return accountId.join(Separators.CACHE_KEY_SEPARATOR).toLowerCase();\n}\n/**\n * Generate Credential Id key component as per the schema: <credential_type>-<client_id>-<realm>\n */\nfunction generateCredentialId(credentialEntity) {\n    const clientOrFamilyId = credentialEntity.credentialType === CredentialType.REFRESH_TOKEN\n        ? credentialEntity.familyId || credentialEntity.clientId\n        : credentialEntity.clientId;\n    const credentialId = [\n        credentialEntity.credentialType,\n        clientOrFamilyId,\n        credentialEntity.realm || \"\",\n    ];\n    return credentialId.join(Separators.CACHE_KEY_SEPARATOR).toLowerCase();\n}\n/**\n * Generate target key component as per schema: <target>\n */\nfunction generateTarget(credentialEntity) {\n    return (credentialEntity.target || \"\").toLowerCase();\n}\n/**\n * Generate requested claims key component as per schema: <requestedClaims>\n */\nfunction generateClaimsHash(credentialEntity) {\n    return (credentialEntity.requestedClaimsHash || \"\").toLowerCase();\n}\n/**\n * Generate scheme key componenet as per schema: <scheme>\n */\nfunction generateScheme(credentialEntity) {\n    /*\n     * PoP Tokens and SSH certs include scheme in cache key\n     * Cast to lowercase to handle \"bearer\" from ADFS\n     */\n    return credentialEntity.tokenType &&\n        credentialEntity.tokenType.toLowerCase() !==\n            AuthenticationScheme.BEARER.toLowerCase()\n        ? credentialEntity.tokenType.toLowerCase()\n        : \"\";\n}\n/**\n * validates if a given cache entry is \"Telemetry\", parses <key,value>\n * @param key\n * @param entity\n */\nfunction isServerTelemetryEntity(key, entity) {\n    const validateKey = key.indexOf(SERVER_TELEM_CONSTANTS.CACHE_KEY) === 0;\n    let validateEntity = true;\n    if (entity) {\n        validateEntity =\n            entity.hasOwnProperty(\"failedRequests\") &&\n                entity.hasOwnProperty(\"errors\") &&\n                entity.hasOwnProperty(\"cacheHits\");\n    }\n    return validateKey && validateEntity;\n}\n/**\n * validates if a given cache entry is \"Throttling\", parses <key,value>\n * @param key\n * @param entity\n */\nfunction isThrottlingEntity(key, entity) {\n    let validateKey = false;\n    if (key) {\n        validateKey = key.indexOf(ThrottlingConstants.THROTTLING_PREFIX) === 0;\n    }\n    let validateEntity = true;\n    if (entity) {\n        validateEntity = entity.hasOwnProperty(\"throttleTime\");\n    }\n    return validateKey && validateEntity;\n}\n/**\n * Generate AppMetadata Cache Key as per the schema: appmetadata-<environment>-<client_id>\n */\nfunction generateAppMetadataKey({ environment, clientId, }) {\n    const appMetaDataKeyArray = [\n        APP_METADATA,\n        environment,\n        clientId,\n    ];\n    return appMetaDataKeyArray\n        .join(Separators.CACHE_KEY_SEPARATOR)\n        .toLowerCase();\n}\n/*\n * Validates an entity: checks for all expected params\n * @param entity\n */\nfunction isAppMetadataEntity(key, entity) {\n    if (!entity) {\n        return false;\n    }\n    return (key.indexOf(APP_METADATA) === 0 &&\n        entity.hasOwnProperty(\"clientId\") &&\n        entity.hasOwnProperty(\"environment\"));\n}\n/**\n * Validates an entity: checks for all expected params\n * @param entity\n */\nfunction isAuthorityMetadataEntity(key, entity) {\n    if (!entity) {\n        return false;\n    }\n    return (key.indexOf(AUTHORITY_METADATA_CONSTANTS.CACHE_KEY) === 0 &&\n        entity.hasOwnProperty(\"aliases\") &&\n        entity.hasOwnProperty(\"preferred_cache\") &&\n        entity.hasOwnProperty(\"preferred_network\") &&\n        entity.hasOwnProperty(\"canonical_authority\") &&\n        entity.hasOwnProperty(\"authorization_endpoint\") &&\n        entity.hasOwnProperty(\"token_endpoint\") &&\n        entity.hasOwnProperty(\"issuer\") &&\n        entity.hasOwnProperty(\"aliasesFromNetwork\") &&\n        entity.hasOwnProperty(\"endpointsFromNetwork\") &&\n        entity.hasOwnProperty(\"expiresAt\") &&\n        entity.hasOwnProperty(\"jwks_uri\"));\n}\n/**\n * Reset the exiresAt value\n */\nfunction generateAuthorityMetadataExpiresAt() {\n    return (nowSeconds() +\n        AUTHORITY_METADATA_CONSTANTS.REFRESH_TIME_SECONDS);\n}\nfunction updateAuthorityEndpointMetadata(authorityMetadata, updatedValues, fromNetwork) {\n    authorityMetadata.authorization_endpoint =\n        updatedValues.authorization_endpoint;\n    authorityMetadata.token_endpoint = updatedValues.token_endpoint;\n    authorityMetadata.end_session_endpoint = updatedValues.end_session_endpoint;\n    authorityMetadata.issuer = updatedValues.issuer;\n    authorityMetadata.endpointsFromNetwork = fromNetwork;\n    authorityMetadata.jwks_uri = updatedValues.jwks_uri;\n}\nfunction updateCloudDiscoveryMetadata(authorityMetadata, updatedValues, fromNetwork) {\n    authorityMetadata.aliases = updatedValues.aliases;\n    authorityMetadata.preferred_cache = updatedValues.preferred_cache;\n    authorityMetadata.preferred_network = updatedValues.preferred_network;\n    authorityMetadata.aliasesFromNetwork = fromNetwork;\n}\n/**\n * Returns whether or not the data needs to be refreshed\n */\nfunction isAuthorityMetadataExpired(metadata) {\n    return metadata.expiresAt <= nowSeconds();\n}\n\nexport { createAccessTokenEntity, createIdTokenEntity, createRefreshTokenEntity, generateAppMetadataKey, generateAuthorityMetadataExpiresAt, generateCredentialKey, isAccessTokenEntity, isAppMetadataEntity, isAuthorityMetadataEntity, isAuthorityMetadataExpired, isCredentialEntity, isIdTokenEntity, isRefreshTokenEntity, isServerTelemetryEntity, isThrottlingEntity, updateAuthorityEndpointMetadata, updateCloudDiscoveryMetadata };\n//# sourceMappingURL=CacheHelpers.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { AuthorityType } from './AuthorityType.mjs';\nimport { isOpenIdConfigResponse } from './OpenIdConfigResponse.mjs';\nimport { UrlString } from '../url/UrlString.mjs';\nimport { createClientAuthError } from '../error/ClientAuthError.mjs';\nimport { Constants, AuthorityMetadataSource, RegionDiscoveryOutcomes, AADAuthorityConstants } from '../utils/Constants.mjs';\nimport { EndpointMetadata, getCloudDiscoveryMetadataFromHardcodedValues, getCloudDiscoveryMetadataFromNetworkResponse, InstanceDiscoveryMetadataAliases } from './AuthorityMetadata.mjs';\nimport { createClientConfigurationError } from '../error/ClientConfigurationError.mjs';\nimport { ProtocolMode } from './ProtocolMode.mjs';\nimport { AzureCloudInstance } from './AuthorityOptions.mjs';\nimport { isCloudInstanceDiscoveryResponse } from './CloudInstanceDiscoveryResponse.mjs';\nimport { isCloudInstanceDiscoveryErrorResponse } from './CloudInstanceDiscoveryErrorResponse.mjs';\nimport { RegionDiscovery } from './RegionDiscovery.mjs';\nimport { AuthError } from '../error/AuthError.mjs';\nimport { PerformanceEvents } from '../telemetry/performance/PerformanceEvent.mjs';\nimport { invokeAsync } from '../utils/FunctionWrappers.mjs';\nimport { generateAuthorityMetadataExpiresAt, updateAuthorityEndpointMetadata, isAuthorityMetadataExpired, updateCloudDiscoveryMetadata } from '../cache/utils/CacheHelpers.mjs';\nimport { endpointResolutionError, endSessionEndpointNotSupported, openIdConfigError } from '../error/ClientAuthErrorCodes.mjs';\nimport { invalidAuthorityMetadata, untrustedAuthority, invalidCloudDiscoveryMetadata } from '../error/ClientConfigurationErrorCodes.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * The authority class validates the authority URIs used by the user, and retrieves the OpenID Configuration Data from the\n * endpoint. It will store the pertinent config data in this object for use during token calls.\n * @internal\n */\nclass Authority {\n    constructor(authority, networkInterface, cacheManager, authorityOptions, logger, correlationId, performanceClient, managedIdentity) {\n        this.canonicalAuthority = authority;\n        this._canonicalAuthority.validateAsUri();\n        this.networkInterface = networkInterface;\n        this.cacheManager = cacheManager;\n        this.authorityOptions = authorityOptions;\n        this.regionDiscoveryMetadata = {\n            region_used: undefined,\n            region_source: undefined,\n            region_outcome: undefined,\n        };\n        this.logger = logger;\n        this.performanceClient = performanceClient;\n        this.correlationId = correlationId;\n        this.managedIdentity = managedIdentity || false;\n        this.regionDiscovery = new RegionDiscovery(networkInterface, this.logger, this.performanceClient, this.correlationId);\n    }\n    /**\n     * Get {@link AuthorityType}\n     * @param authorityUri {@link IUri}\n     * @private\n     */\n    getAuthorityType(authorityUri) {\n        // CIAM auth url pattern is being standardized as: <tenant>.ciamlogin.com\n        if (authorityUri.HostNameAndPort.endsWith(Constants.CIAM_AUTH_URL)) {\n            return AuthorityType.Ciam;\n        }\n        const pathSegments = authorityUri.PathSegments;\n        if (pathSegments.length) {\n            switch (pathSegments[0].toLowerCase()) {\n                case Constants.ADFS:\n                    return AuthorityType.Adfs;\n                case Constants.DSTS:\n                    return AuthorityType.Dsts;\n            }\n        }\n        return AuthorityType.Default;\n    }\n    // See above for AuthorityType\n    get authorityType() {\n        return this.getAuthorityType(this.canonicalAuthorityUrlComponents);\n    }\n    /**\n     * ProtocolMode enum representing the way endpoints are constructed.\n     */\n    get protocolMode() {\n        return this.authorityOptions.protocolMode;\n    }\n    /**\n     * Returns authorityOptions which can be used to reinstantiate a new authority instance\n     */\n    get options() {\n        return this.authorityOptions;\n    }\n    /**\n     * A URL that is the authority set by the developer\n     */\n    get canonicalAuthority() {\n        return this._canonicalAuthority.urlString;\n    }\n    /**\n     * Sets canonical authority.\n     */\n    set canonicalAuthority(url) {\n        this._canonicalAuthority = new UrlString(url);\n        this._canonicalAuthority.validateAsUri();\n        this._canonicalAuthorityUrlComponents = null;\n    }\n    /**\n     * Get authority components.\n     */\n    get canonicalAuthorityUrlComponents() {\n        if (!this._canonicalAuthorityUrlComponents) {\n            this._canonicalAuthorityUrlComponents =\n                this._canonicalAuthority.getUrlComponents();\n        }\n        return this._canonicalAuthorityUrlComponents;\n    }\n    /**\n     * Get hostname and port i.e. login.microsoftonline.com\n     */\n    get hostnameAndPort() {\n        return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase();\n    }\n    /**\n     * Get tenant for authority.\n     */\n    get tenant() {\n        return this.canonicalAuthorityUrlComponents.PathSegments[0];\n    }\n    /**\n     * OAuth /authorize endpoint for requests\n     */\n    get authorizationEndpoint() {\n        if (this.discoveryComplete()) {\n            return this.replacePath(this.metadata.authorization_endpoint);\n        }\n        else {\n            throw createClientAuthError(endpointResolutionError);\n        }\n    }\n    /**\n     * OAuth /token endpoint for requests\n     */\n    get tokenEndpoint() {\n        if (this.discoveryComplete()) {\n            return this.replacePath(this.metadata.token_endpoint);\n        }\n        else {\n            throw createClientAuthError(endpointResolutionError);\n        }\n    }\n    get deviceCodeEndpoint() {\n        if (this.discoveryComplete()) {\n            return this.replacePath(this.metadata.token_endpoint.replace(\"/token\", \"/devicecode\"));\n        }\n        else {\n            throw createClientAuthError(endpointResolutionError);\n        }\n    }\n    /**\n     * OAuth logout endpoint for requests\n     */\n    get endSessionEndpoint() {\n        if (this.discoveryComplete()) {\n            // ROPC policies may not have end_session_endpoint set\n            if (!this.metadata.end_session_endpoint) {\n                throw createClientAuthError(endSessionEndpointNotSupported);\n            }\n            return this.replacePath(this.metadata.end_session_endpoint);\n        }\n        else {\n            throw createClientAuthError(endpointResolutionError);\n        }\n    }\n    /**\n     * OAuth issuer for requests\n     */\n    get selfSignedJwtAudience() {\n        if (this.discoveryComplete()) {\n            return this.replacePath(this.metadata.issuer);\n        }\n        else {\n            throw createClientAuthError(endpointResolutionError);\n        }\n    }\n    /**\n     * Jwks_uri for token signing keys\n     */\n    get jwksUri() {\n        if (this.discoveryComplete()) {\n            return this.replacePath(this.metadata.jwks_uri);\n        }\n        else {\n            throw createClientAuthError(endpointResolutionError);\n        }\n    }\n    /**\n     * Returns a flag indicating that tenant name can be replaced in authority {@link IUri}\n     * @param authorityUri {@link IUri}\n     * @private\n     */\n    canReplaceTenant(authorityUri) {\n        return (authorityUri.PathSegments.length === 1 &&\n            !Authority.reservedTenantDomains.has(authorityUri.PathSegments[0]) &&\n            this.getAuthorityType(authorityUri) === AuthorityType.Default &&\n            this.protocolMode === ProtocolMode.AAD);\n    }\n    /**\n     * Replaces tenant in url path with current tenant. Defaults to common.\n     * @param urlString\n     */\n    replaceTenant(urlString) {\n        return urlString.replace(/{tenant}|{tenantid}/g, this.tenant);\n    }\n    /**\n     * Replaces path such as tenant or policy with the current tenant or policy.\n     * @param urlString\n     */\n    replacePath(urlString) {\n        let endpoint = urlString;\n        const cachedAuthorityUrl = new UrlString(this.metadata.canonical_authority);\n        const cachedAuthorityUrlComponents = cachedAuthorityUrl.getUrlComponents();\n        const cachedAuthorityParts = cachedAuthorityUrlComponents.PathSegments;\n        const currentAuthorityParts = this.canonicalAuthorityUrlComponents.PathSegments;\n        currentAuthorityParts.forEach((currentPart, index) => {\n            let cachedPart = cachedAuthorityParts[index];\n            if (index === 0 &&\n                this.canReplaceTenant(cachedAuthorityUrlComponents)) {\n                const tenantId = new UrlString(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];\n                /**\n                 * Check if AAD canonical authority contains tenant domain name, for example \"testdomain.onmicrosoft.com\",\n                 * by comparing its first path segment to the corresponding authorization endpoint path segment, which is\n                 * always resolved with tenant id by OIDC.\n                 */\n                if (cachedPart !== tenantId) {\n                    this.logger.verbose(`Replacing tenant domain name ${cachedPart} with id ${tenantId}`);\n                    cachedPart = tenantId;\n                }\n            }\n            if (currentPart !== cachedPart) {\n                endpoint = endpoint.replace(`/${cachedPart}/`, `/${currentPart}/`);\n            }\n        });\n        return this.replaceTenant(endpoint);\n    }\n    /**\n     * The default open id configuration endpoint for any canonical authority.\n     */\n    get defaultOpenIdConfigurationEndpoint() {\n        const canonicalAuthorityHost = this.hostnameAndPort;\n        if (this.canonicalAuthority.endsWith(\"v2.0/\") ||\n            this.authorityType === AuthorityType.Adfs ||\n            (this.protocolMode !== ProtocolMode.AAD &&\n                !this.isAliasOfKnownMicrosoftAuthority(canonicalAuthorityHost))) {\n            return `${this.canonicalAuthority}.well-known/openid-configuration`;\n        }\n        return `${this.canonicalAuthority}v2.0/.well-known/openid-configuration`;\n    }\n    /**\n     * Boolean that returns whether or not tenant discovery has been completed.\n     */\n    discoveryComplete() {\n        return !!this.metadata;\n    }\n    /**\n     * Perform endpoint discovery to discover aliases, preferred_cache, preferred_network\n     * and the /authorize, /token and logout endpoints.\n     */\n    async resolveEndpointsAsync() {\n        this.performanceClient?.addQueueMeasurement(PerformanceEvents.AuthorityResolveEndpointsAsync, this.correlationId);\n        const metadataEntity = this.getCurrentMetadataEntity();\n        const cloudDiscoverySource = await invokeAsync(this.updateCloudDiscoveryMetadata.bind(this), PerformanceEvents.AuthorityUpdateCloudDiscoveryMetadata, this.logger, this.performanceClient, this.correlationId)(metadataEntity);\n        this.canonicalAuthority = this.canonicalAuthority.replace(this.hostnameAndPort, metadataEntity.preferred_network);\n        const endpointSource = await invokeAsync(this.updateEndpointMetadata.bind(this), PerformanceEvents.AuthorityUpdateEndpointMetadata, this.logger, this.performanceClient, this.correlationId)(metadataEntity);\n        this.updateCachedMetadata(metadataEntity, cloudDiscoverySource, {\n            source: endpointSource,\n        });\n        this.performanceClient?.addFields({\n            cloudDiscoverySource: cloudDiscoverySource,\n            authorityEndpointSource: endpointSource,\n        }, this.correlationId);\n    }\n    /**\n     * Returns metadata entity from cache if it exists, otherwiser returns a new metadata entity built\n     * from the configured canonical authority\n     * @returns\n     */\n    getCurrentMetadataEntity() {\n        let metadataEntity = this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);\n        if (!metadataEntity) {\n            metadataEntity = {\n                aliases: [],\n                preferred_cache: this.hostnameAndPort,\n                preferred_network: this.hostnameAndPort,\n                canonical_authority: this.canonicalAuthority,\n                authorization_endpoint: \"\",\n                token_endpoint: \"\",\n                end_session_endpoint: \"\",\n                issuer: \"\",\n                aliasesFromNetwork: false,\n                endpointsFromNetwork: false,\n                expiresAt: generateAuthorityMetadataExpiresAt(),\n                jwks_uri: \"\",\n            };\n        }\n        return metadataEntity;\n    }\n    /**\n     * Updates cached metadata based on metadata source and sets the instance's metadata\n     * property to the same value\n     * @param metadataEntity\n     * @param cloudDiscoverySource\n     * @param endpointMetadataResult\n     */\n    updateCachedMetadata(metadataEntity, cloudDiscoverySource, endpointMetadataResult) {\n        if (cloudDiscoverySource !== AuthorityMetadataSource.CACHE &&\n            endpointMetadataResult?.source !== AuthorityMetadataSource.CACHE) {\n            // Reset the expiration time unless both values came from a successful cache lookup\n            metadataEntity.expiresAt =\n                generateAuthorityMetadataExpiresAt();\n            metadataEntity.canonical_authority = this.canonicalAuthority;\n        }\n        const cacheKey = this.cacheManager.generateAuthorityMetadataCacheKey(metadataEntity.preferred_cache);\n        this.cacheManager.setAuthorityMetadata(cacheKey, metadataEntity);\n        this.metadata = metadataEntity;\n    }\n    /**\n     * Update AuthorityMetadataEntity with new endpoints and return where the information came from\n     * @param metadataEntity\n     */\n    async updateEndpointMetadata(metadataEntity) {\n        this.performanceClient?.addQueueMeasurement(PerformanceEvents.AuthorityUpdateEndpointMetadata, this.correlationId);\n        const localMetadata = this.updateEndpointMetadataFromLocalSources(metadataEntity);\n        // Further update may be required for hardcoded metadata if regional metadata is preferred\n        if (localMetadata) {\n            if (localMetadata.source ===\n                AuthorityMetadataSource.HARDCODED_VALUES) {\n                // If the user prefers to use an azure region replace the global endpoints with regional information.\n                if (this.authorityOptions.azureRegionConfiguration?.azureRegion) {\n                    if (localMetadata.metadata) {\n                        const hardcodedMetadata = await invokeAsync(this.updateMetadataWithRegionalInformation.bind(this), PerformanceEvents.AuthorityUpdateMetadataWithRegionalInformation, this.logger, this.performanceClient, this.correlationId)(localMetadata.metadata);\n                        updateAuthorityEndpointMetadata(metadataEntity, hardcodedMetadata, false);\n                        metadataEntity.canonical_authority =\n                            this.canonicalAuthority;\n                    }\n                }\n            }\n            return localMetadata.source;\n        }\n        // Get metadata from network if local sources aren't available\n        let metadata = await invokeAsync(this.getEndpointMetadataFromNetwork.bind(this), PerformanceEvents.AuthorityGetEndpointMetadataFromNetwork, this.logger, this.performanceClient, this.correlationId)();\n        if (metadata) {\n            // If the user prefers to use an azure region replace the global endpoints with regional information.\n            if (this.authorityOptions.azureRegionConfiguration?.azureRegion) {\n                metadata = await invokeAsync(this.updateMetadataWithRegionalInformation.bind(this), PerformanceEvents.AuthorityUpdateMetadataWithRegionalInformation, this.logger, this.performanceClient, this.correlationId)(metadata);\n            }\n            updateAuthorityEndpointMetadata(metadataEntity, metadata, true);\n            return AuthorityMetadataSource.NETWORK;\n        }\n        else {\n            // Metadata could not be obtained from the config, cache, network or hardcoded values\n            throw createClientAuthError(openIdConfigError, this.defaultOpenIdConfigurationEndpoint);\n        }\n    }\n    /**\n     * Updates endpoint metadata from local sources and returns where the information was retrieved from and the metadata config\n     * response if the source is hardcoded metadata\n     * @param metadataEntity\n     * @returns\n     */\n    updateEndpointMetadataFromLocalSources(metadataEntity) {\n        this.logger.verbose(\"Attempting to get endpoint metadata from authority configuration\");\n        const configMetadata = this.getEndpointMetadataFromConfig();\n        if (configMetadata) {\n            this.logger.verbose(\"Found endpoint metadata in authority configuration\");\n            updateAuthorityEndpointMetadata(metadataEntity, configMetadata, false);\n            return {\n                source: AuthorityMetadataSource.CONFIG,\n            };\n        }\n        this.logger.verbose(\"Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values.\");\n        // skipAuthorityMetadataCache is used to bypass hardcoded authority metadata and force a network metadata cache lookup and network metadata request if no cached response is available.\n        if (this.authorityOptions.skipAuthorityMetadataCache) {\n            this.logger.verbose(\"Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.\");\n        }\n        else {\n            const hardcodedMetadata = this.getEndpointMetadataFromHardcodedValues();\n            if (hardcodedMetadata) {\n                updateAuthorityEndpointMetadata(metadataEntity, hardcodedMetadata, false);\n                return {\n                    source: AuthorityMetadataSource.HARDCODED_VALUES,\n                    metadata: hardcodedMetadata,\n                };\n            }\n            else {\n                this.logger.verbose(\"Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.\");\n            }\n        }\n        // Check cached metadata entity expiration status\n        const metadataEntityExpired = isAuthorityMetadataExpired(metadataEntity);\n        if (this.isAuthoritySameType(metadataEntity) &&\n            metadataEntity.endpointsFromNetwork &&\n            !metadataEntityExpired) {\n            // No need to update\n            this.logger.verbose(\"Found endpoint metadata in the cache.\");\n            return { source: AuthorityMetadataSource.CACHE };\n        }\n        else if (metadataEntityExpired) {\n            this.logger.verbose(\"The metadata entity is expired.\");\n        }\n        return null;\n    }\n    /**\n     * Compares the number of url components after the domain to determine if the cached\n     * authority metadata can be used for the requested authority. Protects against same domain different\n     * authority such as login.microsoftonline.com/tenant and login.microsoftonline.com/tfp/tenant/policy\n     * @param metadataEntity\n     */\n    isAuthoritySameType(metadataEntity) {\n        const cachedAuthorityUrl = new UrlString(metadataEntity.canonical_authority);\n        const cachedParts = cachedAuthorityUrl.getUrlComponents().PathSegments;\n        return (cachedParts.length ===\n            this.canonicalAuthorityUrlComponents.PathSegments.length);\n    }\n    /**\n     * Parse authorityMetadata config option\n     */\n    getEndpointMetadataFromConfig() {\n        if (this.authorityOptions.authorityMetadata) {\n            try {\n                return JSON.parse(this.authorityOptions.authorityMetadata);\n            }\n            catch (e) {\n                throw createClientConfigurationError(invalidAuthorityMetadata);\n            }\n        }\n        return null;\n    }\n    /**\n     * Gets OAuth endpoints from the given OpenID configuration endpoint.\n     *\n     * @param hasHardcodedMetadata boolean\n     */\n    async getEndpointMetadataFromNetwork() {\n        this.performanceClient?.addQueueMeasurement(PerformanceEvents.AuthorityGetEndpointMetadataFromNetwork, this.correlationId);\n        const options = {};\n        /*\n         * TODO: Add a timeout if the authority exists in our library's\n         * hardcoded list of metadata\n         */\n        const openIdConfigurationEndpoint = this.defaultOpenIdConfigurationEndpoint;\n        this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${openIdConfigurationEndpoint}`);\n        try {\n            const response = await this.networkInterface.sendGetRequestAsync(openIdConfigurationEndpoint, options);\n            const isValidResponse = isOpenIdConfigResponse(response.body);\n            if (isValidResponse) {\n                return response.body;\n            }\n            else {\n                this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration`);\n                return null;\n            }\n        }\n        catch (e) {\n            this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${e}`);\n            return null;\n        }\n    }\n    /**\n     * Get OAuth endpoints for common authorities.\n     */\n    getEndpointMetadataFromHardcodedValues() {\n        if (this.hostnameAndPort in EndpointMetadata) {\n            return EndpointMetadata[this.hostnameAndPort];\n        }\n        return null;\n    }\n    /**\n     * Update the retrieved metadata with regional information.\n     * User selected Azure region will be used if configured.\n     */\n    async updateMetadataWithRegionalInformation(metadata) {\n        this.performanceClient?.addQueueMeasurement(PerformanceEvents.AuthorityUpdateMetadataWithRegionalInformation, this.correlationId);\n        const userConfiguredAzureRegion = this.authorityOptions.azureRegionConfiguration?.azureRegion;\n        if (userConfiguredAzureRegion) {\n            if (userConfiguredAzureRegion !==\n                Constants.AZURE_REGION_AUTO_DISCOVER_FLAG) {\n                this.regionDiscoveryMetadata.region_outcome =\n                    RegionDiscoveryOutcomes.CONFIGURED_NO_AUTO_DETECTION;\n                this.regionDiscoveryMetadata.region_used =\n                    userConfiguredAzureRegion;\n                return Authority.replaceWithRegionalInformation(metadata, userConfiguredAzureRegion);\n            }\n            const autodetectedRegionName = await invokeAsync(this.regionDiscovery.detectRegion.bind(this.regionDiscovery), PerformanceEvents.RegionDiscoveryDetectRegion, this.logger, this.performanceClient, this.correlationId)(this.authorityOptions.azureRegionConfiguration\n                ?.environmentRegion, this.regionDiscoveryMetadata);\n            if (autodetectedRegionName) {\n                this.regionDiscoveryMetadata.region_outcome =\n                    RegionDiscoveryOutcomes.AUTO_DETECTION_REQUESTED_SUCCESSFUL;\n                this.regionDiscoveryMetadata.region_used =\n                    autodetectedRegionName;\n                return Authority.replaceWithRegionalInformation(metadata, autodetectedRegionName);\n            }\n            this.regionDiscoveryMetadata.region_outcome =\n                RegionDiscoveryOutcomes.AUTO_DETECTION_REQUESTED_FAILED;\n        }\n        return metadata;\n    }\n    /**\n     * Updates the AuthorityMetadataEntity with new aliases, preferred_network and preferred_cache\n     * and returns where the information was retrieved from\n     * @param metadataEntity\n     * @returns AuthorityMetadataSource\n     */\n    async updateCloudDiscoveryMetadata(metadataEntity) {\n        this.performanceClient?.addQueueMeasurement(PerformanceEvents.AuthorityUpdateCloudDiscoveryMetadata, this.correlationId);\n        const localMetadataSource = this.updateCloudDiscoveryMetadataFromLocalSources(metadataEntity);\n        if (localMetadataSource) {\n            return localMetadataSource;\n        }\n        // Fallback to network as metadata source\n        const metadata = await invokeAsync(this.getCloudDiscoveryMetadataFromNetwork.bind(this), PerformanceEvents.AuthorityGetCloudDiscoveryMetadataFromNetwork, this.logger, this.performanceClient, this.correlationId)();\n        if (metadata) {\n            updateCloudDiscoveryMetadata(metadataEntity, metadata, true);\n            return AuthorityMetadataSource.NETWORK;\n        }\n        // Metadata could not be obtained from the config, cache, network or hardcoded values\n        throw createClientConfigurationError(untrustedAuthority);\n    }\n    updateCloudDiscoveryMetadataFromLocalSources(metadataEntity) {\n        this.logger.verbose(\"Attempting to get cloud discovery metadata  from authority configuration\");\n        this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities ||\n            Constants.NOT_APPLICABLE}`);\n        this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata ||\n            Constants.NOT_APPLICABLE}`);\n        this.logger.verbosePii(`Canonical Authority: ${metadataEntity.canonical_authority || Constants.NOT_APPLICABLE}`);\n        const metadata = this.getCloudDiscoveryMetadataFromConfig();\n        if (metadata) {\n            this.logger.verbose(\"Found cloud discovery metadata in authority configuration\");\n            updateCloudDiscoveryMetadata(metadataEntity, metadata, false);\n            return AuthorityMetadataSource.CONFIG;\n        }\n        // If the cached metadata came from config but that config was not passed to this instance, we must go to hardcoded values\n        this.logger.verbose(\"Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values.\");\n        if (this.options.skipAuthorityMetadataCache) {\n            this.logger.verbose(\"Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.\");\n        }\n        else {\n            const hardcodedMetadata = getCloudDiscoveryMetadataFromHardcodedValues(this.hostnameAndPort);\n            if (hardcodedMetadata) {\n                this.logger.verbose(\"Found cloud discovery metadata from hardcoded values.\");\n                updateCloudDiscoveryMetadata(metadataEntity, hardcodedMetadata, false);\n                return AuthorityMetadataSource.HARDCODED_VALUES;\n            }\n            this.logger.verbose(\"Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.\");\n        }\n        const metadataEntityExpired = isAuthorityMetadataExpired(metadataEntity);\n        if (this.isAuthoritySameType(metadataEntity) &&\n            metadataEntity.aliasesFromNetwork &&\n            !metadataEntityExpired) {\n            this.logger.verbose(\"Found cloud discovery metadata in the cache.\");\n            // No need to update\n            return AuthorityMetadataSource.CACHE;\n        }\n        else if (metadataEntityExpired) {\n            this.logger.verbose(\"The metadata entity is expired.\");\n        }\n        return null;\n    }\n    /**\n     * Parse cloudDiscoveryMetadata config or check knownAuthorities\n     */\n    getCloudDiscoveryMetadataFromConfig() {\n        // CIAM does not support cloud discovery metadata\n        if (this.authorityType === AuthorityType.Ciam) {\n            this.logger.verbose(\"CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host.\");\n            return Authority.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);\n        }\n        // Check if network response was provided in config\n        if (this.authorityOptions.cloudDiscoveryMetadata) {\n            this.logger.verbose(\"The cloud discovery metadata has been provided as a network response, in the config.\");\n            try {\n                this.logger.verbose(\"Attempting to parse the cloud discovery metadata.\");\n                const parsedResponse = JSON.parse(this.authorityOptions.cloudDiscoveryMetadata);\n                const metadata = getCloudDiscoveryMetadataFromNetworkResponse(parsedResponse.metadata, this.hostnameAndPort);\n                this.logger.verbose(\"Parsed the cloud discovery metadata.\");\n                if (metadata) {\n                    this.logger.verbose(\"There is returnable metadata attached to the parsed cloud discovery metadata.\");\n                    return metadata;\n                }\n                else {\n                    this.logger.verbose(\"There is no metadata attached to the parsed cloud discovery metadata.\");\n                }\n            }\n            catch (e) {\n                this.logger.verbose(\"Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error.\");\n                throw createClientConfigurationError(invalidCloudDiscoveryMetadata);\n            }\n        }\n        // If cloudDiscoveryMetadata is empty or does not contain the host, check knownAuthorities\n        if (this.isInKnownAuthorities()) {\n            this.logger.verbose(\"The host is included in knownAuthorities. Creating new cloud discovery metadata from the host.\");\n            return Authority.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);\n        }\n        return null;\n    }\n    /**\n     * Called to get metadata from network if CloudDiscoveryMetadata was not populated by config\n     *\n     * @param hasHardcodedMetadata boolean\n     */\n    async getCloudDiscoveryMetadataFromNetwork() {\n        this.performanceClient?.addQueueMeasurement(PerformanceEvents.AuthorityGetCloudDiscoveryMetadataFromNetwork, this.correlationId);\n        const instanceDiscoveryEndpoint = `${Constants.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`;\n        const options = {};\n        /*\n         * TODO: Add a timeout if the authority exists in our library's\n         * hardcoded list of metadata\n         */\n        let match = null;\n        try {\n            const response = await this.networkInterface.sendGetRequestAsync(instanceDiscoveryEndpoint, options);\n            let typedResponseBody;\n            let metadata;\n            if (isCloudInstanceDiscoveryResponse(response.body)) {\n                typedResponseBody =\n                    response.body;\n                metadata = typedResponseBody.metadata;\n                this.logger.verbosePii(`tenant_discovery_endpoint is: ${typedResponseBody.tenant_discovery_endpoint}`);\n            }\n            else if (isCloudInstanceDiscoveryErrorResponse(response.body)) {\n                this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${response.status}`);\n                typedResponseBody =\n                    response.body;\n                if (typedResponseBody.error === Constants.INVALID_INSTANCE) {\n                    this.logger.error(\"The CloudInstanceDiscoveryErrorResponse error is invalid_instance.\");\n                    return null;\n                }\n                this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${typedResponseBody.error}`);\n                this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${typedResponseBody.error_description}`);\n                this.logger.warning(\"Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []\");\n                metadata = [];\n            }\n            else {\n                this.logger.error(\"AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse\");\n                return null;\n            }\n            this.logger.verbose(\"Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request.\");\n            match = getCloudDiscoveryMetadataFromNetworkResponse(metadata, this.hostnameAndPort);\n        }\n        catch (error) {\n            if (error instanceof AuthError) {\n                this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.\\nError: ${error.errorCode}\\nError Description: ${error.errorMessage}`);\n            }\n            else {\n                const typedError = error;\n                this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\\nError: ${typedError.name}\\nError Description: ${typedError.message}`);\n            }\n            return null;\n        }\n        // Custom Domain scenario, host is trusted because Instance Discovery call succeeded\n        if (!match) {\n            this.logger.warning(\"The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request.\");\n            this.logger.verbose(\"Creating custom Authority for custom domain scenario.\");\n            match = Authority.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);\n        }\n        return match;\n    }\n    /**\n     * Helper function to determine if this host is included in the knownAuthorities config option\n     */\n    isInKnownAuthorities() {\n        const matches = this.authorityOptions.knownAuthorities.filter((authority) => {\n            return (authority &&\n                UrlString.getDomainFromUrl(authority).toLowerCase() ===\n                    this.hostnameAndPort);\n        });\n        return matches.length > 0;\n    }\n    /**\n     * helper function to populate the authority based on azureCloudOptions\n     * @param authorityString\n     * @param azureCloudOptions\n     */\n    static generateAuthority(authorityString, azureCloudOptions) {\n        let authorityAzureCloudInstance;\n        if (azureCloudOptions &&\n            azureCloudOptions.azureCloudInstance !== AzureCloudInstance.None) {\n            const tenant = azureCloudOptions.tenant\n                ? azureCloudOptions.tenant\n                : Constants.DEFAULT_COMMON_TENANT;\n            authorityAzureCloudInstance = `${azureCloudOptions.azureCloudInstance}/${tenant}/`;\n        }\n        return authorityAzureCloudInstance\n            ? authorityAzureCloudInstance\n            : authorityString;\n    }\n    /**\n     * Creates cloud discovery metadata object from a given host\n     * @param host\n     */\n    static createCloudDiscoveryMetadataFromHost(host) {\n        return {\n            preferred_network: host,\n            preferred_cache: host,\n            aliases: [host],\n        };\n    }\n    /**\n     * helper function to generate environment from authority object\n     */\n    getPreferredCache() {\n        if (this.managedIdentity) {\n            return Constants.DEFAULT_AUTHORITY_HOST;\n        }\n        else if (this.discoveryComplete()) {\n            return this.metadata.preferred_cache;\n        }\n        else {\n            throw createClientAuthError(endpointResolutionError);\n        }\n    }\n    /**\n     * Returns whether or not the provided host is an alias of this authority instance\n     * @param host\n     */\n    isAlias(host) {\n        return this.metadata.aliases.indexOf(host) > -1;\n    }\n    /**\n     * Returns whether or not the provided host is an alias of a known Microsoft authority for purposes of endpoint discovery\n     * @param host\n     */\n    isAliasOfKnownMicrosoftAuthority(host) {\n        return InstanceDiscoveryMetadataAliases.has(host);\n    }\n    /**\n     * Checks whether the provided host is that of a public cloud authority\n     *\n     * @param authority string\n     * @returns bool\n     */\n    static isPublicCloudAuthority(host) {\n        return Constants.KNOWN_PUBLIC_CLOUDS.indexOf(host) >= 0;\n    }\n    /**\n     * Rebuild the authority string with the region\n     *\n     * @param host string\n     * @param region string\n     */\n    static buildRegionalAuthorityString(host, region, queryString) {\n        // Create and validate a Url string object with the initial authority string\n        const authorityUrlInstance = new UrlString(host);\n        authorityUrlInstance.validateAsUri();\n        const authorityUrlParts = authorityUrlInstance.getUrlComponents();\n        let hostNameAndPort = `${region}.${authorityUrlParts.HostNameAndPort}`;\n        if (this.isPublicCloudAuthority(authorityUrlParts.HostNameAndPort)) {\n            hostNameAndPort = `${region}.${Constants.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`;\n        }\n        // Include the query string portion of the url\n        const url = UrlString.constructAuthorityUriFromObject({\n            ...authorityUrlInstance.getUrlComponents(),\n            HostNameAndPort: hostNameAndPort,\n        }).urlString;\n        // Add the query string if a query string was provided\n        if (queryString)\n            return `${url}?${queryString}`;\n        return url;\n    }\n    /**\n     * Replace the endpoints in the metadata object with their regional equivalents.\n     *\n     * @param metadata OpenIdConfigResponse\n     * @param azureRegion string\n     */\n    static replaceWithRegionalInformation(metadata, azureRegion) {\n        const regionalMetadata = { ...metadata };\n        regionalMetadata.authorization_endpoint =\n            Authority.buildRegionalAuthorityString(regionalMetadata.authorization_endpoint, azureRegion);\n        regionalMetadata.token_endpoint =\n            Authority.buildRegionalAuthorityString(regionalMetadata.token_endpoint, azureRegion);\n        if (regionalMetadata.end_session_endpoint) {\n            regionalMetadata.end_session_endpoint =\n                Authority.buildRegionalAuthorityString(regionalMetadata.end_session_endpoint, azureRegion);\n        }\n        return regionalMetadata;\n    }\n    /**\n     * Transform CIAM_AUTHORIY as per the below rules:\n     * If no path segments found and it is a CIAM authority (hostname ends with .ciamlogin.com), then transform it\n     *\n     * NOTE: The transformation path should go away once STS supports CIAM with the format: `tenantIdorDomain.ciamlogin.com`\n     * `ciamlogin.com` can also change in the future and we should accommodate the same\n     *\n     * @param authority\n     */\n    static transformCIAMAuthority(authority) {\n        let ciamAuthority = authority;\n        const authorityUrl = new UrlString(authority);\n        const authorityUrlComponents = authorityUrl.getUrlComponents();\n        // check if transformation is needed\n        if (authorityUrlComponents.PathSegments.length === 0 &&\n            authorityUrlComponents.HostNameAndPort.endsWith(Constants.CIAM_AUTH_URL)) {\n            const tenantIdOrDomain = authorityUrlComponents.HostNameAndPort.split(\".\")[0];\n            ciamAuthority = `${ciamAuthority}${tenantIdOrDomain}${Constants.AAD_TENANT_DOMAIN_SUFFIX}`;\n        }\n        return ciamAuthority;\n    }\n}\n// Reserved tenant domain names that will not be replaced with tenant id\nAuthority.reservedTenantDomains = new Set([\n    \"{tenant}\",\n    \"{tenantid}\",\n    AADAuthorityConstants.COMMON,\n    AADAuthorityConstants.CONSUMERS,\n    AADAuthorityConstants.ORGANIZATIONS,\n]);\n/**\n * Extract tenantId from authority\n */\nfunction getTenantFromAuthorityString(authority) {\n    const authorityUrl = new UrlString(authority);\n    const authorityUrlComponents = authorityUrl.getUrlComponents();\n    /**\n     * For credential matching purposes, tenantId is the last path segment of the authority URL:\n     *  AAD Authority - domain/tenantId -> Credentials are cached with realm = tenantId\n     *  B2C Authority - domain/{tenantId}?/.../policy -> Credentials are cached with realm = policy\n     *  tenantId is downcased because B2C policies can have mixed case but tfp claim is downcased\n     *\n     * Note that we may not have any path segments in certain OIDC scenarios.\n     */\n    const tenantId = authorityUrlComponents.PathSegments.slice(-1)[0]?.toLowerCase();\n    switch (tenantId) {\n        case AADAuthorityConstants.COMMON:\n        case AADAuthorityConstants.ORGANIZATIONS:\n        case AADAuthorityConstants.CONSUMERS:\n            return undefined;\n        default:\n            return tenantId;\n    }\n}\nfunction formatAuthorityUri(authorityUri) {\n    return authorityUri.endsWith(Constants.FORWARD_SLASH)\n        ? authorityUri\n        : `${authorityUri}${Constants.FORWARD_SLASH}`;\n}\nfunction buildStaticAuthorityOptions(authOptions) {\n    const rawCloudDiscoveryMetadata = authOptions.cloudDiscoveryMetadata;\n    let cloudDiscoveryMetadata = undefined;\n    if (rawCloudDiscoveryMetadata) {\n        try {\n            cloudDiscoveryMetadata = JSON.parse(rawCloudDiscoveryMetadata);\n        }\n        catch (e) {\n            throw createClientConfigurationError(invalidCloudDiscoveryMetadata);\n        }\n    }\n    return {\n        canonicalAuthority: authOptions.authority\n            ? formatAuthorityUri(authOptions.authority)\n            : undefined,\n        knownAuthorities: authOptions.knownAuthorities,\n        cloudDiscoveryMetadata: cloudDiscoveryMetadata,\n    };\n}\n\nexport { Authority, buildStaticAuthorityOptions, formatAuthorityUri, getTenantFromAuthorityString };\n//# sourceMappingURL=Authority.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nfunction isOpenIdConfigResponse(response) {\n    return (response.hasOwnProperty(\"authorization_endpoint\") &&\n        response.hasOwnProperty(\"token_endpoint\") &&\n        response.hasOwnProperty(\"issuer\") &&\n        response.hasOwnProperty(\"jwks_uri\"));\n}\n\nexport { isOpenIdConfigResponse };\n//# sourceMappingURL=OpenIdConfigResponse.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nfunction isCloudInstanceDiscoveryResponse(response) {\n    return (response.hasOwnProperty(\"tenant_discovery_endpoint\") &&\n        response.hasOwnProperty(\"metadata\"));\n}\n\nexport { isCloudInstanceDiscoveryResponse };\n//# sourceMappingURL=CloudInstanceDiscoveryResponse.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nfunction isCloudInstanceDiscoveryErrorResponse(response) {\n    return (response.hasOwnProperty(\"error\") &&\n        response.hasOwnProperty(\"error_description\"));\n}\n\nexport { isCloudInstanceDiscoveryErrorResponse };\n//# sourceMappingURL=CloudInstanceDiscoveryErrorResponse.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { createClientAuthError } from '../error/ClientAuthError.mjs';\nimport { methodNotImplemented } from '../error/ClientAuthErrorCodes.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nconst DEFAULT_CRYPTO_IMPLEMENTATION = {\n    createNewGuid: () => {\n        throw createClientAuthError(methodNotImplemented);\n    },\n    base64Decode: () => {\n        throw createClientAuthError(methodNotImplemented);\n    },\n    base64Encode: () => {\n        throw createClientAuthError(methodNotImplemented);\n    },\n    async getPublicKeyThumbprint() {\n        throw createClientAuthError(methodNotImplemented);\n    },\n    async removeTokenBindingKey() {\n        throw createClientAuthError(methodNotImplemented);\n    },\n    async clearKeystore() {\n        throw createClientAuthError(methodNotImplemented);\n    },\n    async signJwt() {\n        throw createClientAuthError(methodNotImplemented);\n    },\n    async hashString() {\n        throw createClientAuthError(methodNotImplemented);\n    },\n};\n\nexport { DEFAULT_CRYPTO_IMPLEMENTATION };\n//# sourceMappingURL=ICrypto.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\n/* eslint-disable header/header */\nconst name = \"@azure/msal-common\";\nconst version = \"14.10.0\";\n\nexport { name, version };\n//# sourceMappingURL=packageMetadata.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { createClientConfigurationError } from '../error/ClientConfigurationError.mjs';\nimport { StringUtils } from '../utils/StringUtils.mjs';\nimport { createClientAuthError } from '../error/ClientAuthError.mjs';\nimport { Constants, OIDC_SCOPES } from '../utils/Constants.mjs';\nimport { emptyInputScopesError } from '../error/ClientConfigurationErrorCodes.mjs';\nimport { cannotAppendScopeSet, cannotRemoveEmptyScope, emptyInputScopeSet } from '../error/ClientAuthErrorCodes.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * The ScopeSet class creates a set of scopes. Scopes are case-insensitive, unique values, so the Set object in JS makes\n * the most sense to implement for this class. All scopes are trimmed and converted to lower case strings in intersection and union functions\n * to ensure uniqueness of strings.\n */\nclass ScopeSet {\n    constructor(inputScopes) {\n        // Filter empty string and null/undefined array items\n        const scopeArr = inputScopes\n            ? StringUtils.trimArrayEntries([...inputScopes])\n            : [];\n        const filteredInput = scopeArr\n            ? StringUtils.removeEmptyStringsFromArray(scopeArr)\n            : [];\n        // Validate and filter scopes (validate function throws if validation fails)\n        this.validateInputScopes(filteredInput);\n        this.scopes = new Set(); // Iterator in constructor not supported by IE11\n        filteredInput.forEach((scope) => this.scopes.add(scope));\n    }\n    /**\n     * Factory method to create ScopeSet from space-delimited string\n     * @param inputScopeString\n     * @param appClientId\n     * @param scopesRequired\n     */\n    static fromString(inputScopeString) {\n        const scopeString = inputScopeString || Constants.EMPTY_STRING;\n        const inputScopes = scopeString.split(\" \");\n        return new ScopeSet(inputScopes);\n    }\n    /**\n     * Creates the set of scopes to search for in cache lookups\n     * @param inputScopeString\n     * @returns\n     */\n    static createSearchScopes(inputScopeString) {\n        const scopeSet = new ScopeSet(inputScopeString);\n        if (!scopeSet.containsOnlyOIDCScopes()) {\n            scopeSet.removeOIDCScopes();\n        }\n        else {\n            scopeSet.removeScope(Constants.OFFLINE_ACCESS_SCOPE);\n        }\n        return scopeSet;\n    }\n    /**\n     * Used to validate the scopes input parameter requested  by the developer.\n     * @param {Array<string>} inputScopes - Developer requested permissions. Not all scopes are guaranteed to be included in the access token returned.\n     * @param {boolean} scopesRequired - Boolean indicating whether the scopes array is required or not\n     */\n    validateInputScopes(inputScopes) {\n        // Check if scopes are required but not given or is an empty array\n        if (!inputScopes || inputScopes.length < 1) {\n            throw createClientConfigurationError(emptyInputScopesError);\n        }\n    }\n    /**\n     * Check if a given scope is present in this set of scopes.\n     * @param scope\n     */\n    containsScope(scope) {\n        const lowerCaseScopes = this.printScopesLowerCase().split(\" \");\n        const lowerCaseScopesSet = new ScopeSet(lowerCaseScopes);\n        // compare lowercase scopes\n        return scope\n            ? lowerCaseScopesSet.scopes.has(scope.toLowerCase())\n            : false;\n    }\n    /**\n     * Check if a set of scopes is present in this set of scopes.\n     * @param scopeSet\n     */\n    containsScopeSet(scopeSet) {\n        if (!scopeSet || scopeSet.scopes.size <= 0) {\n            return false;\n        }\n        return (this.scopes.size >= scopeSet.scopes.size &&\n            scopeSet.asArray().every((scope) => this.containsScope(scope)));\n    }\n    /**\n     * Check if set of scopes contains only the defaults\n     */\n    containsOnlyOIDCScopes() {\n        let defaultScopeCount = 0;\n        OIDC_SCOPES.forEach((defaultScope) => {\n            if (this.containsScope(defaultScope)) {\n                defaultScopeCount += 1;\n            }\n        });\n        return this.scopes.size === defaultScopeCount;\n    }\n    /**\n     * Appends single scope if passed\n     * @param newScope\n     */\n    appendScope(newScope) {\n        if (newScope) {\n            this.scopes.add(newScope.trim());\n        }\n    }\n    /**\n     * Appends multiple scopes if passed\n     * @param newScopes\n     */\n    appendScopes(newScopes) {\n        try {\n            newScopes.forEach((newScope) => this.appendScope(newScope));\n        }\n        catch (e) {\n            throw createClientAuthError(cannotAppendScopeSet);\n        }\n    }\n    /**\n     * Removes element from set of scopes.\n     * @param scope\n     */\n    removeScope(scope) {\n        if (!scope) {\n            throw createClientAuthError(cannotRemoveEmptyScope);\n        }\n        this.scopes.delete(scope.trim());\n    }\n    /**\n     * Removes default scopes from set of scopes\n     * Primarily used to prevent cache misses if the default scopes are not returned from the server\n     */\n    removeOIDCScopes() {\n        OIDC_SCOPES.forEach((defaultScope) => {\n            this.scopes.delete(defaultScope);\n        });\n    }\n    /**\n     * Combines an array of scopes with the current set of scopes.\n     * @param otherScopes\n     */\n    unionScopeSets(otherScopes) {\n        if (!otherScopes) {\n            throw createClientAuthError(emptyInputScopeSet);\n        }\n        const unionScopes = new Set(); // Iterator in constructor not supported in IE11\n        otherScopes.scopes.forEach((scope) => unionScopes.add(scope.toLowerCase()));\n        this.scopes.forEach((scope) => unionScopes.add(scope.toLowerCase()));\n        return unionScopes;\n    }\n    /**\n     * Check if scopes intersect between this set and another.\n     * @param otherScopes\n     */\n    intersectingScopeSets(otherScopes) {\n        if (!otherScopes) {\n            throw createClientAuthError(emptyInputScopeSet);\n        }\n        // Do not allow OIDC scopes to be the only intersecting scopes\n        if (!otherScopes.containsOnlyOIDCScopes()) {\n            otherScopes.removeOIDCScopes();\n        }\n        const unionScopes = this.unionScopeSets(otherScopes);\n        const sizeOtherScopes = otherScopes.getScopeCount();\n        const sizeThisScopes = this.getScopeCount();\n        const sizeUnionScopes = unionScopes.size;\n        return sizeUnionScopes < sizeThisScopes + sizeOtherScopes;\n    }\n    /**\n     * Returns size of set of scopes.\n     */\n    getScopeCount() {\n        return this.scopes.size;\n    }\n    /**\n     * Returns the scopes as an array of string values\n     */\n    asArray() {\n        const array = [];\n        this.scopes.forEach((val) => array.push(val));\n        return array;\n    }\n    /**\n     * Prints scopes into a space-delimited string\n     */\n    printScopes() {\n        if (this.scopes) {\n            const scopeArr = this.asArray();\n            return scopeArr.join(\" \");\n        }\n        return Constants.EMPTY_STRING;\n    }\n    /**\n     * Prints scopes into a space-delimited lower-case string (used for caching)\n     */\n    printScopesLowerCase() {\n        return this.printScopes().toLowerCase();\n    }\n}\n\nexport { ScopeSet };\n//# sourceMappingURL=ScopeSet.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { createClientAuthError } from '../error/ClientAuthError.mjs';\nimport { Separators, Constants } from '../utils/Constants.mjs';\nimport { clientInfoEmptyError, clientInfoDecodingError } from '../error/ClientAuthErrorCodes.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Function to build a client info object from server clientInfo string\n * @param rawClientInfo\n * @param crypto\n */\nfunction buildClientInfo(rawClientInfo, base64Decode) {\n    if (!rawClientInfo) {\n        throw createClientAuthError(clientInfoEmptyError);\n    }\n    try {\n        const decodedClientInfo = base64Decode(rawClientInfo);\n        return JSON.parse(decodedClientInfo);\n    }\n    catch (e) {\n        throw createClientAuthError(clientInfoDecodingError);\n    }\n}\n/**\n * Function to build a client info object from cached homeAccountId string\n * @param homeAccountId\n */\nfunction buildClientInfoFromHomeAccountId(homeAccountId) {\n    if (!homeAccountId) {\n        throw createClientAuthError(clientInfoDecodingError);\n    }\n    const clientInfoParts = homeAccountId.split(Separators.CLIENT_INFO_SEPARATOR, 2);\n    return {\n        uid: clientInfoParts[0],\n        utid: clientInfoParts.length < 2\n            ? Constants.EMPTY_STRING\n            : clientInfoParts[1],\n    };\n}\n\nexport { buildClientInfo, buildClientInfoFromHomeAccountId };\n//# sourceMappingURL=ClientInfo.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Returns true if tenantId matches the utid portion of homeAccountId\n * @param tenantId\n * @param homeAccountId\n * @returns\n */\nfunction tenantIdMatchesHomeTenant(tenantId, homeAccountId) {\n    return (!!tenantId &&\n        !!homeAccountId &&\n        tenantId === homeAccountId.split(\".\")[1]);\n}\nfunction buildTenantProfileFromIdTokenClaims(homeAccountId, idTokenClaims) {\n    const { oid, sub, tid, name, tfp, acr } = idTokenClaims;\n    /**\n     * Since there is no way to determine if the authority is AAD or B2C, we exhaust all the possible claims that can serve as tenant ID with the following precedence:\n     * tid - TenantID claim that identifies the tenant that issued the token in AAD. Expected in all AAD ID tokens, not present in B2C ID Tokens.\n     * tfp - Trust Framework Policy claim that identifies the policy that was used to authenticate the user. Functions as tenant for B2C scenarios.\n     * acr - Authentication Context Class Reference claim used only with older B2C policies. Fallback in case tfp is not present, but likely won't be present anyway.\n     */\n    const tenantId = tid || tfp || acr || \"\";\n    return {\n        tenantId: tenantId,\n        localAccountId: oid || sub || \"\",\n        name: name,\n        isHomeTenant: tenantIdMatchesHomeTenant(tenantId, homeAccountId),\n    };\n}\n/**\n * Replaces account info that varies by tenant profile sourced from the ID token claims passed in with the tenant-specific account info\n * @param baseAccountInfo\n * @param idTokenClaims\n * @returns\n */\nfunction updateAccountTenantProfileData(baseAccountInfo, tenantProfile, idTokenClaims, idTokenSecret) {\n    let updatedAccountInfo = baseAccountInfo;\n    // Tenant Profile overrides passed in account info\n    if (tenantProfile) {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const { isHomeTenant, ...tenantProfileOverride } = tenantProfile;\n        updatedAccountInfo = { ...baseAccountInfo, ...tenantProfileOverride };\n    }\n    // ID token claims override passed in account info and tenant profile\n    if (idTokenClaims) {\n        // Ignore isHomeTenant, loginHint, and sid which are part of tenant profile but not base account info\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const { isHomeTenant, ...claimsSourcedTenantProfile } = buildTenantProfileFromIdTokenClaims(baseAccountInfo.homeAccountId, idTokenClaims);\n        updatedAccountInfo = {\n            ...updatedAccountInfo,\n            ...claimsSourcedTenantProfile,\n            idTokenClaims: idTokenClaims,\n            idToken: idTokenSecret,\n        };\n        return updatedAccountInfo;\n    }\n    return updatedAccountInfo;\n}\n\nexport { buildTenantProfileFromIdTokenClaims, tenantIdMatchesHomeTenant, updateAccountTenantProfileData };\n//# sourceMappingURL=AccountInfo.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Gets tenantId from available ID token claims to set as credential realm with the following precedence:\n * 1. tid - if the token is acquired from an Azure AD tenant tid will be present\n * 2. tfp - if the token is acquired from a modern B2C tenant tfp should be present\n * 3. acr - if the token is acquired from a legacy B2C tenant acr should be present\n * Downcased to match the realm case-insensitive comparison requirements\n * @param idTokenClaims\n * @returns\n */\nfunction getTenantIdFromIdTokenClaims(idTokenClaims) {\n    if (idTokenClaims) {\n        const tenantId = idTokenClaims.tid || idTokenClaims.tfp || idTokenClaims.acr;\n        return tenantId || null;\n    }\n    return null;\n}\n\nexport { getTenantIdFromIdTokenClaims };\n//# sourceMappingURL=TokenClaims.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { Separators, CacheAccountType } from '../../utils/Constants.mjs';\nimport { buildClientInfo } from '../../account/ClientInfo.mjs';\nimport { buildTenantProfileFromIdTokenClaims } from '../../account/AccountInfo.mjs';\nimport { createClientAuthError } from '../../error/ClientAuthError.mjs';\nimport { AuthorityType } from '../../authority/AuthorityType.mjs';\nimport { getTenantIdFromIdTokenClaims } from '../../account/TokenClaims.mjs';\nimport { ProtocolMode } from '../../authority/ProtocolMode.mjs';\nimport { invalidCacheEnvironment } from '../../error/ClientAuthErrorCodes.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Type that defines required and optional parameters for an Account field (based on universal cache schema implemented by all MSALs).\n *\n * Key : Value Schema\n *\n * Key: <home_account_id>-<environment>-<realm*>\n *\n * Value Schema:\n * {\n *      homeAccountId: home account identifier for the auth scheme,\n *      environment: entity that issued the token, represented as a full host\n *      realm: Full tenant or organizational identifier that the account belongs to\n *      localAccountId: Original tenant-specific accountID, usually used for legacy cases\n *      username: primary username that represents the user, usually corresponds to preferred_username in the v2 endpt\n *      authorityType: Accounts authority type as a string\n *      name: Full name for the account, including given name and family name,\n *      lastModificationTime: last time this entity was modified in the cache\n *      lastModificationApp:\n *      nativeAccountId: Account identifier on the native device\n *      tenantProfiles: Array of tenant profile objects for each tenant that the account has authenticated with in the browser\n * }\n * @internal\n */\nclass AccountEntity {\n    /**\n     * Generate Account Id key component as per the schema: <home_account_id>-<environment>\n     */\n    generateAccountId() {\n        const accountId = [this.homeAccountId, this.environment];\n        return accountId.join(Separators.CACHE_KEY_SEPARATOR).toLowerCase();\n    }\n    /**\n     * Generate Account Cache Key as per the schema: <home_account_id>-<environment>-<realm*>\n     */\n    generateAccountKey() {\n        return AccountEntity.generateAccountCacheKey({\n            homeAccountId: this.homeAccountId,\n            environment: this.environment,\n            tenantId: this.realm,\n            username: this.username,\n            localAccountId: this.localAccountId,\n        });\n    }\n    /**\n     * Returns the AccountInfo interface for this account.\n     */\n    getAccountInfo() {\n        return {\n            homeAccountId: this.homeAccountId,\n            environment: this.environment,\n            tenantId: this.realm,\n            username: this.username,\n            localAccountId: this.localAccountId,\n            name: this.name,\n            nativeAccountId: this.nativeAccountId,\n            authorityType: this.authorityType,\n            // Deserialize tenant profiles array into a Map\n            tenantProfiles: new Map((this.tenantProfiles || []).map((tenantProfile) => {\n                return [tenantProfile.tenantId, tenantProfile];\n            })),\n        };\n    }\n    /**\n     * Returns true if the account entity is in single tenant format (outdated), false otherwise\n     */\n    isSingleTenant() {\n        return !this.tenantProfiles;\n    }\n    /**\n     * Generates account key from interface\n     * @param accountInterface\n     */\n    static generateAccountCacheKey(accountInterface) {\n        const homeTenantId = accountInterface.homeAccountId.split(\".\")[1];\n        const accountKey = [\n            accountInterface.homeAccountId,\n            accountInterface.environment || \"\",\n            homeTenantId || accountInterface.tenantId || \"\",\n        ];\n        return accountKey.join(Separators.CACHE_KEY_SEPARATOR).toLowerCase();\n    }\n    /**\n     * Build Account cache from IdToken, clientInfo and authority/policy. Associated with AAD.\n     * @param accountDetails\n     */\n    static createAccount(accountDetails, authority, base64Decode) {\n        const account = new AccountEntity();\n        if (authority.authorityType === AuthorityType.Adfs) {\n            account.authorityType = CacheAccountType.ADFS_ACCOUNT_TYPE;\n        }\n        else if (authority.protocolMode === ProtocolMode.AAD) {\n            account.authorityType = CacheAccountType.MSSTS_ACCOUNT_TYPE;\n        }\n        else {\n            account.authorityType = CacheAccountType.GENERIC_ACCOUNT_TYPE;\n        }\n        let clientInfo;\n        if (accountDetails.clientInfo && base64Decode) {\n            clientInfo = buildClientInfo(accountDetails.clientInfo, base64Decode);\n        }\n        account.clientInfo = accountDetails.clientInfo;\n        account.homeAccountId = accountDetails.homeAccountId;\n        account.nativeAccountId = accountDetails.nativeAccountId;\n        const env = accountDetails.environment ||\n            (authority && authority.getPreferredCache());\n        if (!env) {\n            throw createClientAuthError(invalidCacheEnvironment);\n        }\n        account.environment = env;\n        // non AAD scenarios can have empty realm\n        account.realm =\n            clientInfo?.utid ||\n                getTenantIdFromIdTokenClaims(accountDetails.idTokenClaims) ||\n                \"\";\n        // How do you account for MSA CID here?\n        account.localAccountId =\n            clientInfo?.uid ||\n                accountDetails.idTokenClaims.oid ||\n                accountDetails.idTokenClaims.sub ||\n                \"\";\n        /*\n         * In B2C scenarios the emails claim is used instead of preferred_username and it is an array.\n         * In most cases it will contain a single email. This field should not be relied upon if a custom\n         * policy is configured to return more than 1 email.\n         */\n        const preferredUsername = accountDetails.idTokenClaims.preferred_username ||\n            accountDetails.idTokenClaims.upn;\n        const email = accountDetails.idTokenClaims.emails\n            ? accountDetails.idTokenClaims.emails[0]\n            : null;\n        account.username = preferredUsername || email || \"\";\n        account.name = accountDetails.idTokenClaims.name;\n        account.cloudGraphHostName = accountDetails.cloudGraphHostName;\n        account.msGraphHost = accountDetails.msGraphHost;\n        if (accountDetails.tenantProfiles) {\n            account.tenantProfiles = accountDetails.tenantProfiles;\n        }\n        else {\n            const tenantProfiles = [];\n            if (accountDetails.idTokenClaims) {\n                const tenantProfile = buildTenantProfileFromIdTokenClaims(accountDetails.homeAccountId, accountDetails.idTokenClaims);\n                tenantProfiles.push(tenantProfile);\n            }\n            account.tenantProfiles = tenantProfiles;\n        }\n        return account;\n    }\n    /**\n     * Creates an AccountEntity object from AccountInfo\n     * @param accountInfo\n     * @param cloudGraphHostName\n     * @param msGraphHost\n     * @returns\n     */\n    static createFromAccountInfo(accountInfo, cloudGraphHostName, msGraphHost) {\n        const account = new AccountEntity();\n        account.authorityType =\n            accountInfo.authorityType || CacheAccountType.GENERIC_ACCOUNT_TYPE;\n        account.homeAccountId = accountInfo.homeAccountId;\n        account.localAccountId = accountInfo.localAccountId;\n        account.nativeAccountId = accountInfo.nativeAccountId;\n        account.realm = accountInfo.tenantId;\n        account.environment = accountInfo.environment;\n        account.username = accountInfo.username;\n        account.name = accountInfo.name;\n        account.cloudGraphHostName = cloudGraphHostName;\n        account.msGraphHost = msGraphHost;\n        // Serialize tenant profiles map into an array\n        account.tenantProfiles = Array.from(accountInfo.tenantProfiles?.values() || []);\n        return account;\n    }\n    /**\n     * Generate HomeAccountId from server response\n     * @param serverClientInfo\n     * @param authType\n     */\n    static generateHomeAccountId(serverClientInfo, authType, logger, cryptoObj, idTokenClaims) {\n        // since ADFS/DSTS do not have tid and does not set client_info\n        if (!(authType === AuthorityType.Adfs ||\n            authType === AuthorityType.Dsts)) {\n            // for cases where there is clientInfo\n            if (serverClientInfo) {\n                try {\n                    const clientInfo = buildClientInfo(serverClientInfo, cryptoObj.base64Decode);\n                    if (clientInfo.uid && clientInfo.utid) {\n                        return `${clientInfo.uid}.${clientInfo.utid}`;\n                    }\n                }\n                catch (e) { }\n            }\n            logger.warning(\"No client info in response\");\n        }\n        // default to \"sub\" claim\n        return idTokenClaims?.sub || \"\";\n    }\n    /**\n     * Validates an entity: checks for all expected params\n     * @param entity\n     */\n    static isAccountEntity(entity) {\n        if (!entity) {\n            return false;\n        }\n        return (entity.hasOwnProperty(\"homeAccountId\") &&\n            entity.hasOwnProperty(\"environment\") &&\n            entity.hasOwnProperty(\"realm\") &&\n            entity.hasOwnProperty(\"localAccountId\") &&\n            entity.hasOwnProperty(\"username\") &&\n            entity.hasOwnProperty(\"authorityType\"));\n    }\n    /**\n     * Helper function to determine whether 2 accountInfo objects represent the same account\n     * @param accountA\n     * @param accountB\n     * @param compareClaims - If set to true idTokenClaims will also be compared to determine account equality\n     */\n    static accountInfoIsEqual(accountA, accountB, compareClaims) {\n        if (!accountA || !accountB) {\n            return false;\n        }\n        let claimsMatch = true; // default to true so as to not fail comparison below if compareClaims: false\n        if (compareClaims) {\n            const accountAClaims = (accountA.idTokenClaims ||\n                {});\n            const accountBClaims = (accountB.idTokenClaims ||\n                {});\n            // issued at timestamp and nonce are expected to change each time a new id token is acquired\n            claimsMatch =\n                accountAClaims.iat === accountBClaims.iat &&\n                    accountAClaims.nonce === accountBClaims.nonce;\n        }\n        return (accountA.homeAccountId === accountB.homeAccountId &&\n            accountA.localAccountId === accountB.localAccountId &&\n            accountA.username === accountB.username &&\n            accountA.tenantId === accountB.tenantId &&\n            accountA.environment === accountB.environment &&\n            accountA.nativeAccountId === accountB.nativeAccountId &&\n            claimsMatch);\n    }\n}\n\nexport { AccountEntity };\n//# sourceMappingURL=AccountEntity.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nconst cacheQuotaExceededErrorCode = \"cache_quota_exceeded\";\nconst cacheUnknownErrorCode = \"cache_error_unknown\";\n\nexport { cacheQuotaExceededErrorCode, cacheUnknownErrorCode };\n//# sourceMappingURL=CacheErrorCodes.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { cacheUnknownErrorCode, cacheQuotaExceededErrorCode } from './CacheErrorCodes.mjs';\nimport * as CacheErrorCodes from './CacheErrorCodes.mjs';\nexport { CacheErrorCodes };\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nconst CacheErrorMessages = {\n    [cacheQuotaExceededErrorCode]: \"Exceeded cache storage capacity.\",\n    [cacheUnknownErrorCode]: \"Unexpected error occurred when using cache storage.\",\n};\n/**\n * Error thrown when there is an error with the cache\n */\nclass CacheError extends Error {\n    constructor(errorCode, errorMessage) {\n        const message = errorMessage ||\n            (CacheErrorMessages[errorCode]\n                ? CacheErrorMessages[errorCode]\n                : CacheErrorMessages[cacheUnknownErrorCode]);\n        super(`${errorCode}: ${message}`);\n        Object.setPrototypeOf(this, CacheError.prototype);\n        this.name = \"CacheError\";\n        this.errorCode = errorCode;\n        this.errorMessage = message;\n    }\n}\n\nexport { CacheError, CacheErrorMessages };\n//# sourceMappingURL=CacheError.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { Separators, CredentialType, AuthenticationScheme, THE_FAMILY_ID, APP_METADATA, AUTHORITY_METADATA_CONSTANTS } from '../utils/Constants.mjs';\nimport { generateCredentialKey } from './utils/CacheHelpers.mjs';\nimport { ScopeSet } from '../request/ScopeSet.mjs';\nimport { AccountEntity } from './entities/AccountEntity.mjs';\nimport { createClientAuthError } from '../error/ClientAuthError.mjs';\nimport { updateAccountTenantProfileData, tenantIdMatchesHomeTenant } from '../account/AccountInfo.mjs';\nimport { extractTokenClaims } from '../account/AuthToken.mjs';\nimport { name, version } from '../packageMetadata.mjs';\nimport { getAliasesFromStaticSources } from '../authority/AuthorityMetadata.mjs';\nimport { CacheError } from '../error/CacheError.mjs';\nimport { invalidCacheRecord, bindingKeyNotRemoved, multipleMatchingAppMetadata, methodNotImplemented } from '../error/ClientAuthErrorCodes.mjs';\nimport { cacheQuotaExceededErrorCode, cacheUnknownErrorCode } from '../error/CacheErrorCodes.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Interface class which implement cache storage functions used by MSAL to perform validity checks, and store tokens.\n * @internal\n */\nclass CacheManager {\n    constructor(clientId, cryptoImpl, logger, staticAuthorityOptions) {\n        this.clientId = clientId;\n        this.cryptoImpl = cryptoImpl;\n        this.commonLogger = logger.clone(name, version);\n        this.staticAuthorityOptions = staticAuthorityOptions;\n    }\n    /**\n     * Returns all the accounts in the cache that match the optional filter. If no filter is provided, all accounts are returned.\n     * @param accountFilter - (Optional) filter to narrow down the accounts returned\n     * @returns Array of AccountInfo objects in cache\n     */\n    getAllAccounts(accountFilter) {\n        return this.buildTenantProfiles(this.getAccountsFilteredBy(accountFilter || {}), accountFilter);\n    }\n    /**\n     * Gets first tenanted AccountInfo object found based on provided filters\n     */\n    getAccountInfoFilteredBy(accountFilter) {\n        const allAccounts = this.getAllAccounts(accountFilter);\n        if (allAccounts.length > 1) {\n            // If one or more accounts are found, prioritize accounts that have an ID token\n            const sortedAccounts = allAccounts.sort((account) => {\n                return account.idTokenClaims ? -1 : 1;\n            });\n            return sortedAccounts[0];\n        }\n        else if (allAccounts.length === 1) {\n            // If only one account is found, return it regardless of whether a matching ID token was found\n            return allAccounts[0];\n        }\n        else {\n            return null;\n        }\n    }\n    /**\n     * Returns a single matching\n     * @param accountFilter\n     * @returns\n     */\n    getBaseAccountInfo(accountFilter) {\n        const accountEntities = this.getAccountsFilteredBy(accountFilter);\n        if (accountEntities.length > 0) {\n            return accountEntities[0].getAccountInfo();\n        }\n        else {\n            return null;\n        }\n    }\n    /**\n     * Matches filtered account entities with cached ID tokens that match the tenant profile-specific account filters\n     * and builds the account info objects from the matching ID token's claims\n     * @param cachedAccounts\n     * @param accountFilter\n     * @returns Array of AccountInfo objects that match account and tenant profile filters\n     */\n    buildTenantProfiles(cachedAccounts, accountFilter) {\n        return cachedAccounts.flatMap((accountEntity) => {\n            return this.getAccountInfoForTenantProfiles(accountEntity, accountFilter);\n        });\n    }\n    getAccountInfoForTenantProfiles(accountEntity, accountFilter) {\n        return this.getTenantProfilesFromAccountEntity(accountEntity, accountFilter?.tenantId, accountFilter);\n    }\n    getTenantedAccountInfoByFilter(accountInfo, tokenKeys, tenantProfile, tenantProfileFilter) {\n        let tenantedAccountInfo = null;\n        let idTokenClaims;\n        if (tenantProfileFilter) {\n            if (!this.tenantProfileMatchesFilter(tenantProfile, tenantProfileFilter)) {\n                return null;\n            }\n        }\n        const idToken = this.getIdToken(accountInfo, tokenKeys, tenantProfile.tenantId);\n        if (idToken) {\n            idTokenClaims = extractTokenClaims(idToken.secret, this.cryptoImpl.base64Decode);\n            if (!this.idTokenClaimsMatchTenantProfileFilter(idTokenClaims, tenantProfileFilter)) {\n                // ID token sourced claims don't match so this tenant profile is not a match\n                return null;\n            }\n        }\n        // Expand tenant profile into account info based on matching tenant profile and if available matching ID token claims\n        tenantedAccountInfo = updateAccountTenantProfileData(accountInfo, tenantProfile, idTokenClaims, idToken?.secret);\n        return tenantedAccountInfo;\n    }\n    getTenantProfilesFromAccountEntity(accountEntity, targetTenantId, tenantProfileFilter) {\n        const accountInfo = accountEntity.getAccountInfo();\n        let searchTenantProfiles = accountInfo.tenantProfiles || new Map();\n        const tokenKeys = this.getTokenKeys();\n        // If a tenant ID was provided, only return the tenant profile for that tenant ID if it exists\n        if (targetTenantId) {\n            const tenantProfile = searchTenantProfiles.get(targetTenantId);\n            if (tenantProfile) {\n                // Reduce search field to just this tenant profile\n                searchTenantProfiles = new Map([\n                    [targetTenantId, tenantProfile],\n                ]);\n            }\n            else {\n                // No tenant profile for search tenant ID, return empty array\n                return [];\n            }\n        }\n        const matchingTenantProfiles = [];\n        searchTenantProfiles.forEach((tenantProfile) => {\n            const tenantedAccountInfo = this.getTenantedAccountInfoByFilter(accountInfo, tokenKeys, tenantProfile, tenantProfileFilter);\n            if (tenantedAccountInfo) {\n                matchingTenantProfiles.push(tenantedAccountInfo);\n            }\n        });\n        return matchingTenantProfiles;\n    }\n    tenantProfileMatchesFilter(tenantProfile, tenantProfileFilter) {\n        if (!!tenantProfileFilter.localAccountId &&\n            !this.matchLocalAccountIdFromTenantProfile(tenantProfile, tenantProfileFilter.localAccountId)) {\n            return false;\n        }\n        if (!!tenantProfileFilter.name &&\n            !(tenantProfile.name === tenantProfileFilter.name)) {\n            return false;\n        }\n        if (tenantProfileFilter.isHomeTenant !== undefined &&\n            !(tenantProfile.isHomeTenant === tenantProfileFilter.isHomeTenant)) {\n            return false;\n        }\n        return true;\n    }\n    idTokenClaimsMatchTenantProfileFilter(idTokenClaims, tenantProfileFilter) {\n        // Tenant Profile filtering\n        if (tenantProfileFilter) {\n            if (!!tenantProfileFilter.localAccountId &&\n                !this.matchLocalAccountIdFromTokenClaims(idTokenClaims, tenantProfileFilter.localAccountId)) {\n                return false;\n            }\n            if (!!tenantProfileFilter.loginHint &&\n                !this.matchLoginHintFromTokenClaims(idTokenClaims, tenantProfileFilter.loginHint)) {\n                return false;\n            }\n            if (!!tenantProfileFilter.username &&\n                !this.matchUsername(idTokenClaims.preferred_username, tenantProfileFilter.username)) {\n                return false;\n            }\n            if (!!tenantProfileFilter.name &&\n                !this.matchName(idTokenClaims, tenantProfileFilter.name)) {\n                return false;\n            }\n            if (!!tenantProfileFilter.sid &&\n                !this.matchSid(idTokenClaims, tenantProfileFilter.sid)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * saves a cache record\n     * @param cacheRecord {CacheRecord}\n     * @param storeInCache {?StoreInCache}\n     * @param correlationId {?string} correlation id\n     */\n    async saveCacheRecord(cacheRecord, storeInCache, correlationId) {\n        if (!cacheRecord) {\n            throw createClientAuthError(invalidCacheRecord);\n        }\n        try {\n            if (!!cacheRecord.account) {\n                this.setAccount(cacheRecord.account);\n            }\n            if (!!cacheRecord.idToken && storeInCache?.idToken !== false) {\n                this.setIdTokenCredential(cacheRecord.idToken);\n            }\n            if (!!cacheRecord.accessToken &&\n                storeInCache?.accessToken !== false) {\n                await this.saveAccessToken(cacheRecord.accessToken);\n            }\n            if (!!cacheRecord.refreshToken &&\n                storeInCache?.refreshToken !== false) {\n                this.setRefreshTokenCredential(cacheRecord.refreshToken);\n            }\n            if (!!cacheRecord.appMetadata) {\n                this.setAppMetadata(cacheRecord.appMetadata);\n            }\n        }\n        catch (e) {\n            this.commonLogger?.error(`CacheManager.saveCacheRecord: failed`);\n            if (e instanceof Error) {\n                this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${e.message}`, correlationId);\n                if (e.name === \"QuotaExceededError\" ||\n                    e.name === \"NS_ERROR_DOM_QUOTA_REACHED\" ||\n                    e.message.includes(\"exceeded the quota\")) {\n                    this.commonLogger?.error(`CacheManager.saveCacheRecord: exceeded storage quota`, correlationId);\n                    throw new CacheError(cacheQuotaExceededErrorCode);\n                }\n                else {\n                    throw new CacheError(e.name, e.message);\n                }\n            }\n            else {\n                this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${e}`, correlationId);\n                throw new CacheError(cacheUnknownErrorCode);\n            }\n        }\n    }\n    /**\n     * saves access token credential\n     * @param credential\n     */\n    async saveAccessToken(credential) {\n        const accessTokenFilter = {\n            clientId: credential.clientId,\n            credentialType: credential.credentialType,\n            environment: credential.environment,\n            homeAccountId: credential.homeAccountId,\n            realm: credential.realm,\n            tokenType: credential.tokenType,\n            requestedClaimsHash: credential.requestedClaimsHash,\n        };\n        const tokenKeys = this.getTokenKeys();\n        const currentScopes = ScopeSet.fromString(credential.target);\n        const removedAccessTokens = [];\n        tokenKeys.accessToken.forEach((key) => {\n            if (!this.accessTokenKeyMatchesFilter(key, accessTokenFilter, false)) {\n                return;\n            }\n            const tokenEntity = this.getAccessTokenCredential(key);\n            if (tokenEntity &&\n                this.credentialMatchesFilter(tokenEntity, accessTokenFilter)) {\n                const tokenScopeSet = ScopeSet.fromString(tokenEntity.target);\n                if (tokenScopeSet.intersectingScopeSets(currentScopes)) {\n                    removedAccessTokens.push(this.removeAccessToken(key));\n                }\n            }\n        });\n        await Promise.all(removedAccessTokens);\n        this.setAccessTokenCredential(credential);\n    }\n    /**\n     * Retrieve account entities matching all provided tenant-agnostic filters; if no filter is set, get all account entities in the cache\n     * Not checking for casing as keys are all generated in lower case, remember to convert to lower case if object properties are compared\n     * @param accountFilter - An object containing Account properties to filter by\n     */\n    getAccountsFilteredBy(accountFilter) {\n        const allAccountKeys = this.getAccountKeys();\n        const matchingAccounts = [];\n        allAccountKeys.forEach((cacheKey) => {\n            if (!this.isAccountKey(cacheKey, accountFilter.homeAccountId)) {\n                // Don't parse value if the key doesn't match the account filters\n                return;\n            }\n            const entity = this.getAccount(cacheKey, this.commonLogger);\n            // Match base account fields\n            if (!entity) {\n                return;\n            }\n            if (!!accountFilter.homeAccountId &&\n                !this.matchHomeAccountId(entity, accountFilter.homeAccountId)) {\n                return;\n            }\n            if (!!accountFilter.username &&\n                !this.matchUsername(entity.username, accountFilter.username)) {\n                return;\n            }\n            if (!!accountFilter.environment &&\n                !this.matchEnvironment(entity, accountFilter.environment)) {\n                return;\n            }\n            if (!!accountFilter.realm &&\n                !this.matchRealm(entity, accountFilter.realm)) {\n                return;\n            }\n            if (!!accountFilter.nativeAccountId &&\n                !this.matchNativeAccountId(entity, accountFilter.nativeAccountId)) {\n                return;\n            }\n            if (!!accountFilter.authorityType &&\n                !this.matchAuthorityType(entity, accountFilter.authorityType)) {\n                return;\n            }\n            // If at least one tenant profile matches the tenant profile filter, add the account to the list of matching accounts\n            const tenantProfileFilter = {\n                localAccountId: accountFilter?.localAccountId,\n                name: accountFilter?.name,\n            };\n            const matchingTenantProfiles = entity.tenantProfiles?.filter((tenantProfile) => {\n                return this.tenantProfileMatchesFilter(tenantProfile, tenantProfileFilter);\n            });\n            if (matchingTenantProfiles && matchingTenantProfiles.length === 0) {\n                // No tenant profile for this account matches filter, don't add to list of matching accounts\n                return;\n            }\n            matchingAccounts.push(entity);\n        });\n        return matchingAccounts;\n    }\n    /**\n     * Returns true if the given key matches our account key schema. Also matches homeAccountId and/or tenantId if provided\n     * @param key\n     * @param homeAccountId\n     * @param tenantId\n     * @returns\n     */\n    isAccountKey(key, homeAccountId, tenantId) {\n        if (key.split(Separators.CACHE_KEY_SEPARATOR).length < 3) {\n            // Account cache keys contain 3 items separated by '-' (each item may also contain '-')\n            return false;\n        }\n        if (homeAccountId &&\n            !key.toLowerCase().includes(homeAccountId.toLowerCase())) {\n            return false;\n        }\n        if (tenantId && !key.toLowerCase().includes(tenantId.toLowerCase())) {\n            return false;\n        }\n        // Do not check environment as aliasing can cause false negatives\n        return true;\n    }\n    /**\n     * Returns true if the given key matches our credential key schema.\n     * @param key\n     */\n    isCredentialKey(key) {\n        if (key.split(Separators.CACHE_KEY_SEPARATOR).length < 6) {\n            // Credential cache keys contain 6 items separated by '-' (each item may also contain '-')\n            return false;\n        }\n        const lowerCaseKey = key.toLowerCase();\n        // Credential keys must indicate what credential type they represent\n        if (lowerCaseKey.indexOf(CredentialType.ID_TOKEN.toLowerCase()) ===\n            -1 &&\n            lowerCaseKey.indexOf(CredentialType.ACCESS_TOKEN.toLowerCase()) ===\n                -1 &&\n            lowerCaseKey.indexOf(CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()) === -1 &&\n            lowerCaseKey.indexOf(CredentialType.REFRESH_TOKEN.toLowerCase()) ===\n                -1) {\n            return false;\n        }\n        if (lowerCaseKey.indexOf(CredentialType.REFRESH_TOKEN.toLowerCase()) >\n            -1) {\n            // Refresh tokens must contain the client id or family id\n            const clientIdValidation = `${CredentialType.REFRESH_TOKEN}${Separators.CACHE_KEY_SEPARATOR}${this.clientId}${Separators.CACHE_KEY_SEPARATOR}`;\n            const familyIdValidation = `${CredentialType.REFRESH_TOKEN}${Separators.CACHE_KEY_SEPARATOR}${THE_FAMILY_ID}${Separators.CACHE_KEY_SEPARATOR}`;\n            if (lowerCaseKey.indexOf(clientIdValidation.toLowerCase()) === -1 &&\n                lowerCaseKey.indexOf(familyIdValidation.toLowerCase()) === -1) {\n                return false;\n            }\n        }\n        else if (lowerCaseKey.indexOf(this.clientId.toLowerCase()) === -1) {\n            // Tokens must contain the clientId\n            return false;\n        }\n        return true;\n    }\n    /**\n     * Returns whether or not the given credential entity matches the filter\n     * @param entity\n     * @param filter\n     * @returns\n     */\n    credentialMatchesFilter(entity, filter) {\n        if (!!filter.clientId && !this.matchClientId(entity, filter.clientId)) {\n            return false;\n        }\n        if (!!filter.userAssertionHash &&\n            !this.matchUserAssertionHash(entity, filter.userAssertionHash)) {\n            return false;\n        }\n        /*\n         * homeAccountId can be undefined, and we want to filter out cached items that have a homeAccountId of \"\"\n         * because we don't want a client_credential request to return a cached token that has a homeAccountId\n         */\n        if (typeof filter.homeAccountId === \"string\" &&\n            !this.matchHomeAccountId(entity, filter.homeAccountId)) {\n            return false;\n        }\n        if (!!filter.environment &&\n            !this.matchEnvironment(entity, filter.environment)) {\n            return false;\n        }\n        if (!!filter.realm && !this.matchRealm(entity, filter.realm)) {\n            return false;\n        }\n        if (!!filter.credentialType &&\n            !this.matchCredentialType(entity, filter.credentialType)) {\n            return false;\n        }\n        if (!!filter.familyId && !this.matchFamilyId(entity, filter.familyId)) {\n            return false;\n        }\n        /*\n         * idTokens do not have \"target\", target specific refreshTokens do exist for some types of authentication\n         * Resource specific refresh tokens case will be added when the support is deemed necessary\n         */\n        if (!!filter.target && !this.matchTarget(entity, filter.target)) {\n            return false;\n        }\n        // If request OR cached entity has requested Claims Hash, check if they match\n        if (filter.requestedClaimsHash || entity.requestedClaimsHash) {\n            // Don't match if either is undefined or they are different\n            if (entity.requestedClaimsHash !== filter.requestedClaimsHash) {\n                return false;\n            }\n        }\n        // Access Token with Auth Scheme specific matching\n        if (entity.credentialType ===\n            CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME) {\n            if (!!filter.tokenType &&\n                !this.matchTokenType(entity, filter.tokenType)) {\n                return false;\n            }\n            // KeyId (sshKid) in request must match cached SSH certificate keyId because SSH cert is bound to a specific key\n            if (filter.tokenType === AuthenticationScheme.SSH) {\n                if (filter.keyId && !this.matchKeyId(entity, filter.keyId)) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n    /**\n     * retrieve appMetadata matching all provided filters; if no filter is set, get all appMetadata\n     * @param filter\n     */\n    getAppMetadataFilteredBy(filter) {\n        const allCacheKeys = this.getKeys();\n        const matchingAppMetadata = {};\n        allCacheKeys.forEach((cacheKey) => {\n            // don't parse any non-appMetadata type cache entities\n            if (!this.isAppMetadata(cacheKey)) {\n                return;\n            }\n            // Attempt retrieval\n            const entity = this.getAppMetadata(cacheKey);\n            if (!entity) {\n                return;\n            }\n            if (!!filter.environment &&\n                !this.matchEnvironment(entity, filter.environment)) {\n                return;\n            }\n            if (!!filter.clientId &&\n                !this.matchClientId(entity, filter.clientId)) {\n                return;\n            }\n            matchingAppMetadata[cacheKey] = entity;\n        });\n        return matchingAppMetadata;\n    }\n    /**\n     * retrieve authorityMetadata that contains a matching alias\n     * @param filter\n     */\n    getAuthorityMetadataByAlias(host) {\n        const allCacheKeys = this.getAuthorityMetadataKeys();\n        let matchedEntity = null;\n        allCacheKeys.forEach((cacheKey) => {\n            // don't parse any non-authorityMetadata type cache entities\n            if (!this.isAuthorityMetadata(cacheKey) ||\n                cacheKey.indexOf(this.clientId) === -1) {\n                return;\n            }\n            // Attempt retrieval\n            const entity = this.getAuthorityMetadata(cacheKey);\n            if (!entity) {\n                return;\n            }\n            if (entity.aliases.indexOf(host) === -1) {\n                return;\n            }\n            matchedEntity = entity;\n        });\n        return matchedEntity;\n    }\n    /**\n     * Removes all accounts and related tokens from cache.\n     */\n    async removeAllAccounts() {\n        const allAccountKeys = this.getAccountKeys();\n        const removedAccounts = [];\n        allAccountKeys.forEach((cacheKey) => {\n            removedAccounts.push(this.removeAccount(cacheKey));\n        });\n        await Promise.all(removedAccounts);\n    }\n    /**\n     * Removes the account and related tokens for a given account key\n     * @param account\n     */\n    async removeAccount(accountKey) {\n        const account = this.getAccount(accountKey, this.commonLogger);\n        if (!account) {\n            return;\n        }\n        await this.removeAccountContext(account);\n        this.removeItem(accountKey);\n    }\n    /**\n     * Removes credentials associated with the provided account\n     * @param account\n     */\n    async removeAccountContext(account) {\n        const allTokenKeys = this.getTokenKeys();\n        const accountId = account.generateAccountId();\n        const removedCredentials = [];\n        allTokenKeys.idToken.forEach((key) => {\n            if (key.indexOf(accountId) === 0) {\n                this.removeIdToken(key);\n            }\n        });\n        allTokenKeys.accessToken.forEach((key) => {\n            if (key.indexOf(accountId) === 0) {\n                removedCredentials.push(this.removeAccessToken(key));\n            }\n        });\n        allTokenKeys.refreshToken.forEach((key) => {\n            if (key.indexOf(accountId) === 0) {\n                this.removeRefreshToken(key);\n            }\n        });\n        await Promise.all(removedCredentials);\n    }\n    /**\n     * Migrates a single-tenant account and all it's associated alternate cross-tenant account objects in the\n     * cache into a condensed multi-tenant account object with tenant profiles.\n     * @param accountKey\n     * @param accountEntity\n     * @param logger\n     * @returns\n     */\n    updateOutdatedCachedAccount(accountKey, accountEntity, logger) {\n        // Only update if account entity is defined and has no tenantProfiles object (is outdated)\n        if (accountEntity && accountEntity.isSingleTenant()) {\n            this.commonLogger?.verbose(\"updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity\");\n            // Get keys of all accounts belonging to user\n            const matchingAccountKeys = this.getAccountKeys().filter((key) => {\n                return key.startsWith(accountEntity.homeAccountId);\n            });\n            // Get all account entities belonging to user\n            const accountsToMerge = [];\n            matchingAccountKeys.forEach((key) => {\n                const account = this.getCachedAccountEntity(key);\n                if (account) {\n                    accountsToMerge.push(account);\n                }\n            });\n            // Set base account to home account if available, any account if not\n            const baseAccount = accountsToMerge.find((account) => {\n                return tenantIdMatchesHomeTenant(account.realm, account.homeAccountId);\n            }) || accountsToMerge[0];\n            // Populate tenant profiles built from each account entity belonging to the user\n            baseAccount.tenantProfiles = accountsToMerge.map((account) => {\n                return {\n                    tenantId: account.realm,\n                    localAccountId: account.localAccountId,\n                    name: account.name,\n                    isHomeTenant: tenantIdMatchesHomeTenant(account.realm, account.homeAccountId),\n                };\n            });\n            const updatedAccount = CacheManager.toObject(new AccountEntity(), {\n                ...baseAccount,\n            });\n            const newAccountKey = updatedAccount.generateAccountKey();\n            // Clear cache of legacy account objects that have been collpsed into tenant profiles\n            matchingAccountKeys.forEach((key) => {\n                if (key !== newAccountKey) {\n                    this.removeOutdatedAccount(accountKey);\n                }\n            });\n            // Cache updated account object\n            this.setAccount(updatedAccount);\n            logger?.verbose(\"Updated an outdated account entity in the cache\");\n            return updatedAccount;\n        }\n        // No update is necessary\n        return accountEntity;\n    }\n    /**\n     * returns a boolean if the given credential is removed\n     * @param credential\n     */\n    async removeAccessToken(key) {\n        const credential = this.getAccessTokenCredential(key);\n        if (!credential) {\n            return;\n        }\n        // Remove Token Binding Key from key store for PoP Tokens Credentials\n        if (credential.credentialType.toLowerCase() ===\n            CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()) {\n            if (credential.tokenType === AuthenticationScheme.POP) {\n                const accessTokenWithAuthSchemeEntity = credential;\n                const kid = accessTokenWithAuthSchemeEntity.keyId;\n                if (kid) {\n                    try {\n                        await this.cryptoImpl.removeTokenBindingKey(kid);\n                    }\n                    catch (error) {\n                        throw createClientAuthError(bindingKeyNotRemoved);\n                    }\n                }\n            }\n        }\n        return this.removeItem(key);\n    }\n    /**\n     * Removes all app metadata objects from cache.\n     */\n    removeAppMetadata() {\n        const allCacheKeys = this.getKeys();\n        allCacheKeys.forEach((cacheKey) => {\n            if (this.isAppMetadata(cacheKey)) {\n                this.removeItem(cacheKey);\n            }\n        });\n        return true;\n    }\n    /**\n     * Retrieve AccountEntity from cache\n     * @param account\n     */\n    readAccountFromCache(account) {\n        const accountKey = AccountEntity.generateAccountCacheKey(account);\n        return this.getAccount(accountKey, this.commonLogger);\n    }\n    /**\n     * Retrieve IdTokenEntity from cache\n     * @param account {AccountInfo}\n     * @param tokenKeys {?TokenKeys}\n     * @param targetRealm {?string}\n     * @param performanceClient {?IPerformanceClient}\n     * @param correlationId {?string}\n     */\n    getIdToken(account, tokenKeys, targetRealm, performanceClient, correlationId) {\n        this.commonLogger.trace(\"CacheManager - getIdToken called\");\n        const idTokenFilter = {\n            homeAccountId: account.homeAccountId,\n            environment: account.environment,\n            credentialType: CredentialType.ID_TOKEN,\n            clientId: this.clientId,\n            realm: targetRealm,\n        };\n        const idTokenMap = this.getIdTokensByFilter(idTokenFilter, tokenKeys);\n        const numIdTokens = idTokenMap.size;\n        if (numIdTokens < 1) {\n            this.commonLogger.info(\"CacheManager:getIdToken - No token found\");\n            return null;\n        }\n        else if (numIdTokens > 1) {\n            let tokensToBeRemoved = idTokenMap;\n            // Multiple tenant profiles and no tenant specified, pick home account\n            if (!targetRealm) {\n                const homeIdTokenMap = new Map();\n                idTokenMap.forEach((idToken, key) => {\n                    if (idToken.realm === account.tenantId) {\n                        homeIdTokenMap.set(key, idToken);\n                    }\n                });\n                const numHomeIdTokens = homeIdTokenMap.size;\n                if (numHomeIdTokens < 1) {\n                    this.commonLogger.info(\"CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result\");\n                    return idTokenMap.values().next().value;\n                }\n                else if (numHomeIdTokens === 1) {\n                    this.commonLogger.info(\"CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile\");\n                    return homeIdTokenMap.values().next().value;\n                }\n                else {\n                    // Multiple ID tokens for home tenant profile, remove all and return null\n                    tokensToBeRemoved = homeIdTokenMap;\n                }\n            }\n            // Multiple tokens for a single tenant profile, remove all and return null\n            this.commonLogger.info(\"CacheManager:getIdToken - Multiple matching ID tokens found, clearing them\");\n            tokensToBeRemoved.forEach((idToken, key) => {\n                this.removeIdToken(key);\n            });\n            if (performanceClient && correlationId) {\n                performanceClient.addFields({ multiMatchedID: idTokenMap.size }, correlationId);\n            }\n            return null;\n        }\n        this.commonLogger.info(\"CacheManager:getIdToken - Returning ID token\");\n        return idTokenMap.values().next().value;\n    }\n    /**\n     * Gets all idTokens matching the given filter\n     * @param filter\n     * @returns\n     */\n    getIdTokensByFilter(filter, tokenKeys) {\n        const idTokenKeys = (tokenKeys && tokenKeys.idToken) || this.getTokenKeys().idToken;\n        const idTokens = new Map();\n        idTokenKeys.forEach((key) => {\n            if (!this.idTokenKeyMatchesFilter(key, {\n                clientId: this.clientId,\n                ...filter,\n            })) {\n                return;\n            }\n            const idToken = this.getIdTokenCredential(key);\n            if (idToken && this.credentialMatchesFilter(idToken, filter)) {\n                idTokens.set(key, idToken);\n            }\n        });\n        return idTokens;\n    }\n    /**\n     * Validate the cache key against filter before retrieving and parsing cache value\n     * @param key\n     * @param filter\n     * @returns\n     */\n    idTokenKeyMatchesFilter(inputKey, filter) {\n        const key = inputKey.toLowerCase();\n        if (filter.clientId &&\n            key.indexOf(filter.clientId.toLowerCase()) === -1) {\n            return false;\n        }\n        if (filter.homeAccountId &&\n            key.indexOf(filter.homeAccountId.toLowerCase()) === -1) {\n            return false;\n        }\n        return true;\n    }\n    /**\n     * Removes idToken from the cache\n     * @param key\n     */\n    removeIdToken(key) {\n        this.removeItem(key);\n    }\n    /**\n     * Removes refresh token from the cache\n     * @param key\n     */\n    removeRefreshToken(key) {\n        this.removeItem(key);\n    }\n    /**\n     * Retrieve AccessTokenEntity from cache\n     * @param account {AccountInfo}\n     * @param request {BaseAuthRequest}\n     * @param tokenKeys {?TokenKeys}\n     * @param performanceClient {?IPerformanceClient}\n     * @param correlationId {?string}\n     */\n    getAccessToken(account, request, tokenKeys, targetRealm, performanceClient, correlationId) {\n        this.commonLogger.trace(\"CacheManager - getAccessToken called\");\n        const scopes = ScopeSet.createSearchScopes(request.scopes);\n        const authScheme = request.authenticationScheme || AuthenticationScheme.BEARER;\n        /*\n         * Distinguish between Bearer and PoP/SSH token cache types\n         * Cast to lowercase to handle \"bearer\" from ADFS\n         */\n        const credentialType = authScheme &&\n            authScheme.toLowerCase() !==\n                AuthenticationScheme.BEARER.toLowerCase()\n            ? CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME\n            : CredentialType.ACCESS_TOKEN;\n        const accessTokenFilter = {\n            homeAccountId: account.homeAccountId,\n            environment: account.environment,\n            credentialType: credentialType,\n            clientId: this.clientId,\n            realm: targetRealm || account.tenantId,\n            target: scopes,\n            tokenType: authScheme,\n            keyId: request.sshKid,\n            requestedClaimsHash: request.requestedClaimsHash,\n        };\n        const accessTokenKeys = (tokenKeys && tokenKeys.accessToken) ||\n            this.getTokenKeys().accessToken;\n        const accessTokens = [];\n        accessTokenKeys.forEach((key) => {\n            // Validate key\n            if (this.accessTokenKeyMatchesFilter(key, accessTokenFilter, true)) {\n                const accessToken = this.getAccessTokenCredential(key);\n                // Validate value\n                if (accessToken &&\n                    this.credentialMatchesFilter(accessToken, accessTokenFilter)) {\n                    accessTokens.push(accessToken);\n                }\n            }\n        });\n        const numAccessTokens = accessTokens.length;\n        if (numAccessTokens < 1) {\n            this.commonLogger.info(\"CacheManager:getAccessToken - No token found\");\n            return null;\n        }\n        else if (numAccessTokens > 1) {\n            this.commonLogger.info(\"CacheManager:getAccessToken - Multiple access tokens found, clearing them\");\n            accessTokens.forEach((accessToken) => {\n                void this.removeAccessToken(generateCredentialKey(accessToken));\n            });\n            if (performanceClient && correlationId) {\n                performanceClient.addFields({ multiMatchedAT: accessTokens.length }, correlationId);\n            }\n            return null;\n        }\n        this.commonLogger.info(\"CacheManager:getAccessToken - Returning access token\");\n        return accessTokens[0];\n    }\n    /**\n     * Validate the cache key against filter before retrieving and parsing cache value\n     * @param key\n     * @param filter\n     * @param keyMustContainAllScopes\n     * @returns\n     */\n    accessTokenKeyMatchesFilter(inputKey, filter, keyMustContainAllScopes) {\n        const key = inputKey.toLowerCase();\n        if (filter.clientId &&\n            key.indexOf(filter.clientId.toLowerCase()) === -1) {\n            return false;\n        }\n        if (filter.homeAccountId &&\n            key.indexOf(filter.homeAccountId.toLowerCase()) === -1) {\n            return false;\n        }\n        if (filter.realm && key.indexOf(filter.realm.toLowerCase()) === -1) {\n            return false;\n        }\n        if (filter.requestedClaimsHash &&\n            key.indexOf(filter.requestedClaimsHash.toLowerCase()) === -1) {\n            return false;\n        }\n        if (filter.target) {\n            const scopes = filter.target.asArray();\n            for (let i = 0; i < scopes.length; i++) {\n                if (keyMustContainAllScopes &&\n                    !key.includes(scopes[i].toLowerCase())) {\n                    // When performing a cache lookup a missing scope would be a cache miss\n                    return false;\n                }\n                else if (!keyMustContainAllScopes &&\n                    key.includes(scopes[i].toLowerCase())) {\n                    // When performing a cache write, any token with a subset of requested scopes should be replaced\n                    return true;\n                }\n            }\n        }\n        return true;\n    }\n    /**\n     * Gets all access tokens matching the filter\n     * @param filter\n     * @returns\n     */\n    getAccessTokensByFilter(filter) {\n        const tokenKeys = this.getTokenKeys();\n        const accessTokens = [];\n        tokenKeys.accessToken.forEach((key) => {\n            if (!this.accessTokenKeyMatchesFilter(key, filter, true)) {\n                return;\n            }\n            const accessToken = this.getAccessTokenCredential(key);\n            if (accessToken &&\n                this.credentialMatchesFilter(accessToken, filter)) {\n                accessTokens.push(accessToken);\n            }\n        });\n        return accessTokens;\n    }\n    /**\n     * Helper to retrieve the appropriate refresh token from cache\n     * @param account {AccountInfo}\n     * @param familyRT {boolean}\n     * @param tokenKeys {?TokenKeys}\n     * @param performanceClient {?IPerformanceClient}\n     * @param correlationId {?string}\n     */\n    getRefreshToken(account, familyRT, tokenKeys, performanceClient, correlationId) {\n        this.commonLogger.trace(\"CacheManager - getRefreshToken called\");\n        const id = familyRT ? THE_FAMILY_ID : undefined;\n        const refreshTokenFilter = {\n            homeAccountId: account.homeAccountId,\n            environment: account.environment,\n            credentialType: CredentialType.REFRESH_TOKEN,\n            clientId: this.clientId,\n            familyId: id,\n        };\n        const refreshTokenKeys = (tokenKeys && tokenKeys.refreshToken) ||\n            this.getTokenKeys().refreshToken;\n        const refreshTokens = [];\n        refreshTokenKeys.forEach((key) => {\n            // Validate key\n            if (this.refreshTokenKeyMatchesFilter(key, refreshTokenFilter)) {\n                const refreshToken = this.getRefreshTokenCredential(key);\n                // Validate value\n                if (refreshToken &&\n                    this.credentialMatchesFilter(refreshToken, refreshTokenFilter)) {\n                    refreshTokens.push(refreshToken);\n                }\n            }\n        });\n        const numRefreshTokens = refreshTokens.length;\n        if (numRefreshTokens < 1) {\n            this.commonLogger.info(\"CacheManager:getRefreshToken - No refresh token found.\");\n            return null;\n        }\n        // address the else case after remove functions address environment aliases\n        if (numRefreshTokens > 1 && performanceClient && correlationId) {\n            performanceClient.addFields({ multiMatchedRT: numRefreshTokens }, correlationId);\n        }\n        this.commonLogger.info(\"CacheManager:getRefreshToken - returning refresh token\");\n        return refreshTokens[0];\n    }\n    /**\n     * Validate the cache key against filter before retrieving and parsing cache value\n     * @param key\n     * @param filter\n     */\n    refreshTokenKeyMatchesFilter(inputKey, filter) {\n        const key = inputKey.toLowerCase();\n        if (filter.familyId &&\n            key.indexOf(filter.familyId.toLowerCase()) === -1) {\n            return false;\n        }\n        // If familyId is used, clientId is not in the key\n        if (!filter.familyId &&\n            filter.clientId &&\n            key.indexOf(filter.clientId.toLowerCase()) === -1) {\n            return false;\n        }\n        if (filter.homeAccountId &&\n            key.indexOf(filter.homeAccountId.toLowerCase()) === -1) {\n            return false;\n        }\n        return true;\n    }\n    /**\n     * Retrieve AppMetadataEntity from cache\n     */\n    readAppMetadataFromCache(environment) {\n        const appMetadataFilter = {\n            environment,\n            clientId: this.clientId,\n        };\n        const appMetadata = this.getAppMetadataFilteredBy(appMetadataFilter);\n        const appMetadataEntries = Object.keys(appMetadata).map((key) => appMetadata[key]);\n        const numAppMetadata = appMetadataEntries.length;\n        if (numAppMetadata < 1) {\n            return null;\n        }\n        else if (numAppMetadata > 1) {\n            throw createClientAuthError(multipleMatchingAppMetadata);\n        }\n        return appMetadataEntries[0];\n    }\n    /**\n     * Return the family_id value associated  with FOCI\n     * @param environment\n     * @param clientId\n     */\n    isAppMetadataFOCI(environment) {\n        const appMetadata = this.readAppMetadataFromCache(environment);\n        return !!(appMetadata && appMetadata.familyId === THE_FAMILY_ID);\n    }\n    /**\n     * helper to match account ids\n     * @param value\n     * @param homeAccountId\n     */\n    matchHomeAccountId(entity, homeAccountId) {\n        return !!(typeof entity.homeAccountId === \"string\" &&\n            homeAccountId === entity.homeAccountId);\n    }\n    /**\n     * helper to match account ids\n     * @param entity\n     * @param localAccountId\n     * @returns\n     */\n    matchLocalAccountIdFromTokenClaims(tokenClaims, localAccountId) {\n        const idTokenLocalAccountId = tokenClaims.oid || tokenClaims.sub;\n        return localAccountId === idTokenLocalAccountId;\n    }\n    matchLocalAccountIdFromTenantProfile(tenantProfile, localAccountId) {\n        return tenantProfile.localAccountId === localAccountId;\n    }\n    /**\n     * helper to match names\n     * @param entity\n     * @param name\n     * @returns true if the downcased name properties are present and match in the filter and the entity\n     */\n    matchName(claims, name) {\n        return !!(name.toLowerCase() === claims.name?.toLowerCase());\n    }\n    /**\n     * helper to match usernames\n     * @param entity\n     * @param username\n     * @returns\n     */\n    matchUsername(cachedUsername, filterUsername) {\n        return !!(cachedUsername &&\n            typeof cachedUsername === \"string\" &&\n            filterUsername?.toLowerCase() === cachedUsername.toLowerCase());\n    }\n    /**\n     * helper to match assertion\n     * @param value\n     * @param oboAssertion\n     */\n    matchUserAssertionHash(entity, userAssertionHash) {\n        return !!(entity.userAssertionHash &&\n            userAssertionHash === entity.userAssertionHash);\n    }\n    /**\n     * helper to match environment\n     * @param value\n     * @param environment\n     */\n    matchEnvironment(entity, environment) {\n        // Check static authority options first for cases where authority metadata has not been resolved and cached yet\n        if (this.staticAuthorityOptions) {\n            const staticAliases = getAliasesFromStaticSources(this.staticAuthorityOptions, this.commonLogger);\n            if (staticAliases.includes(environment) &&\n                staticAliases.includes(entity.environment)) {\n                return true;\n            }\n        }\n        // Query metadata cache if no static authority configuration has aliases that match enviroment\n        const cloudMetadata = this.getAuthorityMetadataByAlias(environment);\n        if (cloudMetadata &&\n            cloudMetadata.aliases.indexOf(entity.environment) > -1) {\n            return true;\n        }\n        return false;\n    }\n    /**\n     * helper to match credential type\n     * @param entity\n     * @param credentialType\n     */\n    matchCredentialType(entity, credentialType) {\n        return (entity.credentialType &&\n            credentialType.toLowerCase() === entity.credentialType.toLowerCase());\n    }\n    /**\n     * helper to match client ids\n     * @param entity\n     * @param clientId\n     */\n    matchClientId(entity, clientId) {\n        return !!(entity.clientId && clientId === entity.clientId);\n    }\n    /**\n     * helper to match family ids\n     * @param entity\n     * @param familyId\n     */\n    matchFamilyId(entity, familyId) {\n        return !!(entity.familyId && familyId === entity.familyId);\n    }\n    /**\n     * helper to match realm\n     * @param entity\n     * @param realm\n     */\n    matchRealm(entity, realm) {\n        return !!(entity.realm?.toLowerCase() === realm.toLowerCase());\n    }\n    /**\n     * helper to match nativeAccountId\n     * @param entity\n     * @param nativeAccountId\n     * @returns boolean indicating the match result\n     */\n    matchNativeAccountId(entity, nativeAccountId) {\n        return !!(entity.nativeAccountId && nativeAccountId === entity.nativeAccountId);\n    }\n    /**\n     * helper to match loginHint which can be either:\n     * 1. login_hint ID token claim\n     * 2. username in cached account object\n     * 3. upn in ID token claims\n     * @param entity\n     * @param loginHint\n     * @returns\n     */\n    matchLoginHintFromTokenClaims(tokenClaims, loginHint) {\n        if (tokenClaims.login_hint === loginHint) {\n            return true;\n        }\n        if (tokenClaims.preferred_username === loginHint) {\n            return true;\n        }\n        if (tokenClaims.upn === loginHint) {\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Helper to match sid\n     * @param entity\n     * @param sid\n     * @returns true if the sid claim is present and matches the filter\n     */\n    matchSid(idTokenClaims, sid) {\n        return idTokenClaims.sid === sid;\n    }\n    matchAuthorityType(entity, authorityType) {\n        return !!(entity.authorityType &&\n            authorityType.toLowerCase() === entity.authorityType.toLowerCase());\n    }\n    /**\n     * Returns true if the target scopes are a subset of the current entity's scopes, false otherwise.\n     * @param entity\n     * @param target\n     */\n    matchTarget(entity, target) {\n        const isNotAccessTokenCredential = entity.credentialType !== CredentialType.ACCESS_TOKEN &&\n            entity.credentialType !==\n                CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME;\n        if (isNotAccessTokenCredential || !entity.target) {\n            return false;\n        }\n        const entityScopeSet = ScopeSet.fromString(entity.target);\n        return entityScopeSet.containsScopeSet(target);\n    }\n    /**\n     * Returns true if the credential's tokenType or Authentication Scheme matches the one in the request, false otherwise\n     * @param entity\n     * @param tokenType\n     */\n    matchTokenType(entity, tokenType) {\n        return !!(entity.tokenType && entity.tokenType === tokenType);\n    }\n    /**\n     * Returns true if the credential's keyId matches the one in the request, false otherwise\n     * @param entity\n     * @param tokenType\n     */\n    matchKeyId(entity, keyId) {\n        return !!(entity.keyId && entity.keyId === keyId);\n    }\n    /**\n     * returns if a given cache entity is of the type appmetadata\n     * @param key\n     */\n    isAppMetadata(key) {\n        return key.indexOf(APP_METADATA) !== -1;\n    }\n    /**\n     * returns if a given cache entity is of the type authoritymetadata\n     * @param key\n     */\n    isAuthorityMetadata(key) {\n        return key.indexOf(AUTHORITY_METADATA_CONSTANTS.CACHE_KEY) !== -1;\n    }\n    /**\n     * returns cache key used for cloud instance metadata\n     */\n    generateAuthorityMetadataCacheKey(authority) {\n        return `${AUTHORITY_METADATA_CONSTANTS.CACHE_KEY}-${this.clientId}-${authority}`;\n    }\n    /**\n     * Helper to convert serialized data to object\n     * @param obj\n     * @param json\n     */\n    static toObject(obj, json) {\n        for (const propertyName in json) {\n            obj[propertyName] = json[propertyName];\n        }\n        return obj;\n    }\n}\n/** @internal */\nclass DefaultStorageClass extends CacheManager {\n    setAccount() {\n        throw createClientAuthError(methodNotImplemented);\n    }\n    getAccount() {\n        throw createClientAuthError(methodNotImplemented);\n    }\n    getCachedAccountEntity() {\n        throw createClientAuthError(methodNotImplemented);\n    }\n    setIdTokenCredential() {\n        throw createClientAuthError(methodNotImplemented);\n    }\n    getIdTokenCredential() {\n        throw createClientAuthError(methodNotImplemented);\n    }\n    setAccessTokenCredential() {\n        throw createClientAuthError(methodNotImplemented);\n    }\n    getAccessTokenCredential() {\n        throw createClientAuthError(methodNotImplemented);\n    }\n    setRefreshTokenCredential() {\n        throw createClientAuthError(methodNotImplemented);\n    }\n    getRefreshTokenCredential() {\n        throw createClientAuthError(methodNotImplemented);\n    }\n    setAppMetadata() {\n        throw createClientAuthError(methodNotImplemented);\n    }\n    getAppMetadata() {\n        throw createClientAuthError(methodNotImplemented);\n    }\n    setServerTelemetry() {\n        throw createClientAuthError(methodNotImplemented);\n    }\n    getServerTelemetry() {\n        throw createClientAuthError(methodNotImplemented);\n    }\n    setAuthorityMetadata() {\n        throw createClientAuthError(methodNotImplemented);\n    }\n    getAuthorityMetadata() {\n        throw createClientAuthError(methodNotImplemented);\n    }\n    getAuthorityMetadataKeys() {\n        throw createClientAuthError(methodNotImplemented);\n    }\n    setThrottlingCache() {\n        throw createClientAuthError(methodNotImplemented);\n    }\n    getThrottlingCache() {\n        throw createClientAuthError(methodNotImplemented);\n    }\n    removeItem() {\n        throw createClientAuthError(methodNotImplemented);\n    }\n    getKeys() {\n        throw createClientAuthError(methodNotImplemented);\n    }\n    getAccountKeys() {\n        throw createClientAuthError(methodNotImplemented);\n    }\n    getTokenKeys() {\n        throw createClientAuthError(methodNotImplemented);\n    }\n    async clear() {\n        throw createClientAuthError(methodNotImplemented);\n    }\n    updateCredentialCacheKey() {\n        throw createClientAuthError(methodNotImplemented);\n    }\n    removeOutdatedAccount() {\n        throw createClientAuthError(methodNotImplemented);\n    }\n}\n\nexport { CacheManager, DefaultStorageClass };\n//# sourceMappingURL=CacheManager.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { DEFAULT_CRYPTO_IMPLEMENTATION } from '../crypto/ICrypto.mjs';\nimport { Logger, LogLevel } from '../logger/Logger.mjs';\nimport { DEFAULT_TOKEN_RENEWAL_OFFSET_SEC, Constants } from '../utils/Constants.mjs';\nimport { version } from '../packageMetadata.mjs';\nimport { AzureCloudInstance } from '../authority/AuthorityOptions.mjs';\nimport { DefaultStorageClass } from '../cache/CacheManager.mjs';\nimport { ProtocolMode } from '../authority/ProtocolMode.mjs';\nimport { createClientAuthError } from '../error/ClientAuthError.mjs';\nimport { methodNotImplemented } from '../error/ClientAuthErrorCodes.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nconst DEFAULT_SYSTEM_OPTIONS = {\n    tokenRenewalOffsetSeconds: DEFAULT_TOKEN_RENEWAL_OFFSET_SEC,\n    preventCorsPreflight: false,\n};\nconst DEFAULT_LOGGER_IMPLEMENTATION = {\n    loggerCallback: () => {\n        // allow users to not set loggerCallback\n    },\n    piiLoggingEnabled: false,\n    logLevel: LogLevel.Info,\n    correlationId: Constants.EMPTY_STRING,\n};\nconst DEFAULT_CACHE_OPTIONS = {\n    claimsBasedCachingEnabled: false,\n};\nconst DEFAULT_NETWORK_IMPLEMENTATION = {\n    async sendGetRequestAsync() {\n        throw createClientAuthError(methodNotImplemented);\n    },\n    async sendPostRequestAsync() {\n        throw createClientAuthError(methodNotImplemented);\n    },\n};\nconst DEFAULT_LIBRARY_INFO = {\n    sku: Constants.SKU,\n    version: version,\n    cpu: Constants.EMPTY_STRING,\n    os: Constants.EMPTY_STRING,\n};\nconst DEFAULT_CLIENT_CREDENTIALS = {\n    clientSecret: Constants.EMPTY_STRING,\n    clientAssertion: undefined,\n};\nconst DEFAULT_AZURE_CLOUD_OPTIONS = {\n    azureCloudInstance: AzureCloudInstance.None,\n    tenant: `${Constants.DEFAULT_COMMON_TENANT}`,\n};\nconst DEFAULT_TELEMETRY_OPTIONS = {\n    application: {\n        appName: \"\",\n        appVersion: \"\",\n    },\n};\n/**\n * Function that sets the default options when not explicitly configured from app developer\n *\n * @param Configuration\n *\n * @returns Configuration\n */\nfunction buildClientConfiguration({ authOptions: userAuthOptions, systemOptions: userSystemOptions, loggerOptions: userLoggerOption, cacheOptions: userCacheOptions, storageInterface: storageImplementation, networkInterface: networkImplementation, cryptoInterface: cryptoImplementation, clientCredentials: clientCredentials, libraryInfo: libraryInfo, telemetry: telemetry, serverTelemetryManager: serverTelemetryManager, persistencePlugin: persistencePlugin, serializableCache: serializableCache, }) {\n    const loggerOptions = {\n        ...DEFAULT_LOGGER_IMPLEMENTATION,\n        ...userLoggerOption,\n    };\n    return {\n        authOptions: buildAuthOptions(userAuthOptions),\n        systemOptions: { ...DEFAULT_SYSTEM_OPTIONS, ...userSystemOptions },\n        loggerOptions: loggerOptions,\n        cacheOptions: { ...DEFAULT_CACHE_OPTIONS, ...userCacheOptions },\n        storageInterface: storageImplementation ||\n            new DefaultStorageClass(userAuthOptions.clientId, DEFAULT_CRYPTO_IMPLEMENTATION, new Logger(loggerOptions)),\n        networkInterface: networkImplementation || DEFAULT_NETWORK_IMPLEMENTATION,\n        cryptoInterface: cryptoImplementation || DEFAULT_CRYPTO_IMPLEMENTATION,\n        clientCredentials: clientCredentials || DEFAULT_CLIENT_CREDENTIALS,\n        libraryInfo: { ...DEFAULT_LIBRARY_INFO, ...libraryInfo },\n        telemetry: { ...DEFAULT_TELEMETRY_OPTIONS, ...telemetry },\n        serverTelemetryManager: serverTelemetryManager || null,\n        persistencePlugin: persistencePlugin || null,\n        serializableCache: serializableCache || null,\n    };\n}\n/**\n * Construct authoptions from the client and platform passed values\n * @param authOptions\n */\nfunction buildAuthOptions(authOptions) {\n    return {\n        clientCapabilities: [],\n        azureCloudOptions: DEFAULT_AZURE_CLOUD_OPTIONS,\n        skipAuthorityMetadataCache: false,\n        ...authOptions,\n    };\n}\n/**\n * Returns true if config has protocolMode set to ProtocolMode.OIDC, false otherwise\n * @param ClientConfiguration\n */\nfunction isOidcProtocolMode(config) {\n    return (config.authOptions.authority.options.protocolMode === ProtocolMode.OIDC);\n}\n\nexport { DEFAULT_SYSTEM_OPTIONS, buildClientConfiguration, isOidcProtocolMode };\n//# sourceMappingURL=ClientConfiguration.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { ThrottlingConstants, Constants, HeaderNames } from '../utils/Constants.mjs';\nimport { ServerError } from '../error/ServerError.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/** @internal */\nclass ThrottlingUtils {\n    /**\n     * Prepares a RequestThumbprint to be stored as a key.\n     * @param thumbprint\n     */\n    static generateThrottlingStorageKey(thumbprint) {\n        return `${ThrottlingConstants.THROTTLING_PREFIX}.${JSON.stringify(thumbprint)}`;\n    }\n    /**\n     * Performs necessary throttling checks before a network request.\n     * @param cacheManager\n     * @param thumbprint\n     */\n    static preProcess(cacheManager, thumbprint) {\n        const key = ThrottlingUtils.generateThrottlingStorageKey(thumbprint);\n        const value = cacheManager.getThrottlingCache(key);\n        if (value) {\n            if (value.throttleTime < Date.now()) {\n                cacheManager.removeItem(key);\n                return;\n            }\n            throw new ServerError(value.errorCodes?.join(\" \") || Constants.EMPTY_STRING, value.errorMessage, value.subError);\n        }\n    }\n    /**\n     * Performs necessary throttling checks after a network request.\n     * @param cacheManager\n     * @param thumbprint\n     * @param response\n     */\n    static postProcess(cacheManager, thumbprint, response) {\n        if (ThrottlingUtils.checkResponseStatus(response) ||\n            ThrottlingUtils.checkResponseForRetryAfter(response)) {\n            const thumbprintValue = {\n                throttleTime: ThrottlingUtils.calculateThrottleTime(parseInt(response.headers[HeaderNames.RETRY_AFTER])),\n                error: response.body.error,\n                errorCodes: response.body.error_codes,\n                errorMessage: response.body.error_description,\n                subError: response.body.suberror,\n            };\n            cacheManager.setThrottlingCache(ThrottlingUtils.generateThrottlingStorageKey(thumbprint), thumbprintValue);\n        }\n    }\n    /**\n     * Checks a NetworkResponse object's status codes against 429 or 5xx\n     * @param response\n     */\n    static checkResponseStatus(response) {\n        return (response.status === 429 ||\n            (response.status >= 500 && response.status < 600));\n    }\n    /**\n     * Checks a NetworkResponse object's RetryAfter header\n     * @param response\n     */\n    static checkResponseForRetryAfter(response) {\n        if (response.headers) {\n            return (response.headers.hasOwnProperty(HeaderNames.RETRY_AFTER) &&\n                (response.status < 200 || response.status >= 300));\n        }\n        return false;\n    }\n    /**\n     * Calculates the Unix-time value for a throttle to expire given throttleTime in seconds.\n     * @param throttleTime\n     */\n    static calculateThrottleTime(throttleTime) {\n        const time = throttleTime <= 0 ? 0 : throttleTime;\n        const currentSeconds = Date.now() / 1000;\n        return Math.floor(Math.min(currentSeconds +\n            (time || ThrottlingConstants.DEFAULT_THROTTLE_TIME_SECONDS), currentSeconds +\n            ThrottlingConstants.DEFAULT_MAX_THROTTLE_TIME_SECONDS) * 1000);\n    }\n    static removeThrottle(cacheManager, clientId, request, homeAccountIdentifier) {\n        const thumbprint = {\n            clientId: clientId,\n            authority: request.authority,\n            scopes: request.scopes,\n            homeAccountIdentifier: homeAccountIdentifier,\n            claims: request.claims,\n            authenticationScheme: request.authenticationScheme,\n            resourceRequestMethod: request.resourceRequestMethod,\n            resourceRequestUri: request.resourceRequestUri,\n            shrClaims: request.shrClaims,\n            sshKid: request.sshKid,\n        };\n        const key = this.generateThrottlingStorageKey(thumbprint);\n        cacheManager.removeItem(key);\n    }\n}\n\nexport { ThrottlingUtils };\n//# sourceMappingURL=ThrottlingUtils.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { ThrottlingUtils } from './ThrottlingUtils.mjs';\nimport { AuthError } from '../error/AuthError.mjs';\nimport { createClientAuthError } from '../error/ClientAuthError.mjs';\nimport { networkError } from '../error/ClientAuthErrorCodes.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/** @internal */\nclass NetworkManager {\n    constructor(networkClient, cacheManager) {\n        this.networkClient = networkClient;\n        this.cacheManager = cacheManager;\n    }\n    /**\n     * Wraps sendPostRequestAsync with necessary preflight and postflight logic\n     * @param thumbprint\n     * @param tokenEndpoint\n     * @param options\n     */\n    async sendPostRequest(thumbprint, tokenEndpoint, options) {\n        ThrottlingUtils.preProcess(this.cacheManager, thumbprint);\n        let response;\n        try {\n            response = await this.networkClient.sendPostRequestAsync(tokenEndpoint, options);\n        }\n        catch (e) {\n            if (e instanceof AuthError) {\n                throw e;\n            }\n            else {\n                throw createClientAuthError(networkError);\n            }\n        }\n        ThrottlingUtils.postProcess(this.cacheManager, thumbprint, response);\n        return response;\n    }\n}\n\nexport { NetworkManager };\n//# sourceMappingURL=NetworkManager.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nconst CcsCredentialType = {\n    HOME_ACCOUNT_ID: \"home_account_id\",\n    UPN: \"UPN\",\n};\n\nexport { CcsCredentialType };\n//# sourceMappingURL=CcsCredential.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nconst CLIENT_ID = \"client_id\";\nconst REDIRECT_URI = \"redirect_uri\";\nconst RESPONSE_TYPE = \"response_type\";\nconst RESPONSE_MODE = \"response_mode\";\nconst GRANT_TYPE = \"grant_type\";\nconst CLAIMS = \"claims\";\nconst SCOPE = \"scope\";\nconst ERROR = \"error\";\nconst ERROR_DESCRIPTION = \"error_description\";\nconst ACCESS_TOKEN = \"access_token\";\nconst ID_TOKEN = \"id_token\";\nconst REFRESH_TOKEN = \"refresh_token\";\nconst EXPIRES_IN = \"expires_in\";\nconst REFRESH_TOKEN_EXPIRES_IN = \"refresh_token_expires_in\";\nconst STATE = \"state\";\nconst NONCE = \"nonce\";\nconst PROMPT = \"prompt\";\nconst SESSION_STATE = \"session_state\";\nconst CLIENT_INFO = \"client_info\";\nconst CODE = \"code\";\nconst CODE_CHALLENGE = \"code_challenge\";\nconst CODE_CHALLENGE_METHOD = \"code_challenge_method\";\nconst CODE_VERIFIER = \"code_verifier\";\nconst CLIENT_REQUEST_ID = \"client-request-id\";\nconst X_CLIENT_SKU = \"x-client-SKU\";\nconst X_CLIENT_VER = \"x-client-VER\";\nconst X_CLIENT_OS = \"x-client-OS\";\nconst X_CLIENT_CPU = \"x-client-CPU\";\nconst X_CLIENT_CURR_TELEM = \"x-client-current-telemetry\";\nconst X_CLIENT_LAST_TELEM = \"x-client-last-telemetry\";\nconst X_MS_LIB_CAPABILITY = \"x-ms-lib-capability\";\nconst X_APP_NAME = \"x-app-name\";\nconst X_APP_VER = \"x-app-ver\";\nconst POST_LOGOUT_URI = \"post_logout_redirect_uri\";\nconst ID_TOKEN_HINT = \"id_token_hint\";\nconst DEVICE_CODE = \"device_code\";\nconst CLIENT_SECRET = \"client_secret\";\nconst CLIENT_ASSERTION = \"client_assertion\";\nconst CLIENT_ASSERTION_TYPE = \"client_assertion_type\";\nconst TOKEN_TYPE = \"token_type\";\nconst REQ_CNF = \"req_cnf\";\nconst OBO_ASSERTION = \"assertion\";\nconst REQUESTED_TOKEN_USE = \"requested_token_use\";\nconst ON_BEHALF_OF = \"on_behalf_of\";\nconst FOCI = \"foci\";\nconst CCS_HEADER = \"X-AnchorMailbox\";\nconst RETURN_SPA_CODE = \"return_spa_code\";\nconst NATIVE_BROKER = \"nativebroker\";\nconst LOGOUT_HINT = \"logout_hint\";\nconst SID = \"sid\";\nconst LOGIN_HINT = \"login_hint\";\nconst DOMAIN_HINT = \"domain_hint\";\n\nexport { ACCESS_TOKEN, CCS_HEADER, CLAIMS, CLIENT_ASSERTION, CLIENT_ASSERTION_TYPE, CLIENT_ID, CLIENT_INFO, CLIENT_REQUEST_ID, CLIENT_SECRET, CODE, CODE_CHALLENGE, CODE_CHALLENGE_METHOD, CODE_VERIFIER, DEVICE_CODE, DOMAIN_HINT, ERROR, ERROR_DESCRIPTION, EXPIRES_IN, FOCI, GRANT_TYPE, ID_TOKEN, ID_TOKEN_HINT, LOGIN_HINT, LOGOUT_HINT, NATIVE_BROKER, NONCE, OBO_ASSERTION, ON_BEHALF_OF, POST_LOGOUT_URI, PROMPT, REDIRECT_URI, REFRESH_TOKEN, REFRESH_TOKEN_EXPIRES_IN, REQUESTED_TOKEN_USE, REQ_CNF, RESPONSE_MODE, RESPONSE_TYPE, RETURN_SPA_CODE, SCOPE, SESSION_STATE, SID, STATE, TOKEN_TYPE, X_APP_NAME, X_APP_VER, X_CLIENT_CPU, X_CLIENT_CURR_TELEM, X_CLIENT_LAST_TELEM, X_CLIENT_OS, X_CLIENT_SKU, X_CLIENT_VER, X_MS_LIB_CAPABILITY };\n//# sourceMappingURL=AADServerParamKeys.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { createClientConfigurationError } from '../error/ClientConfigurationError.mjs';\nimport { CodeChallengeMethodValues, PromptValue } from '../utils/Constants.mjs';\nimport { redirectUriEmpty, invalidPromptValue, invalidClaims, pkceParamsMissing, invalidCodeChallengeMethod } from '../error/ClientConfigurationErrorCodes.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Validates server consumable params from the \"request\" objects\n */\nclass RequestValidator {\n    /**\n     * Utility to check if the `redirectUri` in the request is a non-null value\n     * @param redirectUri\n     */\n    static validateRedirectUri(redirectUri) {\n        if (!redirectUri) {\n            throw createClientConfigurationError(redirectUriEmpty);\n        }\n    }\n    /**\n     * Utility to validate prompt sent by the user in the request\n     * @param prompt\n     */\n    static validatePrompt(prompt) {\n        const promptValues = [];\n        for (const value in PromptValue) {\n            promptValues.push(PromptValue[value]);\n        }\n        if (promptValues.indexOf(prompt) < 0) {\n            throw createClientConfigurationError(invalidPromptValue);\n        }\n    }\n    static validateClaims(claims) {\n        try {\n            JSON.parse(claims);\n        }\n        catch (e) {\n            throw createClientConfigurationError(invalidClaims);\n        }\n    }\n    /**\n     * Utility to validate code_challenge and code_challenge_method\n     * @param codeChallenge\n     * @param codeChallengeMethod\n     */\n    static validateCodeChallengeParams(codeChallenge, codeChallengeMethod) {\n        if (!codeChallenge || !codeChallengeMethod) {\n            throw createClientConfigurationError(pkceParamsMissing);\n        }\n        else {\n            this.validateCodeChallengeMethod(codeChallengeMethod);\n        }\n    }\n    /**\n     * Utility to validate code_challenge_method\n     * @param codeChallengeMethod\n     */\n    static validateCodeChallengeMethod(codeChallengeMethod) {\n        if ([\n            CodeChallengeMethodValues.PLAIN,\n            CodeChallengeMethodValues.S256,\n        ].indexOf(codeChallengeMethod) < 0) {\n            throw createClientConfigurationError(invalidCodeChallengeMethod);\n        }\n    }\n    /**\n     * Removes unnecessary, duplicate, and empty string query parameters from extraQueryParameters\n     * @param request\n     */\n    static sanitizeEQParams(eQParams, queryParams) {\n        if (!eQParams) {\n            return {};\n        }\n        // Remove any query parameters already included in SSO params\n        queryParams.forEach((_value, key) => {\n            if (eQParams[key]) {\n                delete eQParams[key];\n            }\n        });\n        // remove empty string parameters\n        return Object.fromEntries(Object.entries(eQParams).filter((kv) => kv[1] !== \"\"));\n    }\n}\n\nexport { RequestValidator };\n//# sourceMappingURL=RequestValidator.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { Constants, ResponseMode, OIDC_DEFAULT_SCOPES, HeaderNames, CLIENT_INFO, ClaimsRequestKeys, PasswordGrantConstants, AuthenticationScheme, ThrottlingConstants } from '../utils/Constants.mjs';\nimport { RESPONSE_TYPE, RESPONSE_MODE, NATIVE_BROKER, SCOPE, CLIENT_ID, REDIRECT_URI, POST_LOGOUT_URI, ID_TOKEN_HINT, DOMAIN_HINT, LOGIN_HINT, SID, CLAIMS, CLIENT_REQUEST_ID, X_CLIENT_SKU, X_CLIENT_VER, X_CLIENT_OS, X_CLIENT_CPU, X_APP_NAME, X_APP_VER, PROMPT, STATE, NONCE, CODE_CHALLENGE, CODE_CHALLENGE_METHOD, CODE, DEVICE_CODE, REFRESH_TOKEN, CODE_VERIFIER, CLIENT_SECRET, CLIENT_ASSERTION, CLIENT_ASSERTION_TYPE, OBO_ASSERTION, REQUESTED_TOKEN_USE, GRANT_TYPE, TOKEN_TYPE, REQ_CNF, X_CLIENT_CURR_TELEM, X_CLIENT_LAST_TELEM, X_MS_LIB_CAPABILITY, LOGOUT_HINT } from '../constants/AADServerParamKeys.mjs';\nimport { ScopeSet } from './ScopeSet.mjs';\nimport { createClientConfigurationError } from '../error/ClientConfigurationError.mjs';\nimport { RequestValidator } from './RequestValidator.mjs';\nimport { pkceParamsMissing, invalidClaims } from '../error/ClientConfigurationErrorCodes.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/** @internal */\nclass RequestParameterBuilder {\n    constructor() {\n        this.parameters = new Map();\n    }\n    /**\n     * add response_type = code\n     */\n    addResponseTypeCode() {\n        this.parameters.set(RESPONSE_TYPE, encodeURIComponent(Constants.CODE_RESPONSE_TYPE));\n    }\n    /**\n     * add response_type = token id_token\n     */\n    addResponseTypeForTokenAndIdToken() {\n        this.parameters.set(RESPONSE_TYPE, encodeURIComponent(`${Constants.TOKEN_RESPONSE_TYPE} ${Constants.ID_TOKEN_RESPONSE_TYPE}`));\n    }\n    /**\n     * add response_mode. defaults to query.\n     * @param responseMode\n     */\n    addResponseMode(responseMode) {\n        this.parameters.set(RESPONSE_MODE, encodeURIComponent(responseMode ? responseMode : ResponseMode.QUERY));\n    }\n    /**\n     * Add flag to indicate STS should attempt to use WAM if available\n     */\n    addNativeBroker() {\n        this.parameters.set(NATIVE_BROKER, encodeURIComponent(\"1\"));\n    }\n    /**\n     * add scopes. set addOidcScopes to false to prevent default scopes in non-user scenarios\n     * @param scopeSet\n     * @param addOidcScopes\n     */\n    addScopes(scopes, addOidcScopes = true, defaultScopes = OIDC_DEFAULT_SCOPES) {\n        // Always add openid to the scopes when adding OIDC scopes\n        if (addOidcScopes &&\n            !defaultScopes.includes(\"openid\") &&\n            !scopes.includes(\"openid\")) {\n            defaultScopes.push(\"openid\");\n        }\n        const requestScopes = addOidcScopes\n            ? [...(scopes || []), ...defaultScopes]\n            : scopes || [];\n        const scopeSet = new ScopeSet(requestScopes);\n        this.parameters.set(SCOPE, encodeURIComponent(scopeSet.printScopes()));\n    }\n    /**\n     * add clientId\n     * @param clientId\n     */\n    addClientId(clientId) {\n        this.parameters.set(CLIENT_ID, encodeURIComponent(clientId));\n    }\n    /**\n     * add redirect_uri\n     * @param redirectUri\n     */\n    addRedirectUri(redirectUri) {\n        RequestValidator.validateRedirectUri(redirectUri);\n        this.parameters.set(REDIRECT_URI, encodeURIComponent(redirectUri));\n    }\n    /**\n     * add post logout redirectUri\n     * @param redirectUri\n     */\n    addPostLogoutRedirectUri(redirectUri) {\n        RequestValidator.validateRedirectUri(redirectUri);\n        this.parameters.set(POST_LOGOUT_URI, encodeURIComponent(redirectUri));\n    }\n    /**\n     * add id_token_hint to logout request\n     * @param idTokenHint\n     */\n    addIdTokenHint(idTokenHint) {\n        this.parameters.set(ID_TOKEN_HINT, encodeURIComponent(idTokenHint));\n    }\n    /**\n     * add domain_hint\n     * @param domainHint\n     */\n    addDomainHint(domainHint) {\n        this.parameters.set(DOMAIN_HINT, encodeURIComponent(domainHint));\n    }\n    /**\n     * add login_hint\n     * @param loginHint\n     */\n    addLoginHint(loginHint) {\n        this.parameters.set(LOGIN_HINT, encodeURIComponent(loginHint));\n    }\n    /**\n     * Adds the CCS (Cache Credential Service) query parameter for login_hint\n     * @param loginHint\n     */\n    addCcsUpn(loginHint) {\n        this.parameters.set(HeaderNames.CCS_HEADER, encodeURIComponent(`UPN:${loginHint}`));\n    }\n    /**\n     * Adds the CCS (Cache Credential Service) query parameter for account object\n     * @param loginHint\n     */\n    addCcsOid(clientInfo) {\n        this.parameters.set(HeaderNames.CCS_HEADER, encodeURIComponent(`Oid:${clientInfo.uid}@${clientInfo.utid}`));\n    }\n    /**\n     * add sid\n     * @param sid\n     */\n    addSid(sid) {\n        this.parameters.set(SID, encodeURIComponent(sid));\n    }\n    /**\n     * add claims\n     * @param claims\n     */\n    addClaims(claims, clientCapabilities) {\n        const mergedClaims = this.addClientCapabilitiesToClaims(claims, clientCapabilities);\n        RequestValidator.validateClaims(mergedClaims);\n        this.parameters.set(CLAIMS, encodeURIComponent(mergedClaims));\n    }\n    /**\n     * add correlationId\n     * @param correlationId\n     */\n    addCorrelationId(correlationId) {\n        this.parameters.set(CLIENT_REQUEST_ID, encodeURIComponent(correlationId));\n    }\n    /**\n     * add library info query params\n     * @param libraryInfo\n     */\n    addLibraryInfo(libraryInfo) {\n        // Telemetry Info\n        this.parameters.set(X_CLIENT_SKU, libraryInfo.sku);\n        this.parameters.set(X_CLIENT_VER, libraryInfo.version);\n        if (libraryInfo.os) {\n            this.parameters.set(X_CLIENT_OS, libraryInfo.os);\n        }\n        if (libraryInfo.cpu) {\n            this.parameters.set(X_CLIENT_CPU, libraryInfo.cpu);\n        }\n    }\n    /**\n     * Add client telemetry parameters\n     * @param appTelemetry\n     */\n    addApplicationTelemetry(appTelemetry) {\n        if (appTelemetry?.appName) {\n            this.parameters.set(X_APP_NAME, appTelemetry.appName);\n        }\n        if (appTelemetry?.appVersion) {\n            this.parameters.set(X_APP_VER, appTelemetry.appVersion);\n        }\n    }\n    /**\n     * add prompt\n     * @param prompt\n     */\n    addPrompt(prompt) {\n        RequestValidator.validatePrompt(prompt);\n        this.parameters.set(`${PROMPT}`, encodeURIComponent(prompt));\n    }\n    /**\n     * add state\n     * @param state\n     */\n    addState(state) {\n        if (state) {\n            this.parameters.set(STATE, encodeURIComponent(state));\n        }\n    }\n    /**\n     * add nonce\n     * @param nonce\n     */\n    addNonce(nonce) {\n        this.parameters.set(NONCE, encodeURIComponent(nonce));\n    }\n    /**\n     * add code_challenge and code_challenge_method\n     * - throw if either of them are not passed\n     * @param codeChallenge\n     * @param codeChallengeMethod\n     */\n    addCodeChallengeParams(codeChallenge, codeChallengeMethod) {\n        RequestValidator.validateCodeChallengeParams(codeChallenge, codeChallengeMethod);\n        if (codeChallenge && codeChallengeMethod) {\n            this.parameters.set(CODE_CHALLENGE, encodeURIComponent(codeChallenge));\n            this.parameters.set(CODE_CHALLENGE_METHOD, encodeURIComponent(codeChallengeMethod));\n        }\n        else {\n            throw createClientConfigurationError(pkceParamsMissing);\n        }\n    }\n    /**\n     * add the `authorization_code` passed by the user to exchange for a token\n     * @param code\n     */\n    addAuthorizationCode(code) {\n        this.parameters.set(CODE, encodeURIComponent(code));\n    }\n    /**\n     * add the `authorization_code` passed by the user to exchange for a token\n     * @param code\n     */\n    addDeviceCode(code) {\n        this.parameters.set(DEVICE_CODE, encodeURIComponent(code));\n    }\n    /**\n     * add the `refreshToken` passed by the user\n     * @param refreshToken\n     */\n    addRefreshToken(refreshToken) {\n        this.parameters.set(REFRESH_TOKEN, encodeURIComponent(refreshToken));\n    }\n    /**\n     * add the `code_verifier` passed by the user to exchange for a token\n     * @param codeVerifier\n     */\n    addCodeVerifier(codeVerifier) {\n        this.parameters.set(CODE_VERIFIER, encodeURIComponent(codeVerifier));\n    }\n    /**\n     * add client_secret\n     * @param clientSecret\n     */\n    addClientSecret(clientSecret) {\n        this.parameters.set(CLIENT_SECRET, encodeURIComponent(clientSecret));\n    }\n    /**\n     * add clientAssertion for confidential client flows\n     * @param clientAssertion\n     */\n    addClientAssertion(clientAssertion) {\n        if (clientAssertion) {\n            this.parameters.set(CLIENT_ASSERTION, encodeURIComponent(clientAssertion));\n        }\n    }\n    /**\n     * add clientAssertionType for confidential client flows\n     * @param clientAssertionType\n     */\n    addClientAssertionType(clientAssertionType) {\n        if (clientAssertionType) {\n            this.parameters.set(CLIENT_ASSERTION_TYPE, encodeURIComponent(clientAssertionType));\n        }\n    }\n    /**\n     * add OBO assertion for confidential client flows\n     * @param clientAssertion\n     */\n    addOboAssertion(oboAssertion) {\n        this.parameters.set(OBO_ASSERTION, encodeURIComponent(oboAssertion));\n    }\n    /**\n     * add grant type\n     * @param grantType\n     */\n    addRequestTokenUse(tokenUse) {\n        this.parameters.set(REQUESTED_TOKEN_USE, encodeURIComponent(tokenUse));\n    }\n    /**\n     * add grant type\n     * @param grantType\n     */\n    addGrantType(grantType) {\n        this.parameters.set(GRANT_TYPE, encodeURIComponent(grantType));\n    }\n    /**\n     * add client info\n     *\n     */\n    addClientInfo() {\n        this.parameters.set(CLIENT_INFO, \"1\");\n    }\n    /**\n     * add extraQueryParams\n     * @param eQParams\n     */\n    addExtraQueryParameters(eQParams) {\n        const sanitizedEQParams = RequestValidator.sanitizeEQParams(eQParams, this.parameters);\n        Object.keys(sanitizedEQParams).forEach((key) => {\n            this.parameters.set(key, eQParams[key]);\n        });\n    }\n    addClientCapabilitiesToClaims(claims, clientCapabilities) {\n        let mergedClaims;\n        // Parse provided claims into JSON object or initialize empty object\n        if (!claims) {\n            mergedClaims = {};\n        }\n        else {\n            try {\n                mergedClaims = JSON.parse(claims);\n            }\n            catch (e) {\n                throw createClientConfigurationError(invalidClaims);\n            }\n        }\n        if (clientCapabilities && clientCapabilities.length > 0) {\n            if (!mergedClaims.hasOwnProperty(ClaimsRequestKeys.ACCESS_TOKEN)) {\n                // Add access_token key to claims object\n                mergedClaims[ClaimsRequestKeys.ACCESS_TOKEN] = {};\n            }\n            // Add xms_cc claim with provided clientCapabilities to access_token key\n            mergedClaims[ClaimsRequestKeys.ACCESS_TOKEN][ClaimsRequestKeys.XMS_CC] = {\n                values: clientCapabilities,\n            };\n        }\n        return JSON.stringify(mergedClaims);\n    }\n    /**\n     * adds `username` for Password Grant flow\n     * @param username\n     */\n    addUsername(username) {\n        this.parameters.set(PasswordGrantConstants.username, encodeURIComponent(username));\n    }\n    /**\n     * adds `password` for Password Grant flow\n     * @param password\n     */\n    addPassword(password) {\n        this.parameters.set(PasswordGrantConstants.password, encodeURIComponent(password));\n    }\n    /**\n     * add pop_jwk to query params\n     * @param cnfString\n     */\n    addPopToken(cnfString) {\n        if (cnfString) {\n            this.parameters.set(TOKEN_TYPE, AuthenticationScheme.POP);\n            this.parameters.set(REQ_CNF, encodeURIComponent(cnfString));\n        }\n    }\n    /**\n     * add SSH JWK and key ID to query params\n     */\n    addSshJwk(sshJwkString) {\n        if (sshJwkString) {\n            this.parameters.set(TOKEN_TYPE, AuthenticationScheme.SSH);\n            this.parameters.set(REQ_CNF, encodeURIComponent(sshJwkString));\n        }\n    }\n    /**\n     * add server telemetry fields\n     * @param serverTelemetryManager\n     */\n    addServerTelemetry(serverTelemetryManager) {\n        this.parameters.set(X_CLIENT_CURR_TELEM, serverTelemetryManager.generateCurrentRequestHeaderValue());\n        this.parameters.set(X_CLIENT_LAST_TELEM, serverTelemetryManager.generateLastRequestHeaderValue());\n    }\n    /**\n     * Adds parameter that indicates to the server that throttling is supported\n     */\n    addThrottling() {\n        this.parameters.set(X_MS_LIB_CAPABILITY, ThrottlingConstants.X_MS_LIB_CAPABILITY_VALUE);\n    }\n    /**\n     * Adds logout_hint parameter for \"silent\" logout which prevent server account picker\n     */\n    addLogoutHint(logoutHint) {\n        this.parameters.set(LOGOUT_HINT, encodeURIComponent(logoutHint));\n    }\n    /**\n     * Utility to create a URL from the params map\n     */\n    createQueryString() {\n        const queryParameterArray = new Array();\n        this.parameters.forEach((value, key) => {\n            queryParameterArray.push(`${key}=${value}`);\n        });\n        return queryParameterArray.join(\"&\");\n    }\n}\n\nexport { RequestParameterBuilder };\n//# sourceMappingURL=RequestParameterBuilder.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { Authority, formatAuthorityUri } from './Authority.mjs';\nimport { createClientAuthError } from '../error/ClientAuthError.mjs';\nimport { PerformanceEvents } from '../telemetry/performance/PerformanceEvent.mjs';\nimport { invokeAsync } from '../utils/FunctionWrappers.mjs';\nimport { endpointResolutionError } from '../error/ClientAuthErrorCodes.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Create an authority object of the correct type based on the url\n * Performs basic authority validation - checks to see if the authority is of a valid type (i.e. aad, b2c, adfs)\n *\n * Also performs endpoint discovery.\n *\n * @param authorityUri\n * @param networkClient\n * @param protocolMode\n * @internal\n */\nasync function createDiscoveredInstance(authorityUri, networkClient, cacheManager, authorityOptions, logger, correlationId, performanceClient) {\n    performanceClient?.addQueueMeasurement(PerformanceEvents.AuthorityFactoryCreateDiscoveredInstance, correlationId);\n    const authorityUriFinal = Authority.transformCIAMAuthority(formatAuthorityUri(authorityUri));\n    // Initialize authority and perform discovery endpoint check.\n    const acquireTokenAuthority = new Authority(authorityUriFinal, networkClient, cacheManager, authorityOptions, logger, correlationId, performanceClient);\n    try {\n        await invokeAsync(acquireTokenAuthority.resolveEndpointsAsync.bind(acquireTokenAuthority), PerformanceEvents.AuthorityResolveEndpointsAsync, logger, performanceClient, correlationId)();\n        return acquireTokenAuthority;\n    }\n    catch (e) {\n        throw createClientAuthError(endpointResolutionError);\n    }\n}\n\nexport { createDiscoveredInstance };\n//# sourceMappingURL=AuthorityFactory.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { buildClientConfiguration } from '../config/ClientConfiguration.mjs';\nimport { NetworkManager } from '../network/NetworkManager.mjs';\nimport { Logger } from '../logger/Logger.mjs';\nimport { HeaderNames, Constants } from '../utils/Constants.mjs';\nimport { name, version } from '../packageMetadata.mjs';\nimport { CcsCredentialType } from '../account/CcsCredential.mjs';\nimport { buildClientInfoFromHomeAccountId } from '../account/ClientInfo.mjs';\nimport { RequestParameterBuilder } from '../request/RequestParameterBuilder.mjs';\nimport { createDiscoveredInstance } from '../authority/AuthorityFactory.mjs';\nimport { PerformanceEvents } from '../telemetry/performance/PerformanceEvent.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Base application class which will construct requests to send to and handle responses from the Microsoft STS using the authorization code flow.\n * @internal\n */\nclass BaseClient {\n    constructor(configuration, performanceClient) {\n        // Set the configuration\n        this.config = buildClientConfiguration(configuration);\n        // Initialize the logger\n        this.logger = new Logger(this.config.loggerOptions, name, version);\n        // Initialize crypto\n        this.cryptoUtils = this.config.cryptoInterface;\n        // Initialize storage interface\n        this.cacheManager = this.config.storageInterface;\n        // Set the network interface\n        this.networkClient = this.config.networkInterface;\n        // Set the NetworkManager\n        this.networkManager = new NetworkManager(this.networkClient, this.cacheManager);\n        // Set TelemetryManager\n        this.serverTelemetryManager = this.config.serverTelemetryManager;\n        // set Authority\n        this.authority = this.config.authOptions.authority;\n        // set performance telemetry client\n        this.performanceClient = performanceClient;\n    }\n    /**\n     * Creates default headers for requests to token endpoint\n     */\n    createTokenRequestHeaders(ccsCred) {\n        const headers = {};\n        headers[HeaderNames.CONTENT_TYPE] = Constants.URL_FORM_CONTENT_TYPE;\n        if (!this.config.systemOptions.preventCorsPreflight && ccsCred) {\n            switch (ccsCred.type) {\n                case CcsCredentialType.HOME_ACCOUNT_ID:\n                    try {\n                        const clientInfo = buildClientInfoFromHomeAccountId(ccsCred.credential);\n                        headers[HeaderNames.CCS_HEADER] = `Oid:${clientInfo.uid}@${clientInfo.utid}`;\n                    }\n                    catch (e) {\n                        this.logger.verbose(\"Could not parse home account ID for CCS Header: \" +\n                            e);\n                    }\n                    break;\n                case CcsCredentialType.UPN:\n                    headers[HeaderNames.CCS_HEADER] = `UPN: ${ccsCred.credential}`;\n                    break;\n            }\n        }\n        return headers;\n    }\n    /**\n     * Http post to token endpoint\n     * @param tokenEndpoint\n     * @param queryString\n     * @param headers\n     * @param thumbprint\n     */\n    async executePostToTokenEndpoint(tokenEndpoint, queryString, headers, thumbprint, correlationId, queuedEvent) {\n        if (queuedEvent) {\n            this.performanceClient?.addQueueMeasurement(queuedEvent, correlationId);\n        }\n        const response = await this.networkManager.sendPostRequest(thumbprint, tokenEndpoint, { body: queryString, headers: headers });\n        this.performanceClient?.addFields({\n            refreshTokenSize: response.body.refresh_token?.length || 0,\n            httpVerToken: response.headers?.[HeaderNames.X_MS_HTTP_VERSION] || \"\",\n        }, correlationId);\n        if (this.config.serverTelemetryManager &&\n            response.status < 500 &&\n            response.status !== 429) {\n            // Telemetry data successfully logged by server, clear Telemetry cache\n            this.config.serverTelemetryManager.clearTelemetryCache();\n        }\n        return response;\n    }\n    /**\n     * Updates the authority object of the client. Endpoint discovery must be completed.\n     * @param updatedAuthority\n     */\n    async updateAuthority(cloudInstanceHostname, correlationId) {\n        this.performanceClient?.addQueueMeasurement(PerformanceEvents.UpdateTokenEndpointAuthority, correlationId);\n        const cloudInstanceAuthorityUri = `https://${cloudInstanceHostname}/${this.authority.tenant}/`;\n        const cloudInstanceAuthority = await createDiscoveredInstance(cloudInstanceAuthorityUri, this.networkClient, this.cacheManager, this.authority.options, this.logger, correlationId, this.performanceClient);\n        this.authority = cloudInstanceAuthority;\n    }\n    /**\n     * Creates query string for the /token request\n     * @param request\n     */\n    createTokenQueryParameters(request) {\n        const parameterBuilder = new RequestParameterBuilder();\n        if (request.tokenQueryParameters) {\n            parameterBuilder.addExtraQueryParameters(request.tokenQueryParameters);\n        }\n        return parameterBuilder.createQueryString();\n    }\n}\n\nexport { BaseClient };\n//# sourceMappingURL=BaseClient.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n// Codes defined by MSAL\nconst noTokensFound = \"no_tokens_found\";\nconst nativeAccountUnavailable = \"native_account_unavailable\";\nconst refreshTokenExpired = \"refresh_token_expired\";\n// Codes potentially returned by server\nconst interactionRequired = \"interaction_required\";\nconst consentRequired = \"consent_required\";\nconst loginRequired = \"login_required\";\nconst badToken = \"bad_token\";\n\nexport { badToken, consentRequired, interactionRequired, loginRequired, nativeAccountUnavailable, noTokensFound, refreshTokenExpired };\n//# sourceMappingURL=InteractionRequiredAuthErrorCodes.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { Constants } from '../utils/Constants.mjs';\nimport { AuthError } from './AuthError.mjs';\nimport { noTokensFound, nativeAccountUnavailable, badToken, refreshTokenExpired, interactionRequired, consentRequired, loginRequired } from './InteractionRequiredAuthErrorCodes.mjs';\nimport * as InteractionRequiredAuthErrorCodes from './InteractionRequiredAuthErrorCodes.mjs';\nexport { InteractionRequiredAuthErrorCodes };\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * InteractionRequiredServerErrorMessage contains string constants used by error codes and messages returned by the server indicating interaction is required\n */\nconst InteractionRequiredServerErrorMessage = [\n    interactionRequired,\n    consentRequired,\n    loginRequired,\n    badToken,\n];\nconst InteractionRequiredAuthSubErrorMessage = [\n    \"message_only\",\n    \"additional_action\",\n    \"basic_action\",\n    \"user_password_expired\",\n    \"consent_required\",\n    \"bad_token\",\n];\nconst InteractionRequiredAuthErrorMessages = {\n    [noTokensFound]: \"No refresh token found in the cache. Please sign-in.\",\n    [nativeAccountUnavailable]: \"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.\",\n    [refreshTokenExpired]: \"Refresh token has expired.\",\n    [badToken]: \"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.\",\n};\n/**\n * Interaction required errors defined by the SDK\n * @deprecated Use InteractionRequiredAuthErrorCodes instead\n */\nconst InteractionRequiredAuthErrorMessage = {\n    noTokensFoundError: {\n        code: noTokensFound,\n        desc: InteractionRequiredAuthErrorMessages[noTokensFound],\n    },\n    native_account_unavailable: {\n        code: nativeAccountUnavailable,\n        desc: InteractionRequiredAuthErrorMessages[nativeAccountUnavailable],\n    },\n    bad_token: {\n        code: badToken,\n        desc: InteractionRequiredAuthErrorMessages[badToken],\n    },\n};\n/**\n * Error thrown when user interaction is required.\n */\nclass InteractionRequiredAuthError extends AuthError {\n    constructor(errorCode, errorMessage, subError, timestamp, traceId, correlationId, claims, errorNo) {\n        super(errorCode, errorMessage, subError);\n        Object.setPrototypeOf(this, InteractionRequiredAuthError.prototype);\n        this.timestamp = timestamp || Constants.EMPTY_STRING;\n        this.traceId = traceId || Constants.EMPTY_STRING;\n        this.correlationId = correlationId || Constants.EMPTY_STRING;\n        this.claims = claims || Constants.EMPTY_STRING;\n        this.name = \"InteractionRequiredAuthError\";\n        this.errorNo = errorNo;\n    }\n}\n/**\n * Helper function used to determine if an error thrown by the server requires interaction to resolve\n * @param errorCode\n * @param errorString\n * @param subError\n */\nfunction isInteractionRequiredError(errorCode, errorString, subError) {\n    const isInteractionRequiredErrorCode = !!errorCode &&\n        InteractionRequiredServerErrorMessage.indexOf(errorCode) > -1;\n    const isInteractionRequiredSubError = !!subError &&\n        InteractionRequiredAuthSubErrorMessage.indexOf(subError) > -1;\n    const isInteractionRequiredErrorDesc = !!errorString &&\n        InteractionRequiredServerErrorMessage.some((irErrorCode) => {\n            return errorString.indexOf(irErrorCode) > -1;\n        });\n    return (isInteractionRequiredErrorCode ||\n        isInteractionRequiredErrorDesc ||\n        isInteractionRequiredSubError);\n}\n/**\n * Creates an InteractionRequiredAuthError\n */\nfunction createInteractionRequiredAuthError(errorCode) {\n    return new InteractionRequiredAuthError(errorCode, InteractionRequiredAuthErrorMessages[errorCode]);\n}\n\nexport { InteractionRequiredAuthError, InteractionRequiredAuthErrorMessage, InteractionRequiredAuthSubErrorMessage, InteractionRequiredServerErrorMessage, createInteractionRequiredAuthError, isInteractionRequiredError };\n//# sourceMappingURL=InteractionRequiredAuthError.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/** @internal */\nclass CacheRecord {\n    constructor(accountEntity, idTokenEntity, accessTokenEntity, refreshTokenEntity, appMetadataEntity) {\n        this.account = accountEntity || null;\n        this.idToken = idTokenEntity || null;\n        this.accessToken = accessTokenEntity || null;\n        this.refreshToken = refreshTokenEntity || null;\n        this.appMetadata = appMetadataEntity || null;\n    }\n}\n\nexport { CacheRecord };\n//# sourceMappingURL=CacheRecord.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { Constants } from './Constants.mjs';\nimport { createClientAuthError } from '../error/ClientAuthError.mjs';\nimport { noCryptoObject, invalidState } from '../error/ClientAuthErrorCodes.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Class which provides helpers for OAuth 2.0 protocol specific values\n */\nclass ProtocolUtils {\n    /**\n     * Appends user state with random guid, or returns random guid.\n     * @param userState\n     * @param randomGuid\n     */\n    static setRequestState(cryptoObj, userState, meta) {\n        const libraryState = ProtocolUtils.generateLibraryState(cryptoObj, meta);\n        return userState\n            ? `${libraryState}${Constants.RESOURCE_DELIM}${userState}`\n            : libraryState;\n    }\n    /**\n     * Generates the state value used by the common library.\n     * @param randomGuid\n     * @param cryptoObj\n     */\n    static generateLibraryState(cryptoObj, meta) {\n        if (!cryptoObj) {\n            throw createClientAuthError(noCryptoObject);\n        }\n        // Create a state object containing a unique id and the timestamp of the request creation\n        const stateObj = {\n            id: cryptoObj.createNewGuid(),\n        };\n        if (meta) {\n            stateObj.meta = meta;\n        }\n        const stateString = JSON.stringify(stateObj);\n        return cryptoObj.base64Encode(stateString);\n    }\n    /**\n     * Parses the state into the RequestStateObject, which contains the LibraryState info and the state passed by the user.\n     * @param state\n     * @param cryptoObj\n     */\n    static parseRequestState(cryptoObj, state) {\n        if (!cryptoObj) {\n            throw createClientAuthError(noCryptoObject);\n        }\n        if (!state) {\n            throw createClientAuthError(invalidState);\n        }\n        try {\n            // Split the state between library state and user passed state and decode them separately\n            const splitState = state.split(Constants.RESOURCE_DELIM);\n            const libraryState = splitState[0];\n            const userState = splitState.length > 1\n                ? splitState.slice(1).join(Constants.RESOURCE_DELIM)\n                : Constants.EMPTY_STRING;\n            const libraryStateString = cryptoObj.base64Decode(libraryState);\n            const libraryStateObj = JSON.parse(libraryStateString);\n            return {\n                userRequestState: userState || Constants.EMPTY_STRING,\n                libraryState: libraryStateObj,\n            };\n        }\n        catch (e) {\n            throw createClientAuthError(invalidState);\n        }\n    }\n}\n\nexport { ProtocolUtils };\n//# sourceMappingURL=ProtocolUtils.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { nowSeconds } from '../utils/TimeUtils.mjs';\nimport { UrlString } from '../url/UrlString.mjs';\nimport { PerformanceEvents } from '../telemetry/performance/PerformanceEvent.mjs';\nimport { invokeAsync } from '../utils/FunctionWrappers.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nconst KeyLocation = {\n    SW: \"sw\",\n    UHW: \"uhw\",\n};\n/** @internal */\nclass PopTokenGenerator {\n    constructor(cryptoUtils, performanceClient) {\n        this.cryptoUtils = cryptoUtils;\n        this.performanceClient = performanceClient;\n    }\n    /**\n     * Generates the req_cnf validated at the RP in the POP protocol for SHR parameters\n     * and returns an object containing the keyid, the full req_cnf string and the req_cnf string hash\n     * @param request\n     * @returns\n     */\n    async generateCnf(request, logger) {\n        this.performanceClient?.addQueueMeasurement(PerformanceEvents.PopTokenGenerateCnf, request.correlationId);\n        const reqCnf = await invokeAsync(this.generateKid.bind(this), PerformanceEvents.PopTokenGenerateCnf, logger, this.performanceClient, request.correlationId)(request);\n        const reqCnfString = this.cryptoUtils.base64Encode(JSON.stringify(reqCnf));\n        return {\n            kid: reqCnf.kid,\n            reqCnfString,\n            reqCnfHash: await this.cryptoUtils.hashString(reqCnfString),\n        };\n    }\n    /**\n     * Generates key_id for a SHR token request\n     * @param request\n     * @returns\n     */\n    async generateKid(request) {\n        this.performanceClient?.addQueueMeasurement(PerformanceEvents.PopTokenGenerateKid, request.correlationId);\n        const kidThumbprint = await this.cryptoUtils.getPublicKeyThumbprint(request);\n        return {\n            kid: kidThumbprint,\n            xms_ksl: KeyLocation.SW,\n        };\n    }\n    /**\n     * Signs the POP access_token with the local generated key-pair\n     * @param accessToken\n     * @param request\n     * @returns\n     */\n    async signPopToken(accessToken, keyId, request) {\n        return this.signPayload(accessToken, keyId, request);\n    }\n    /**\n     * Utility function to generate the signed JWT for an access_token\n     * @param payload\n     * @param kid\n     * @param request\n     * @param claims\n     * @returns\n     */\n    async signPayload(payload, keyId, request, claims) {\n        // Deconstruct request to extract SHR parameters\n        const { resourceRequestMethod, resourceRequestUri, shrClaims, shrNonce, shrOptions, } = request;\n        const resourceUrlString = resourceRequestUri\n            ? new UrlString(resourceRequestUri)\n            : undefined;\n        const resourceUrlComponents = resourceUrlString?.getUrlComponents();\n        return this.cryptoUtils.signJwt({\n            at: payload,\n            ts: nowSeconds(),\n            m: resourceRequestMethod?.toUpperCase(),\n            u: resourceUrlComponents?.HostNameAndPort,\n            nonce: shrNonce || this.cryptoUtils.createNewGuid(),\n            p: resourceUrlComponents?.AbsolutePath,\n            q: resourceUrlComponents?.QueryString\n                ? [[], resourceUrlComponents.QueryString]\n                : undefined,\n            client_claims: shrClaims || undefined,\n            ...claims,\n        }, keyId, shrOptions, request.correlationId);\n    }\n}\n\nexport { PopTokenGenerator };\n//# sourceMappingURL=PopTokenGenerator.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * This class instance helps track the memory changes facilitating\n * decisions to read from and write to the persistent cache\n */ class TokenCacheContext {\n    constructor(tokenCache, hasChanged) {\n        this.cache = tokenCache;\n        this.hasChanged = hasChanged;\n    }\n    /**\n     * boolean which indicates the changes in cache\n     */\n    get cacheHasChanged() {\n        return this.hasChanged;\n    }\n    /**\n     * function to retrieve the token cache\n     */\n    get tokenCache() {\n        return this.cache;\n    }\n}\n\nexport { TokenCacheContext };\n//# sourceMappingURL=TokenCacheContext.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { createClientAuthError } from '../error/ClientAuthError.mjs';\nimport { ServerError } from '../error/ServerError.mjs';\nimport { ScopeSet } from '../request/ScopeSet.mjs';\nimport { AccountEntity } from '../cache/entities/AccountEntity.mjs';\nimport { isInteractionRequiredError, InteractionRequiredAuthError } from '../error/InteractionRequiredAuthError.mjs';\nimport { CacheRecord } from '../cache/entities/CacheRecord.mjs';\nimport { ProtocolUtils } from '../utils/ProtocolUtils.mjs';\nimport { HttpStatus, Constants, AuthenticationScheme, THE_FAMILY_ID } from '../utils/Constants.mjs';\nimport { PopTokenGenerator } from '../crypto/PopTokenGenerator.mjs';\nimport { TokenCacheContext } from '../cache/persistence/TokenCacheContext.mjs';\nimport { PerformanceEvents } from '../telemetry/performance/PerformanceEvent.mjs';\nimport { extractTokenClaims, checkMaxAge } from '../account/AuthToken.mjs';\nimport { getTenantIdFromIdTokenClaims } from '../account/TokenClaims.mjs';\nimport { updateAccountTenantProfileData, buildTenantProfileFromIdTokenClaims } from '../account/AccountInfo.mjs';\nimport { createAccessTokenEntity, createRefreshTokenEntity, createIdTokenEntity } from '../cache/utils/CacheHelpers.mjs';\nimport { stateNotFound, invalidState, stateMismatch, nonceMismatch, authTimeNotFound, invalidCacheEnvironment, keyIdMissing } from '../error/ClientAuthErrorCodes.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nfunction parseServerErrorNo(serverResponse) {\n    const errorCodePrefix = \"code=\";\n    const errorCodePrefixIndex = serverResponse.error_uri?.lastIndexOf(errorCodePrefix);\n    return errorCodePrefixIndex && errorCodePrefixIndex >= 0\n        ? serverResponse.error_uri?.substring(errorCodePrefixIndex + errorCodePrefix.length)\n        : undefined;\n}\n/**\n * Class that handles response parsing.\n * @internal\n */\nclass ResponseHandler {\n    constructor(clientId, cacheStorage, cryptoObj, logger, serializableCache, persistencePlugin, performanceClient) {\n        this.clientId = clientId;\n        this.cacheStorage = cacheStorage;\n        this.cryptoObj = cryptoObj;\n        this.logger = logger;\n        this.serializableCache = serializableCache;\n        this.persistencePlugin = persistencePlugin;\n        this.performanceClient = performanceClient;\n    }\n    /**\n     * Function which validates server authorization code response.\n     * @param serverResponseHash\n     * @param requestState\n     * @param cryptoObj\n     */\n    validateServerAuthorizationCodeResponse(serverResponse, requestState) {\n        if (!serverResponse.state || !requestState) {\n            throw serverResponse.state\n                ? createClientAuthError(stateNotFound, \"Cached State\")\n                : createClientAuthError(stateNotFound, \"Server State\");\n        }\n        let decodedServerResponseState;\n        let decodedRequestState;\n        try {\n            decodedServerResponseState = decodeURIComponent(serverResponse.state);\n        }\n        catch (e) {\n            throw createClientAuthError(invalidState, serverResponse.state);\n        }\n        try {\n            decodedRequestState = decodeURIComponent(requestState);\n        }\n        catch (e) {\n            throw createClientAuthError(invalidState, serverResponse.state);\n        }\n        if (decodedServerResponseState !== decodedRequestState) {\n            throw createClientAuthError(stateMismatch);\n        }\n        // Check for error\n        if (serverResponse.error ||\n            serverResponse.error_description ||\n            serverResponse.suberror) {\n            const serverErrorNo = parseServerErrorNo(serverResponse);\n            if (isInteractionRequiredError(serverResponse.error, serverResponse.error_description, serverResponse.suberror)) {\n                throw new InteractionRequiredAuthError(serverResponse.error || \"\", serverResponse.error_description, serverResponse.suberror, serverResponse.timestamp || \"\", serverResponse.trace_id || \"\", serverResponse.correlation_id || \"\", serverResponse.claims || \"\", serverErrorNo);\n            }\n            throw new ServerError(serverResponse.error || \"\", serverResponse.error_description, serverResponse.suberror, serverErrorNo);\n        }\n    }\n    /**\n     * Function which validates server authorization token response.\n     * @param serverResponse\n     * @param refreshAccessToken\n     */\n    validateTokenResponse(serverResponse, refreshAccessToken) {\n        // Check for error\n        if (serverResponse.error ||\n            serverResponse.error_description ||\n            serverResponse.suberror) {\n            const errString = `${serverResponse.error_codes} - [${serverResponse.timestamp}]: ${serverResponse.error_description} - Correlation ID: ${serverResponse.correlation_id} - Trace ID: ${serverResponse.trace_id}`;\n            const serverErrorNo = serverResponse.error_codes?.length\n                ? serverResponse.error_codes[0]\n                : undefined;\n            const serverError = new ServerError(serverResponse.error, errString, serverResponse.suberror, serverErrorNo);\n            // check if 500 error\n            if (refreshAccessToken &&\n                serverResponse.status &&\n                serverResponse.status >= HttpStatus.SERVER_ERROR_RANGE_START &&\n                serverResponse.status <= HttpStatus.SERVER_ERROR_RANGE_END) {\n                this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\\n${serverError}`);\n                // don't throw an exception, but alert the user via a log that the token was unable to be refreshed\n                return;\n                // check if 400 error\n            }\n            else if (refreshAccessToken &&\n                serverResponse.status &&\n                serverResponse.status >= HttpStatus.CLIENT_ERROR_RANGE_START &&\n                serverResponse.status <= HttpStatus.CLIENT_ERROR_RANGE_END) {\n                this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\\n${serverError}`);\n                // don't throw an exception, but alert the user via a log that the token was unable to be refreshed\n                return;\n            }\n            if (isInteractionRequiredError(serverResponse.error, serverResponse.error_description, serverResponse.suberror)) {\n                throw new InteractionRequiredAuthError(serverResponse.error, serverResponse.error_description, serverResponse.suberror, serverResponse.timestamp || Constants.EMPTY_STRING, serverResponse.trace_id || Constants.EMPTY_STRING, serverResponse.correlation_id || Constants.EMPTY_STRING, serverResponse.claims || Constants.EMPTY_STRING, serverErrorNo);\n            }\n            throw serverError;\n        }\n    }\n    /**\n     * Returns a constructed token response based on given string. Also manages the cache updates and cleanups.\n     * @param serverTokenResponse\n     * @param authority\n     */\n    async handleServerTokenResponse(serverTokenResponse, authority, reqTimestamp, request, authCodePayload, userAssertionHash, handlingRefreshTokenResponse, forceCacheRefreshTokenResponse, serverRequestId) {\n        this.performanceClient?.addQueueMeasurement(PerformanceEvents.HandleServerTokenResponse, serverTokenResponse.correlation_id);\n        // create an idToken object (not entity)\n        let idTokenClaims;\n        if (serverTokenResponse.id_token) {\n            idTokenClaims = extractTokenClaims(serverTokenResponse.id_token || Constants.EMPTY_STRING, this.cryptoObj.base64Decode);\n            // token nonce check (TODO: Add a warning if no nonce is given?)\n            if (authCodePayload && authCodePayload.nonce) {\n                if (idTokenClaims.nonce !== authCodePayload.nonce) {\n                    throw createClientAuthError(nonceMismatch);\n                }\n            }\n            // token max_age check\n            if (request.maxAge || request.maxAge === 0) {\n                const authTime = idTokenClaims.auth_time;\n                if (!authTime) {\n                    throw createClientAuthError(authTimeNotFound);\n                }\n                checkMaxAge(authTime, request.maxAge);\n            }\n        }\n        // generate homeAccountId\n        this.homeAccountIdentifier = AccountEntity.generateHomeAccountId(serverTokenResponse.client_info || Constants.EMPTY_STRING, authority.authorityType, this.logger, this.cryptoObj, idTokenClaims);\n        // save the response tokens\n        let requestStateObj;\n        if (!!authCodePayload && !!authCodePayload.state) {\n            requestStateObj = ProtocolUtils.parseRequestState(this.cryptoObj, authCodePayload.state);\n        }\n        // Add keyId from request to serverTokenResponse if defined\n        serverTokenResponse.key_id =\n            serverTokenResponse.key_id || request.sshKid || undefined;\n        const cacheRecord = this.generateCacheRecord(serverTokenResponse, authority, reqTimestamp, request, idTokenClaims, userAssertionHash, authCodePayload);\n        let cacheContext;\n        try {\n            if (this.persistencePlugin && this.serializableCache) {\n                this.logger.verbose(\"Persistence enabled, calling beforeCacheAccess\");\n                cacheContext = new TokenCacheContext(this.serializableCache, true);\n                await this.persistencePlugin.beforeCacheAccess(cacheContext);\n            }\n            /*\n             * When saving a refreshed tokens to the cache, it is expected that the account that was used is present in the cache.\n             * If not present, we should return null, as it's the case that another application called removeAccount in between\n             * the calls to getAllAccounts and acquireTokenSilent. We should not overwrite that removal, unless explicitly flagged by\n             * the developer, as in the case of refresh token flow used in ADAL Node to MSAL Node migration.\n             */\n            if (handlingRefreshTokenResponse &&\n                !forceCacheRefreshTokenResponse &&\n                cacheRecord.account) {\n                const key = cacheRecord.account.generateAccountKey();\n                const account = this.cacheStorage.getAccount(key, this.logger);\n                if (!account) {\n                    this.logger.warning(\"Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache\");\n                    return await ResponseHandler.generateAuthenticationResult(this.cryptoObj, authority, cacheRecord, false, request, idTokenClaims, requestStateObj, undefined, serverRequestId);\n                }\n            }\n            await this.cacheStorage.saveCacheRecord(cacheRecord, request.storeInCache, request.correlationId);\n        }\n        finally {\n            if (this.persistencePlugin &&\n                this.serializableCache &&\n                cacheContext) {\n                this.logger.verbose(\"Persistence enabled, calling afterCacheAccess\");\n                await this.persistencePlugin.afterCacheAccess(cacheContext);\n            }\n        }\n        return ResponseHandler.generateAuthenticationResult(this.cryptoObj, authority, cacheRecord, false, request, idTokenClaims, requestStateObj, serverTokenResponse, serverRequestId);\n    }\n    /**\n     * Generates CacheRecord\n     * @param serverTokenResponse\n     * @param idTokenObj\n     * @param authority\n     */\n    generateCacheRecord(serverTokenResponse, authority, reqTimestamp, request, idTokenClaims, userAssertionHash, authCodePayload) {\n        const env = authority.getPreferredCache();\n        if (!env) {\n            throw createClientAuthError(invalidCacheEnvironment);\n        }\n        const claimsTenantId = getTenantIdFromIdTokenClaims(idTokenClaims);\n        // IdToken: non AAD scenarios can have empty realm\n        let cachedIdToken;\n        let cachedAccount;\n        if (serverTokenResponse.id_token && !!idTokenClaims) {\n            cachedIdToken = createIdTokenEntity(this.homeAccountIdentifier, env, serverTokenResponse.id_token, this.clientId, claimsTenantId || \"\");\n            cachedAccount = buildAccountToCache(this.cacheStorage, authority, this.homeAccountIdentifier, idTokenClaims, this.cryptoObj.base64Decode, serverTokenResponse.client_info, env, claimsTenantId, authCodePayload, undefined, // nativeAccountId\n            this.logger);\n        }\n        // AccessToken\n        let cachedAccessToken = null;\n        if (serverTokenResponse.access_token) {\n            // If scopes not returned in server response, use request scopes\n            const responseScopes = serverTokenResponse.scope\n                ? ScopeSet.fromString(serverTokenResponse.scope)\n                : new ScopeSet(request.scopes || []);\n            /*\n             * Use timestamp calculated before request\n             * Server may return timestamps as strings, parse to numbers if so.\n             */\n            const expiresIn = (typeof serverTokenResponse.expires_in === \"string\"\n                ? parseInt(serverTokenResponse.expires_in, 10)\n                : serverTokenResponse.expires_in) || 0;\n            const extExpiresIn = (typeof serverTokenResponse.ext_expires_in === \"string\"\n                ? parseInt(serverTokenResponse.ext_expires_in, 10)\n                : serverTokenResponse.ext_expires_in) || 0;\n            const refreshIn = (typeof serverTokenResponse.refresh_in === \"string\"\n                ? parseInt(serverTokenResponse.refresh_in, 10)\n                : serverTokenResponse.refresh_in) || undefined;\n            const tokenExpirationSeconds = reqTimestamp + expiresIn;\n            const extendedTokenExpirationSeconds = tokenExpirationSeconds + extExpiresIn;\n            const refreshOnSeconds = refreshIn && refreshIn > 0\n                ? reqTimestamp + refreshIn\n                : undefined;\n            // non AAD scenarios can have empty realm\n            cachedAccessToken = createAccessTokenEntity(this.homeAccountIdentifier, env, serverTokenResponse.access_token, this.clientId, claimsTenantId || authority.tenant || \"\", responseScopes.printScopes(), tokenExpirationSeconds, extendedTokenExpirationSeconds, this.cryptoObj.base64Decode, refreshOnSeconds, serverTokenResponse.token_type, userAssertionHash, serverTokenResponse.key_id, request.claims, request.requestedClaimsHash);\n        }\n        // refreshToken\n        let cachedRefreshToken = null;\n        if (serverTokenResponse.refresh_token) {\n            let rtExpiresOn;\n            if (serverTokenResponse.refresh_token_expires_in) {\n                const rtExpiresIn = typeof serverTokenResponse.refresh_token_expires_in ===\n                    \"string\"\n                    ? parseInt(serverTokenResponse.refresh_token_expires_in, 10)\n                    : serverTokenResponse.refresh_token_expires_in;\n                rtExpiresOn = reqTimestamp + rtExpiresIn;\n            }\n            cachedRefreshToken = createRefreshTokenEntity(this.homeAccountIdentifier, env, serverTokenResponse.refresh_token, this.clientId, serverTokenResponse.foci, userAssertionHash, rtExpiresOn);\n        }\n        // appMetadata\n        let cachedAppMetadata = null;\n        if (serverTokenResponse.foci) {\n            cachedAppMetadata = {\n                clientId: this.clientId,\n                environment: env,\n                familyId: serverTokenResponse.foci,\n            };\n        }\n        return new CacheRecord(cachedAccount, cachedIdToken, cachedAccessToken, cachedRefreshToken, cachedAppMetadata);\n    }\n    /**\n     * Creates an @AuthenticationResult from @CacheRecord , @IdToken , and a boolean that states whether or not the result is from cache.\n     *\n     * Optionally takes a state string that is set as-is in the response.\n     *\n     * @param cacheRecord\n     * @param idTokenObj\n     * @param fromTokenCache\n     * @param stateString\n     */\n    static async generateAuthenticationResult(cryptoObj, authority, cacheRecord, fromTokenCache, request, idTokenClaims, requestState, serverTokenResponse, requestId) {\n        let accessToken = Constants.EMPTY_STRING;\n        let responseScopes = [];\n        let expiresOn = null;\n        let extExpiresOn;\n        let refreshOn;\n        let familyId = Constants.EMPTY_STRING;\n        if (cacheRecord.accessToken) {\n            if (cacheRecord.accessToken.tokenType === AuthenticationScheme.POP) {\n                const popTokenGenerator = new PopTokenGenerator(cryptoObj);\n                const { secret, keyId } = cacheRecord.accessToken;\n                if (!keyId) {\n                    throw createClientAuthError(keyIdMissing);\n                }\n                accessToken = await popTokenGenerator.signPopToken(secret, keyId, request);\n            }\n            else {\n                accessToken = cacheRecord.accessToken.secret;\n            }\n            responseScopes = ScopeSet.fromString(cacheRecord.accessToken.target).asArray();\n            expiresOn = new Date(Number(cacheRecord.accessToken.expiresOn) * 1000);\n            extExpiresOn = new Date(Number(cacheRecord.accessToken.extendedExpiresOn) * 1000);\n            if (cacheRecord.accessToken.refreshOn) {\n                refreshOn = new Date(Number(cacheRecord.accessToken.refreshOn) * 1000);\n            }\n        }\n        if (cacheRecord.appMetadata) {\n            familyId =\n                cacheRecord.appMetadata.familyId === THE_FAMILY_ID\n                    ? THE_FAMILY_ID\n                    : \"\";\n        }\n        const uid = idTokenClaims?.oid || idTokenClaims?.sub || \"\";\n        const tid = idTokenClaims?.tid || \"\";\n        // for hybrid + native bridge enablement, send back the native account Id\n        if (serverTokenResponse?.spa_accountid && !!cacheRecord.account) {\n            cacheRecord.account.nativeAccountId =\n                serverTokenResponse?.spa_accountid;\n        }\n        const accountInfo = cacheRecord.account\n            ? updateAccountTenantProfileData(cacheRecord.account.getAccountInfo(), undefined, // tenantProfile optional\n            idTokenClaims, cacheRecord.idToken?.secret)\n            : null;\n        return {\n            authority: authority.canonicalAuthority,\n            uniqueId: uid,\n            tenantId: tid,\n            scopes: responseScopes,\n            account: accountInfo,\n            idToken: cacheRecord?.idToken?.secret || \"\",\n            idTokenClaims: idTokenClaims || {},\n            accessToken: accessToken,\n            fromCache: fromTokenCache,\n            expiresOn: expiresOn,\n            extExpiresOn: extExpiresOn,\n            refreshOn: refreshOn,\n            correlationId: request.correlationId,\n            requestId: requestId || Constants.EMPTY_STRING,\n            familyId: familyId,\n            tokenType: cacheRecord.accessToken?.tokenType || Constants.EMPTY_STRING,\n            state: requestState\n                ? requestState.userRequestState\n                : Constants.EMPTY_STRING,\n            cloudGraphHostName: cacheRecord.account?.cloudGraphHostName ||\n                Constants.EMPTY_STRING,\n            msGraphHost: cacheRecord.account?.msGraphHost || Constants.EMPTY_STRING,\n            code: serverTokenResponse?.spa_code,\n            fromNativeBroker: false,\n        };\n    }\n}\nfunction buildAccountToCache(cacheStorage, authority, homeAccountId, idTokenClaims, base64Decode, clientInfo, environment, claimsTenantId, authCodePayload, nativeAccountId, logger) {\n    logger?.verbose(\"setCachedAccount called\");\n    // Check if base account is already cached\n    const accountKeys = cacheStorage.getAccountKeys();\n    const baseAccountKey = accountKeys.find((accountKey) => {\n        return accountKey.startsWith(homeAccountId);\n    });\n    let cachedAccount = null;\n    if (baseAccountKey) {\n        cachedAccount = cacheStorage.getAccount(baseAccountKey, logger);\n    }\n    const baseAccount = cachedAccount ||\n        AccountEntity.createAccount({\n            homeAccountId,\n            idTokenClaims,\n            clientInfo,\n            environment,\n            cloudGraphHostName: authCodePayload?.cloud_graph_host_name,\n            msGraphHost: authCodePayload?.msgraph_host,\n            nativeAccountId: nativeAccountId,\n        }, authority, base64Decode);\n    const tenantProfiles = baseAccount.tenantProfiles || [];\n    if (claimsTenantId &&\n        !tenantProfiles.find((tenantProfile) => {\n            return tenantProfile.tenantId === claimsTenantId;\n        })) {\n        const newTenantProfile = buildTenantProfileFromIdTokenClaims(homeAccountId, idTokenClaims);\n        tenantProfiles.push(newTenantProfile);\n    }\n    baseAccount.tenantProfiles = tenantProfiles;\n    return baseAccount;\n}\n\nexport { ResponseHandler, buildAccountToCache };\n//# sourceMappingURL=ResponseHandler.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nasync function getClientAssertion(clientAssertion, clientId, tokenEndpoint) {\n    if (typeof clientAssertion === \"string\") {\n        return clientAssertion;\n    }\n    else {\n        const config = {\n            clientId: clientId,\n            tokenEndpoint: tokenEndpoint,\n        };\n        return clientAssertion(config);\n    }\n}\n\nexport { getClientAssertion };\n//# sourceMappingURL=ClientAssertionUtils.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { BaseClient } from './BaseClient.mjs';\nimport { RequestParameterBuilder } from '../request/RequestParameterBuilder.mjs';\nimport { Separators, GrantType, AuthenticationScheme, PromptValue, HeaderNames } from '../utils/Constants.mjs';\nimport { CLIENT_ID, RETURN_SPA_CODE } from '../constants/AADServerParamKeys.mjs';\nimport { isOidcProtocolMode } from '../config/ClientConfiguration.mjs';\nimport { ResponseHandler } from '../response/ResponseHandler.mjs';\nimport { StringUtils } from '../utils/StringUtils.mjs';\nimport { createClientAuthError } from '../error/ClientAuthError.mjs';\nimport { UrlString } from '../url/UrlString.mjs';\nimport { PopTokenGenerator } from '../crypto/PopTokenGenerator.mjs';\nimport { nowSeconds } from '../utils/TimeUtils.mjs';\nimport { buildClientInfo, buildClientInfoFromHomeAccountId } from '../account/ClientInfo.mjs';\nimport { CcsCredentialType } from '../account/CcsCredential.mjs';\nimport { createClientConfigurationError } from '../error/ClientConfigurationError.mjs';\nimport { RequestValidator } from '../request/RequestValidator.mjs';\nimport { PerformanceEvents } from '../telemetry/performance/PerformanceEvent.mjs';\nimport { invokeAsync } from '../utils/FunctionWrappers.mjs';\nimport { getClientAssertion } from '../utils/ClientAssertionUtils.mjs';\nimport { requestCannotBeMade, authorizationCodeMissingFromServerResponse } from '../error/ClientAuthErrorCodes.mjs';\nimport { logoutRequestEmpty, missingSshJwk } from '../error/ClientConfigurationErrorCodes.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Oauth2.0 Authorization Code client\n * @internal\n */\nclass AuthorizationCodeClient extends BaseClient {\n    constructor(configuration, performanceClient) {\n        super(configuration, performanceClient);\n        // Flag to indicate if client is for hybrid spa auth code redemption\n        this.includeRedirectUri = true;\n        this.oidcDefaultScopes =\n            this.config.authOptions.authority.options.OIDCOptions?.defaultScopes;\n    }\n    /**\n     * Creates the URL of the authorization request letting the user input credentials and consent to the\n     * application. The URL target the /authorize endpoint of the authority configured in the\n     * application object.\n     *\n     * Once the user inputs their credentials and consents, the authority will send a response to the redirect URI\n     * sent in the request and should contain an authorization code, which can then be used to acquire tokens via\n     * acquireToken(AuthorizationCodeRequest)\n     * @param request\n     */\n    async getAuthCodeUrl(request) {\n        this.performanceClient?.addQueueMeasurement(PerformanceEvents.GetAuthCodeUrl, request.correlationId);\n        const queryString = await invokeAsync(this.createAuthCodeUrlQueryString.bind(this), PerformanceEvents.AuthClientCreateQueryString, this.logger, this.performanceClient, request.correlationId)(request);\n        return UrlString.appendQueryString(this.authority.authorizationEndpoint, queryString);\n    }\n    /**\n     * API to acquire a token in exchange of 'authorization_code` acquired by the user in the first leg of the\n     * authorization_code_grant\n     * @param request\n     */\n    async acquireToken(request, authCodePayload) {\n        this.performanceClient?.addQueueMeasurement(PerformanceEvents.AuthClientAcquireToken, request.correlationId);\n        if (!request.code) {\n            throw createClientAuthError(requestCannotBeMade);\n        }\n        const reqTimestamp = nowSeconds();\n        const response = await invokeAsync(this.executeTokenRequest.bind(this), PerformanceEvents.AuthClientExecuteTokenRequest, this.logger, this.performanceClient, request.correlationId)(this.authority, request);\n        // Retrieve requestId from response headers\n        const requestId = response.headers?.[HeaderNames.X_MS_REQUEST_ID];\n        const responseHandler = new ResponseHandler(this.config.authOptions.clientId, this.cacheManager, this.cryptoUtils, this.logger, this.config.serializableCache, this.config.persistencePlugin, this.performanceClient);\n        // Validate response. This function throws a server error if an error is returned by the server.\n        responseHandler.validateTokenResponse(response.body);\n        return invokeAsync(responseHandler.handleServerTokenResponse.bind(responseHandler), PerformanceEvents.HandleServerTokenResponse, this.logger, this.performanceClient, request.correlationId)(response.body, this.authority, reqTimestamp, request, authCodePayload, undefined, undefined, undefined, requestId);\n    }\n    /**\n     * Handles the hash fragment response from public client code request. Returns a code response used by\n     * the client to exchange for a token in acquireToken.\n     * @param hashFragment\n     */\n    handleFragmentResponse(serverParams, cachedState) {\n        // Handle responses.\n        const responseHandler = new ResponseHandler(this.config.authOptions.clientId, this.cacheManager, this.cryptoUtils, this.logger, null, null);\n        // Get code response\n        responseHandler.validateServerAuthorizationCodeResponse(serverParams, cachedState);\n        // throw when there is no auth code in the response\n        if (!serverParams.code) {\n            throw createClientAuthError(authorizationCodeMissingFromServerResponse);\n        }\n        return serverParams;\n    }\n    /**\n     * Used to log out the current user, and redirect the user to the postLogoutRedirectUri.\n     * Default behaviour is to redirect the user to `window.location.href`.\n     * @param authorityUri\n     */\n    getLogoutUri(logoutRequest) {\n        // Throw error if logoutRequest is null/undefined\n        if (!logoutRequest) {\n            throw createClientConfigurationError(logoutRequestEmpty);\n        }\n        const queryString = this.createLogoutUrlQueryString(logoutRequest);\n        // Construct logout URI\n        return UrlString.appendQueryString(this.authority.endSessionEndpoint, queryString);\n    }\n    /**\n     * Executes POST request to token endpoint\n     * @param authority\n     * @param request\n     */\n    async executeTokenRequest(authority, request) {\n        this.performanceClient?.addQueueMeasurement(PerformanceEvents.AuthClientExecuteTokenRequest, request.correlationId);\n        const queryParametersString = this.createTokenQueryParameters(request);\n        const endpoint = UrlString.appendQueryString(authority.tokenEndpoint, queryParametersString);\n        const requestBody = await invokeAsync(this.createTokenRequestBody.bind(this), PerformanceEvents.AuthClientCreateTokenRequestBody, this.logger, this.performanceClient, request.correlationId)(request);\n        let ccsCredential = undefined;\n        if (request.clientInfo) {\n            try {\n                const clientInfo = buildClientInfo(request.clientInfo, this.cryptoUtils.base64Decode);\n                ccsCredential = {\n                    credential: `${clientInfo.uid}${Separators.CLIENT_INFO_SEPARATOR}${clientInfo.utid}`,\n                    type: CcsCredentialType.HOME_ACCOUNT_ID,\n                };\n            }\n            catch (e) {\n                this.logger.verbose(\"Could not parse client info for CCS Header: \" + e);\n            }\n        }\n        const headers = this.createTokenRequestHeaders(ccsCredential || request.ccsCredential);\n        const thumbprint = {\n            clientId: request.tokenBodyParameters?.clientId ||\n                this.config.authOptions.clientId,\n            authority: authority.canonicalAuthority,\n            scopes: request.scopes,\n            claims: request.claims,\n            authenticationScheme: request.authenticationScheme,\n            resourceRequestMethod: request.resourceRequestMethod,\n            resourceRequestUri: request.resourceRequestUri,\n            shrClaims: request.shrClaims,\n            sshKid: request.sshKid,\n        };\n        return invokeAsync(this.executePostToTokenEndpoint.bind(this), PerformanceEvents.AuthorizationCodeClientExecutePostToTokenEndpoint, this.logger, this.performanceClient, request.correlationId)(endpoint, requestBody, headers, thumbprint, request.correlationId, PerformanceEvents.AuthorizationCodeClientExecutePostToTokenEndpoint);\n    }\n    /**\n     * Generates a map for all the params to be sent to the service\n     * @param request\n     */\n    async createTokenRequestBody(request) {\n        this.performanceClient?.addQueueMeasurement(PerformanceEvents.AuthClientCreateTokenRequestBody, request.correlationId);\n        const parameterBuilder = new RequestParameterBuilder();\n        parameterBuilder.addClientId(request.tokenBodyParameters?.[CLIENT_ID] ||\n            this.config.authOptions.clientId);\n        /*\n         * For hybrid spa flow, there will be a code but no verifier\n         * In this scenario, don't include redirect uri as auth code will not be bound to redirect URI\n         */\n        if (!this.includeRedirectUri) {\n            // Just validate\n            RequestValidator.validateRedirectUri(request.redirectUri);\n        }\n        else {\n            // Validate and include redirect uri\n            parameterBuilder.addRedirectUri(request.redirectUri);\n        }\n        // Add scope array, parameter builder will add default scopes and dedupe\n        parameterBuilder.addScopes(request.scopes, true, this.oidcDefaultScopes);\n        // add code: user set, not validated\n        parameterBuilder.addAuthorizationCode(request.code);\n        // Add library metadata\n        parameterBuilder.addLibraryInfo(this.config.libraryInfo);\n        parameterBuilder.addApplicationTelemetry(this.config.telemetry.application);\n        parameterBuilder.addThrottling();\n        if (this.serverTelemetryManager && !isOidcProtocolMode(this.config)) {\n            parameterBuilder.addServerTelemetry(this.serverTelemetryManager);\n        }\n        // add code_verifier if passed\n        if (request.codeVerifier) {\n            parameterBuilder.addCodeVerifier(request.codeVerifier);\n        }\n        if (this.config.clientCredentials.clientSecret) {\n            parameterBuilder.addClientSecret(this.config.clientCredentials.clientSecret);\n        }\n        if (this.config.clientCredentials.clientAssertion) {\n            const clientAssertion = this.config.clientCredentials.clientAssertion;\n            parameterBuilder.addClientAssertion(await getClientAssertion(clientAssertion.assertion, this.config.authOptions.clientId, request.resourceRequestUri));\n            parameterBuilder.addClientAssertionType(clientAssertion.assertionType);\n        }\n        parameterBuilder.addGrantType(GrantType.AUTHORIZATION_CODE_GRANT);\n        parameterBuilder.addClientInfo();\n        if (request.authenticationScheme === AuthenticationScheme.POP) {\n            const popTokenGenerator = new PopTokenGenerator(this.cryptoUtils, this.performanceClient);\n            const reqCnfData = await invokeAsync(popTokenGenerator.generateCnf.bind(popTokenGenerator), PerformanceEvents.PopTokenGenerateCnf, this.logger, this.performanceClient, request.correlationId)(request, this.logger);\n            // SPA PoP requires full Base64Url encoded req_cnf string (unhashed)\n            parameterBuilder.addPopToken(reqCnfData.reqCnfString);\n        }\n        else if (request.authenticationScheme === AuthenticationScheme.SSH) {\n            if (request.sshJwk) {\n                parameterBuilder.addSshJwk(request.sshJwk);\n            }\n            else {\n                throw createClientConfigurationError(missingSshJwk);\n            }\n        }\n        const correlationId = request.correlationId ||\n            this.config.cryptoInterface.createNewGuid();\n        parameterBuilder.addCorrelationId(correlationId);\n        if (!StringUtils.isEmptyObj(request.claims) ||\n            (this.config.authOptions.clientCapabilities &&\n                this.config.authOptions.clientCapabilities.length > 0)) {\n            parameterBuilder.addClaims(request.claims, this.config.authOptions.clientCapabilities);\n        }\n        let ccsCred = undefined;\n        if (request.clientInfo) {\n            try {\n                const clientInfo = buildClientInfo(request.clientInfo, this.cryptoUtils.base64Decode);\n                ccsCred = {\n                    credential: `${clientInfo.uid}${Separators.CLIENT_INFO_SEPARATOR}${clientInfo.utid}`,\n                    type: CcsCredentialType.HOME_ACCOUNT_ID,\n                };\n            }\n            catch (e) {\n                this.logger.verbose(\"Could not parse client info for CCS Header: \" + e);\n            }\n        }\n        else {\n            ccsCred = request.ccsCredential;\n        }\n        // Adds these as parameters in the request instead of headers to prevent CORS preflight request\n        if (this.config.systemOptions.preventCorsPreflight && ccsCred) {\n            switch (ccsCred.type) {\n                case CcsCredentialType.HOME_ACCOUNT_ID:\n                    try {\n                        const clientInfo = buildClientInfoFromHomeAccountId(ccsCred.credential);\n                        parameterBuilder.addCcsOid(clientInfo);\n                    }\n                    catch (e) {\n                        this.logger.verbose(\"Could not parse home account ID for CCS Header: \" +\n                            e);\n                    }\n                    break;\n                case CcsCredentialType.UPN:\n                    parameterBuilder.addCcsUpn(ccsCred.credential);\n                    break;\n            }\n        }\n        if (request.tokenBodyParameters) {\n            parameterBuilder.addExtraQueryParameters(request.tokenBodyParameters);\n        }\n        // Add hybrid spa parameters if not already provided\n        if (request.enableSpaAuthorizationCode &&\n            (!request.tokenBodyParameters ||\n                !request.tokenBodyParameters[RETURN_SPA_CODE])) {\n            parameterBuilder.addExtraQueryParameters({\n                [RETURN_SPA_CODE]: \"1\",\n            });\n        }\n        return parameterBuilder.createQueryString();\n    }\n    /**\n     * This API validates the `AuthorizationCodeUrlRequest` and creates a URL\n     * @param request\n     */\n    async createAuthCodeUrlQueryString(request) {\n        this.performanceClient?.addQueueMeasurement(PerformanceEvents.AuthClientCreateQueryString, request.correlationId);\n        const parameterBuilder = new RequestParameterBuilder();\n        parameterBuilder.addClientId(request.extraQueryParameters?.[CLIENT_ID] ||\n            this.config.authOptions.clientId);\n        const requestScopes = [\n            ...(request.scopes || []),\n            ...(request.extraScopesToConsent || []),\n        ];\n        parameterBuilder.addScopes(requestScopes, true, this.oidcDefaultScopes);\n        // validate the redirectUri (to be a non null value)\n        parameterBuilder.addRedirectUri(request.redirectUri);\n        // generate the correlationId if not set by the user and add\n        const correlationId = request.correlationId ||\n            this.config.cryptoInterface.createNewGuid();\n        parameterBuilder.addCorrelationId(correlationId);\n        // add response_mode. If not passed in it defaults to query.\n        parameterBuilder.addResponseMode(request.responseMode);\n        // add response_type = code\n        parameterBuilder.addResponseTypeCode();\n        // add library info parameters\n        parameterBuilder.addLibraryInfo(this.config.libraryInfo);\n        if (!isOidcProtocolMode(this.config)) {\n            parameterBuilder.addApplicationTelemetry(this.config.telemetry.application);\n        }\n        // add client_info=1\n        parameterBuilder.addClientInfo();\n        if (request.codeChallenge && request.codeChallengeMethod) {\n            parameterBuilder.addCodeChallengeParams(request.codeChallenge, request.codeChallengeMethod);\n        }\n        if (request.prompt) {\n            parameterBuilder.addPrompt(request.prompt);\n        }\n        if (request.domainHint) {\n            parameterBuilder.addDomainHint(request.domainHint);\n        }\n        // Add sid or loginHint with preference for login_hint claim (in request) -> sid -> loginHint (upn/email) -> username of AccountInfo object\n        if (request.prompt !== PromptValue.SELECT_ACCOUNT) {\n            // AAD will throw if prompt=select_account is passed with an account hint\n            if (request.sid && request.prompt === PromptValue.NONE) {\n                // SessionID is only used in silent calls\n                this.logger.verbose(\"createAuthCodeUrlQueryString: Prompt is none, adding sid from request\");\n                parameterBuilder.addSid(request.sid);\n            }\n            else if (request.account) {\n                const accountSid = this.extractAccountSid(request.account);\n                let accountLoginHintClaim = this.extractLoginHint(request.account);\n                if (accountLoginHintClaim && request.domainHint) {\n                    this.logger.warning(`AuthorizationCodeClient.createAuthCodeUrlQueryString: \"domainHint\" param is set, skipping opaque \"login_hint\" claim. Please consider not passing domainHint`);\n                    accountLoginHintClaim = null;\n                }\n                // If login_hint claim is present, use it over sid/username\n                if (accountLoginHintClaim) {\n                    this.logger.verbose(\"createAuthCodeUrlQueryString: login_hint claim present on account\");\n                    parameterBuilder.addLoginHint(accountLoginHintClaim);\n                    try {\n                        const clientInfo = buildClientInfoFromHomeAccountId(request.account.homeAccountId);\n                        parameterBuilder.addCcsOid(clientInfo);\n                    }\n                    catch (e) {\n                        this.logger.verbose(\"createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header\");\n                    }\n                }\n                else if (accountSid && request.prompt === PromptValue.NONE) {\n                    /*\n                     * If account and loginHint are provided, we will check account first for sid before adding loginHint\n                     * SessionId is only used in silent calls\n                     */\n                    this.logger.verbose(\"createAuthCodeUrlQueryString: Prompt is none, adding sid from account\");\n                    parameterBuilder.addSid(accountSid);\n                    try {\n                        const clientInfo = buildClientInfoFromHomeAccountId(request.account.homeAccountId);\n                        parameterBuilder.addCcsOid(clientInfo);\n                    }\n                    catch (e) {\n                        this.logger.verbose(\"createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header\");\n                    }\n                }\n                else if (request.loginHint) {\n                    this.logger.verbose(\"createAuthCodeUrlQueryString: Adding login_hint from request\");\n                    parameterBuilder.addLoginHint(request.loginHint);\n                    parameterBuilder.addCcsUpn(request.loginHint);\n                }\n                else if (request.account.username) {\n                    // Fallback to account username if provided\n                    this.logger.verbose(\"createAuthCodeUrlQueryString: Adding login_hint from account\");\n                    parameterBuilder.addLoginHint(request.account.username);\n                    try {\n                        const clientInfo = buildClientInfoFromHomeAccountId(request.account.homeAccountId);\n                        parameterBuilder.addCcsOid(clientInfo);\n                    }\n                    catch (e) {\n                        this.logger.verbose(\"createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header\");\n                    }\n                }\n            }\n            else if (request.loginHint) {\n                this.logger.verbose(\"createAuthCodeUrlQueryString: No account, adding login_hint from request\");\n                parameterBuilder.addLoginHint(request.loginHint);\n                parameterBuilder.addCcsUpn(request.loginHint);\n            }\n        }\n        else {\n            this.logger.verbose(\"createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints\");\n        }\n        if (request.nonce) {\n            parameterBuilder.addNonce(request.nonce);\n        }\n        if (request.state) {\n            parameterBuilder.addState(request.state);\n        }\n        if (request.claims ||\n            (this.config.authOptions.clientCapabilities &&\n                this.config.authOptions.clientCapabilities.length > 0)) {\n            parameterBuilder.addClaims(request.claims, this.config.authOptions.clientCapabilities);\n        }\n        if (request.extraQueryParameters) {\n            parameterBuilder.addExtraQueryParameters(request.extraQueryParameters);\n        }\n        if (request.nativeBroker) {\n            // signal ests that this is a WAM call\n            parameterBuilder.addNativeBroker();\n            // pass the req_cnf for POP\n            if (request.authenticationScheme === AuthenticationScheme.POP) {\n                const popTokenGenerator = new PopTokenGenerator(this.cryptoUtils);\n                // to reduce the URL length, it is recommended to send the hash of the req_cnf instead of the whole string\n                const reqCnfData = await invokeAsync(popTokenGenerator.generateCnf.bind(popTokenGenerator), PerformanceEvents.PopTokenGenerateCnf, this.logger, this.performanceClient, request.correlationId)(request, this.logger);\n                parameterBuilder.addPopToken(reqCnfData.reqCnfHash);\n            }\n        }\n        return parameterBuilder.createQueryString();\n    }\n    /**\n     * This API validates the `EndSessionRequest` and creates a URL\n     * @param request\n     */\n    createLogoutUrlQueryString(request) {\n        const parameterBuilder = new RequestParameterBuilder();\n        if (request.postLogoutRedirectUri) {\n            parameterBuilder.addPostLogoutRedirectUri(request.postLogoutRedirectUri);\n        }\n        if (request.correlationId) {\n            parameterBuilder.addCorrelationId(request.correlationId);\n        }\n        if (request.idTokenHint) {\n            parameterBuilder.addIdTokenHint(request.idTokenHint);\n        }\n        if (request.state) {\n            parameterBuilder.addState(request.state);\n        }\n        if (request.logoutHint) {\n            parameterBuilder.addLogoutHint(request.logoutHint);\n        }\n        if (request.extraQueryParameters) {\n            parameterBuilder.addExtraQueryParameters(request.extraQueryParameters);\n        }\n        return parameterBuilder.createQueryString();\n    }\n    /**\n     * Helper to get sid from account. Returns null if idTokenClaims are not present or sid is not present.\n     * @param account\n     */\n    extractAccountSid(account) {\n        return account.idTokenClaims?.sid || null;\n    }\n    extractLoginHint(account) {\n        return account.idTokenClaims?.login_hint || null;\n    }\n}\n\nexport { AuthorizationCodeClient };\n//# sourceMappingURL=AuthorizationCodeClient.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { isOidcProtocolMode } from '../config/ClientConfiguration.mjs';\nimport { BaseClient } from './BaseClient.mjs';\nimport { RequestParameterBuilder } from '../request/RequestParameterBuilder.mjs';\nimport { GrantType, AuthenticationScheme, HeaderNames, Errors } from '../utils/Constants.mjs';\nimport { CLIENT_ID } from '../constants/AADServerParamKeys.mjs';\nimport { ResponseHandler } from '../response/ResponseHandler.mjs';\nimport { PopTokenGenerator } from '../crypto/PopTokenGenerator.mjs';\nimport { StringUtils } from '../utils/StringUtils.mjs';\nimport { createClientConfigurationError } from '../error/ClientConfigurationError.mjs';\nimport { createClientAuthError } from '../error/ClientAuthError.mjs';\nimport { ServerError } from '../error/ServerError.mjs';\nimport { nowSeconds, isTokenExpired } from '../utils/TimeUtils.mjs';\nimport { UrlString } from '../url/UrlString.mjs';\nimport { CcsCredentialType } from '../account/CcsCredential.mjs';\nimport { buildClientInfoFromHomeAccountId } from '../account/ClientInfo.mjs';\nimport { createInteractionRequiredAuthError, InteractionRequiredAuthError } from '../error/InteractionRequiredAuthError.mjs';\nimport { PerformanceEvents } from '../telemetry/performance/PerformanceEvent.mjs';\nimport { invokeAsync, invoke } from '../utils/FunctionWrappers.mjs';\nimport { generateCredentialKey } from '../cache/utils/CacheHelpers.mjs';\nimport { getClientAssertion } from '../utils/ClientAssertionUtils.mjs';\nimport { tokenRequestEmpty, missingSshJwk } from '../error/ClientConfigurationErrorCodes.mjs';\nimport { noAccountInSilentRequest } from '../error/ClientAuthErrorCodes.mjs';\nimport { noTokensFound, refreshTokenExpired, badToken } from '../error/InteractionRequiredAuthErrorCodes.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nconst DEFAULT_REFRESH_TOKEN_EXPIRATION_OFFSET_SECONDS = 300; // 5 Minutes\n/**\n * OAuth2.0 refresh token client\n * @internal\n */\nclass RefreshTokenClient extends BaseClient {\n    constructor(configuration, performanceClient) {\n        super(configuration, performanceClient);\n    }\n    async acquireToken(request) {\n        this.performanceClient?.addQueueMeasurement(PerformanceEvents.RefreshTokenClientAcquireToken, request.correlationId);\n        const reqTimestamp = nowSeconds();\n        const response = await invokeAsync(this.executeTokenRequest.bind(this), PerformanceEvents.RefreshTokenClientExecuteTokenRequest, this.logger, this.performanceClient, request.correlationId)(request, this.authority);\n        // Retrieve requestId from response headers\n        const requestId = response.headers?.[HeaderNames.X_MS_REQUEST_ID];\n        const responseHandler = new ResponseHandler(this.config.authOptions.clientId, this.cacheManager, this.cryptoUtils, this.logger, this.config.serializableCache, this.config.persistencePlugin);\n        responseHandler.validateTokenResponse(response.body);\n        return invokeAsync(responseHandler.handleServerTokenResponse.bind(responseHandler), PerformanceEvents.HandleServerTokenResponse, this.logger, this.performanceClient, request.correlationId)(response.body, this.authority, reqTimestamp, request, undefined, undefined, true, request.forceCache, requestId);\n    }\n    /**\n     * Gets cached refresh token and attaches to request, then calls acquireToken API\n     * @param request\n     */\n    async acquireTokenByRefreshToken(request) {\n        // Cannot renew token if no request object is given.\n        if (!request) {\n            throw createClientConfigurationError(tokenRequestEmpty);\n        }\n        this.performanceClient?.addQueueMeasurement(PerformanceEvents.RefreshTokenClientAcquireTokenByRefreshToken, request.correlationId);\n        // We currently do not support silent flow for account === null use cases; This will be revisited for confidential flow usecases\n        if (!request.account) {\n            throw createClientAuthError(noAccountInSilentRequest);\n        }\n        // try checking if FOCI is enabled for the given application\n        const isFOCI = this.cacheManager.isAppMetadataFOCI(request.account.environment);\n        // if the app is part of the family, retrive a Family refresh token if present and make a refreshTokenRequest\n        if (isFOCI) {\n            try {\n                return await invokeAsync(this.acquireTokenWithCachedRefreshToken.bind(this), PerformanceEvents.RefreshTokenClientAcquireTokenWithCachedRefreshToken, this.logger, this.performanceClient, request.correlationId)(request, true);\n            }\n            catch (e) {\n                const noFamilyRTInCache = e instanceof InteractionRequiredAuthError &&\n                    e.errorCode ===\n                        noTokensFound;\n                const clientMismatchErrorWithFamilyRT = e instanceof ServerError &&\n                    e.errorCode === Errors.INVALID_GRANT_ERROR &&\n                    e.subError === Errors.CLIENT_MISMATCH_ERROR;\n                // if family Refresh Token (FRT) cache acquisition fails or if client_mismatch error is seen with FRT, reattempt with application Refresh Token (ART)\n                if (noFamilyRTInCache || clientMismatchErrorWithFamilyRT) {\n                    return invokeAsync(this.acquireTokenWithCachedRefreshToken.bind(this), PerformanceEvents.RefreshTokenClientAcquireTokenWithCachedRefreshToken, this.logger, this.performanceClient, request.correlationId)(request, false);\n                    // throw in all other cases\n                }\n                else {\n                    throw e;\n                }\n            }\n        }\n        // fall back to application refresh token acquisition\n        return invokeAsync(this.acquireTokenWithCachedRefreshToken.bind(this), PerformanceEvents.RefreshTokenClientAcquireTokenWithCachedRefreshToken, this.logger, this.performanceClient, request.correlationId)(request, false);\n    }\n    /**\n     * makes a network call to acquire tokens by exchanging RefreshToken available in userCache; throws if refresh token is not cached\n     * @param request\n     */\n    async acquireTokenWithCachedRefreshToken(request, foci) {\n        this.performanceClient?.addQueueMeasurement(PerformanceEvents.RefreshTokenClientAcquireTokenWithCachedRefreshToken, request.correlationId);\n        // fetches family RT or application RT based on FOCI value\n        const refreshToken = invoke(this.cacheManager.getRefreshToken.bind(this.cacheManager), PerformanceEvents.CacheManagerGetRefreshToken, this.logger, this.performanceClient, request.correlationId)(request.account, foci, undefined, this.performanceClient, request.correlationId);\n        if (!refreshToken) {\n            throw createInteractionRequiredAuthError(noTokensFound);\n        }\n        if (refreshToken.expiresOn &&\n            isTokenExpired(refreshToken.expiresOn, request.refreshTokenExpirationOffsetSeconds ||\n                DEFAULT_REFRESH_TOKEN_EXPIRATION_OFFSET_SECONDS)) {\n            throw createInteractionRequiredAuthError(refreshTokenExpired);\n        }\n        // attach cached RT size to the current measurement\n        const refreshTokenRequest = {\n            ...request,\n            refreshToken: refreshToken.secret,\n            authenticationScheme: request.authenticationScheme || AuthenticationScheme.BEARER,\n            ccsCredential: {\n                credential: request.account.homeAccountId,\n                type: CcsCredentialType.HOME_ACCOUNT_ID,\n            },\n        };\n        try {\n            return await invokeAsync(this.acquireToken.bind(this), PerformanceEvents.RefreshTokenClientAcquireToken, this.logger, this.performanceClient, request.correlationId)(refreshTokenRequest);\n        }\n        catch (e) {\n            if (e instanceof InteractionRequiredAuthError &&\n                e.subError === badToken) {\n                // Remove bad refresh token from cache\n                this.logger.verbose(\"acquireTokenWithRefreshToken: bad refresh token, removing from cache\");\n                const badRefreshTokenKey = generateCredentialKey(refreshToken);\n                this.cacheManager.removeRefreshToken(badRefreshTokenKey);\n            }\n            throw e;\n        }\n    }\n    /**\n     * Constructs the network message and makes a NW call to the underlying secure token service\n     * @param request\n     * @param authority\n     */\n    async executeTokenRequest(request, authority) {\n        this.performanceClient?.addQueueMeasurement(PerformanceEvents.RefreshTokenClientExecuteTokenRequest, request.correlationId);\n        const queryParametersString = this.createTokenQueryParameters(request);\n        const endpoint = UrlString.appendQueryString(authority.tokenEndpoint, queryParametersString);\n        const requestBody = await invokeAsync(this.createTokenRequestBody.bind(this), PerformanceEvents.RefreshTokenClientCreateTokenRequestBody, this.logger, this.performanceClient, request.correlationId)(request);\n        const headers = this.createTokenRequestHeaders(request.ccsCredential);\n        const thumbprint = {\n            clientId: request.tokenBodyParameters?.clientId ||\n                this.config.authOptions.clientId,\n            authority: authority.canonicalAuthority,\n            scopes: request.scopes,\n            claims: request.claims,\n            authenticationScheme: request.authenticationScheme,\n            resourceRequestMethod: request.resourceRequestMethod,\n            resourceRequestUri: request.resourceRequestUri,\n            shrClaims: request.shrClaims,\n            sshKid: request.sshKid,\n        };\n        return invokeAsync(this.executePostToTokenEndpoint.bind(this), PerformanceEvents.RefreshTokenClientExecutePostToTokenEndpoint, this.logger, this.performanceClient, request.correlationId)(endpoint, requestBody, headers, thumbprint, request.correlationId, PerformanceEvents.RefreshTokenClientExecutePostToTokenEndpoint);\n    }\n    /**\n     * Helper function to create the token request body\n     * @param request\n     */\n    async createTokenRequestBody(request) {\n        this.performanceClient?.addQueueMeasurement(PerformanceEvents.RefreshTokenClientCreateTokenRequestBody, request.correlationId);\n        const correlationId = request.correlationId;\n        const parameterBuilder = new RequestParameterBuilder();\n        parameterBuilder.addClientId(request.tokenBodyParameters?.[CLIENT_ID] ||\n            this.config.authOptions.clientId);\n        if (request.redirectUri) {\n            parameterBuilder.addRedirectUri(request.redirectUri);\n        }\n        parameterBuilder.addScopes(request.scopes, true, this.config.authOptions.authority.options.OIDCOptions?.defaultScopes);\n        parameterBuilder.addGrantType(GrantType.REFRESH_TOKEN_GRANT);\n        parameterBuilder.addClientInfo();\n        parameterBuilder.addLibraryInfo(this.config.libraryInfo);\n        parameterBuilder.addApplicationTelemetry(this.config.telemetry.application);\n        parameterBuilder.addThrottling();\n        if (this.serverTelemetryManager && !isOidcProtocolMode(this.config)) {\n            parameterBuilder.addServerTelemetry(this.serverTelemetryManager);\n        }\n        parameterBuilder.addCorrelationId(correlationId);\n        parameterBuilder.addRefreshToken(request.refreshToken);\n        if (this.config.clientCredentials.clientSecret) {\n            parameterBuilder.addClientSecret(this.config.clientCredentials.clientSecret);\n        }\n        if (this.config.clientCredentials.clientAssertion) {\n            const clientAssertion = this.config.clientCredentials.clientAssertion;\n            parameterBuilder.addClientAssertion(await getClientAssertion(clientAssertion.assertion, this.config.authOptions.clientId, request.resourceRequestUri));\n            parameterBuilder.addClientAssertionType(clientAssertion.assertionType);\n        }\n        if (request.authenticationScheme === AuthenticationScheme.POP) {\n            const popTokenGenerator = new PopTokenGenerator(this.cryptoUtils, this.performanceClient);\n            const reqCnfData = await invokeAsync(popTokenGenerator.generateCnf.bind(popTokenGenerator), PerformanceEvents.PopTokenGenerateCnf, this.logger, this.performanceClient, request.correlationId)(request, this.logger);\n            // SPA PoP requires full Base64Url encoded req_cnf string (unhashed)\n            parameterBuilder.addPopToken(reqCnfData.reqCnfString);\n        }\n        else if (request.authenticationScheme === AuthenticationScheme.SSH) {\n            if (request.sshJwk) {\n                parameterBuilder.addSshJwk(request.sshJwk);\n            }\n            else {\n                throw createClientConfigurationError(missingSshJwk);\n            }\n        }\n        if (!StringUtils.isEmptyObj(request.claims) ||\n            (this.config.authOptions.clientCapabilities &&\n                this.config.authOptions.clientCapabilities.length > 0)) {\n            parameterBuilder.addClaims(request.claims, this.config.authOptions.clientCapabilities);\n        }\n        if (this.config.systemOptions.preventCorsPreflight &&\n            request.ccsCredential) {\n            switch (request.ccsCredential.type) {\n                case CcsCredentialType.HOME_ACCOUNT_ID:\n                    try {\n                        const clientInfo = buildClientInfoFromHomeAccountId(request.ccsCredential.credential);\n                        parameterBuilder.addCcsOid(clientInfo);\n                    }\n                    catch (e) {\n                        this.logger.verbose(\"Could not parse home account ID for CCS Header: \" +\n                            e);\n                    }\n                    break;\n                case CcsCredentialType.UPN:\n                    parameterBuilder.addCcsUpn(request.ccsCredential.credential);\n                    break;\n            }\n        }\n        if (request.tokenBodyParameters) {\n            parameterBuilder.addExtraQueryParameters(request.tokenBodyParameters);\n        }\n        return parameterBuilder.createQueryString();\n    }\n}\n\nexport { RefreshTokenClient };\n//# sourceMappingURL=RefreshTokenClient.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { BaseClient } from './BaseClient.mjs';\nimport { wasClockTurnedBack, isTokenExpired } from '../utils/TimeUtils.mjs';\nimport { RefreshTokenClient } from './RefreshTokenClient.mjs';\nimport { ClientAuthError, createClientAuthError } from '../error/ClientAuthError.mjs';\nimport { ResponseHandler } from '../response/ResponseHandler.mjs';\nimport { OIDC_DEFAULT_SCOPES, CacheOutcome } from '../utils/Constants.mjs';\nimport { StringUtils } from '../utils/StringUtils.mjs';\nimport { extractTokenClaims, checkMaxAge } from '../account/AuthToken.mjs';\nimport { PerformanceEvents } from '../telemetry/performance/PerformanceEvent.mjs';\nimport { invokeAsync } from '../utils/FunctionWrappers.mjs';\nimport { getTenantFromAuthorityString } from '../authority/Authority.mjs';\nimport { tokenRefreshRequired, noAccountInSilentRequest, authTimeNotFound } from '../error/ClientAuthErrorCodes.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/** @internal */\nclass SilentFlowClient extends BaseClient {\n    constructor(configuration, performanceClient) {\n        super(configuration, performanceClient);\n    }\n    /**\n     * Retrieves a token from cache if it is still valid, or uses the cached refresh token to renew\n     * the given token and returns the renewed token\n     * @param request\n     */\n    async acquireToken(request) {\n        try {\n            const [authResponse, cacheOutcome] = await this.acquireCachedToken({\n                ...request,\n                scopes: request.scopes?.length\n                    ? request.scopes\n                    : [...OIDC_DEFAULT_SCOPES],\n            });\n            // if the token is not expired but must be refreshed; get a new one in the background\n            if (cacheOutcome === CacheOutcome.PROACTIVELY_REFRESHED) {\n                this.logger.info(\"SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.\");\n                // refresh the access token in the background\n                const refreshTokenClient = new RefreshTokenClient(this.config, this.performanceClient);\n                refreshTokenClient\n                    .acquireTokenByRefreshToken(request)\n                    .catch(() => {\n                    // do nothing, this is running in the background and no action is to be taken upon success or failure\n                });\n            }\n            // return the cached token\n            return authResponse;\n        }\n        catch (e) {\n            if (e instanceof ClientAuthError &&\n                e.errorCode === tokenRefreshRequired) {\n                const refreshTokenClient = new RefreshTokenClient(this.config, this.performanceClient);\n                return refreshTokenClient.acquireTokenByRefreshToken(request);\n            }\n            else {\n                throw e;\n            }\n        }\n    }\n    /**\n     * Retrieves token from cache or throws an error if it must be refreshed.\n     * @param request\n     */\n    async acquireCachedToken(request) {\n        this.performanceClient?.addQueueMeasurement(PerformanceEvents.SilentFlowClientAcquireCachedToken, request.correlationId);\n        let lastCacheOutcome = CacheOutcome.NOT_APPLICABLE;\n        if (request.forceRefresh ||\n            (!this.config.cacheOptions.claimsBasedCachingEnabled &&\n                !StringUtils.isEmptyObj(request.claims))) {\n            // Must refresh due to present force_refresh flag.\n            this.setCacheOutcome(CacheOutcome.FORCE_REFRESH_OR_CLAIMS, request.correlationId);\n            throw createClientAuthError(tokenRefreshRequired);\n        }\n        // We currently do not support silent flow for account === null use cases; This will be revisited for confidential flow usecases\n        if (!request.account) {\n            throw createClientAuthError(noAccountInSilentRequest);\n        }\n        const requestTenantId = request.account.tenantId ||\n            getTenantFromAuthorityString(request.authority);\n        const tokenKeys = this.cacheManager.getTokenKeys();\n        const cachedAccessToken = this.cacheManager.getAccessToken(request.account, request, tokenKeys, requestTenantId, this.performanceClient, request.correlationId);\n        if (!cachedAccessToken) {\n            // must refresh due to non-existent access_token\n            this.setCacheOutcome(CacheOutcome.NO_CACHED_ACCESS_TOKEN, request.correlationId);\n            throw createClientAuthError(tokenRefreshRequired);\n        }\n        else if (wasClockTurnedBack(cachedAccessToken.cachedAt) ||\n            isTokenExpired(cachedAccessToken.expiresOn, this.config.systemOptions.tokenRenewalOffsetSeconds)) {\n            // must refresh due to the expires_in value\n            this.setCacheOutcome(CacheOutcome.CACHED_ACCESS_TOKEN_EXPIRED, request.correlationId);\n            throw createClientAuthError(tokenRefreshRequired);\n        }\n        else if (cachedAccessToken.refreshOn &&\n            isTokenExpired(cachedAccessToken.refreshOn, 0)) {\n            // must refresh (in the background) due to the refresh_in value\n            lastCacheOutcome = CacheOutcome.PROACTIVELY_REFRESHED;\n            // don't throw ClientAuthError.createRefreshRequiredError(), return cached token instead\n        }\n        const environment = request.authority || this.authority.getPreferredCache();\n        const cacheRecord = {\n            account: this.cacheManager.readAccountFromCache(request.account),\n            accessToken: cachedAccessToken,\n            idToken: this.cacheManager.getIdToken(request.account, tokenKeys, requestTenantId, this.performanceClient, request.correlationId),\n            refreshToken: null,\n            appMetadata: this.cacheManager.readAppMetadataFromCache(environment),\n        };\n        this.setCacheOutcome(lastCacheOutcome, request.correlationId);\n        if (this.config.serverTelemetryManager) {\n            this.config.serverTelemetryManager.incrementCacheHits();\n        }\n        return [\n            await invokeAsync(this.generateResultFromCacheRecord.bind(this), PerformanceEvents.SilentFlowClientGenerateResultFromCacheRecord, this.logger, this.performanceClient, request.correlationId)(cacheRecord, request),\n            lastCacheOutcome,\n        ];\n    }\n    setCacheOutcome(cacheOutcome, correlationId) {\n        this.serverTelemetryManager?.setCacheOutcome(cacheOutcome);\n        this.performanceClient?.addFields({\n            cacheOutcome: cacheOutcome,\n        }, correlationId);\n        if (cacheOutcome !== CacheOutcome.NOT_APPLICABLE) {\n            this.logger.info(`Token refresh is required due to cache outcome: ${cacheOutcome}`);\n        }\n    }\n    /**\n     * Helper function to build response object from the CacheRecord\n     * @param cacheRecord\n     */\n    async generateResultFromCacheRecord(cacheRecord, request) {\n        this.performanceClient?.addQueueMeasurement(PerformanceEvents.SilentFlowClientGenerateResultFromCacheRecord, request.correlationId);\n        let idTokenClaims;\n        if (cacheRecord.idToken) {\n            idTokenClaims = extractTokenClaims(cacheRecord.idToken.secret, this.config.cryptoInterface.base64Decode);\n        }\n        // token max_age check\n        if (request.maxAge || request.maxAge === 0) {\n            const authTime = idTokenClaims?.auth_time;\n            if (!authTime) {\n                throw createClientAuthError(authTimeNotFound);\n            }\n            checkMaxAge(authTime, request.maxAge);\n        }\n        return ResponseHandler.generateAuthenticationResult(this.cryptoUtils, this.authority, cacheRecord, true, request, idTokenClaims);\n    }\n}\n\nexport { SilentFlowClient };\n//# sourceMappingURL=SilentFlowClient.mjs.map\n","/*! @azure/msal-common v14.10.0 2024-05-07 */\n'use strict';\nimport { CacheOutcome, Constants, SERVER_TELEM_CONSTANTS, Separators } from '../../utils/Constants.mjs';\nimport { AuthError } from '../../error/AuthError.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/** @internal */\nclass ServerTelemetryManager {\n    constructor(telemetryRequest, cacheManager) {\n        this.cacheOutcome = CacheOutcome.NOT_APPLICABLE;\n        this.cacheManager = cacheManager;\n        this.apiId = telemetryRequest.apiId;\n        this.correlationId = telemetryRequest.correlationId;\n        this.wrapperSKU = telemetryRequest.wrapperSKU || Constants.EMPTY_STRING;\n        this.wrapperVer = telemetryRequest.wrapperVer || Constants.EMPTY_STRING;\n        this.telemetryCacheKey =\n            SERVER_TELEM_CONSTANTS.CACHE_KEY +\n                Separators.CACHE_KEY_SEPARATOR +\n                telemetryRequest.clientId;\n    }\n    /**\n     * API to add MSER Telemetry to request\n     */\n    generateCurrentRequestHeaderValue() {\n        const request = `${this.apiId}${SERVER_TELEM_CONSTANTS.VALUE_SEPARATOR}${this.cacheOutcome}`;\n        const platformFields = [this.wrapperSKU, this.wrapperVer].join(SERVER_TELEM_CONSTANTS.VALUE_SEPARATOR);\n        const regionDiscoveryFields = this.getRegionDiscoveryFields();\n        const requestWithRegionDiscoveryFields = [\n            request,\n            regionDiscoveryFields,\n        ].join(SERVER_TELEM_CONSTANTS.VALUE_SEPARATOR);\n        return [\n            SERVER_TELEM_CONSTANTS.SCHEMA_VERSION,\n            requestWithRegionDiscoveryFields,\n            platformFields,\n        ].join(SERVER_TELEM_CONSTANTS.CATEGORY_SEPARATOR);\n    }\n    /**\n     * API to add MSER Telemetry for the last failed request\n     */\n    generateLastRequestHeaderValue() {\n        const lastRequests = this.getLastRequests();\n        const maxErrors = ServerTelemetryManager.maxErrorsToSend(lastRequests);\n        const failedRequests = lastRequests.failedRequests\n            .slice(0, 2 * maxErrors)\n            .join(SERVER_TELEM_CONSTANTS.VALUE_SEPARATOR);\n        const errors = lastRequests.errors\n            .slice(0, maxErrors)\n            .join(SERVER_TELEM_CONSTANTS.VALUE_SEPARATOR);\n        const errorCount = lastRequests.errors.length;\n        // Indicate whether this header contains all data or partial data\n        const overflow = maxErrors < errorCount\n            ? SERVER_TELEM_CONSTANTS.OVERFLOW_TRUE\n            : SERVER_TELEM_CONSTANTS.OVERFLOW_FALSE;\n        const platformFields = [errorCount, overflow].join(SERVER_TELEM_CONSTANTS.VALUE_SEPARATOR);\n        return [\n            SERVER_TELEM_CONSTANTS.SCHEMA_VERSION,\n            lastRequests.cacheHits,\n            failedRequests,\n            errors,\n            platformFields,\n        ].join(SERVER_TELEM_CONSTANTS.CATEGORY_SEPARATOR);\n    }\n    /**\n     * API to cache token failures for MSER data capture\n     * @param error\n     */\n    cacheFailedRequest(error) {\n        const lastRequests = this.getLastRequests();\n        if (lastRequests.errors.length >=\n            SERVER_TELEM_CONSTANTS.MAX_CACHED_ERRORS) {\n            // Remove a cached error to make room, first in first out\n            lastRequests.failedRequests.shift(); // apiId\n            lastRequests.failedRequests.shift(); // correlationId\n            lastRequests.errors.shift();\n        }\n        lastRequests.failedRequests.push(this.apiId, this.correlationId);\n        if (error instanceof Error && !!error && error.toString()) {\n            if (error instanceof AuthError) {\n                if (error.subError) {\n                    lastRequests.errors.push(error.subError);\n                }\n                else if (error.errorCode) {\n                    lastRequests.errors.push(error.errorCode);\n                }\n                else {\n                    lastRequests.errors.push(error.toString());\n                }\n            }\n            else {\n                lastRequests.errors.push(error.toString());\n            }\n        }\n        else {\n            lastRequests.errors.push(SERVER_TELEM_CONSTANTS.UNKNOWN_ERROR);\n        }\n        this.cacheManager.setServerTelemetry(this.telemetryCacheKey, lastRequests);\n        return;\n    }\n    /**\n     * Update server telemetry cache entry by incrementing cache hit counter\n     */\n    incrementCacheHits() {\n        const lastRequests = this.getLastRequests();\n        lastRequests.cacheHits += 1;\n        this.cacheManager.setServerTelemetry(this.telemetryCacheKey, lastRequests);\n        return lastRequests.cacheHits;\n    }\n    /**\n     * Get the server telemetry entity from cache or initialize a new one\n     */\n    getLastRequests() {\n        const initialValue = {\n            failedRequests: [],\n            errors: [],\n            cacheHits: 0,\n        };\n        const lastRequests = this.cacheManager.getServerTelemetry(this.telemetryCacheKey);\n        return lastRequests || initialValue;\n    }\n    /**\n     * Remove server telemetry cache entry\n     */\n    clearTelemetryCache() {\n        const lastRequests = this.getLastRequests();\n        const numErrorsFlushed = ServerTelemetryManager.maxErrorsToSend(lastRequests);\n        const errorCount = lastRequests.errors.length;\n        if (numErrorsFlushed === errorCount) {\n            // All errors were sent on last request, clear Telemetry cache\n            this.cacheManager.removeItem(this.telemetryCacheKey);\n        }\n        else {\n            // Partial data was flushed to server, construct a new telemetry cache item with errors that were not flushed\n            const serverTelemEntity = {\n                failedRequests: lastRequests.failedRequests.slice(numErrorsFlushed * 2),\n                errors: lastRequests.errors.slice(numErrorsFlushed),\n                cacheHits: 0,\n            };\n            this.cacheManager.setServerTelemetry(this.telemetryCacheKey, serverTelemEntity);\n        }\n    }\n    /**\n     * Returns the maximum number of errors that can be flushed to the server in the next network request\n     * @param serverTelemetryEntity\n     */\n    static maxErrorsToSend(serverTelemetryEntity) {\n        let i;\n        let maxErrors = 0;\n        let dataSize = 0;\n        const errorCount = serverTelemetryEntity.errors.length;\n        for (i = 0; i < errorCount; i++) {\n            // failedRequests parameter contains pairs of apiId and correlationId, multiply index by 2 to preserve pairs\n            const apiId = serverTelemetryEntity.failedRequests[2 * i] ||\n                Constants.EMPTY_STRING;\n            const correlationId = serverTelemetryEntity.failedRequests[2 * i + 1] ||\n                Constants.EMPTY_STRING;\n            const errorCode = serverTelemetryEntity.errors[i] || Constants.EMPTY_STRING;\n            // Count number of characters that would be added to header, each character is 1 byte. Add 3 at the end to account for separators\n            dataSize +=\n                apiId.toString().length +\n                    correlationId.toString().length +\n                    errorCode.length +\n                    3;\n            if (dataSize < SERVER_TELEM_CONSTANTS.MAX_LAST_HEADER_BYTES) {\n                // Adding this entry to the header would still keep header size below the limit\n                maxErrors += 1;\n            }\n            else {\n                break;\n            }\n        }\n        return maxErrors;\n    }\n    /**\n     * Get the region discovery fields\n     *\n     * @returns string\n     */\n    getRegionDiscoveryFields() {\n        const regionDiscoveryFields = [];\n        regionDiscoveryFields.push(this.regionUsed || Constants.EMPTY_STRING);\n        regionDiscoveryFields.push(this.regionSource || Constants.EMPTY_STRING);\n        regionDiscoveryFields.push(this.regionOutcome || Constants.EMPTY_STRING);\n        return regionDiscoveryFields.join(\",\");\n    }\n    /**\n     * Update the region discovery metadata\n     *\n     * @param regionDiscoveryMetadata\n     * @returns void\n     */\n    updateRegionDiscoveryMetadata(regionDiscoveryMetadata) {\n        this.regionUsed = regionDiscoveryMetadata.region_used;\n        this.regionSource = regionDiscoveryMetadata.region_source;\n        this.regionOutcome = regionDiscoveryMetadata.region_outcome;\n    }\n    /**\n     * Set cache outcome\n     */\n    setCacheOutcome(cacheOutcome) {\n        this.cacheOutcome = cacheOutcome;\n    }\n}\n\nexport { ServerTelemetryManager };\n//# sourceMappingURL=ServerTelemetryManager.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nclass NetworkUtils {\n    static getNetworkResponse(headers, body, statusCode) {\n        return {\n            headers: headers,\n            body: body,\n            status: statusCode,\n        };\n    }\n    /*\n     * Utility function that converts a URL object into an ordinary options object as expected by the\n     * http.request and https.request APIs.\n     * https://github.com/nodejs/node/blob/main/lib/internal/url.js#L1090\n     */\n    static urlToHttpOptions(url) {\n        const options = {\n            protocol: url.protocol,\n            hostname: url.hostname && url.hostname.startsWith(\"[\")\n                ? url.hostname.slice(1, -1)\n                : url.hostname,\n            hash: url.hash,\n            search: url.search,\n            pathname: url.pathname,\n            path: `${url.pathname || \"\"}${url.search || \"\"}`,\n            href: url.href,\n        };\n        if (url.port !== \"\") {\n            options.port = Number(url.port);\n        }\n        if (url.username || url.password) {\n            options.auth = `${decodeURIComponent(url.username)}:${decodeURIComponent(url.password)}`;\n        }\n        return options;\n    }\n}\n\nexport { NetworkUtils };\n//# sourceMappingURL=NetworkUtils.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\nimport { HttpStatus } from '@azure/msal-common';\nimport { ProxyStatus, Constants, HttpMethod } from '../utils/Constants.mjs';\nimport { NetworkUtils } from '../utils/NetworkUtils.mjs';\nimport http from 'http';\nimport https from 'https';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * This class implements the API for network requests.\n */\nclass HttpClient {\n    constructor(proxyUrl, customAgentOptions) {\n        this.proxyUrl = proxyUrl || \"\";\n        this.customAgentOptions = customAgentOptions || {};\n    }\n    /**\n     * Http Get request\n     * @param url\n     * @param options\n     */\n    async sendGetRequestAsync(url, options, timeout) {\n        if (this.proxyUrl) {\n            return networkRequestViaProxy(url, this.proxyUrl, HttpMethod.GET, options, this.customAgentOptions, timeout);\n        }\n        else {\n            return networkRequestViaHttps(url, HttpMethod.GET, options, this.customAgentOptions, timeout);\n        }\n    }\n    /**\n     * Http Post request\n     * @param url\n     * @param options\n     */\n    async sendPostRequestAsync(url, options) {\n        if (this.proxyUrl) {\n            return networkRequestViaProxy(url, this.proxyUrl, HttpMethod.POST, options, this.customAgentOptions);\n        }\n        else {\n            return networkRequestViaHttps(url, HttpMethod.POST, options, this.customAgentOptions);\n        }\n    }\n}\nconst networkRequestViaProxy = (destinationUrlString, proxyUrlString, httpMethod, options, agentOptions, timeout) => {\n    const destinationUrl = new URL(destinationUrlString);\n    const proxyUrl = new URL(proxyUrlString);\n    // \"method: connect\" must be used to establish a connection to the proxy\n    const headers = options?.headers || {};\n    const tunnelRequestOptions = {\n        host: proxyUrl.hostname,\n        port: proxyUrl.port,\n        method: \"CONNECT\",\n        path: destinationUrl.hostname,\n        headers: headers,\n    };\n    if (agentOptions && Object.keys(agentOptions).length) {\n        tunnelRequestOptions.agent = new http.Agent(agentOptions);\n    }\n    // compose a request string for the socket\n    let postRequestStringContent = \"\";\n    if (httpMethod === HttpMethod.POST) {\n        const body = options?.body || \"\";\n        postRequestStringContent =\n            \"Content-Type: application/x-www-form-urlencoded\\r\\n\" +\n                `Content-Length: ${body.length}\\r\\n` +\n                `\\r\\n${body}`;\n    }\n    else {\n        // optional timeout is only for get requests (regionDiscovery, for example)\n        if (timeout) {\n            tunnelRequestOptions.timeout = timeout;\n        }\n    }\n    const outgoingRequestString = `${httpMethod.toUpperCase()} ${destinationUrl.href} HTTP/1.1\\r\\n` +\n        `Host: ${destinationUrl.host}\\r\\n` +\n        \"Connection: close\\r\\n\" +\n        postRequestStringContent +\n        \"\\r\\n\";\n    return new Promise((resolve, reject) => {\n        const request = http.request(tunnelRequestOptions);\n        if (timeout) {\n            request.on(\"timeout\", () => {\n                request.destroy();\n                reject(new Error(\"Request time out\"));\n            });\n        }\n        request.end();\n        // establish connection to the proxy\n        request.on(\"connect\", (response, socket) => {\n            const proxyStatusCode = response?.statusCode || ProxyStatus.SERVER_ERROR;\n            if (proxyStatusCode < ProxyStatus.SUCCESS_RANGE_START ||\n                proxyStatusCode > ProxyStatus.SUCCESS_RANGE_END) {\n                request.destroy();\n                socket.destroy();\n                reject(new Error(`Error connecting to proxy. Http status code: ${response.statusCode}. Http status message: ${response?.statusMessage || \"Unknown\"}`));\n            }\n            // make a request over an HTTP tunnel\n            socket.write(outgoingRequestString);\n            const data = [];\n            socket.on(\"data\", (chunk) => {\n                data.push(chunk);\n            });\n            socket.on(\"end\", () => {\n                // combine all received buffer streams into one buffer, and then into a string\n                const dataString = Buffer.concat([...data]).toString();\n                // separate each line into it's own entry in an arry\n                const dataStringArray = dataString.split(\"\\r\\n\");\n                // the first entry will contain the statusCode and statusMessage\n                const httpStatusCode = parseInt(dataStringArray[0].split(\" \")[1]);\n                // remove \"HTTP/1.1\" and the status code to get the status message\n                const statusMessage = dataStringArray[0]\n                    .split(\" \")\n                    .slice(2)\n                    .join(\" \");\n                // the last entry will contain the body\n                const body = dataStringArray[dataStringArray.length - 1];\n                // everything in between the first and last entries are the headers\n                const headersArray = dataStringArray.slice(1, dataStringArray.length - 2);\n                // build an object out of all the headers\n                const entries = new Map();\n                headersArray.forEach((header) => {\n                    /**\n                     * the header might look like \"Content-Length: 1531\", but that is just a string\n                     * it needs to be converted to a key/value pair\n                     * split the string at the first instance of \":\"\n                     * there may be more than one \":\" if the value of the header is supposed to be a JSON object\n                     */\n                    const headerKeyValue = header.split(new RegExp(/:\\s(.*)/s));\n                    const headerKey = headerKeyValue[0];\n                    let headerValue = headerKeyValue[1];\n                    // check if the value of the header is supposed to be a JSON object\n                    try {\n                        const object = JSON.parse(headerValue);\n                        // if it is, then convert it from a string to a JSON object\n                        if (object && typeof object === \"object\") {\n                            headerValue = object;\n                        }\n                    }\n                    catch (e) {\n                        // otherwise, leave it as a string\n                    }\n                    entries.set(headerKey, headerValue);\n                });\n                const headers = Object.fromEntries(entries);\n                const parsedHeaders = headers;\n                const networkResponse = NetworkUtils.getNetworkResponse(parsedHeaders, parseBody(httpStatusCode, statusMessage, parsedHeaders, body), httpStatusCode);\n                if ((httpStatusCode < HttpStatus.SUCCESS_RANGE_START ||\n                    httpStatusCode > HttpStatus.SUCCESS_RANGE_END) &&\n                    // do not destroy the request for the device code flow\n                    networkResponse.body[\"error\"] !==\n                        Constants.AUTHORIZATION_PENDING) {\n                    request.destroy();\n                }\n                resolve(networkResponse);\n            });\n            socket.on(\"error\", (chunk) => {\n                request.destroy();\n                socket.destroy();\n                reject(new Error(chunk.toString()));\n            });\n        });\n        request.on(\"error\", (chunk) => {\n            request.destroy();\n            reject(new Error(chunk.toString()));\n        });\n    });\n};\nconst networkRequestViaHttps = (urlString, httpMethod, options, agentOptions, timeout) => {\n    const isPostRequest = httpMethod === HttpMethod.POST;\n    const body = options?.body || \"\";\n    const url = new URL(urlString);\n    const headers = options?.headers || {};\n    const customOptions = {\n        method: httpMethod,\n        headers: headers,\n        ...NetworkUtils.urlToHttpOptions(url),\n    };\n    if (agentOptions && Object.keys(agentOptions).length) {\n        customOptions.agent = new https.Agent(agentOptions);\n    }\n    if (isPostRequest) {\n        // needed for post request to work\n        customOptions.headers = {\n            ...customOptions.headers,\n            \"Content-Length\": body.length,\n        };\n    }\n    else {\n        // optional timeout is only for get requests (regionDiscovery, for example)\n        if (timeout) {\n            customOptions.timeout = timeout;\n        }\n    }\n    return new Promise((resolve, reject) => {\n        let request;\n        // managed identity sources use http instead of https\n        if (customOptions.protocol === \"http:\") {\n            request = http.request(customOptions);\n        }\n        else {\n            request = https.request(customOptions);\n        }\n        if (isPostRequest) {\n            request.write(body);\n        }\n        if (timeout) {\n            request.on(\"timeout\", () => {\n                request.destroy();\n                reject(new Error(\"Request time out\"));\n            });\n        }\n        request.end();\n        request.on(\"response\", (response) => {\n            const headers = response.headers;\n            const statusCode = response.statusCode;\n            const statusMessage = response.statusMessage;\n            const data = [];\n            response.on(\"data\", (chunk) => {\n                data.push(chunk);\n            });\n            response.on(\"end\", () => {\n                // combine all received buffer streams into one buffer, and then into a string\n                const body = Buffer.concat([...data]).toString();\n                const parsedHeaders = headers;\n                const networkResponse = NetworkUtils.getNetworkResponse(parsedHeaders, parseBody(statusCode, statusMessage, parsedHeaders, body), statusCode);\n                if ((statusCode < HttpStatus.SUCCESS_RANGE_START ||\n                    statusCode > HttpStatus.SUCCESS_RANGE_END) &&\n                    // do not destroy the request for the device code flow\n                    networkResponse.body[\"error\"] !==\n                        Constants.AUTHORIZATION_PENDING) {\n                    request.destroy();\n                }\n                resolve(networkResponse);\n            });\n        });\n        request.on(\"error\", (chunk) => {\n            request.destroy();\n            reject(new Error(chunk.toString()));\n        });\n    });\n};\n/**\n * Check if extra parsing is needed on the repsonse from the server\n * @param statusCode {number} the status code of the response from the server\n * @param statusMessage {string | undefined} the status message of the response from the server\n * @param headers {Record<string, string>} the headers of the response from the server\n * @param body {string} the body from the response of the server\n * @returns {Object} JSON parsed body or error object\n */\nconst parseBody = (statusCode, statusMessage, headers, body) => {\n    /*\n     * Informational responses (100  199)\n     * Successful responses (200  299)\n     * Redirection messages (300  399)\n     * Client error responses (400  499)\n     * Server error responses (500  599)\n     */\n    let parsedBody;\n    try {\n        parsedBody = JSON.parse(body);\n    }\n    catch (error) {\n        let errorType;\n        let errorDescriptionHelper;\n        if (statusCode >= HttpStatus.CLIENT_ERROR_RANGE_START &&\n            statusCode <= HttpStatus.CLIENT_ERROR_RANGE_END) {\n            errorType = \"client_error\";\n            errorDescriptionHelper = \"A client\";\n        }\n        else if (statusCode >= HttpStatus.SERVER_ERROR_RANGE_START &&\n            statusCode <= HttpStatus.SERVER_ERROR_RANGE_END) {\n            errorType = \"server_error\";\n            errorDescriptionHelper = \"A server\";\n        }\n        else {\n            errorType = \"unknown_error\";\n            errorDescriptionHelper = \"An unknown\";\n        }\n        parsedBody = {\n            error: errorType,\n            error_description: `${errorDescriptionHelper} error occured.\\nHttp status code: ${statusCode}\\nHttp status message: ${statusMessage || \"Unknown\"}\\nHeaders: ${JSON.stringify(headers)}`,\n        };\n    }\n    return parsedBody;\n};\n\nexport { HttpClient };\n//# sourceMappingURL=HttpClient.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\nimport { ManagedIdentityEnvironmentVariableNames } from '../utils/Constants.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nconst invalidManagedIdentityIdType = \"invalid_managed_identity_id_type\";\nconst missingId = \"missing_client_id\";\nconst networkUnavailable = \"network_unavailable\";\nconst unableToCreateAzureArc = \"unable_to_create_azure_arc\";\nconst unableToCreateCloudShell = \"unable_to_create_cloud_shell\";\nconst unableToCreateSource = \"unable_to_create_source\";\nconst unableToReadSecretFile = \"unable_to_read_secret_file\";\nconst userAssignedNotAvailableAtRuntime = \"user_assigned_not_available_at_runtime\";\nconst wwwAuthenticateHeaderMissing = \"www_authenticate_header_missing\";\nconst wwwAuthenticateHeaderUnsupportedFormat = \"www_authenticate_header_unsupported_format\";\nconst MsiEnvironmentVariableUrlMalformedErrorCodes = {\n    [ManagedIdentityEnvironmentVariableNames.AZURE_POD_IDENTITY_AUTHORITY_HOST]: \"azure_pod_identity_authority_host_url_malformed\",\n    [ManagedIdentityEnvironmentVariableNames.IDENTITY_ENDPOINT]: \"identity_endpoint_url_malformed\",\n    [ManagedIdentityEnvironmentVariableNames.IMDS_ENDPOINT]: \"imds_endpoint_url_malformed\",\n    [ManagedIdentityEnvironmentVariableNames.MSI_ENDPOINT]: \"msi_endpoint_url_malformed\",\n};\n\nexport { MsiEnvironmentVariableUrlMalformedErrorCodes, invalidManagedIdentityIdType, missingId, networkUnavailable, unableToCreateAzureArc, unableToCreateCloudShell, unableToCreateSource, unableToReadSecretFile, userAssignedNotAvailableAtRuntime, wwwAuthenticateHeaderMissing, wwwAuthenticateHeaderUnsupportedFormat };\n//# sourceMappingURL=ManagedIdentityErrorCodes.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\nimport { AuthError } from '@azure/msal-common';\nimport { invalidManagedIdentityIdType, missingId, MsiEnvironmentVariableUrlMalformedErrorCodes, networkUnavailable, unableToCreateAzureArc, unableToCreateCloudShell, unableToCreateSource, unableToReadSecretFile, userAssignedNotAvailableAtRuntime, wwwAuthenticateHeaderMissing, wwwAuthenticateHeaderUnsupportedFormat } from './ManagedIdentityErrorCodes.mjs';\nimport { ManagedIdentityEnvironmentVariableNames } from '../utils/Constants.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * ManagedIdentityErrorMessage class containing string constants used by error codes and messages.\n */\nconst ManagedIdentityErrorMessages = {\n    [invalidManagedIdentityIdType]: \"More than one ManagedIdentityIdType was provided.\",\n    [missingId]: \"A ManagedIdentityId id was not provided.\",\n    [MsiEnvironmentVariableUrlMalformedErrorCodes\n        .AZURE_POD_IDENTITY_AUTHORITY_HOST]: `The Managed Identity's '${ManagedIdentityEnvironmentVariableNames.AZURE_POD_IDENTITY_AUTHORITY_HOST}' environment variable is malformed.`,\n    [MsiEnvironmentVariableUrlMalformedErrorCodes\n        .IDENTITY_ENDPOINT]: `The Managed Identity's '${ManagedIdentityEnvironmentVariableNames.IDENTITY_ENDPOINT}' environment variable is malformed.`,\n    [MsiEnvironmentVariableUrlMalformedErrorCodes\n        .IMDS_ENDPOINT]: `The Managed Identity's '${ManagedIdentityEnvironmentVariableNames.IMDS_ENDPOINT}' environment variable is malformed.`,\n    [MsiEnvironmentVariableUrlMalformedErrorCodes\n        .MSI_ENDPOINT]: `The Managed Identity's '${ManagedIdentityEnvironmentVariableNames.MSI_ENDPOINT}' environment variable is malformed.`,\n    [networkUnavailable]: \"Authentication unavailable. The request to the managed identity endpoint timed out.\",\n    [unableToCreateAzureArc]: \"Azure Arc Managed Identities can only be system assigned.\",\n    [unableToCreateCloudShell]: \"Cloud Shell Managed Identities can only be system assigned.\",\n    [unableToCreateSource]: \"Unable to create a Managed Identity source based on environment variables.\",\n    [unableToReadSecretFile]: \"Unable to read the secret file.\",\n    [userAssignedNotAvailableAtRuntime]: \"Service Fabric user assigned managed identity ClientId or ResourceId is not configurable at runtime.\",\n    [wwwAuthenticateHeaderMissing]: \"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is missing.\",\n    [wwwAuthenticateHeaderUnsupportedFormat]: \"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is in an unsupported format.\",\n};\nclass ManagedIdentityError extends AuthError {\n    constructor(errorCode) {\n        super(errorCode, ManagedIdentityErrorMessages[errorCode]);\n        this.name = \"ManagedIdentityError\";\n        Object.setPrototypeOf(this, ManagedIdentityError.prototype);\n    }\n}\nfunction createManagedIdentityError(errorCode) {\n    return new ManagedIdentityError(errorCode);\n}\n\nexport { ManagedIdentityError, ManagedIdentityErrorMessages, createManagedIdentityError };\n//# sourceMappingURL=ManagedIdentityError.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\nimport { Constants, ProtocolMode, AzureCloudInstance, LogLevel } from '@azure/msal-common';\nimport { HttpClient } from '../network/HttpClient.mjs';\nimport { ManagedIdentityId } from './ManagedIdentityId.mjs';\nimport { MANAGED_IDENTITY_MAX_RETRIES, MANAGED_IDENTITY_RETRY_DELAY, MANAGED_IDENTITY_HTTP_STATUS_CODES_TO_RETRY_ON } from '../utils/Constants.mjs';\nimport { LinearRetryPolicy } from '../retry/LinearRetryPolicy.mjs';\nimport { HttpClientWithRetries } from '../network/HttpClientWithRetries.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nconst DEFAULT_AUTH_OPTIONS = {\n    clientId: Constants.EMPTY_STRING,\n    authority: Constants.DEFAULT_AUTHORITY,\n    clientSecret: Constants.EMPTY_STRING,\n    clientAssertion: Constants.EMPTY_STRING,\n    clientCertificate: {\n        thumbprint: Constants.EMPTY_STRING,\n        privateKey: Constants.EMPTY_STRING,\n        x5c: Constants.EMPTY_STRING,\n    },\n    knownAuthorities: [],\n    cloudDiscoveryMetadata: Constants.EMPTY_STRING,\n    authorityMetadata: Constants.EMPTY_STRING,\n    clientCapabilities: [],\n    protocolMode: ProtocolMode.AAD,\n    azureCloudOptions: {\n        azureCloudInstance: AzureCloudInstance.None,\n        tenant: Constants.EMPTY_STRING,\n    },\n    skipAuthorityMetadataCache: false,\n};\nconst DEFAULT_CACHE_OPTIONS = {\n    claimsBasedCachingEnabled: false,\n};\nconst DEFAULT_LOGGER_OPTIONS = {\n    loggerCallback: () => {\n        // allow users to not set logger call back\n    },\n    piiLoggingEnabled: false,\n    logLevel: LogLevel.Info,\n};\nconst DEFAULT_SYSTEM_OPTIONS = {\n    loggerOptions: DEFAULT_LOGGER_OPTIONS,\n    networkClient: new HttpClient(),\n    proxyUrl: Constants.EMPTY_STRING,\n    customAgentOptions: {},\n    disableInternalRetries: false,\n};\nconst DEFAULT_TELEMETRY_OPTIONS = {\n    application: {\n        appName: Constants.EMPTY_STRING,\n        appVersion: Constants.EMPTY_STRING,\n    },\n};\n/**\n * Sets the default options when not explicitly configured from app developer\n *\n * @param auth - Authentication options\n * @param cache - Cache options\n * @param system - System options\n * @param telemetry - Telemetry options\n *\n * @returns Configuration\n * @internal\n */\nfunction buildAppConfiguration({ auth, broker, cache, system, telemetry, }) {\n    const systemOptions = {\n        ...DEFAULT_SYSTEM_OPTIONS,\n        networkClient: new HttpClient(system?.proxyUrl, system?.customAgentOptions),\n        loggerOptions: system?.loggerOptions || DEFAULT_LOGGER_OPTIONS,\n        disableInternalRetries: system?.disableInternalRetries || false,\n    };\n    return {\n        auth: { ...DEFAULT_AUTH_OPTIONS, ...auth },\n        broker: { ...broker },\n        cache: { ...DEFAULT_CACHE_OPTIONS, ...cache },\n        system: { ...systemOptions, ...system },\n        telemetry: { ...DEFAULT_TELEMETRY_OPTIONS, ...telemetry },\n    };\n}\nfunction buildManagedIdentityConfiguration({ managedIdentityIdParams, system, }) {\n    const managedIdentityId = new ManagedIdentityId(managedIdentityIdParams);\n    const loggerOptions = system?.loggerOptions || DEFAULT_LOGGER_OPTIONS;\n    let networkClient;\n    // use developer provided network client if passed in\n    if (system?.networkClient) {\n        networkClient = system.networkClient;\n        // otherwise, create a new one\n    }\n    else {\n        networkClient = new HttpClient(system?.proxyUrl, system?.customAgentOptions);\n    }\n    // wrap the network client with a retry policy if the developer has not disabled the option to do so\n    if (!system?.disableInternalRetries) {\n        const linearRetryPolicy = new LinearRetryPolicy(MANAGED_IDENTITY_MAX_RETRIES, MANAGED_IDENTITY_RETRY_DELAY, MANAGED_IDENTITY_HTTP_STATUS_CODES_TO_RETRY_ON);\n        networkClient = new HttpClientWithRetries(networkClient, linearRetryPolicy);\n    }\n    return {\n        managedIdentityId: managedIdentityId,\n        system: {\n            loggerOptions,\n            networkClient,\n        },\n    };\n}\n\nexport { buildAppConfiguration, buildManagedIdentityConfiguration };\n//# sourceMappingURL=Configuration.mjs.map\n","import crypto from 'crypto';\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto.randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  const uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\nimport { v4 } from 'uuid';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nclass GuidGenerator {\n    /**\n     *\n     * RFC4122: The version 4 UUID is meant for generating UUIDs from truly-random or pseudo-random numbers.\n     * uuidv4 generates guids from cryprtographically-string random\n     */\n    generateGuid() {\n        return v4();\n    }\n    /**\n     * verifies if a string is  GUID\n     * @param guid\n     */\n    isGuid(guid) {\n        const regexGuid = /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\n        return regexGuid.test(guid);\n    }\n}\n\nexport { GuidGenerator };\n//# sourceMappingURL=GuidGenerator.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\nimport { Constants } from '@azure/msal-common';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nclass EncodingUtils {\n    /**\n     * 'utf8': Multibyte encoded Unicode characters. Many web pages and other document formats use UTF-8.\n     * 'base64': Base64 encoding.\n     *\n     * @param str text\n     */\n    static base64Encode(str, encoding) {\n        return Buffer.from(str, encoding).toString(\"base64\");\n    }\n    /**\n     * encode a URL\n     * @param str\n     */\n    static base64EncodeUrl(str, encoding) {\n        return EncodingUtils.base64Encode(str, encoding)\n            .replace(/=/g, Constants.EMPTY_STRING)\n            .replace(/\\+/g, \"-\")\n            .replace(/\\//g, \"_\");\n    }\n    /**\n     * 'utf8': Multibyte encoded Unicode characters. Many web pages and other document formats use UTF-8.\n     * 'base64': Base64 encoding.\n     *\n     * @param base64Str Base64 encoded text\n     */\n    static base64Decode(base64Str) {\n        return Buffer.from(base64Str, \"base64\").toString(\"utf8\");\n    }\n    /**\n     * @param base64Str Base64 encoded Url\n     */\n    static base64DecodeUrl(base64Str) {\n        let str = base64Str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n        while (str.length % 4) {\n            str += \"=\";\n        }\n        return EncodingUtils.base64Decode(str);\n    }\n}\n\nexport { EncodingUtils };\n//# sourceMappingURL=EncodingUtils.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\nimport { Hash } from '../utils/Constants.mjs';\nimport crypto from 'crypto';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nclass HashUtils {\n    /**\n     * generate 'SHA256' hash\n     * @param buffer\n     */\n    sha256(buffer) {\n        return crypto.createHash(Hash.SHA256).update(buffer).digest();\n    }\n}\n\nexport { HashUtils };\n//# sourceMappingURL=HashUtils.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\nimport { Constants } from '@azure/msal-common';\nimport { RANDOM_OCTET_SIZE, CharSet } from '../utils/Constants.mjs';\nimport { EncodingUtils } from '../utils/EncodingUtils.mjs';\nimport { HashUtils } from './HashUtils.mjs';\nimport crypto from 'crypto';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * https://tools.ietf.org/html/rfc7636#page-8\n */\nclass PkceGenerator {\n    constructor() {\n        this.hashUtils = new HashUtils();\n    }\n    /**\n     * generates the codeVerfier and the challenge from the codeVerfier\n     * reference: https://tools.ietf.org/html/rfc7636#section-4.1 and https://tools.ietf.org/html/rfc7636#section-4.2\n     */\n    async generatePkceCodes() {\n        const verifier = this.generateCodeVerifier();\n        const challenge = this.generateCodeChallengeFromVerifier(verifier);\n        return { verifier, challenge };\n    }\n    /**\n     * generates the codeVerfier; reference: https://tools.ietf.org/html/rfc7636#section-4.1\n     */\n    generateCodeVerifier() {\n        const charArr = [];\n        const maxNumber = 256 - (256 % CharSet.CV_CHARSET.length);\n        while (charArr.length <= RANDOM_OCTET_SIZE) {\n            const byte = crypto.randomBytes(1)[0];\n            if (byte >= maxNumber) {\n                /*\n                 * Ignore this number to maintain randomness.\n                 * Including it would result in an unequal distribution of characters after doing the modulo\n                 */\n                continue;\n            }\n            const index = byte % CharSet.CV_CHARSET.length;\n            charArr.push(CharSet.CV_CHARSET[index]);\n        }\n        const verifier = charArr.join(Constants.EMPTY_STRING);\n        return EncodingUtils.base64EncodeUrl(verifier);\n    }\n    /**\n     * generate the challenge from the codeVerfier; reference: https://tools.ietf.org/html/rfc7636#section-4.2\n     * @param codeVerifier\n     */\n    generateCodeChallengeFromVerifier(codeVerifier) {\n        return EncodingUtils.base64EncodeUrl(this.hashUtils.sha256(codeVerifier).toString(\"base64\"), \"base64\");\n    }\n}\n\nexport { PkceGenerator };\n//# sourceMappingURL=PkceGenerator.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\nimport { GuidGenerator } from './GuidGenerator.mjs';\nimport { EncodingUtils } from '../utils/EncodingUtils.mjs';\nimport { PkceGenerator } from './PkceGenerator.mjs';\nimport { HashUtils } from './HashUtils.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * This class implements MSAL node's crypto interface, which allows it to perform base64 encoding and decoding, generating cryptographically random GUIDs and\n * implementing Proof Key for Code Exchange specs for the OAuth Authorization Code Flow using PKCE (rfc here: https://tools.ietf.org/html/rfc7636).\n * @public\n */\nclass CryptoProvider {\n    constructor() {\n        // Browser crypto needs to be validated first before any other classes can be set.\n        this.pkceGenerator = new PkceGenerator();\n        this.guidGenerator = new GuidGenerator();\n        this.hashUtils = new HashUtils();\n    }\n    /**\n     * Creates a new random GUID - used to populate state and nonce.\n     * @returns string (GUID)\n     */\n    createNewGuid() {\n        return this.guidGenerator.generateGuid();\n    }\n    /**\n     * Encodes input string to base64.\n     * @param input - string to be encoded\n     */\n    base64Encode(input) {\n        return EncodingUtils.base64Encode(input);\n    }\n    /**\n     * Decodes input string from base64.\n     * @param input - string to be decoded\n     */\n    base64Decode(input) {\n        return EncodingUtils.base64Decode(input);\n    }\n    /**\n     * Generates PKCE codes used in Authorization Code Flow.\n     */\n    generatePkceCodes() {\n        return this.pkceGenerator.generatePkceCodes();\n    }\n    /**\n     * Generates a keypair, stores it and returns a thumbprint - not yet implemented for node\n     */\n    getPublicKeyThumbprint() {\n        throw new Error(\"Method not implemented.\");\n    }\n    /**\n     * Removes cryptographic keypair from key store matching the keyId passed in\n     * @param kid\n     */\n    removeTokenBindingKey() {\n        throw new Error(\"Method not implemented.\");\n    }\n    /**\n     * Removes all cryptographic keys from Keystore\n     */\n    clearKeystore() {\n        throw new Error(\"Method not implemented.\");\n    }\n    /**\n     * Signs the given object as a jwt payload with private key retrieved by given kid - currently not implemented for node\n     */\n    signJwt() {\n        throw new Error(\"Method not implemented.\");\n    }\n    /**\n     * Returns the SHA-256 hash of an input string\n     */\n    async hashString(plainText) {\n        return EncodingUtils.base64EncodeUrl(this.hashUtils.sha256(plainText).toString(\"base64\"), \"base64\");\n    }\n}\n\nexport { CryptoProvider };\n//# sourceMappingURL=CryptoProvider.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\nimport { AccountEntity, CacheManager } from '@azure/msal-common';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * This class deserializes cache entities read from the file into in memory object types defined internally\n */\nclass Deserializer {\n    /**\n     * Parse the JSON blob in memory and deserialize the content\n     * @param cachedJson\n     */\n    static deserializeJSONBlob(jsonFile) {\n        const deserializedCache = !jsonFile ? {} : JSON.parse(jsonFile);\n        return deserializedCache;\n    }\n    /**\n     * Deserializes accounts to AccountEntity objects\n     * @param accounts\n     */\n    static deserializeAccounts(accounts) {\n        const accountObjects = {};\n        if (accounts) {\n            Object.keys(accounts).map(function (key) {\n                const serializedAcc = accounts[key];\n                const mappedAcc = {\n                    homeAccountId: serializedAcc.home_account_id,\n                    environment: serializedAcc.environment,\n                    realm: serializedAcc.realm,\n                    localAccountId: serializedAcc.local_account_id,\n                    username: serializedAcc.username,\n                    authorityType: serializedAcc.authority_type,\n                    name: serializedAcc.name,\n                    clientInfo: serializedAcc.client_info,\n                    lastModificationTime: serializedAcc.last_modification_time,\n                    lastModificationApp: serializedAcc.last_modification_app,\n                    tenantProfiles: serializedAcc.tenantProfiles?.map((serializedTenantProfile) => {\n                        return JSON.parse(serializedTenantProfile);\n                    }),\n                };\n                const account = new AccountEntity();\n                CacheManager.toObject(account, mappedAcc);\n                accountObjects[key] = account;\n            });\n        }\n        return accountObjects;\n    }\n    /**\n     * Deserializes id tokens to IdTokenEntity objects\n     * @param idTokens\n     */\n    static deserializeIdTokens(idTokens) {\n        const idObjects = {};\n        if (idTokens) {\n            Object.keys(idTokens).map(function (key) {\n                const serializedIdT = idTokens[key];\n                const idToken = {\n                    homeAccountId: serializedIdT.home_account_id,\n                    environment: serializedIdT.environment,\n                    credentialType: serializedIdT.credential_type,\n                    clientId: serializedIdT.client_id,\n                    secret: serializedIdT.secret,\n                    realm: serializedIdT.realm,\n                };\n                idObjects[key] = idToken;\n            });\n        }\n        return idObjects;\n    }\n    /**\n     * Deserializes access tokens to AccessTokenEntity objects\n     * @param accessTokens\n     */\n    static deserializeAccessTokens(accessTokens) {\n        const atObjects = {};\n        if (accessTokens) {\n            Object.keys(accessTokens).map(function (key) {\n                const serializedAT = accessTokens[key];\n                const accessToken = {\n                    homeAccountId: serializedAT.home_account_id,\n                    environment: serializedAT.environment,\n                    credentialType: serializedAT.credential_type,\n                    clientId: serializedAT.client_id,\n                    secret: serializedAT.secret,\n                    realm: serializedAT.realm,\n                    target: serializedAT.target,\n                    cachedAt: serializedAT.cached_at,\n                    expiresOn: serializedAT.expires_on,\n                    extendedExpiresOn: serializedAT.extended_expires_on,\n                    refreshOn: serializedAT.refresh_on,\n                    keyId: serializedAT.key_id,\n                    tokenType: serializedAT.token_type,\n                    requestedClaims: serializedAT.requestedClaims,\n                    requestedClaimsHash: serializedAT.requestedClaimsHash,\n                    userAssertionHash: serializedAT.userAssertionHash,\n                };\n                atObjects[key] = accessToken;\n            });\n        }\n        return atObjects;\n    }\n    /**\n     * Deserializes refresh tokens to RefreshTokenEntity objects\n     * @param refreshTokens\n     */\n    static deserializeRefreshTokens(refreshTokens) {\n        const rtObjects = {};\n        if (refreshTokens) {\n            Object.keys(refreshTokens).map(function (key) {\n                const serializedRT = refreshTokens[key];\n                const refreshToken = {\n                    homeAccountId: serializedRT.home_account_id,\n                    environment: serializedRT.environment,\n                    credentialType: serializedRT.credential_type,\n                    clientId: serializedRT.client_id,\n                    secret: serializedRT.secret,\n                    familyId: serializedRT.family_id,\n                    target: serializedRT.target,\n                    realm: serializedRT.realm,\n                };\n                rtObjects[key] = refreshToken;\n            });\n        }\n        return rtObjects;\n    }\n    /**\n     * Deserializes appMetadata to AppMetaData objects\n     * @param appMetadata\n     */\n    static deserializeAppMetadata(appMetadata) {\n        const appMetadataObjects = {};\n        if (appMetadata) {\n            Object.keys(appMetadata).map(function (key) {\n                const serializedAmdt = appMetadata[key];\n                appMetadataObjects[key] = {\n                    clientId: serializedAmdt.client_id,\n                    environment: serializedAmdt.environment,\n                    familyId: serializedAmdt.family_id,\n                };\n            });\n        }\n        return appMetadataObjects;\n    }\n    /**\n     * Deserialize an inMemory Cache\n     * @param jsonCache\n     */\n    static deserializeAllCache(jsonCache) {\n        return {\n            accounts: jsonCache.Account\n                ? this.deserializeAccounts(jsonCache.Account)\n                : {},\n            idTokens: jsonCache.IdToken\n                ? this.deserializeIdTokens(jsonCache.IdToken)\n                : {},\n            accessTokens: jsonCache.AccessToken\n                ? this.deserializeAccessTokens(jsonCache.AccessToken)\n                : {},\n            refreshTokens: jsonCache.RefreshToken\n                ? this.deserializeRefreshTokens(jsonCache.RefreshToken)\n                : {},\n            appMetadata: jsonCache.AppMetadata\n                ? this.deserializeAppMetadata(jsonCache.AppMetadata)\n                : {},\n        };\n    }\n}\n\nexport { Deserializer };\n//# sourceMappingURL=Deserializer.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nclass Serializer {\n    /**\n     * serialize the JSON blob\n     * @param data\n     */\n    static serializeJSONBlob(data) {\n        return JSON.stringify(data);\n    }\n    /**\n     * Serialize Accounts\n     * @param accCache\n     */\n    static serializeAccounts(accCache) {\n        const accounts = {};\n        Object.keys(accCache).map(function (key) {\n            const accountEntity = accCache[key];\n            accounts[key] = {\n                home_account_id: accountEntity.homeAccountId,\n                environment: accountEntity.environment,\n                realm: accountEntity.realm,\n                local_account_id: accountEntity.localAccountId,\n                username: accountEntity.username,\n                authority_type: accountEntity.authorityType,\n                name: accountEntity.name,\n                client_info: accountEntity.clientInfo,\n                last_modification_time: accountEntity.lastModificationTime,\n                last_modification_app: accountEntity.lastModificationApp,\n                tenantProfiles: accountEntity.tenantProfiles?.map((tenantProfile) => {\n                    return JSON.stringify(tenantProfile);\n                }),\n            };\n        });\n        return accounts;\n    }\n    /**\n     * Serialize IdTokens\n     * @param idTCache\n     */\n    static serializeIdTokens(idTCache) {\n        const idTokens = {};\n        Object.keys(idTCache).map(function (key) {\n            const idTEntity = idTCache[key];\n            idTokens[key] = {\n                home_account_id: idTEntity.homeAccountId,\n                environment: idTEntity.environment,\n                credential_type: idTEntity.credentialType,\n                client_id: idTEntity.clientId,\n                secret: idTEntity.secret,\n                realm: idTEntity.realm,\n            };\n        });\n        return idTokens;\n    }\n    /**\n     * Serializes AccessTokens\n     * @param atCache\n     */\n    static serializeAccessTokens(atCache) {\n        const accessTokens = {};\n        Object.keys(atCache).map(function (key) {\n            const atEntity = atCache[key];\n            accessTokens[key] = {\n                home_account_id: atEntity.homeAccountId,\n                environment: atEntity.environment,\n                credential_type: atEntity.credentialType,\n                client_id: atEntity.clientId,\n                secret: atEntity.secret,\n                realm: atEntity.realm,\n                target: atEntity.target,\n                cached_at: atEntity.cachedAt,\n                expires_on: atEntity.expiresOn,\n                extended_expires_on: atEntity.extendedExpiresOn,\n                refresh_on: atEntity.refreshOn,\n                key_id: atEntity.keyId,\n                token_type: atEntity.tokenType,\n                requestedClaims: atEntity.requestedClaims,\n                requestedClaimsHash: atEntity.requestedClaimsHash,\n                userAssertionHash: atEntity.userAssertionHash,\n            };\n        });\n        return accessTokens;\n    }\n    /**\n     * Serialize refreshTokens\n     * @param rtCache\n     */\n    static serializeRefreshTokens(rtCache) {\n        const refreshTokens = {};\n        Object.keys(rtCache).map(function (key) {\n            const rtEntity = rtCache[key];\n            refreshTokens[key] = {\n                home_account_id: rtEntity.homeAccountId,\n                environment: rtEntity.environment,\n                credential_type: rtEntity.credentialType,\n                client_id: rtEntity.clientId,\n                secret: rtEntity.secret,\n                family_id: rtEntity.familyId,\n                target: rtEntity.target,\n                realm: rtEntity.realm,\n            };\n        });\n        return refreshTokens;\n    }\n    /**\n     * Serialize amdtCache\n     * @param amdtCache\n     */\n    static serializeAppMetadata(amdtCache) {\n        const appMetadata = {};\n        Object.keys(amdtCache).map(function (key) {\n            const amdtEntity = amdtCache[key];\n            appMetadata[key] = {\n                client_id: amdtEntity.clientId,\n                environment: amdtEntity.environment,\n                family_id: amdtEntity.familyId,\n            };\n        });\n        return appMetadata;\n    }\n    /**\n     * Serialize the cache\n     * @param jsonContent\n     */\n    static serializeAllCache(inMemCache) {\n        return {\n            Account: this.serializeAccounts(inMemCache.accounts),\n            IdToken: this.serializeIdTokens(inMemCache.idTokens),\n            AccessToken: this.serializeAccessTokens(inMemCache.accessTokens),\n            RefreshToken: this.serializeRefreshTokens(inMemCache.refreshTokens),\n            AppMetadata: this.serializeAppMetadata(inMemCache.appMetadata),\n        };\n    }\n}\n\nexport { Serializer };\n//# sourceMappingURL=Serializer.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\nimport { CacheManager, AccountEntity, CacheHelpers } from '@azure/msal-common';\nimport { Deserializer } from './serializer/Deserializer.mjs';\nimport { Serializer } from './serializer/Serializer.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * This class implements Storage for node, reading cache from user specified storage location or an  extension library\n * @public\n */\nclass NodeStorage extends CacheManager {\n    constructor(logger, clientId, cryptoImpl, staticAuthorityOptions) {\n        super(clientId, cryptoImpl, logger, staticAuthorityOptions);\n        this.cache = {};\n        this.changeEmitters = [];\n        this.logger = logger;\n    }\n    /**\n     * Queue up callbacks\n     * @param func - a callback function for cache change indication\n     */\n    registerChangeEmitter(func) {\n        this.changeEmitters.push(func);\n    }\n    /**\n     * Invoke the callback when cache changes\n     */\n    emitChange() {\n        this.changeEmitters.forEach((func) => func.call(null));\n    }\n    /**\n     * Converts cacheKVStore to InMemoryCache\n     * @param cache - key value store\n     */\n    cacheToInMemoryCache(cache) {\n        const inMemoryCache = {\n            accounts: {},\n            idTokens: {},\n            accessTokens: {},\n            refreshTokens: {},\n            appMetadata: {},\n        };\n        for (const key in cache) {\n            const value = cache[key];\n            if (typeof value !== \"object\") {\n                continue;\n            }\n            if (value instanceof AccountEntity) {\n                inMemoryCache.accounts[key] = value;\n            }\n            else if (CacheHelpers.isIdTokenEntity(value)) {\n                inMemoryCache.idTokens[key] = value;\n            }\n            else if (CacheHelpers.isAccessTokenEntity(value)) {\n                inMemoryCache.accessTokens[key] = value;\n            }\n            else if (CacheHelpers.isRefreshTokenEntity(value)) {\n                inMemoryCache.refreshTokens[key] = value;\n            }\n            else if (CacheHelpers.isAppMetadataEntity(key, value)) {\n                inMemoryCache.appMetadata[key] = value;\n            }\n            else {\n                continue;\n            }\n        }\n        return inMemoryCache;\n    }\n    /**\n     * converts inMemoryCache to CacheKVStore\n     * @param inMemoryCache - kvstore map for inmemory\n     */\n    inMemoryCacheToCache(inMemoryCache) {\n        // convert in memory cache to a flat Key-Value map\n        let cache = this.getCache();\n        cache = {\n            ...cache,\n            ...inMemoryCache.accounts,\n            ...inMemoryCache.idTokens,\n            ...inMemoryCache.accessTokens,\n            ...inMemoryCache.refreshTokens,\n            ...inMemoryCache.appMetadata,\n        };\n        // convert in memory cache to a flat Key-Value map\n        return cache;\n    }\n    /**\n     * gets the current in memory cache for the client\n     */\n    getInMemoryCache() {\n        this.logger.trace(\"Getting in-memory cache\");\n        // convert the cache key value store to inMemoryCache\n        const inMemoryCache = this.cacheToInMemoryCache(this.getCache());\n        return inMemoryCache;\n    }\n    /**\n     * sets the current in memory cache for the client\n     * @param inMemoryCache - key value map in memory\n     */\n    setInMemoryCache(inMemoryCache) {\n        this.logger.trace(\"Setting in-memory cache\");\n        // convert and append the inMemoryCache to cacheKVStore\n        const cache = this.inMemoryCacheToCache(inMemoryCache);\n        this.setCache(cache);\n        this.emitChange();\n    }\n    /**\n     * get the current cache key-value store\n     */\n    getCache() {\n        this.logger.trace(\"Getting cache key-value store\");\n        return this.cache;\n    }\n    /**\n     * sets the current cache (key value store)\n     * @param cacheMap - key value map\n     */\n    setCache(cache) {\n        this.logger.trace(\"Setting cache key value store\");\n        this.cache = cache;\n        // mark change in cache\n        this.emitChange();\n    }\n    /**\n     * Gets cache item with given key.\n     * @param key - lookup key for the cache entry\n     */\n    getItem(key) {\n        this.logger.tracePii(`Item key: ${key}`);\n        // read cache\n        const cache = this.getCache();\n        return cache[key];\n    }\n    /**\n     * Gets cache item with given key-value\n     * @param key - lookup key for the cache entry\n     * @param value - value of the cache entry\n     */\n    setItem(key, value) {\n        this.logger.tracePii(`Item key: ${key}`);\n        // read cache\n        const cache = this.getCache();\n        cache[key] = value;\n        // write to cache\n        this.setCache(cache);\n    }\n    getAccountKeys() {\n        const inMemoryCache = this.getInMemoryCache();\n        const accountKeys = Object.keys(inMemoryCache.accounts);\n        return accountKeys;\n    }\n    getTokenKeys() {\n        const inMemoryCache = this.getInMemoryCache();\n        const tokenKeys = {\n            idToken: Object.keys(inMemoryCache.idTokens),\n            accessToken: Object.keys(inMemoryCache.accessTokens),\n            refreshToken: Object.keys(inMemoryCache.refreshTokens),\n        };\n        return tokenKeys;\n    }\n    /**\n     * fetch the account entity\n     * @param accountKey - lookup key to fetch cache type AccountEntity\n     */\n    getAccount(accountKey) {\n        const accountEntity = this.getCachedAccountEntity(accountKey);\n        if (accountEntity && AccountEntity.isAccountEntity(accountEntity)) {\n            return this.updateOutdatedCachedAccount(accountKey, accountEntity);\n        }\n        return null;\n    }\n    /**\n     * Reads account from cache, builds it into an account entity and returns it.\n     * @param accountKey\n     * @returns\n     */\n    getCachedAccountEntity(accountKey) {\n        const cachedAccount = this.getItem(accountKey);\n        return cachedAccount\n            ? Object.assign(new AccountEntity(), this.getItem(accountKey))\n            : null;\n    }\n    /**\n     * set account entity\n     * @param account - cache value to be set of type AccountEntity\n     */\n    setAccount(account) {\n        const accountKey = account.generateAccountKey();\n        this.setItem(accountKey, account);\n    }\n    /**\n     * fetch the idToken credential\n     * @param idTokenKey - lookup key to fetch cache type IdTokenEntity\n     */\n    getIdTokenCredential(idTokenKey) {\n        const idToken = this.getItem(idTokenKey);\n        if (CacheHelpers.isIdTokenEntity(idToken)) {\n            return idToken;\n        }\n        return null;\n    }\n    /**\n     * set idToken credential\n     * @param idToken - cache value to be set of type IdTokenEntity\n     */\n    setIdTokenCredential(idToken) {\n        const idTokenKey = CacheHelpers.generateCredentialKey(idToken);\n        this.setItem(idTokenKey, idToken);\n    }\n    /**\n     * fetch the accessToken credential\n     * @param accessTokenKey - lookup key to fetch cache type AccessTokenEntity\n     */\n    getAccessTokenCredential(accessTokenKey) {\n        const accessToken = this.getItem(accessTokenKey);\n        if (CacheHelpers.isAccessTokenEntity(accessToken)) {\n            return accessToken;\n        }\n        return null;\n    }\n    /**\n     * set accessToken credential\n     * @param accessToken -  cache value to be set of type AccessTokenEntity\n     */\n    setAccessTokenCredential(accessToken) {\n        const accessTokenKey = CacheHelpers.generateCredentialKey(accessToken);\n        this.setItem(accessTokenKey, accessToken);\n    }\n    /**\n     * fetch the refreshToken credential\n     * @param refreshTokenKey - lookup key to fetch cache type RefreshTokenEntity\n     */\n    getRefreshTokenCredential(refreshTokenKey) {\n        const refreshToken = this.getItem(refreshTokenKey);\n        if (CacheHelpers.isRefreshTokenEntity(refreshToken)) {\n            return refreshToken;\n        }\n        return null;\n    }\n    /**\n     * set refreshToken credential\n     * @param refreshToken - cache value to be set of type RefreshTokenEntity\n     */\n    setRefreshTokenCredential(refreshToken) {\n        const refreshTokenKey = CacheHelpers.generateCredentialKey(refreshToken);\n        this.setItem(refreshTokenKey, refreshToken);\n    }\n    /**\n     * fetch appMetadata entity from the platform cache\n     * @param appMetadataKey - lookup key to fetch cache type AppMetadataEntity\n     */\n    getAppMetadata(appMetadataKey) {\n        const appMetadata = this.getItem(appMetadataKey);\n        if (CacheHelpers.isAppMetadataEntity(appMetadataKey, appMetadata)) {\n            return appMetadata;\n        }\n        return null;\n    }\n    /**\n     * set appMetadata entity to the platform cache\n     * @param appMetadata - cache value to be set of type AppMetadataEntity\n     */\n    setAppMetadata(appMetadata) {\n        const appMetadataKey = CacheHelpers.generateAppMetadataKey(appMetadata);\n        this.setItem(appMetadataKey, appMetadata);\n    }\n    /**\n     * fetch server telemetry entity from the platform cache\n     * @param serverTelemetrykey - lookup key to fetch cache type ServerTelemetryEntity\n     */\n    getServerTelemetry(serverTelemetrykey) {\n        const serverTelemetryEntity = this.getItem(serverTelemetrykey);\n        if (serverTelemetryEntity &&\n            CacheHelpers.isServerTelemetryEntity(serverTelemetrykey, serverTelemetryEntity)) {\n            return serverTelemetryEntity;\n        }\n        return null;\n    }\n    /**\n     * set server telemetry entity to the platform cache\n     * @param serverTelemetryKey - lookup key to fetch cache type ServerTelemetryEntity\n     * @param serverTelemetry - cache value to be set of type ServerTelemetryEntity\n     */\n    setServerTelemetry(serverTelemetryKey, serverTelemetry) {\n        this.setItem(serverTelemetryKey, serverTelemetry);\n    }\n    /**\n     * fetch authority metadata entity from the platform cache\n     * @param key - lookup key to fetch cache type AuthorityMetadataEntity\n     */\n    getAuthorityMetadata(key) {\n        const authorityMetadataEntity = this.getItem(key);\n        if (authorityMetadataEntity &&\n            CacheHelpers.isAuthorityMetadataEntity(key, authorityMetadataEntity)) {\n            return authorityMetadataEntity;\n        }\n        return null;\n    }\n    /**\n     * Get all authority metadata keys\n     */\n    getAuthorityMetadataKeys() {\n        return this.getKeys().filter((key) => {\n            return this.isAuthorityMetadata(key);\n        });\n    }\n    /**\n     * set authority metadata entity to the platform cache\n     * @param key - lookup key to fetch cache type AuthorityMetadataEntity\n     * @param metadata - cache value to be set of type AuthorityMetadataEntity\n     */\n    setAuthorityMetadata(key, metadata) {\n        this.setItem(key, metadata);\n    }\n    /**\n     * fetch throttling entity from the platform cache\n     * @param throttlingCacheKey - lookup key to fetch cache type ThrottlingEntity\n     */\n    getThrottlingCache(throttlingCacheKey) {\n        const throttlingCache = this.getItem(throttlingCacheKey);\n        if (throttlingCache &&\n            CacheHelpers.isThrottlingEntity(throttlingCacheKey, throttlingCache)) {\n            return throttlingCache;\n        }\n        return null;\n    }\n    /**\n     * set throttling entity to the platform cache\n     * @param throttlingCacheKey - lookup key to fetch cache type ThrottlingEntity\n     * @param throttlingCache - cache value to be set of type ThrottlingEntity\n     */\n    setThrottlingCache(throttlingCacheKey, throttlingCache) {\n        this.setItem(throttlingCacheKey, throttlingCache);\n    }\n    /**\n     * Removes the cache item from memory with the given key.\n     * @param key - lookup key to remove a cache entity\n     * @param inMemory - key value map of the cache\n     */\n    removeItem(key) {\n        this.logger.tracePii(`Item key: ${key}`);\n        // read inMemoryCache\n        let result = false;\n        const cache = this.getCache();\n        if (!!cache[key]) {\n            delete cache[key];\n            result = true;\n        }\n        // write to the cache after removal\n        if (result) {\n            this.setCache(cache);\n            this.emitChange();\n        }\n        return result;\n    }\n    /**\n     * Remove account entity from the platform cache if it's outdated\n     * @param accountKey\n     */\n    removeOutdatedAccount(accountKey) {\n        this.removeItem(accountKey);\n    }\n    /**\n     * Checks whether key is in cache.\n     * @param key - look up key for a cache entity\n     */\n    containsKey(key) {\n        return this.getKeys().includes(key);\n    }\n    /**\n     * Gets all keys in window.\n     */\n    getKeys() {\n        this.logger.trace(\"Retrieving all cache keys\");\n        // read cache\n        const cache = this.getCache();\n        return [...Object.keys(cache)];\n    }\n    /**\n     * Clears all cache entries created by MSAL (except tokens).\n     */\n    async clear() {\n        this.logger.trace(\"Clearing cache entries created by MSAL\");\n        // read inMemoryCache\n        const cacheKeys = this.getKeys();\n        // delete each element\n        cacheKeys.forEach((key) => {\n            this.removeItem(key);\n        });\n        this.emitChange();\n    }\n    /**\n     * Initialize in memory cache from an exisiting cache vault\n     * @param cache - blob formatted cache (JSON)\n     */\n    static generateInMemoryCache(cache) {\n        return Deserializer.deserializeAllCache(Deserializer.deserializeJSONBlob(cache));\n    }\n    /**\n     * retrieves the final JSON\n     * @param inMemoryCache - itemised cache read from the JSON\n     */\n    static generateJsonCache(inMemoryCache) {\n        return Serializer.serializeAllCache(inMemoryCache);\n    }\n    /**\n     * Updates a credential's cache key if the current cache key is outdated\n     */\n    updateCredentialCacheKey(currentCacheKey, credential) {\n        const updatedCacheKey = CacheHelpers.generateCredentialKey(credential);\n        if (currentCacheKey !== updatedCacheKey) {\n            const cacheItem = this.getItem(currentCacheKey);\n            if (cacheItem) {\n                this.removeItem(currentCacheKey);\n                this.setItem(updatedCacheKey, cacheItem);\n                this.logger.verbose(`Updated an outdated ${credential.credentialType} cache key`);\n                return updatedCacheKey;\n            }\n            else {\n                this.logger.error(`Attempted to update an outdated ${credential.credentialType} cache key but no item matching the outdated key was found in storage`);\n            }\n        }\n        return currentCacheKey;\n    }\n}\n\nexport { NodeStorage };\n//# sourceMappingURL=NodeStorage.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\nimport { TokenCacheContext, AccountEntity } from '@azure/msal-common';\nimport { Deserializer } from './serializer/Deserializer.mjs';\nimport { Serializer } from './serializer/Serializer.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nconst defaultSerializedCache = {\n    Account: {},\n    IdToken: {},\n    AccessToken: {},\n    RefreshToken: {},\n    AppMetadata: {},\n};\n/**\n * In-memory token cache manager\n * @public\n */\nclass TokenCache {\n    constructor(storage, logger, cachePlugin) {\n        this.cacheHasChanged = false;\n        this.storage = storage;\n        this.storage.registerChangeEmitter(this.handleChangeEvent.bind(this));\n        if (cachePlugin) {\n            this.persistence = cachePlugin;\n        }\n        this.logger = logger;\n    }\n    /**\n     * Set to true if cache state has changed since last time serialize or writeToPersistence was called\n     */\n    hasChanged() {\n        return this.cacheHasChanged;\n    }\n    /**\n     * Serializes in memory cache to JSON\n     */\n    serialize() {\n        this.logger.trace(\"Serializing in-memory cache\");\n        let finalState = Serializer.serializeAllCache(this.storage.getInMemoryCache());\n        // if cacheSnapshot not null or empty, merge\n        if (this.cacheSnapshot) {\n            this.logger.trace(\"Reading cache snapshot from disk\");\n            finalState = this.mergeState(JSON.parse(this.cacheSnapshot), finalState);\n        }\n        else {\n            this.logger.trace(\"No cache snapshot to merge\");\n        }\n        this.cacheHasChanged = false;\n        return JSON.stringify(finalState);\n    }\n    /**\n     * Deserializes JSON to in-memory cache. JSON should be in MSAL cache schema format\n     * @param cache - blob formatted cache\n     */\n    deserialize(cache) {\n        this.logger.trace(\"Deserializing JSON to in-memory cache\");\n        this.cacheSnapshot = cache;\n        if (this.cacheSnapshot) {\n            this.logger.trace(\"Reading cache snapshot from disk\");\n            const deserializedCache = Deserializer.deserializeAllCache(this.overlayDefaults(JSON.parse(this.cacheSnapshot)));\n            this.storage.setInMemoryCache(deserializedCache);\n        }\n        else {\n            this.logger.trace(\"No cache snapshot to deserialize\");\n        }\n    }\n    /**\n     * Fetches the cache key-value map\n     */\n    getKVStore() {\n        return this.storage.getCache();\n    }\n    /**\n     * API that retrieves all accounts currently in cache to the user\n     */\n    async getAllAccounts() {\n        this.logger.trace(\"getAllAccounts called\");\n        let cacheContext;\n        try {\n            if (this.persistence) {\n                cacheContext = new TokenCacheContext(this, true);\n                await this.persistence.beforeCacheAccess(cacheContext);\n            }\n            return this.storage.getAllAccounts();\n        }\n        finally {\n            if (this.persistence && cacheContext) {\n                await this.persistence.afterCacheAccess(cacheContext);\n            }\n        }\n    }\n    /**\n     * Returns the signed in account matching homeAccountId.\n     * (the account object is created at the time of successful login)\n     * or null when no matching account is found\n     * @param homeAccountId - unique identifier for an account (uid.utid)\n     */\n    async getAccountByHomeId(homeAccountId) {\n        const allAccounts = await this.getAllAccounts();\n        if (homeAccountId && allAccounts && allAccounts.length) {\n            return (allAccounts.filter((accountObj) => accountObj.homeAccountId === homeAccountId)[0] || null);\n        }\n        else {\n            return null;\n        }\n    }\n    /**\n     * Returns the signed in account matching localAccountId.\n     * (the account object is created at the time of successful login)\n     * or null when no matching account is found\n     * @param localAccountId - unique identifier of an account (sub/obj when homeAccountId cannot be populated)\n     */\n    async getAccountByLocalId(localAccountId) {\n        const allAccounts = await this.getAllAccounts();\n        if (localAccountId && allAccounts && allAccounts.length) {\n            return (allAccounts.filter((accountObj) => accountObj.localAccountId === localAccountId)[0] || null);\n        }\n        else {\n            return null;\n        }\n    }\n    /**\n     * API to remove a specific account and the relevant data from cache\n     * @param account - AccountInfo passed by the user\n     */\n    async removeAccount(account) {\n        this.logger.trace(\"removeAccount called\");\n        let cacheContext;\n        try {\n            if (this.persistence) {\n                cacheContext = new TokenCacheContext(this, true);\n                await this.persistence.beforeCacheAccess(cacheContext);\n            }\n            await this.storage.removeAccount(AccountEntity.generateAccountCacheKey(account));\n        }\n        finally {\n            if (this.persistence && cacheContext) {\n                await this.persistence.afterCacheAccess(cacheContext);\n            }\n        }\n    }\n    /**\n     * Called when the cache has changed state.\n     */\n    handleChangeEvent() {\n        this.cacheHasChanged = true;\n    }\n    /**\n     * Merge in memory cache with the cache snapshot.\n     * @param oldState - cache before changes\n     * @param currentState - current cache state in the library\n     */\n    mergeState(oldState, currentState) {\n        this.logger.trace(\"Merging in-memory cache with cache snapshot\");\n        const stateAfterRemoval = this.mergeRemovals(oldState, currentState);\n        return this.mergeUpdates(stateAfterRemoval, currentState);\n    }\n    /**\n     * Deep update of oldState based on newState values\n     * @param oldState - cache before changes\n     * @param newState - updated cache\n     */\n    mergeUpdates(oldState, newState) {\n        Object.keys(newState).forEach((newKey) => {\n            const newValue = newState[newKey];\n            // if oldState does not contain value but newValue does, add it\n            if (!oldState.hasOwnProperty(newKey)) {\n                if (newValue !== null) {\n                    oldState[newKey] = newValue;\n                }\n            }\n            else {\n                // both oldState and newState contain the key, do deep update\n                const newValueNotNull = newValue !== null;\n                const newValueIsObject = typeof newValue === \"object\";\n                const newValueIsNotArray = !Array.isArray(newValue);\n                const oldStateNotUndefinedOrNull = typeof oldState[newKey] !== \"undefined\" &&\n                    oldState[newKey] !== null;\n                if (newValueNotNull &&\n                    newValueIsObject &&\n                    newValueIsNotArray &&\n                    oldStateNotUndefinedOrNull) {\n                    this.mergeUpdates(oldState[newKey], newValue);\n                }\n                else {\n                    oldState[newKey] = newValue;\n                }\n            }\n        });\n        return oldState;\n    }\n    /**\n     * Removes entities in oldState that the were removed from newState. If there are any unknown values in root of\n     * oldState that are not recognized, they are left untouched.\n     * @param oldState - cache before changes\n     * @param newState - updated cache\n     */\n    mergeRemovals(oldState, newState) {\n        this.logger.trace(\"Remove updated entries in cache\");\n        const accounts = oldState.Account\n            ? this.mergeRemovalsDict(oldState.Account, newState.Account)\n            : oldState.Account;\n        const accessTokens = oldState.AccessToken\n            ? this.mergeRemovalsDict(oldState.AccessToken, newState.AccessToken)\n            : oldState.AccessToken;\n        const refreshTokens = oldState.RefreshToken\n            ? this.mergeRemovalsDict(oldState.RefreshToken, newState.RefreshToken)\n            : oldState.RefreshToken;\n        const idTokens = oldState.IdToken\n            ? this.mergeRemovalsDict(oldState.IdToken, newState.IdToken)\n            : oldState.IdToken;\n        const appMetadata = oldState.AppMetadata\n            ? this.mergeRemovalsDict(oldState.AppMetadata, newState.AppMetadata)\n            : oldState.AppMetadata;\n        return {\n            ...oldState,\n            Account: accounts,\n            AccessToken: accessTokens,\n            RefreshToken: refreshTokens,\n            IdToken: idTokens,\n            AppMetadata: appMetadata,\n        };\n    }\n    /**\n     * Helper to merge new cache with the old one\n     * @param oldState - cache before changes\n     * @param newState - updated cache\n     */\n    mergeRemovalsDict(oldState, newState) {\n        const finalState = { ...oldState };\n        Object.keys(oldState).forEach((oldKey) => {\n            if (!newState || !newState.hasOwnProperty(oldKey)) {\n                delete finalState[oldKey];\n            }\n        });\n        return finalState;\n    }\n    /**\n     * Helper to overlay as a part of cache merge\n     * @param passedInCache - cache read from the blob\n     */\n    overlayDefaults(passedInCache) {\n        this.logger.trace(\"Overlaying input cache with the default cache\");\n        return {\n            Account: {\n                ...defaultSerializedCache.Account,\n                ...passedInCache.Account,\n            },\n            IdToken: {\n                ...defaultSerializedCache.IdToken,\n                ...passedInCache.IdToken,\n            },\n            AccessToken: {\n                ...defaultSerializedCache.AccessToken,\n                ...passedInCache.AccessToken,\n            },\n            RefreshToken: {\n                ...defaultSerializedCache.RefreshToken,\n                ...passedInCache.RefreshToken,\n            },\n            AppMetadata: {\n                ...defaultSerializedCache.AppMetadata,\n                ...passedInCache.AppMetadata,\n            },\n        };\n    }\n}\n\nexport { TokenCache };\n//# sourceMappingURL=TokenCache.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\nimport jwt from 'jsonwebtoken';\nimport { createClientAuthError, ClientAuthErrorCodes, TimeUtils, Constants } from '@azure/msal-common';\nimport { EncodingUtils } from '../utils/EncodingUtils.mjs';\nimport { JwtConstants } from '../utils/Constants.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Client assertion of type jwt-bearer used in confidential client flows\n * @public\n */\nclass ClientAssertion {\n    /**\n     * Initialize the ClientAssertion class from the clientAssertion passed by the user\n     * @param assertion - refer https://tools.ietf.org/html/rfc7521\n     */\n    static fromAssertion(assertion) {\n        const clientAssertion = new ClientAssertion();\n        clientAssertion.jwt = assertion;\n        return clientAssertion;\n    }\n    /**\n     * Initialize the ClientAssertion class from the certificate passed by the user\n     * @param thumbprint - identifier of a certificate\n     * @param privateKey - secret key\n     * @param publicCertificate - electronic document provided to prove the ownership of the public key\n     */\n    static fromCertificate(thumbprint, privateKey, publicCertificate) {\n        const clientAssertion = new ClientAssertion();\n        clientAssertion.privateKey = privateKey;\n        clientAssertion.thumbprint = thumbprint;\n        if (publicCertificate) {\n            clientAssertion.publicCertificate =\n                this.parseCertificate(publicCertificate);\n        }\n        return clientAssertion;\n    }\n    /**\n     * Update JWT for certificate based clientAssertion, if passed by the user, uses it as is\n     * @param cryptoProvider - library's crypto helper\n     * @param issuer - iss claim\n     * @param jwtAudience - aud claim\n     */\n    getJwt(cryptoProvider, issuer, jwtAudience) {\n        // if assertion was created from certificate, check if jwt is expired and create new one.\n        if (this.privateKey && this.thumbprint) {\n            if (this.jwt &&\n                !this.isExpired() &&\n                issuer === this.issuer &&\n                jwtAudience === this.jwtAudience) {\n                return this.jwt;\n            }\n            return this.createJwt(cryptoProvider, issuer, jwtAudience);\n        }\n        /*\n         * if assertion was created by caller, then we just append it. It is up to the caller to\n         * ensure that it contains necessary claims and that it is not expired.\n         */\n        if (this.jwt) {\n            return this.jwt;\n        }\n        throw createClientAuthError(ClientAuthErrorCodes.invalidAssertion);\n    }\n    /**\n     * JWT format and required claims specified: https://tools.ietf.org/html/rfc7523#section-3\n     */\n    createJwt(cryptoProvider, issuer, jwtAudience) {\n        this.issuer = issuer;\n        this.jwtAudience = jwtAudience;\n        const issuedAt = TimeUtils.nowSeconds();\n        this.expirationTime = issuedAt + 600;\n        const header = {\n            alg: JwtConstants.RSA_256,\n            x5t: EncodingUtils.base64EncodeUrl(this.thumbprint, \"hex\"),\n        };\n        if (this.publicCertificate) {\n            Object.assign(header, {\n                x5c: this.publicCertificate,\n            });\n        }\n        const payload = {\n            [JwtConstants.AUDIENCE]: this.jwtAudience,\n            [JwtConstants.EXPIRATION_TIME]: this.expirationTime,\n            [JwtConstants.ISSUER]: this.issuer,\n            [JwtConstants.SUBJECT]: this.issuer,\n            [JwtConstants.NOT_BEFORE]: issuedAt,\n            [JwtConstants.JWT_ID]: cryptoProvider.createNewGuid(),\n        };\n        this.jwt = jwt.sign(payload, this.privateKey, { header });\n        return this.jwt;\n    }\n    /**\n     * Utility API to check expiration\n     */\n    isExpired() {\n        return this.expirationTime < TimeUtils.nowSeconds();\n    }\n    /**\n     * Extracts the raw certs from a given certificate string and returns them in an array.\n     * @param publicCertificate - electronic document provided to prove the ownership of the public key\n     */\n    static parseCertificate(publicCertificate) {\n        /**\n         * This is regex to identify the certs in a given certificate string.\n         * We want to look for the contents between the BEGIN and END certificate strings, without the associated newlines.\n         * The information in parens \"(.+?)\" is the capture group to represent the cert we want isolated.\n         * \".\" means any string character, \"+\" means match 1 or more times, and \"?\" means the shortest match.\n         * The \"g\" at the end of the regex means search the string globally, and the \"s\" enables the \".\" to match newlines.\n         */\n        const regexToFindCerts = /-----BEGIN CERTIFICATE-----\\r*\\n(.+?)\\r*\\n-----END CERTIFICATE-----/gs;\n        const certs = [];\n        let matches;\n        while ((matches = regexToFindCerts.exec(publicCertificate)) !== null) {\n            // matches[1] represents the first parens capture group in the regex.\n            certs.push(matches[1].replace(/\\r*\\n/g, Constants.EMPTY_STRING));\n        }\n        return certs;\n    }\n}\n\nexport { ClientAssertion };\n//# sourceMappingURL=ClientAssertion.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\n/* eslint-disable header/header */\nconst name = \"@azure/msal-node\";\nconst version = \"2.8.0\";\n\nexport { name, version };\n//# sourceMappingURL=packageMetadata.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\nimport { AuthError } from '@azure/msal-common';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * NodeAuthErrorMessage class containing string constants used by error codes and messages.\n */\nconst NodeAuthErrorMessage = {\n    invalidLoopbackAddressType: {\n        code: \"invalid_loopback_server_address_type\",\n        desc: \"Loopback server address is not type string. This is unexpected.\",\n    },\n    unableToLoadRedirectUri: {\n        code: \"unable_to_load_redirectUrl\",\n        desc: \"Loopback server callback was invoked without a url. This is unexpected.\",\n    },\n    noAuthCodeInResponse: {\n        code: \"no_auth_code_in_response\",\n        desc: \"No auth code found in the server response. Please check your network trace to determine what happened.\",\n    },\n    noLoopbackServerExists: {\n        code: \"no_loopback_server_exists\",\n        desc: \"No loopback server exists yet.\",\n    },\n    loopbackServerAlreadyExists: {\n        code: \"loopback_server_already_exists\",\n        desc: \"Loopback server already exists. Cannot create another.\",\n    },\n    loopbackServerTimeout: {\n        code: \"loopback_server_timeout\",\n        desc: \"Timed out waiting for auth code listener to be registered.\",\n    },\n    stateNotFoundError: {\n        code: \"state_not_found\",\n        desc: \"State not found. Please verify that the request originated from msal.\",\n    },\n};\nclass NodeAuthError extends AuthError {\n    constructor(errorCode, errorMessage) {\n        super(errorCode, errorMessage);\n        this.name = \"NodeAuthError\";\n    }\n    /**\n     * Creates an error thrown if loopback server address is of type string.\n     */\n    static createInvalidLoopbackAddressTypeError() {\n        return new NodeAuthError(NodeAuthErrorMessage.invalidLoopbackAddressType.code, `${NodeAuthErrorMessage.invalidLoopbackAddressType.desc}`);\n    }\n    /**\n     * Creates an error thrown if the loopback server is unable to get a url.\n     */\n    static createUnableToLoadRedirectUrlError() {\n        return new NodeAuthError(NodeAuthErrorMessage.unableToLoadRedirectUri.code, `${NodeAuthErrorMessage.unableToLoadRedirectUri.desc}`);\n    }\n    /**\n     * Creates an error thrown if the server response does not contain an auth code.\n     */\n    static createNoAuthCodeInResponseError() {\n        return new NodeAuthError(NodeAuthErrorMessage.noAuthCodeInResponse.code, `${NodeAuthErrorMessage.noAuthCodeInResponse.desc}`);\n    }\n    /**\n     * Creates an error thrown if the loopback server has not been spun up yet.\n     */\n    static createNoLoopbackServerExistsError() {\n        return new NodeAuthError(NodeAuthErrorMessage.noLoopbackServerExists.code, `${NodeAuthErrorMessage.noLoopbackServerExists.desc}`);\n    }\n    /**\n     * Creates an error thrown if a loopback server already exists when attempting to create another one.\n     */\n    static createLoopbackServerAlreadyExistsError() {\n        return new NodeAuthError(NodeAuthErrorMessage.loopbackServerAlreadyExists.code, `${NodeAuthErrorMessage.loopbackServerAlreadyExists.desc}`);\n    }\n    /**\n     * Creates an error thrown if the loopback server times out registering the auth code listener.\n     */\n    static createLoopbackServerTimeoutError() {\n        return new NodeAuthError(NodeAuthErrorMessage.loopbackServerTimeout.code, `${NodeAuthErrorMessage.loopbackServerTimeout.desc}`);\n    }\n    /**\n     * Creates an error thrown when the state is not present.\n     */\n    static createStateNotFoundError() {\n        return new NodeAuthError(NodeAuthErrorMessage.stateNotFoundError.code, NodeAuthErrorMessage.stateNotFoundError.desc);\n    }\n}\n\nexport { NodeAuthError, NodeAuthErrorMessage };\n//# sourceMappingURL=NodeAuthError.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\nimport { BaseClient, TimeUtils, ResponseHandler, UrlString, CcsCredentialType, RequestParameterBuilder, GrantType, getClientAssertion, StringUtils } from '@azure/msal-common';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Oauth2.0 Password grant client\n * Note: We are only supporting public clients for password grant and for purely testing purposes\n */\nclass UsernamePasswordClient extends BaseClient {\n    constructor(configuration) {\n        super(configuration);\n    }\n    /**\n     * API to acquire a token by passing the username and password to the service in exchage of credentials\n     * password_grant\n     * @param request\n     */\n    async acquireToken(request) {\n        this.logger.info(\"in acquireToken call in username-password client\");\n        const reqTimestamp = TimeUtils.nowSeconds();\n        const response = await this.executeTokenRequest(this.authority, request);\n        const responseHandler = new ResponseHandler(this.config.authOptions.clientId, this.cacheManager, this.cryptoUtils, this.logger, this.config.serializableCache, this.config.persistencePlugin);\n        // Validate response. This function throws a server error if an error is returned by the server.\n        responseHandler.validateTokenResponse(response.body);\n        const tokenResponse = responseHandler.handleServerTokenResponse(response.body, this.authority, reqTimestamp, request);\n        return tokenResponse;\n    }\n    /**\n     * Executes POST request to token endpoint\n     * @param authority\n     * @param request\n     */\n    async executeTokenRequest(authority, request) {\n        const queryParametersString = this.createTokenQueryParameters(request);\n        const endpoint = UrlString.appendQueryString(authority.tokenEndpoint, queryParametersString);\n        const requestBody = await this.createTokenRequestBody(request);\n        const headers = this.createTokenRequestHeaders({\n            credential: request.username,\n            type: CcsCredentialType.UPN,\n        });\n        const thumbprint = {\n            clientId: this.config.authOptions.clientId,\n            authority: authority.canonicalAuthority,\n            scopes: request.scopes,\n            claims: request.claims,\n            authenticationScheme: request.authenticationScheme,\n            resourceRequestMethod: request.resourceRequestMethod,\n            resourceRequestUri: request.resourceRequestUri,\n            shrClaims: request.shrClaims,\n            sshKid: request.sshKid,\n        };\n        return this.executePostToTokenEndpoint(endpoint, requestBody, headers, thumbprint, request.correlationId);\n    }\n    /**\n     * Generates a map for all the params to be sent to the service\n     * @param request\n     */\n    async createTokenRequestBody(request) {\n        const parameterBuilder = new RequestParameterBuilder();\n        parameterBuilder.addClientId(this.config.authOptions.clientId);\n        parameterBuilder.addUsername(request.username);\n        parameterBuilder.addPassword(request.password);\n        parameterBuilder.addScopes(request.scopes);\n        parameterBuilder.addResponseTypeForTokenAndIdToken();\n        parameterBuilder.addGrantType(GrantType.RESOURCE_OWNER_PASSWORD_GRANT);\n        parameterBuilder.addClientInfo();\n        parameterBuilder.addLibraryInfo(this.config.libraryInfo);\n        parameterBuilder.addApplicationTelemetry(this.config.telemetry.application);\n        parameterBuilder.addThrottling();\n        if (this.serverTelemetryManager) {\n            parameterBuilder.addServerTelemetry(this.serverTelemetryManager);\n        }\n        const correlationId = request.correlationId ||\n            this.config.cryptoInterface.createNewGuid();\n        parameterBuilder.addCorrelationId(correlationId);\n        if (this.config.clientCredentials.clientSecret) {\n            parameterBuilder.addClientSecret(this.config.clientCredentials.clientSecret);\n        }\n        const clientAssertion = this.config.clientCredentials.clientAssertion;\n        if (clientAssertion) {\n            parameterBuilder.addClientAssertion(await getClientAssertion(clientAssertion.assertion, this.config.authOptions.clientId, request.resourceRequestUri));\n            parameterBuilder.addClientAssertionType(clientAssertion.assertionType);\n        }\n        if (!StringUtils.isEmptyObj(request.claims) ||\n            (this.config.authOptions.clientCapabilities &&\n                this.config.authOptions.clientCapabilities.length > 0)) {\n            parameterBuilder.addClaims(request.claims, this.config.authOptions.clientCapabilities);\n        }\n        if (this.config.systemOptions.preventCorsPreflight &&\n            request.username) {\n            parameterBuilder.addCcsUpn(request.username);\n        }\n        return parameterBuilder.createQueryString();\n    }\n}\n\nexport { UsernamePasswordClient };\n//# sourceMappingURL=UsernamePasswordClient.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\nimport { Logger, buildStaticAuthorityOptions, ResponseMode, AuthenticationScheme, AuthorizationCodeClient, AuthError, RefreshTokenClient, SilentFlowClient, createClientAuthError, ClientAuthErrorCodes, Constants as Constants$1, getClientAssertion, StringUtils, OIDC_DEFAULT_SCOPES, ServerTelemetryManager, Authority, AuthorityFactory } from '@azure/msal-common';\nimport { buildAppConfiguration } from '../config/Configuration.mjs';\nimport { CryptoProvider } from '../crypto/CryptoProvider.mjs';\nimport { NodeStorage } from '../cache/NodeStorage.mjs';\nimport { ApiId, Constants } from '../utils/Constants.mjs';\nimport { TokenCache } from '../cache/TokenCache.mjs';\nimport { ClientAssertion } from './ClientAssertion.mjs';\nimport { name, version } from '../packageMetadata.mjs';\nimport { NodeAuthError } from '../error/NodeAuthError.mjs';\nimport { UsernamePasswordClient } from './UsernamePasswordClient.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Base abstract class for all ClientApplications - public and confidential\n * @public\n */\nclass ClientApplication {\n    /**\n     * Constructor for the ClientApplication\n     */\n    constructor(configuration) {\n        this.config = buildAppConfiguration(configuration);\n        this.cryptoProvider = new CryptoProvider();\n        this.logger = new Logger(this.config.system.loggerOptions, name, version);\n        this.storage = new NodeStorage(this.logger, this.config.auth.clientId, this.cryptoProvider, buildStaticAuthorityOptions(this.config.auth));\n        this.tokenCache = new TokenCache(this.storage, this.logger, this.config.cache.cachePlugin);\n    }\n    /**\n     * Creates the URL of the authorization request, letting the user input credentials and consent to the\n     * application. The URL targets the /authorize endpoint of the authority configured in the\n     * application object.\n     *\n     * Once the user inputs their credentials and consents, the authority will send a response to the redirect URI\n     * sent in the request and should contain an authorization code, which can then be used to acquire tokens via\n     * `acquireTokenByCode(AuthorizationCodeRequest)`.\n     */\n    async getAuthCodeUrl(request) {\n        this.logger.info(\"getAuthCodeUrl called\", request.correlationId);\n        const validRequest = {\n            ...request,\n            ...(await this.initializeBaseRequest(request)),\n            responseMode: request.responseMode || ResponseMode.QUERY,\n            authenticationScheme: AuthenticationScheme.BEARER,\n        };\n        const authClientConfig = await this.buildOauthClientConfiguration(validRequest.authority, validRequest.correlationId, undefined, undefined, request.azureCloudOptions);\n        const authorizationCodeClient = new AuthorizationCodeClient(authClientConfig);\n        this.logger.verbose(\"Auth code client created\", validRequest.correlationId);\n        return authorizationCodeClient.getAuthCodeUrl(validRequest);\n    }\n    /**\n     * Acquires a token by exchanging the Authorization Code received from the first step of OAuth2.0\n     * Authorization Code flow.\n     *\n     * `getAuthCodeUrl(AuthorizationCodeUrlRequest)` can be used to create the URL for the first step of OAuth2.0\n     * Authorization Code flow. Ensure that values for redirectUri and scopes in AuthorizationCodeUrlRequest and\n     * AuthorizationCodeRequest are the same.\n     */\n    async acquireTokenByCode(request, authCodePayLoad) {\n        this.logger.info(\"acquireTokenByCode called\");\n        if (request.state && authCodePayLoad) {\n            this.logger.info(\"acquireTokenByCode - validating state\");\n            this.validateState(request.state, authCodePayLoad.state || \"\");\n            // eslint-disable-next-line no-param-reassign\n            authCodePayLoad = { ...authCodePayLoad, state: \"\" };\n        }\n        const validRequest = {\n            ...request,\n            ...(await this.initializeBaseRequest(request)),\n            authenticationScheme: AuthenticationScheme.BEARER,\n        };\n        const serverTelemetryManager = this.initializeServerTelemetryManager(ApiId.acquireTokenByCode, validRequest.correlationId);\n        try {\n            const authClientConfig = await this.buildOauthClientConfiguration(validRequest.authority, validRequest.correlationId, serverTelemetryManager, undefined, request.azureCloudOptions);\n            const authorizationCodeClient = new AuthorizationCodeClient(authClientConfig);\n            this.logger.verbose(\"Auth code client created\", validRequest.correlationId);\n            return await authorizationCodeClient.acquireToken(validRequest, authCodePayLoad);\n        }\n        catch (e) {\n            if (e instanceof AuthError) {\n                e.setCorrelationId(validRequest.correlationId);\n            }\n            serverTelemetryManager.cacheFailedRequest(e);\n            throw e;\n        }\n    }\n    /**\n     * Acquires a token by exchanging the refresh token provided for a new set of tokens.\n     *\n     * This API is provided only for scenarios where you would like to migrate from ADAL to MSAL. Otherwise, it is\n     * recommended that you use `acquireTokenSilent()` for silent scenarios. When using `acquireTokenSilent()`, MSAL will\n     * handle the caching and refreshing of tokens automatically.\n     */\n    async acquireTokenByRefreshToken(request) {\n        this.logger.info(\"acquireTokenByRefreshToken called\", request.correlationId);\n        const validRequest = {\n            ...request,\n            ...(await this.initializeBaseRequest(request)),\n            authenticationScheme: AuthenticationScheme.BEARER,\n        };\n        const serverTelemetryManager = this.initializeServerTelemetryManager(ApiId.acquireTokenByRefreshToken, validRequest.correlationId);\n        try {\n            const refreshTokenClientConfig = await this.buildOauthClientConfiguration(validRequest.authority, validRequest.correlationId, serverTelemetryManager, undefined, request.azureCloudOptions);\n            const refreshTokenClient = new RefreshTokenClient(refreshTokenClientConfig);\n            this.logger.verbose(\"Refresh token client created\", validRequest.correlationId);\n            return await refreshTokenClient.acquireToken(validRequest);\n        }\n        catch (e) {\n            if (e instanceof AuthError) {\n                e.setCorrelationId(validRequest.correlationId);\n            }\n            serverTelemetryManager.cacheFailedRequest(e);\n            throw e;\n        }\n    }\n    /**\n     * Acquires a token silently when a user specifies the account the token is requested for.\n     *\n     * This API expects the user to provide an account object and looks into the cache to retrieve the token if present.\n     * There is also an optional \"forceRefresh\" boolean the user can send to bypass the cache for access_token and id_token.\n     * In case the refresh_token is expired or not found, an error is thrown\n     * and the guidance is for the user to call any interactive token acquisition API (eg: `acquireTokenByCode()`).\n     */\n    async acquireTokenSilent(request) {\n        const validRequest = {\n            ...request,\n            ...(await this.initializeBaseRequest(request)),\n            forceRefresh: request.forceRefresh || false,\n        };\n        const serverTelemetryManager = this.initializeServerTelemetryManager(ApiId.acquireTokenSilent, validRequest.correlationId, validRequest.forceRefresh);\n        try {\n            const silentFlowClientConfig = await this.buildOauthClientConfiguration(validRequest.authority, validRequest.correlationId, serverTelemetryManager, undefined, request.azureCloudOptions);\n            const silentFlowClient = new SilentFlowClient(silentFlowClientConfig);\n            this.logger.verbose(\"Silent flow client created\", validRequest.correlationId);\n            return await silentFlowClient.acquireToken(validRequest);\n        }\n        catch (e) {\n            if (e instanceof AuthError) {\n                e.setCorrelationId(validRequest.correlationId);\n            }\n            serverTelemetryManager.cacheFailedRequest(e);\n            throw e;\n        }\n    }\n    /**\n     * Acquires tokens with password grant by exchanging client applications username and password for credentials\n     *\n     * The latest OAuth 2.0 Security Best Current Practice disallows the password grant entirely.\n     * More details on this recommendation at https://tools.ietf.org/html/draft-ietf-oauth-security-topics-13#section-3.4\n     * Microsoft's documentation and recommendations are at:\n     * https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-authentication-flows#usernamepassword\n     *\n     * @param request - UsenamePasswordRequest\n     */\n    async acquireTokenByUsernamePassword(request) {\n        this.logger.info(\"acquireTokenByUsernamePassword called\", request.correlationId);\n        const validRequest = {\n            ...request,\n            ...(await this.initializeBaseRequest(request)),\n        };\n        const serverTelemetryManager = this.initializeServerTelemetryManager(ApiId.acquireTokenByUsernamePassword, validRequest.correlationId);\n        try {\n            const usernamePasswordClientConfig = await this.buildOauthClientConfiguration(validRequest.authority, validRequest.correlationId, serverTelemetryManager, undefined, request.azureCloudOptions);\n            const usernamePasswordClient = new UsernamePasswordClient(usernamePasswordClientConfig);\n            this.logger.verbose(\"Username password client created\", validRequest.correlationId);\n            return await usernamePasswordClient.acquireToken(validRequest);\n        }\n        catch (e) {\n            if (e instanceof AuthError) {\n                e.setCorrelationId(validRequest.correlationId);\n            }\n            serverTelemetryManager.cacheFailedRequest(e);\n            throw e;\n        }\n    }\n    /**\n     * Gets the token cache for the application.\n     */\n    getTokenCache() {\n        this.logger.info(\"getTokenCache called\");\n        return this.tokenCache;\n    }\n    /**\n     * Validates OIDC state by comparing the user cached state with the state received from the server.\n     *\n     * This API is provided for scenarios where you would use OAuth2.0 state parameter to mitigate against\n     * CSRF attacks.\n     * For more information about state, visit https://datatracker.ietf.org/doc/html/rfc6819#section-3.6.\n     * @param state\n     * @param cachedState\n     */\n    validateState(state, cachedState) {\n        if (!state) {\n            throw NodeAuthError.createStateNotFoundError();\n        }\n        if (state !== cachedState) {\n            throw createClientAuthError(ClientAuthErrorCodes.stateMismatch);\n        }\n    }\n    /**\n     * Returns the logger instance\n     */\n    getLogger() {\n        return this.logger;\n    }\n    /**\n     * Replaces the default logger set in configurations with new Logger with new configurations\n     * @param logger - Logger instance\n     */\n    setLogger(logger) {\n        this.logger = logger;\n    }\n    /**\n     * Builds the common configuration to be passed to the common component based on the platform configurarion\n     * @param authority - user passed authority in configuration\n     * @param serverTelemetryManager - initializes servertelemetry if passed\n     */\n    async buildOauthClientConfiguration(authority, requestCorrelationId, serverTelemetryManager, azureRegionConfiguration, azureCloudOptions) {\n        this.logger.verbose(\"buildOauthClientConfiguration called\", requestCorrelationId);\n        // precedence - azureCloudInstance + tenant >> authority and request  >> config\n        const userAzureCloudOptions = azureCloudOptions\n            ? azureCloudOptions\n            : this.config.auth.azureCloudOptions;\n        // using null assertion operator as we ensure that all config values have default values in buildConfiguration()\n        const discoveredAuthority = await this.createAuthority(authority, requestCorrelationId, azureRegionConfiguration, userAzureCloudOptions);\n        this.logger.info(`Building oauth client configuration with the following authority: ${discoveredAuthority.tokenEndpoint}.`, requestCorrelationId);\n        serverTelemetryManager?.updateRegionDiscoveryMetadata(discoveredAuthority.regionDiscoveryMetadata);\n        const clientConfiguration = {\n            authOptions: {\n                clientId: this.config.auth.clientId,\n                authority: discoveredAuthority,\n                clientCapabilities: this.config.auth.clientCapabilities,\n            },\n            loggerOptions: {\n                logLevel: this.config.system.loggerOptions.logLevel,\n                loggerCallback: this.config.system.loggerOptions.loggerCallback,\n                piiLoggingEnabled: this.config.system.loggerOptions.piiLoggingEnabled,\n                correlationId: requestCorrelationId,\n            },\n            cacheOptions: {\n                claimsBasedCachingEnabled: this.config.cache.claimsBasedCachingEnabled,\n            },\n            cryptoInterface: this.cryptoProvider,\n            networkInterface: this.config.system.networkClient,\n            storageInterface: this.storage,\n            serverTelemetryManager: serverTelemetryManager,\n            clientCredentials: {\n                clientSecret: this.clientSecret,\n                clientAssertion: this.developerProvidedClientAssertion\n                    ? await this.getClientAssertion(discoveredAuthority)\n                    : undefined,\n            },\n            libraryInfo: {\n                sku: Constants.MSAL_SKU,\n                version: version,\n                cpu: process.arch || Constants$1.EMPTY_STRING,\n                os: process.platform || Constants$1.EMPTY_STRING,\n            },\n            telemetry: this.config.telemetry,\n            persistencePlugin: this.config.cache.cachePlugin,\n            serializableCache: this.tokenCache,\n        };\n        return clientConfiguration;\n    }\n    async getClientAssertion(authority) {\n        this.clientAssertion = ClientAssertion.fromAssertion(await getClientAssertion(this.developerProvidedClientAssertion, this.config.auth.clientId, authority.tokenEndpoint));\n        return {\n            assertion: this.clientAssertion.getJwt(this.cryptoProvider, this.config.auth.clientId, authority.tokenEndpoint),\n            assertionType: Constants.JWT_BEARER_ASSERTION_TYPE,\n        };\n    }\n    /**\n     * Generates a request with the default scopes & generates a correlationId.\n     * @param authRequest - BaseAuthRequest for initialization\n     */\n    async initializeBaseRequest(authRequest) {\n        this.logger.verbose(\"initializeRequestScopes called\", authRequest.correlationId);\n        // Default authenticationScheme to Bearer, log that POP isn't supported yet\n        if (authRequest.authenticationScheme &&\n            authRequest.authenticationScheme === AuthenticationScheme.POP) {\n            this.logger.verbose(\"Authentication Scheme 'pop' is not supported yet, setting Authentication Scheme to 'Bearer' for request\", authRequest.correlationId);\n        }\n        authRequest.authenticationScheme = AuthenticationScheme.BEARER;\n        // Set requested claims hash if claims-based caching is enabled and claims were requested\n        if (this.config.cache.claimsBasedCachingEnabled &&\n            authRequest.claims &&\n            // Checks for empty stringified object \"{}\" which doesn't qualify as requested claims\n            !StringUtils.isEmptyObj(authRequest.claims)) {\n            authRequest.requestedClaimsHash =\n                await this.cryptoProvider.hashString(authRequest.claims);\n        }\n        return {\n            ...authRequest,\n            scopes: [\n                ...((authRequest && authRequest.scopes) || []),\n                ...OIDC_DEFAULT_SCOPES,\n            ],\n            correlationId: (authRequest && authRequest.correlationId) ||\n                this.cryptoProvider.createNewGuid(),\n            authority: authRequest.authority || this.config.auth.authority,\n        };\n    }\n    /**\n     * Initializes the server telemetry payload\n     * @param apiId - Id for a specific request\n     * @param correlationId - GUID\n     * @param forceRefresh - boolean to indicate network call\n     */\n    initializeServerTelemetryManager(apiId, correlationId, forceRefresh) {\n        const telemetryPayload = {\n            clientId: this.config.auth.clientId,\n            correlationId: correlationId,\n            apiId: apiId,\n            forceRefresh: forceRefresh || false,\n        };\n        return new ServerTelemetryManager(telemetryPayload, this.storage);\n    }\n    /**\n     * Create authority instance. If authority not passed in request, default to authority set on the application\n     * object. If no authority set in application object, then default to common authority.\n     * @param authorityString - authority from user configuration\n     */\n    async createAuthority(authorityString, requestCorrelationId, azureRegionConfiguration, azureCloudOptions) {\n        this.logger.verbose(\"createAuthority called\", requestCorrelationId);\n        // build authority string based on auth params - azureCloudInstance is prioritized if provided\n        const authorityUrl = Authority.generateAuthority(authorityString, azureCloudOptions);\n        const authorityOptions = {\n            protocolMode: this.config.auth.protocolMode,\n            knownAuthorities: this.config.auth.knownAuthorities,\n            cloudDiscoveryMetadata: this.config.auth.cloudDiscoveryMetadata,\n            authorityMetadata: this.config.auth.authorityMetadata,\n            azureRegionConfiguration,\n            skipAuthorityMetadataCache: this.config.auth.skipAuthorityMetadataCache,\n        };\n        return AuthorityFactory.createDiscoveredInstance(authorityUrl, this.config.system.networkClient, this.storage, authorityOptions, this.logger, requestCorrelationId);\n    }\n    /**\n     * Clear the cache\n     */\n    clearCache() {\n        void this.storage.clear();\n    }\n}\n\nexport { ClientApplication };\n//# sourceMappingURL=ClientApplication.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\nimport { Constants, UrlUtils, HttpStatus } from '@azure/msal-common';\nimport http from 'http';\nimport { NodeAuthError } from '../error/NodeAuthError.mjs';\nimport { Constants as Constants$1 } from '../utils/Constants.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nclass LoopbackClient {\n    /**\n     * Spins up a loopback server which returns the server response when the localhost redirectUri is hit\n     * @param successTemplate\n     * @param errorTemplate\n     * @returns\n     */\n    async listenForAuthCode(successTemplate, errorTemplate) {\n        if (this.server) {\n            throw NodeAuthError.createLoopbackServerAlreadyExistsError();\n        }\n        return new Promise((resolve, reject) => {\n            this.server = http.createServer((req, res) => {\n                const url = req.url;\n                if (!url) {\n                    res.end(errorTemplate ||\n                        \"Error occurred loading redirectUrl\");\n                    reject(NodeAuthError.createUnableToLoadRedirectUrlError());\n                    return;\n                }\n                else if (url === Constants.FORWARD_SLASH) {\n                    res.end(successTemplate ||\n                        \"Auth code was successfully acquired. You can close this window now.\");\n                    return;\n                }\n                const redirectUri = this.getRedirectUri();\n                const parsedUrl = new URL(url, redirectUri);\n                const authCodeResponse = UrlUtils.getDeserializedResponse(parsedUrl.search) || {};\n                if (authCodeResponse.code) {\n                    res.writeHead(HttpStatus.REDIRECT, {\n                        location: redirectUri,\n                    }); // Prevent auth code from being saved in the browser history\n                    res.end();\n                }\n                resolve(authCodeResponse);\n            });\n            this.server.listen(0); // Listen on any available port\n        });\n    }\n    /**\n     * Get the port that the loopback server is running on\n     * @returns\n     */\n    getRedirectUri() {\n        if (!this.server || !this.server.listening) {\n            throw NodeAuthError.createNoLoopbackServerExistsError();\n        }\n        const address = this.server.address();\n        if (!address || typeof address === \"string\" || !address.port) {\n            this.closeServer();\n            throw NodeAuthError.createInvalidLoopbackAddressTypeError();\n        }\n        const port = address && address.port;\n        return `${Constants$1.HTTP_PROTOCOL}${Constants$1.LOCALHOST}:${port}`;\n    }\n    /**\n     * Close the loopback server\n     */\n    closeServer() {\n        if (this.server) {\n            // Only stops accepting new connections, server will close once open/idle connections are closed.\n            this.server.close();\n            if (typeof this.server.closeAllConnections === \"function\") {\n                /*\n                 * Close open/idle connections. This API is available in Node versions 18.2 and higher\n                 */\n                this.server.closeAllConnections();\n            }\n            this.server.unref();\n            this.server = undefined;\n        }\n    }\n}\n\nexport { LoopbackClient };\n//# sourceMappingURL=LoopbackClient.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\nimport { BaseClient, TimeUtils, ResponseHandler, UrlString, RequestParameterBuilder, createClientAuthError, ClientAuthErrorCodes, Constants, createAuthError, AuthErrorCodes, GrantType, StringUtils } from '@azure/msal-common';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * OAuth2.0 Device code client\n */\nclass DeviceCodeClient extends BaseClient {\n    constructor(configuration) {\n        super(configuration);\n    }\n    /**\n     * Gets device code from device code endpoint, calls back to with device code response, and\n     * polls token endpoint to exchange device code for tokens\n     * @param request\n     */\n    async acquireToken(request) {\n        const deviceCodeResponse = await this.getDeviceCode(request);\n        request.deviceCodeCallback(deviceCodeResponse);\n        const reqTimestamp = TimeUtils.nowSeconds();\n        const response = await this.acquireTokenWithDeviceCode(request, deviceCodeResponse);\n        const responseHandler = new ResponseHandler(this.config.authOptions.clientId, this.cacheManager, this.cryptoUtils, this.logger, this.config.serializableCache, this.config.persistencePlugin);\n        // Validate response. This function throws a server error if an error is returned by the server.\n        responseHandler.validateTokenResponse(response);\n        return responseHandler.handleServerTokenResponse(response, this.authority, reqTimestamp, request);\n    }\n    /**\n     * Creates device code request and executes http GET\n     * @param request\n     */\n    async getDeviceCode(request) {\n        const queryParametersString = this.createExtraQueryParameters(request);\n        const endpoint = UrlString.appendQueryString(this.authority.deviceCodeEndpoint, queryParametersString);\n        const queryString = this.createQueryString(request);\n        const headers = this.createTokenRequestHeaders();\n        const thumbprint = {\n            clientId: this.config.authOptions.clientId,\n            authority: request.authority,\n            scopes: request.scopes,\n            claims: request.claims,\n            authenticationScheme: request.authenticationScheme,\n            resourceRequestMethod: request.resourceRequestMethod,\n            resourceRequestUri: request.resourceRequestUri,\n            shrClaims: request.shrClaims,\n            sshKid: request.sshKid,\n        };\n        return this.executePostRequestToDeviceCodeEndpoint(endpoint, queryString, headers, thumbprint);\n    }\n    /**\n     * Creates query string for the device code request\n     * @param request\n     */\n    createExtraQueryParameters(request) {\n        const parameterBuilder = new RequestParameterBuilder();\n        if (request.extraQueryParameters) {\n            parameterBuilder.addExtraQueryParameters(request.extraQueryParameters);\n        }\n        return parameterBuilder.createQueryString();\n    }\n    /**\n     * Executes POST request to device code endpoint\n     * @param deviceCodeEndpoint\n     * @param queryString\n     * @param headers\n     */\n    async executePostRequestToDeviceCodeEndpoint(deviceCodeEndpoint, queryString, headers, thumbprint) {\n        const { body: { user_code: userCode, device_code: deviceCode, verification_uri: verificationUri, expires_in: expiresIn, interval, message, }, } = await this.networkManager.sendPostRequest(thumbprint, deviceCodeEndpoint, {\n            body: queryString,\n            headers: headers,\n        });\n        return {\n            userCode,\n            deviceCode,\n            verificationUri,\n            expiresIn,\n            interval,\n            message,\n        };\n    }\n    /**\n     * Create device code endpoint query parameters and returns string\n     */\n    createQueryString(request) {\n        const parameterBuilder = new RequestParameterBuilder();\n        parameterBuilder.addScopes(request.scopes);\n        parameterBuilder.addClientId(this.config.authOptions.clientId);\n        if (request.extraQueryParameters) {\n            parameterBuilder.addExtraQueryParameters(request.extraQueryParameters);\n        }\n        if (request.claims ||\n            (this.config.authOptions.clientCapabilities &&\n                this.config.authOptions.clientCapabilities.length > 0)) {\n            parameterBuilder.addClaims(request.claims, this.config.authOptions.clientCapabilities);\n        }\n        return parameterBuilder.createQueryString();\n    }\n    /**\n     * Breaks the polling with specific conditions.\n     * @param request CommonDeviceCodeRequest\n     * @param deviceCodeResponse DeviceCodeResponse\n     */\n    continuePolling(deviceCodeExpirationTime, userSpecifiedTimeout, userSpecifiedCancelFlag) {\n        if (userSpecifiedCancelFlag) {\n            this.logger.error(\"Token request cancelled by setting DeviceCodeRequest.cancel = true\");\n            throw createClientAuthError(ClientAuthErrorCodes.deviceCodePollingCancelled);\n        }\n        else if (userSpecifiedTimeout &&\n            userSpecifiedTimeout < deviceCodeExpirationTime &&\n            TimeUtils.nowSeconds() > userSpecifiedTimeout) {\n            this.logger.error(`User defined timeout for device code polling reached. The timeout was set for ${userSpecifiedTimeout}`);\n            throw createClientAuthError(ClientAuthErrorCodes.userTimeoutReached);\n        }\n        else if (TimeUtils.nowSeconds() > deviceCodeExpirationTime) {\n            if (userSpecifiedTimeout) {\n                this.logger.verbose(`User specified timeout ignored as the device code has expired before the timeout elapsed. The user specified timeout was set for ${userSpecifiedTimeout}`);\n            }\n            this.logger.error(`Device code expired. Expiration time of device code was ${deviceCodeExpirationTime}`);\n            throw createClientAuthError(ClientAuthErrorCodes.deviceCodeExpired);\n        }\n        return true;\n    }\n    /**\n     * Creates token request with device code response and polls token endpoint at interval set by the device code\n     * response\n     * @param request\n     * @param deviceCodeResponse\n     */\n    async acquireTokenWithDeviceCode(request, deviceCodeResponse) {\n        const queryParametersString = this.createTokenQueryParameters(request);\n        const endpoint = UrlString.appendQueryString(this.authority.tokenEndpoint, queryParametersString);\n        const requestBody = this.createTokenRequestBody(request, deviceCodeResponse);\n        const headers = this.createTokenRequestHeaders();\n        const userSpecifiedTimeout = request.timeout\n            ? TimeUtils.nowSeconds() + request.timeout\n            : undefined;\n        const deviceCodeExpirationTime = TimeUtils.nowSeconds() + deviceCodeResponse.expiresIn;\n        const pollingIntervalMilli = deviceCodeResponse.interval * 1000;\n        /*\n         * Poll token endpoint while (device code is not expired AND operation has not been cancelled by\n         * setting CancellationToken.cancel = true). POST request is sent at interval set by pollingIntervalMilli\n         */\n        while (this.continuePolling(deviceCodeExpirationTime, userSpecifiedTimeout, request.cancel)) {\n            const thumbprint = {\n                clientId: this.config.authOptions.clientId,\n                authority: request.authority,\n                scopes: request.scopes,\n                claims: request.claims,\n                authenticationScheme: request.authenticationScheme,\n                resourceRequestMethod: request.resourceRequestMethod,\n                resourceRequestUri: request.resourceRequestUri,\n                shrClaims: request.shrClaims,\n                sshKid: request.sshKid,\n            };\n            const response = await this.executePostToTokenEndpoint(endpoint, requestBody, headers, thumbprint, request.correlationId);\n            if (response.body && response.body.error) {\n                // user authorization is pending. Sleep for polling interval and try again\n                if (response.body.error === Constants.AUTHORIZATION_PENDING) {\n                    this.logger.info(\"Authorization pending. Continue polling.\");\n                    await TimeUtils.delay(pollingIntervalMilli);\n                }\n                else {\n                    // for any other error, throw\n                    this.logger.info(\"Unexpected error in polling from the server\");\n                    throw createAuthError(AuthErrorCodes.postRequestFailed, response.body.error);\n                }\n            }\n            else {\n                this.logger.verbose(\"Authorization completed successfully. Polling stopped.\");\n                return response.body;\n            }\n        }\n        /*\n         * The above code should've thrown by this point, but to satisfy TypeScript,\n         * and in the rare case the conditionals in continuePolling() may not catch everything...\n         */\n        this.logger.error(\"Polling stopped for unknown reasons.\");\n        throw createClientAuthError(ClientAuthErrorCodes.deviceCodeUnknownError);\n    }\n    /**\n     * Creates query parameters and converts to string.\n     * @param request\n     * @param deviceCodeResponse\n     */\n    createTokenRequestBody(request, deviceCodeResponse) {\n        const requestParameters = new RequestParameterBuilder();\n        requestParameters.addScopes(request.scopes);\n        requestParameters.addClientId(this.config.authOptions.clientId);\n        requestParameters.addGrantType(GrantType.DEVICE_CODE_GRANT);\n        requestParameters.addDeviceCode(deviceCodeResponse.deviceCode);\n        const correlationId = request.correlationId ||\n            this.config.cryptoInterface.createNewGuid();\n        requestParameters.addCorrelationId(correlationId);\n        requestParameters.addClientInfo();\n        requestParameters.addLibraryInfo(this.config.libraryInfo);\n        requestParameters.addApplicationTelemetry(this.config.telemetry.application);\n        requestParameters.addThrottling();\n        if (this.serverTelemetryManager) {\n            requestParameters.addServerTelemetry(this.serverTelemetryManager);\n        }\n        if (!StringUtils.isEmptyObj(request.claims) ||\n            (this.config.authOptions.clientCapabilities &&\n                this.config.authOptions.clientCapabilities.length > 0)) {\n            requestParameters.addClaims(request.claims, this.config.authOptions.clientCapabilities);\n        }\n        return requestParameters.createQueryString();\n    }\n}\n\nexport { DeviceCodeClient };\n//# sourceMappingURL=DeviceCodeClient.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\nimport { ApiId, LOOPBACK_SERVER_CONSTANTS, Constants as Constants$1 } from '../utils/Constants.mjs';\nimport { AuthError, OIDC_DEFAULT_SCOPES, ResponseMode, CodeChallengeMethodValues, ServerError, Constants } from '@azure/msal-common';\nimport { ClientApplication } from './ClientApplication.mjs';\nimport { NodeAuthError, NodeAuthErrorMessage } from '../error/NodeAuthError.mjs';\nimport { LoopbackClient } from '../network/LoopbackClient.mjs';\nimport { DeviceCodeClient } from './DeviceCodeClient.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * This class is to be used to acquire tokens for public client applications (desktop, mobile). Public client applications\n * are not trusted to safely store application secrets, and therefore can only request tokens in the name of an user.\n * @public\n */\nclass PublicClientApplication extends ClientApplication {\n    /**\n     * Important attributes in the Configuration object for auth are:\n     * - clientID: the application ID of your application. You can obtain one by registering your application with our Application registration portal.\n     * - authority: the authority URL for your application.\n     *\n     * AAD authorities are of the form https://login.microsoftonline.com/\\{Enter_the_Tenant_Info_Here\\}.\n     * - If your application supports Accounts in one organizational directory, replace \"Enter_the_Tenant_Info_Here\" value with the Tenant Id or Tenant name (for example, contoso.microsoft.com).\n     * - If your application supports Accounts in any organizational directory, replace \"Enter_the_Tenant_Info_Here\" value with organizations.\n     * - If your application supports Accounts in any organizational directory and personal Microsoft accounts, replace \"Enter_the_Tenant_Info_Here\" value with common.\n     * - To restrict support to Personal Microsoft accounts only, replace \"Enter_the_Tenant_Info_Here\" value with consumers.\n     *\n     * Azure B2C authorities are of the form https://\\{instance\\}/\\{tenant\\}/\\{policy\\}. Each policy is considered\n     * its own authority. You will have to set the all of the knownAuthorities at the time of the client application\n     * construction.\n     *\n     * ADFS authorities are of the form https://\\{instance\\}/adfs.\n     */\n    constructor(configuration) {\n        super(configuration);\n        if (this.config.broker.nativeBrokerPlugin) {\n            if (this.config.broker.nativeBrokerPlugin.isBrokerAvailable) {\n                this.nativeBrokerPlugin = this.config.broker.nativeBrokerPlugin;\n                this.nativeBrokerPlugin.setLogger(this.config.system.loggerOptions);\n            }\n            else {\n                this.logger.warning(\"NativeBroker implementation was provided but the broker is unavailable.\");\n            }\n        }\n    }\n    /**\n     * Acquires a token from the authority using OAuth2.0 device code flow.\n     * This flow is designed for devices that do not have access to a browser or have input constraints.\n     * The authorization server issues a DeviceCode object with a verification code, an end-user code,\n     * and the end-user verification URI. The DeviceCode object is provided through a callback, and the end-user should be\n     * instructed to use another device to navigate to the verification URI to input credentials.\n     * Since the client cannot receive incoming requests, it polls the authorization server repeatedly\n     * until the end-user completes input of credentials.\n     */\n    async acquireTokenByDeviceCode(request) {\n        this.logger.info(\"acquireTokenByDeviceCode called\", request.correlationId);\n        const validRequest = Object.assign(request, await this.initializeBaseRequest(request));\n        const serverTelemetryManager = this.initializeServerTelemetryManager(ApiId.acquireTokenByDeviceCode, validRequest.correlationId);\n        try {\n            const deviceCodeConfig = await this.buildOauthClientConfiguration(validRequest.authority, validRequest.correlationId, serverTelemetryManager, undefined, request.azureCloudOptions);\n            const deviceCodeClient = new DeviceCodeClient(deviceCodeConfig);\n            this.logger.verbose(\"Device code client created\", validRequest.correlationId);\n            return await deviceCodeClient.acquireToken(validRequest);\n        }\n        catch (e) {\n            if (e instanceof AuthError) {\n                e.setCorrelationId(validRequest.correlationId);\n            }\n            serverTelemetryManager.cacheFailedRequest(e);\n            throw e;\n        }\n    }\n    /**\n     * Acquires a token interactively via the browser by requesting an authorization code then exchanging it for a token.\n     */\n    async acquireTokenInteractive(request) {\n        const correlationId = request.correlationId || this.cryptoProvider.createNewGuid();\n        this.logger.trace(\"acquireTokenInteractive called\", correlationId);\n        const { openBrowser, successTemplate, errorTemplate, windowHandle, loopbackClient: customLoopbackClient, ...remainingProperties } = request;\n        if (this.nativeBrokerPlugin) {\n            const brokerRequest = {\n                ...remainingProperties,\n                clientId: this.config.auth.clientId,\n                scopes: request.scopes || OIDC_DEFAULT_SCOPES,\n                redirectUri: `${Constants$1.HTTP_PROTOCOL}${Constants$1.LOCALHOST}`,\n                authority: request.authority || this.config.auth.authority,\n                correlationId: correlationId,\n                extraParameters: {\n                    ...remainingProperties.extraQueryParameters,\n                    ...remainingProperties.tokenQueryParameters,\n                },\n                accountId: remainingProperties.account?.nativeAccountId,\n            };\n            return this.nativeBrokerPlugin.acquireTokenInteractive(brokerRequest, windowHandle);\n        }\n        const { verifier, challenge } = await this.cryptoProvider.generatePkceCodes();\n        const loopbackClient = customLoopbackClient || new LoopbackClient();\n        let authCodeResponse = {};\n        let authCodeListenerError = null;\n        try {\n            const authCodeListener = loopbackClient\n                .listenForAuthCode(successTemplate, errorTemplate)\n                .then((response) => {\n                authCodeResponse = response;\n            })\n                .catch((e) => {\n                // Store the promise instead of throwing so we can control when its thrown\n                authCodeListenerError = e;\n            });\n            // Wait for server to be listening\n            const redirectUri = await this.waitForRedirectUri(loopbackClient);\n            const validRequest = {\n                ...remainingProperties,\n                correlationId: correlationId,\n                scopes: request.scopes || OIDC_DEFAULT_SCOPES,\n                redirectUri: redirectUri,\n                responseMode: ResponseMode.QUERY,\n                codeChallenge: challenge,\n                codeChallengeMethod: CodeChallengeMethodValues.S256,\n            };\n            const authCodeUrl = await this.getAuthCodeUrl(validRequest);\n            await openBrowser(authCodeUrl);\n            await authCodeListener;\n            if (authCodeListenerError) {\n                throw authCodeListenerError;\n            }\n            if (authCodeResponse.error) {\n                throw new ServerError(authCodeResponse.error, authCodeResponse.error_description, authCodeResponse.suberror);\n            }\n            else if (!authCodeResponse.code) {\n                throw NodeAuthError.createNoAuthCodeInResponseError();\n            }\n            const clientInfo = authCodeResponse.client_info;\n            const tokenRequest = {\n                code: authCodeResponse.code,\n                codeVerifier: verifier,\n                clientInfo: clientInfo || Constants.EMPTY_STRING,\n                ...validRequest,\n            };\n            return await this.acquireTokenByCode(tokenRequest); // Await this so the server doesn't close prematurely\n        }\n        finally {\n            loopbackClient.closeServer();\n        }\n    }\n    /**\n     * Returns a token retrieved either from the cache or by exchanging the refresh token for a fresh access token. If brokering is enabled the token request will be serviced by the broker.\n     * @param request\n     * @returns\n     */\n    async acquireTokenSilent(request) {\n        const correlationId = request.correlationId || this.cryptoProvider.createNewGuid();\n        this.logger.trace(\"acquireTokenSilent called\", correlationId);\n        if (this.nativeBrokerPlugin) {\n            const brokerRequest = {\n                ...request,\n                clientId: this.config.auth.clientId,\n                scopes: request.scopes || OIDC_DEFAULT_SCOPES,\n                redirectUri: `${Constants$1.HTTP_PROTOCOL}${Constants$1.LOCALHOST}`,\n                authority: request.authority || this.config.auth.authority,\n                correlationId: correlationId,\n                extraParameters: request.tokenQueryParameters,\n                accountId: request.account.nativeAccountId,\n                forceRefresh: request.forceRefresh || false,\n            };\n            return this.nativeBrokerPlugin.acquireTokenSilent(brokerRequest);\n        }\n        return super.acquireTokenSilent(request);\n    }\n    /**\n     * Removes cache artifacts associated with the given account\n     * @param request\n     * @returns\n     */\n    async signOut(request) {\n        if (this.nativeBrokerPlugin && request.account.nativeAccountId) {\n            const signoutRequest = {\n                clientId: this.config.auth.clientId,\n                accountId: request.account.nativeAccountId,\n                correlationId: request.correlationId ||\n                    this.cryptoProvider.createNewGuid(),\n            };\n            await this.nativeBrokerPlugin.signOut(signoutRequest);\n        }\n        await this.getTokenCache().removeAccount(request.account);\n    }\n    /**\n     * Returns all cached accounts for this application. If brokering is enabled this request will be serviced by the broker.\n     * @returns\n     */\n    async getAllAccounts() {\n        if (this.nativeBrokerPlugin) {\n            const correlationId = this.cryptoProvider.createNewGuid();\n            return this.nativeBrokerPlugin.getAllAccounts(this.config.auth.clientId, correlationId);\n        }\n        return this.getTokenCache().getAllAccounts();\n    }\n    /**\n     * Attempts to retrieve the redirectUri from the loopback server. If the loopback server does not start listening for requests within the timeout this will throw.\n     * @param loopbackClient\n     * @returns\n     */\n    async waitForRedirectUri(loopbackClient) {\n        return new Promise((resolve, reject) => {\n            let ticks = 0;\n            const id = setInterval(() => {\n                if (LOOPBACK_SERVER_CONSTANTS.TIMEOUT_MS /\n                    LOOPBACK_SERVER_CONSTANTS.INTERVAL_MS <\n                    ticks) {\n                    clearInterval(id);\n                    reject(NodeAuthError.createLoopbackServerTimeoutError());\n                    return;\n                }\n                try {\n                    const r = loopbackClient.getRedirectUri();\n                    clearInterval(id);\n                    resolve(r);\n                    return;\n                }\n                catch (e) {\n                    if (e instanceof AuthError &&\n                        e.errorCode ===\n                            NodeAuthErrorMessage.noLoopbackServerExists.code) {\n                        // Loopback server is not listening yet\n                        ticks++;\n                        return;\n                    }\n                    clearInterval(id);\n                    reject(e);\n                    return;\n                }\n            }, LOOPBACK_SERVER_CONSTANTS.INTERVAL_MS);\n        });\n    }\n}\n\nexport { PublicClientApplication };\n//# sourceMappingURL=PublicClientApplication.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\nimport { BaseClient, CacheOutcome, TokenCacheContext, ScopeSet, TimeUtils, DEFAULT_TOKEN_RENEWAL_OFFSET_SEC, ResponseHandler, Constants, CredentialType, createClientAuthError, ClientAuthErrorCodes, UrlString, RequestParameterBuilder, GrantType, getClientAssertion, StringUtils, AuthenticationScheme } from '@azure/msal-common';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * OAuth2.0 client credential grant\n */\nclass ClientCredentialClient extends BaseClient {\n    constructor(configuration, appTokenProvider) {\n        super(configuration);\n        this.appTokenProvider = appTokenProvider;\n    }\n    /**\n     * Public API to acquire a token with ClientCredential Flow for Confidential clients\n     * @param request\n     */\n    async acquireToken(request) {\n        if (request.skipCache || request.claims) {\n            return this.executeTokenRequest(request, this.authority);\n        }\n        const [cachedAuthenticationResult, lastCacheOutcome] = await this.getCachedAuthenticationResult(request, this.config, this.cryptoUtils, this.authority, this.cacheManager, this.serverTelemetryManager);\n        if (cachedAuthenticationResult) {\n            // if the token is not expired but must be refreshed; get a new one in the background\n            if (lastCacheOutcome === CacheOutcome.PROACTIVELY_REFRESHED) {\n                this.logger.info(\"ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.\");\n                // refresh the access token in the background\n                const refreshAccessToken = true;\n                await this.executeTokenRequest(request, this.authority, refreshAccessToken);\n            }\n            // return the cached token\n            return cachedAuthenticationResult;\n        }\n        else {\n            return this.executeTokenRequest(request, this.authority);\n        }\n    }\n    /**\n     * looks up cache if the tokens are cached already\n     */\n    async getCachedAuthenticationResult(request, config, cryptoUtils, authority, cacheManager, serverTelemetryManager) {\n        const clientConfiguration = config;\n        const managedIdentityConfiguration = config;\n        let lastCacheOutcome = CacheOutcome.NOT_APPLICABLE;\n        // read the user-supplied cache into memory, if applicable\n        let cacheContext;\n        if (clientConfiguration.serializableCache &&\n            clientConfiguration.persistencePlugin) {\n            cacheContext = new TokenCacheContext(clientConfiguration.serializableCache, false);\n            await clientConfiguration.persistencePlugin.beforeCacheAccess(cacheContext);\n        }\n        const cachedAccessToken = this.readAccessTokenFromCache(authority, managedIdentityConfiguration.managedIdentityId?.id ||\n            clientConfiguration.authOptions.clientId, new ScopeSet(request.scopes || []), cacheManager);\n        if (clientConfiguration.serializableCache &&\n            clientConfiguration.persistencePlugin &&\n            cacheContext) {\n            await clientConfiguration.persistencePlugin.afterCacheAccess(cacheContext);\n        }\n        // must refresh due to non-existent access_token\n        if (!cachedAccessToken) {\n            serverTelemetryManager?.setCacheOutcome(CacheOutcome.NO_CACHED_ACCESS_TOKEN);\n            return [null, CacheOutcome.NO_CACHED_ACCESS_TOKEN];\n        }\n        // must refresh due to the expires_in value\n        if (TimeUtils.isTokenExpired(cachedAccessToken.expiresOn, clientConfiguration.systemOptions?.tokenRenewalOffsetSeconds ||\n            DEFAULT_TOKEN_RENEWAL_OFFSET_SEC)) {\n            serverTelemetryManager?.setCacheOutcome(CacheOutcome.CACHED_ACCESS_TOKEN_EXPIRED);\n            return [null, CacheOutcome.CACHED_ACCESS_TOKEN_EXPIRED];\n        }\n        // must refresh (in the background) due to the refresh_in value\n        if (cachedAccessToken.refreshOn &&\n            TimeUtils.isTokenExpired(cachedAccessToken.refreshOn.toString(), 0)) {\n            lastCacheOutcome = CacheOutcome.PROACTIVELY_REFRESHED;\n            serverTelemetryManager?.setCacheOutcome(CacheOutcome.PROACTIVELY_REFRESHED);\n        }\n        return [\n            await ResponseHandler.generateAuthenticationResult(cryptoUtils, authority, {\n                account: null,\n                idToken: null,\n                accessToken: cachedAccessToken,\n                refreshToken: null,\n                appMetadata: null,\n            }, true, request),\n            lastCacheOutcome,\n        ];\n    }\n    /**\n     * Reads access token from the cache\n     */\n    readAccessTokenFromCache(authority, id, scopeSet, cacheManager) {\n        const accessTokenFilter = {\n            homeAccountId: Constants.EMPTY_STRING,\n            environment: authority.canonicalAuthorityUrlComponents.HostNameAndPort,\n            credentialType: CredentialType.ACCESS_TOKEN,\n            clientId: id,\n            realm: authority.tenant,\n            target: ScopeSet.createSearchScopes(scopeSet.asArray()),\n        };\n        const accessTokens = cacheManager.getAccessTokensByFilter(accessTokenFilter);\n        if (accessTokens.length < 1) {\n            return null;\n        }\n        else if (accessTokens.length > 1) {\n            throw createClientAuthError(ClientAuthErrorCodes.multipleMatchingTokens);\n        }\n        return accessTokens[0];\n    }\n    /**\n     * Makes a network call to request the token from the service\n     * @param request\n     * @param authority\n     */\n    async executeTokenRequest(request, authority, refreshAccessToken) {\n        let serverTokenResponse;\n        let reqTimestamp;\n        if (this.appTokenProvider) {\n            this.logger.info(\"Using appTokenProvider extensibility.\");\n            const appTokenPropviderParameters = {\n                correlationId: request.correlationId,\n                tenantId: this.config.authOptions.authority.tenant,\n                scopes: request.scopes,\n                claims: request.claims,\n            };\n            reqTimestamp = TimeUtils.nowSeconds();\n            const appTokenProviderResult = await this.appTokenProvider(appTokenPropviderParameters);\n            serverTokenResponse = {\n                access_token: appTokenProviderResult.accessToken,\n                expires_in: appTokenProviderResult.expiresInSeconds,\n                refresh_in: appTokenProviderResult.refreshInSeconds,\n                token_type: AuthenticationScheme.BEARER,\n            };\n        }\n        else {\n            const queryParametersString = this.createTokenQueryParameters(request);\n            const endpoint = UrlString.appendQueryString(authority.tokenEndpoint, queryParametersString);\n            const requestBody = await this.createTokenRequestBody(request);\n            const headers = this.createTokenRequestHeaders();\n            const thumbprint = {\n                clientId: this.config.authOptions.clientId,\n                authority: request.authority,\n                scopes: request.scopes,\n                claims: request.claims,\n                authenticationScheme: request.authenticationScheme,\n                resourceRequestMethod: request.resourceRequestMethod,\n                resourceRequestUri: request.resourceRequestUri,\n                shrClaims: request.shrClaims,\n                sshKid: request.sshKid,\n            };\n            this.logger.info(\"Sending token request to endpoint: \" + authority.tokenEndpoint);\n            reqTimestamp = TimeUtils.nowSeconds();\n            const response = await this.executePostToTokenEndpoint(endpoint, requestBody, headers, thumbprint, request.correlationId);\n            serverTokenResponse = response.body;\n            serverTokenResponse.status = response.status;\n        }\n        const responseHandler = new ResponseHandler(this.config.authOptions.clientId, this.cacheManager, this.cryptoUtils, this.logger, this.config.serializableCache, this.config.persistencePlugin);\n        responseHandler.validateTokenResponse(serverTokenResponse, refreshAccessToken);\n        const tokenResponse = await responseHandler.handleServerTokenResponse(serverTokenResponse, this.authority, reqTimestamp, request);\n        return tokenResponse;\n    }\n    /**\n     * generate the request to the server in the acceptable format\n     * @param request\n     */\n    async createTokenRequestBody(request) {\n        const parameterBuilder = new RequestParameterBuilder();\n        parameterBuilder.addClientId(this.config.authOptions.clientId);\n        parameterBuilder.addScopes(request.scopes, false);\n        parameterBuilder.addGrantType(GrantType.CLIENT_CREDENTIALS_GRANT);\n        parameterBuilder.addLibraryInfo(this.config.libraryInfo);\n        parameterBuilder.addApplicationTelemetry(this.config.telemetry.application);\n        parameterBuilder.addThrottling();\n        if (this.serverTelemetryManager) {\n            parameterBuilder.addServerTelemetry(this.serverTelemetryManager);\n        }\n        const correlationId = request.correlationId ||\n            this.config.cryptoInterface.createNewGuid();\n        parameterBuilder.addCorrelationId(correlationId);\n        if (this.config.clientCredentials.clientSecret) {\n            parameterBuilder.addClientSecret(this.config.clientCredentials.clientSecret);\n        }\n        // Use clientAssertion from request, fallback to client assertion in base configuration\n        const clientAssertion = request.clientAssertion ||\n            this.config.clientCredentials.clientAssertion;\n        if (clientAssertion) {\n            parameterBuilder.addClientAssertion(await getClientAssertion(clientAssertion.assertion, this.config.authOptions.clientId, request.resourceRequestUri));\n            parameterBuilder.addClientAssertionType(clientAssertion.assertionType);\n        }\n        if (!StringUtils.isEmptyObj(request.claims) ||\n            (this.config.authOptions.clientCapabilities &&\n                this.config.authOptions.clientCapabilities.length > 0)) {\n            parameterBuilder.addClaims(request.claims, this.config.authOptions.clientCapabilities);\n        }\n        return parameterBuilder.createQueryString();\n    }\n}\n\nexport { ClientCredentialClient };\n//# sourceMappingURL=ClientCredentialClient.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\nimport { BaseClient, ScopeSet, CacheOutcome, createClientAuthError, ClientAuthErrorCodes, TimeUtils, AuthToken, ResponseHandler, AuthenticationScheme, CredentialType, UrlString, RequestParameterBuilder, GrantType, AADServerParamKeys, getClientAssertion, Constants } from '@azure/msal-common';\nimport { EncodingUtils } from '../utils/EncodingUtils.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * On-Behalf-Of client\n */\nclass OnBehalfOfClient extends BaseClient {\n    constructor(configuration) {\n        super(configuration);\n    }\n    /**\n     * Public API to acquire tokens with on behalf of flow\n     * @param request\n     */\n    async acquireToken(request) {\n        this.scopeSet = new ScopeSet(request.scopes || []);\n        // generate the user_assertion_hash for OBOAssertion\n        this.userAssertionHash = await this.cryptoUtils.hashString(request.oboAssertion);\n        if (request.skipCache || request.claims) {\n            return this.executeTokenRequest(request, this.authority, this.userAssertionHash);\n        }\n        try {\n            return await this.getCachedAuthenticationResult(request);\n        }\n        catch (e) {\n            // Any failure falls back to interactive request, once we implement distributed cache, we plan to handle `createRefreshRequiredError` to refresh using the RT\n            return await this.executeTokenRequest(request, this.authority, this.userAssertionHash);\n        }\n    }\n    /**\n     * look up cache for tokens\n     * Find idtoken in the cache\n     * Find accessToken based on user assertion and account info in the cache\n     * Please note we are not yet supported OBO tokens refreshed with long lived RT. User will have to send a new assertion if the current access token expires\n     * This is to prevent security issues when the assertion changes over time, however, longlived RT helps retaining the session\n     * @param request\n     */\n    async getCachedAuthenticationResult(request) {\n        // look in the cache for the access_token which matches the incoming_assertion\n        const cachedAccessToken = this.readAccessTokenFromCacheForOBO(this.config.authOptions.clientId, request);\n        if (!cachedAccessToken) {\n            // Must refresh due to non-existent access_token.\n            this.serverTelemetryManager?.setCacheOutcome(CacheOutcome.NO_CACHED_ACCESS_TOKEN);\n            this.logger.info(\"SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties.\");\n            throw createClientAuthError(ClientAuthErrorCodes.tokenRefreshRequired);\n        }\n        else if (TimeUtils.isTokenExpired(cachedAccessToken.expiresOn, this.config.systemOptions.tokenRenewalOffsetSeconds)) {\n            // Access token expired, will need to renewed\n            this.serverTelemetryManager?.setCacheOutcome(CacheOutcome.CACHED_ACCESS_TOKEN_EXPIRED);\n            this.logger.info(`OnbehalfofFlow:getCachedAuthenticationResult - Cached access token is expired or will expire within ${this.config.systemOptions.tokenRenewalOffsetSeconds} seconds.`);\n            throw createClientAuthError(ClientAuthErrorCodes.tokenRefreshRequired);\n        }\n        // fetch the idToken from cache\n        const cachedIdToken = this.readIdTokenFromCacheForOBO(cachedAccessToken.homeAccountId);\n        let idTokenClaims;\n        let cachedAccount = null;\n        if (cachedIdToken) {\n            idTokenClaims = AuthToken.extractTokenClaims(cachedIdToken.secret, EncodingUtils.base64Decode);\n            const localAccountId = idTokenClaims.oid || idTokenClaims.sub;\n            const accountInfo = {\n                homeAccountId: cachedIdToken.homeAccountId,\n                environment: cachedIdToken.environment,\n                tenantId: cachedIdToken.realm,\n                username: Constants.EMPTY_STRING,\n                localAccountId: localAccountId || Constants.EMPTY_STRING,\n            };\n            cachedAccount = this.cacheManager.readAccountFromCache(accountInfo);\n        }\n        // increment telemetry cache hit counter\n        if (this.config.serverTelemetryManager) {\n            this.config.serverTelemetryManager.incrementCacheHits();\n        }\n        return ResponseHandler.generateAuthenticationResult(this.cryptoUtils, this.authority, {\n            account: cachedAccount,\n            accessToken: cachedAccessToken,\n            idToken: cachedIdToken,\n            refreshToken: null,\n            appMetadata: null,\n        }, true, request, idTokenClaims);\n    }\n    /**\n     * read idtoken from cache, this is a specific implementation for OBO as the requirements differ from a generic lookup in the cacheManager\n     * Certain use cases of OBO flow do not expect an idToken in the cache/or from the service\n     * @param atHomeAccountId {string}\n     */\n    readIdTokenFromCacheForOBO(atHomeAccountId) {\n        const idTokenFilter = {\n            homeAccountId: atHomeAccountId,\n            environment: this.authority.canonicalAuthorityUrlComponents.HostNameAndPort,\n            credentialType: CredentialType.ID_TOKEN,\n            clientId: this.config.authOptions.clientId,\n            realm: this.authority.tenant,\n        };\n        const idTokenMap = this.cacheManager.getIdTokensByFilter(idTokenFilter);\n        // When acquiring a token on behalf of an application, there might not be an id token in the cache\n        if (Object.values(idTokenMap).length < 1) {\n            return null;\n        }\n        return Object.values(idTokenMap)[0];\n    }\n    /**\n     * Fetches the cached access token based on incoming assertion\n     * @param clientId\n     * @param request\n     * @param userAssertionHash\n     */\n    readAccessTokenFromCacheForOBO(clientId, request) {\n        const authScheme = request.authenticationScheme || AuthenticationScheme.BEARER;\n        /*\n         * Distinguish between Bearer and PoP/SSH token cache types\n         * Cast to lowercase to handle \"bearer\" from ADFS\n         */\n        const credentialType = authScheme &&\n            authScheme.toLowerCase() !==\n                AuthenticationScheme.BEARER.toLowerCase()\n            ? CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME\n            : CredentialType.ACCESS_TOKEN;\n        const accessTokenFilter = {\n            credentialType: credentialType,\n            clientId,\n            target: ScopeSet.createSearchScopes(this.scopeSet.asArray()),\n            tokenType: authScheme,\n            keyId: request.sshKid,\n            requestedClaimsHash: request.requestedClaimsHash,\n            userAssertionHash: this.userAssertionHash,\n        };\n        const accessTokens = this.cacheManager.getAccessTokensByFilter(accessTokenFilter);\n        const numAccessTokens = accessTokens.length;\n        if (numAccessTokens < 1) {\n            return null;\n        }\n        else if (numAccessTokens > 1) {\n            throw createClientAuthError(ClientAuthErrorCodes.multipleMatchingTokens);\n        }\n        return accessTokens[0];\n    }\n    /**\n     * Make a network call to the server requesting credentials\n     * @param request\n     * @param authority\n     */\n    async executeTokenRequest(request, authority, userAssertionHash) {\n        const queryParametersString = this.createTokenQueryParameters(request);\n        const endpoint = UrlString.appendQueryString(authority.tokenEndpoint, queryParametersString);\n        const requestBody = await this.createTokenRequestBody(request);\n        const headers = this.createTokenRequestHeaders();\n        const thumbprint = {\n            clientId: this.config.authOptions.clientId,\n            authority: request.authority,\n            scopes: request.scopes,\n            claims: request.claims,\n            authenticationScheme: request.authenticationScheme,\n            resourceRequestMethod: request.resourceRequestMethod,\n            resourceRequestUri: request.resourceRequestUri,\n            shrClaims: request.shrClaims,\n            sshKid: request.sshKid,\n        };\n        const reqTimestamp = TimeUtils.nowSeconds();\n        const response = await this.executePostToTokenEndpoint(endpoint, requestBody, headers, thumbprint, request.correlationId);\n        const responseHandler = new ResponseHandler(this.config.authOptions.clientId, this.cacheManager, this.cryptoUtils, this.logger, this.config.serializableCache, this.config.persistencePlugin);\n        responseHandler.validateTokenResponse(response.body);\n        const tokenResponse = await responseHandler.handleServerTokenResponse(response.body, this.authority, reqTimestamp, request, undefined, userAssertionHash);\n        return tokenResponse;\n    }\n    /**\n     * generate a server request in accepable format\n     * @param request\n     */\n    async createTokenRequestBody(request) {\n        const parameterBuilder = new RequestParameterBuilder();\n        parameterBuilder.addClientId(this.config.authOptions.clientId);\n        parameterBuilder.addScopes(request.scopes);\n        parameterBuilder.addGrantType(GrantType.JWT_BEARER);\n        parameterBuilder.addClientInfo();\n        parameterBuilder.addLibraryInfo(this.config.libraryInfo);\n        parameterBuilder.addApplicationTelemetry(this.config.telemetry.application);\n        parameterBuilder.addThrottling();\n        if (this.serverTelemetryManager) {\n            parameterBuilder.addServerTelemetry(this.serverTelemetryManager);\n        }\n        const correlationId = request.correlationId ||\n            this.config.cryptoInterface.createNewGuid();\n        parameterBuilder.addCorrelationId(correlationId);\n        parameterBuilder.addRequestTokenUse(AADServerParamKeys.ON_BEHALF_OF);\n        parameterBuilder.addOboAssertion(request.oboAssertion);\n        if (this.config.clientCredentials.clientSecret) {\n            parameterBuilder.addClientSecret(this.config.clientCredentials.clientSecret);\n        }\n        const clientAssertion = this.config.clientCredentials.clientAssertion;\n        if (clientAssertion) {\n            parameterBuilder.addClientAssertion(await getClientAssertion(clientAssertion.assertion, this.config.authOptions.clientId, request.resourceRequestUri));\n            parameterBuilder.addClientAssertionType(clientAssertion.assertionType);\n        }\n        if (request.claims ||\n            (this.config.authOptions.clientCapabilities &&\n                this.config.authOptions.clientCapabilities.length > 0)) {\n            parameterBuilder.addClaims(request.claims, this.config.authOptions.clientCapabilities);\n        }\n        return parameterBuilder.createQueryString();\n    }\n}\n\nexport { OnBehalfOfClient };\n//# sourceMappingURL=OnBehalfOfClient.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\nimport { ClientApplication } from './ClientApplication.mjs';\nimport { ClientAssertion } from './ClientAssertion.mjs';\nimport { Constants, REGION_ENVIRONMENT_VARIABLE, ApiId } from '../utils/Constants.mjs';\nimport { getClientAssertion, OIDC_DEFAULT_SCOPES, UrlString, AADAuthorityConstants, createClientAuthError, ClientAuthErrorCodes, AuthError, Constants as Constants$1 } from '@azure/msal-common';\nimport { ClientCredentialClient } from './ClientCredentialClient.mjs';\nimport { OnBehalfOfClient } from './OnBehalfOfClient.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n// AADAuthorityConstants\n/**\n *  This class is to be used to acquire tokens for confidential client applications (webApp, webAPI). Confidential client applications\n *  will configure application secrets, client certificates/assertions as applicable\n * @public\n */\nclass ConfidentialClientApplication extends ClientApplication {\n    /**\n     * Constructor for the ConfidentialClientApplication\n     *\n     * Required attributes in the Configuration object are:\n     * - clientID: the application ID of your application. You can obtain one by registering your application with our application registration portal\n     * - authority: the authority URL for your application.\n     * - client credential: Must set either client secret, certificate, or assertion for confidential clients. You can obtain a client secret from the application registration portal.\n     *\n     * In Azure AD, authority is a URL indicating of the form https://login.microsoftonline.com/\\{Enter_the_Tenant_Info_Here\\}.\n     * If your application supports Accounts in one organizational directory, replace \"Enter_the_Tenant_Info_Here\" value with the Tenant Id or Tenant name (for example, contoso.microsoft.com).\n     * If your application supports Accounts in any organizational directory, replace \"Enter_the_Tenant_Info_Here\" value with organizations.\n     * If your application supports Accounts in any organizational directory and personal Microsoft accounts, replace \"Enter_the_Tenant_Info_Here\" value with common.\n     * To restrict support to Personal Microsoft accounts only, replace \"Enter_the_Tenant_Info_Here\" value with consumers.\n     *\n     * In Azure B2C, authority is of the form https://\\{instance\\}/tfp/\\{tenant\\}/\\{policyName\\}/\n     * Full B2C functionality will be available in this library in future versions.\n     *\n     * @param Configuration - configuration object for the MSAL ConfidentialClientApplication instance\n     */\n    constructor(configuration) {\n        super(configuration);\n        this.setClientCredential(this.config);\n        this.appTokenProvider = undefined;\n    }\n    /**\n     * This extensibility point only works for the client_credential flow, i.e. acquireTokenByClientCredential and\n     * is meant for Azure SDK to enhance Managed Identity support.\n     *\n     * @param IAppTokenProvider  - Extensibility interface, which allows the app developer to return a token from a custom source.\n     */\n    SetAppTokenProvider(provider) {\n        this.appTokenProvider = provider;\n    }\n    /**\n     * Acquires tokens from the authority for the application (not for an end user).\n     */\n    async acquireTokenByClientCredential(request) {\n        this.logger.info(\"acquireTokenByClientCredential called\", request.correlationId);\n        // If there is a client assertion present in the request, it overrides the one present in the client configuration\n        let clientAssertion;\n        if (request.clientAssertion) {\n            clientAssertion = {\n                assertion: await getClientAssertion(request.clientAssertion, this.config.auth.clientId\n                // tokenEndpoint will be undefined. resourceRequestUri is omitted in ClientCredentialRequest\n                ),\n                assertionType: Constants.JWT_BEARER_ASSERTION_TYPE,\n            };\n        }\n        const baseRequest = await this.initializeBaseRequest(request);\n        // valid base request should not contain oidc scopes in this grant type\n        const validBaseRequest = {\n            ...baseRequest,\n            scopes: baseRequest.scopes.filter((scope) => !OIDC_DEFAULT_SCOPES.includes(scope)),\n        };\n        const validRequest = {\n            ...request,\n            ...validBaseRequest,\n            clientAssertion,\n        };\n        /*\n         * valid request should not have \"common\" or \"organizations\" in lieu of the tenant_id in the authority in the auth configuration\n         * example authority: \"https://login.microsoftonline.com/TenantId\",\n         */\n        const authority = new UrlString(validRequest.authority);\n        const tenantId = authority.getUrlComponents().PathSegments[0];\n        if (Object.values(AADAuthorityConstants).includes(tenantId)) {\n            throw createClientAuthError(ClientAuthErrorCodes.missingTenantIdError);\n        }\n        const azureRegionConfiguration = {\n            azureRegion: validRequest.azureRegion,\n            environmentRegion: process.env[REGION_ENVIRONMENT_VARIABLE],\n        };\n        const serverTelemetryManager = this.initializeServerTelemetryManager(ApiId.acquireTokenByClientCredential, validRequest.correlationId, validRequest.skipCache);\n        try {\n            const clientCredentialConfig = await this.buildOauthClientConfiguration(validRequest.authority, validRequest.correlationId, serverTelemetryManager, azureRegionConfiguration, request.azureCloudOptions);\n            const clientCredentialClient = new ClientCredentialClient(clientCredentialConfig, this.appTokenProvider);\n            this.logger.verbose(\"Client credential client created\", validRequest.correlationId);\n            return await clientCredentialClient.acquireToken(validRequest);\n        }\n        catch (e) {\n            if (e instanceof AuthError) {\n                e.setCorrelationId(validRequest.correlationId);\n            }\n            serverTelemetryManager.cacheFailedRequest(e);\n            throw e;\n        }\n    }\n    /**\n     * Acquires tokens from the authority for the application.\n     *\n     * Used in scenarios where the current app is a middle-tier service which was called with a token\n     * representing an end user. The current app can use the token (oboAssertion) to request another\n     * token to access downstream web API, on behalf of that user.\n     *\n     * The current middle-tier app has no user interaction to obtain consent.\n     * See how to gain consent upfront for your middle-tier app from this article.\n     * https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-on-behalf-of-flow#gaining-consent-for-the-middle-tier-application\n     */\n    async acquireTokenOnBehalfOf(request) {\n        this.logger.info(\"acquireTokenOnBehalfOf called\", request.correlationId);\n        const validRequest = {\n            ...request,\n            ...(await this.initializeBaseRequest(request)),\n        };\n        try {\n            const onBehalfOfConfig = await this.buildOauthClientConfiguration(validRequest.authority, validRequest.correlationId, undefined, undefined, request.azureCloudOptions);\n            const oboClient = new OnBehalfOfClient(onBehalfOfConfig);\n            this.logger.verbose(\"On behalf of client created\", validRequest.correlationId);\n            return await oboClient.acquireToken(validRequest);\n        }\n        catch (e) {\n            if (e instanceof AuthError) {\n                e.setCorrelationId(validRequest.correlationId);\n            }\n            throw e;\n        }\n    }\n    setClientCredential(configuration) {\n        const clientSecretNotEmpty = !!configuration.auth.clientSecret;\n        const clientAssertionNotEmpty = !!configuration.auth.clientAssertion;\n        const certificate = configuration.auth.clientCertificate || {\n            thumbprint: Constants$1.EMPTY_STRING,\n            privateKey: Constants$1.EMPTY_STRING,\n        };\n        const certificateNotEmpty = !!certificate.thumbprint || !!certificate.privateKey;\n        /*\n         * If app developer configures this callback, they don't need a credential\n         * i.e. AzureSDK can get token from Managed Identity without a cert / secret\n         */\n        if (this.appTokenProvider) {\n            return;\n        }\n        // Check that at most one credential is set on the application\n        if ((clientSecretNotEmpty && clientAssertionNotEmpty) ||\n            (clientAssertionNotEmpty && certificateNotEmpty) ||\n            (clientSecretNotEmpty && certificateNotEmpty)) {\n            throw createClientAuthError(ClientAuthErrorCodes.invalidClientCredential);\n        }\n        if (configuration.auth.clientSecret) {\n            this.clientSecret = configuration.auth.clientSecret;\n            return;\n        }\n        if (configuration.auth.clientAssertion) {\n            this.developerProvidedClientAssertion =\n                configuration.auth.clientAssertion;\n            return;\n        }\n        if (!certificateNotEmpty) {\n            throw createClientAuthError(ClientAuthErrorCodes.invalidClientCredential);\n        }\n        else {\n            this.clientAssertion = ClientAssertion.fromCertificate(certificate.thumbprint, certificate.privateKey, configuration.auth.clientCertificate?.x5c);\n        }\n    }\n}\n\nexport { ConfidentialClientApplication };\n//# sourceMappingURL=ConfidentialClientApplication.mjs.map\n","/*! @azure/msal-node v2.8.0 2024-05-07 */\n'use strict';\nimport { TimeUtils, HeaderNames, Constants, AuthError, createClientAuthError, ClientAuthErrorCodes, ResponseHandler, UrlString } from '@azure/msal-common';\nimport { HttpMethod, ManagedIdentityIdType } from '../../utils/Constants.mjs';\nimport { createManagedIdentityError } from '../../error/ManagedIdentityError.mjs';\nimport { invalidManagedIdentityIdType, MsiEnvironmentVariableUrlMalformedErrorCodes } from '../../error/ManagedIdentityErrorCodes.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * Managed Identity User Assigned Id Query Parameter Names\n */\nconst ManagedIdentityUserAssignedIdQueryParameterNames = {\n    MANAGED_IDENTITY_CLIENT_ID: \"client_id\",\n    MANAGED_IDENTITY_OBJECT_ID: \"object_id\",\n    MANAGED_IDENTITY_RESOURCE_ID: \"mi_res_id\",\n};\nclass BaseManagedIdentitySource {\n    constructor(logger, nodeStorage, networkClient, cryptoProvider) {\n        this.logger = logger;\n        this.nodeStorage = nodeStorage;\n        this.networkClient = networkClient;\n        this.cryptoProvider = cryptoProvider;\n    }\n    async getServerTokenResponseAsync(response, \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _networkClient, \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _networkRequest, \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _networkRequestOptions) {\n        return this.getServerTokenResponse(response);\n    }\n    getServerTokenResponse(response) {\n        let refreshIn, expiresIn;\n        if (response.body.expires_on) {\n            expiresIn = response.body.expires_on - TimeUtils.nowSeconds();\n            // compute refresh_in as 1/2 of expires_in, but only if expires_in > 2h\n            if (expiresIn > 2 * 3600) {\n                refreshIn = expiresIn / 2;\n            }\n        }\n        const serverTokenResponse = {\n            status: response.status,\n            // success\n            access_token: response.body.access_token,\n            expires_in: expiresIn,\n            scope: response.body.resource,\n            token_type: response.body.token_type,\n            refresh_in: refreshIn,\n            // error\n            error: response.body.message,\n            correlation_id: response.body.correlationId,\n        };\n        return serverTokenResponse;\n    }\n    async acquireTokenWithManagedIdentity(managedIdentityRequest, managedIdentityId, fakeAuthority, refreshAccessToken) {\n        const networkRequest = this.createRequest(managedIdentityRequest.resource, managedIdentityId);\n        const headers = networkRequest.headers;\n        headers[HeaderNames.CONTENT_TYPE] = Constants.URL_FORM_CONTENT_TYPE;\n        const networkRequestOptions = { headers };\n        if (Object.keys(networkRequest.bodyParameters).length) {\n            networkRequestOptions.body =\n                networkRequest.computeParametersBodyString();\n        }\n        const reqTimestamp = TimeUtils.nowSeconds();\n        let response;\n        try {\n            // Sources that send POST requests: Cloud Shell\n            if (networkRequest.httpMethod === HttpMethod.POST) {\n                response =\n                    await this.networkClient.sendPostRequestAsync(networkRequest.computeUri(), networkRequestOptions);\n                // Sources that send GET requests: App Service, Azure Arc, IMDS, Service Fabric\n            }\n            else {\n                response =\n                    await this.networkClient.sendGetRequestAsync(networkRequest.computeUri(), networkRequestOptions);\n            }\n        }\n        catch (error) {\n            if (error instanceof AuthError) {\n                throw error;\n            }\n            else {\n                throw createClientAuthError(ClientAuthErrorCodes.networkError);\n            }\n        }\n        const responseHandler = new ResponseHandler(managedIdentityId.id, this.nodeStorage, this.cryptoProvider, this.logger, null, null);\n        const serverTokenResponse = await this.getServerTokenResponseAsync(response, this.networkClient, networkRequest, networkRequestOptions);\n        responseHandler.validateTokenResponse(serverTokenResponse, refreshAccessToken);\n        // caches the token\n        return responseHandler.handleServerTokenResponse(serverTokenResponse, fakeAuthority, reqTimestamp, managedIdentityRequest);\n    }\n    getManagedIdentityUserAssignedIdQueryParameterKey(managedIdentityIdType) {\n        switch (managedIdentityIdType) {\n            case ManagedIdentityIdType.USER_ASSIGNED_CLIENT_ID:\n                this.logger.info(\"[Managed Identity] Adding user assigned client id to the request.\");\n                return ManagedIdentityUserAssignedIdQueryParameterNames.MANAGED_IDENTITY_CLIENT_ID;\n            case ManagedIdentityIdType.USER_ASSIGNED_RESOURCE_ID:\n                this.logger.info(\"[Managed Identity] Adding user assigned resource id to the request.\");\n                return ManagedIdentityUserAssignedIdQueryParameterNames.MANAGED_IDENTITY_RESOURCE_ID;\n            case ManagedIdentityIdType.USER_ASSIGNED_OBJECT_ID:\n                this.logger.info(\"[Managed Identity] Adding user assigned object id to the request.\");\n                return ManagedIdentityUserAssignedIdQueryParameterNames.MANAGED_IDENTITY_OBJECT_ID;\n            default:\n                throw createManagedIdentityError(invalidManagedIdentityIdType);\n        }\n    }\n}\nBaseManagedIdentitySource.getValidatedEnvVariableUrlString = (envVariableStringName, envVariable, sourceName, logger) => {\n    try {\n        return new UrlString(envVariable).urlString;\n    }\n    catch (error) {\n        logger.info(`[Managed Identity] ${sourceName} managed identity is unavailable because the '${envVariableStringName}' environment variable is malformed.`);\n        throw createManagedIdentityError(MsiEnvironmentVariableUrlMalformedErrorCodes[envVariableStringName]);\n    }\n};\n\nexport { BaseManagedIdentitySource, ManagedIdentityUserAssignedIdQueryParameterNames };\n//# sourceMappingURL=BaseManagedIdentitySource.mjs.map\n","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createHttpHeaders, createPipelineRequest, } from \"@azure/core-rest-pipeline\";\nimport { credentialLogger } from \"../../util/logging\";\nimport { mapScopesToResource } from \"./utils\";\nconst msiName = \"ManagedIdentityCredential - AppServiceMSI 2017\";\nconst logger = credentialLogger(msiName);\n/**\n * Generates the options used on the request for an access token.\n */\nfunction prepareRequestOptions(scopes, clientId) {\n    const resource = mapScopesToResource(scopes);\n    if (!resource) {\n        throw new Error(`${msiName}: Multiple scopes are not supported.`);\n    }\n    const queryParameters = {\n        resource,\n        \"api-version\": \"2017-09-01\",\n    };\n    if (clientId) {\n        queryParameters.clientid = clientId;\n    }\n    const query = new URLSearchParams(queryParameters);\n    // This error should not bubble up, since we verify that this environment variable is defined in the isAvailable() method defined below.\n    if (!process.env.MSI_ENDPOINT) {\n        throw new Error(`${msiName}: Missing environment variable: MSI_ENDPOINT`);\n    }\n    if (!process.env.MSI_SECRET) {\n        throw new Error(`${msiName}: Missing environment variable: MSI_SECRET`);\n    }\n    return {\n        url: `${process.env.MSI_ENDPOINT}?${query.toString()}`,\n        method: \"GET\",\n        headers: createHttpHeaders({\n            Accept: \"application/json\",\n            secret: process.env.MSI_SECRET,\n        }),\n    };\n}\n/**\n * Defines how to determine whether the Azure App Service MSI is available, and also how to retrieve a token from the Azure App Service MSI.\n */\nexport const appServiceMsi2017 = {\n    name: \"appServiceMsi2017\",\n    async isAvailable({ scopes }) {\n        const resource = mapScopesToResource(scopes);\n        if (!resource) {\n            logger.info(`${msiName}: Unavailable. Multiple scopes are not supported.`);\n            return false;\n        }\n        const env = process.env;\n        const result = Boolean(env.MSI_ENDPOINT && env.MSI_SECRET);\n        if (!result) {\n            logger.info(`${msiName}: Unavailable. The environment variables needed are: MSI_ENDPOINT and MSI_SECRET.`);\n        }\n        return result;\n    },\n    async getToken(configuration, getTokenOptions = {}) {\n        const { identityClient, scopes, clientId, resourceId } = configuration;\n        if (resourceId) {\n            logger.warning(`${msiName}: managed Identity by resource Id is not supported. Argument resourceId might be ignored by the service.`);\n        }\n        logger.info(`${msiName}: Using the endpoint and the secret coming form the environment variables: MSI_ENDPOINT=${process.env.MSI_ENDPOINT} and MSI_SECRET=[REDACTED].`);\n        const request = createPipelineRequest(Object.assign(Object.assign({ abortSignal: getTokenOptions.abortSignal }, prepareRequestOptions(scopes, clientId)), { \n            // Generally, MSI endpoints use the HTTP protocol, without transport layer security (TLS).\n            allowInsecureConnection: true }));\n        const tokenResponse = await identityClient.sendTokenRequest(request);\n        return (tokenResponse && tokenResponse.accessToken) || null;\n    },\n};\n//# sourceMappingURL=appServiceMsi2017.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createHttpHeaders, createPipelineRequest, } from \"@azure/core-rest-pipeline\";\nimport { credentialLogger } from \"../../util/logging\";\nimport { mapScopesToResource } from \"./utils\";\nconst msiName = \"ManagedIdentityCredential - AppServiceMSI 2019\";\nconst logger = credentialLogger(msiName);\n/**\n * Generates the options used on the request for an access token.\n */\nfunction prepareRequestOptions(scopes, clientId, resourceId) {\n    const resource = mapScopesToResource(scopes);\n    if (!resource) {\n        throw new Error(`${msiName}: Multiple scopes are not supported.`);\n    }\n    const queryParameters = {\n        resource,\n        \"api-version\": \"2019-08-01\",\n    };\n    if (clientId) {\n        queryParameters.client_id = clientId;\n    }\n    if (resourceId) {\n        queryParameters.mi_res_id = resourceId;\n    }\n    const query = new URLSearchParams(queryParameters);\n    // This error should not bubble up, since we verify that this environment variable is defined in the isAvailable() method defined below.\n    if (!process.env.IDENTITY_ENDPOINT) {\n        throw new Error(`${msiName}: Missing environment variable: IDENTITY_ENDPOINT`);\n    }\n    if (!process.env.IDENTITY_HEADER) {\n        throw new Error(`${msiName}: Missing environment variable: IDENTITY_HEADER`);\n    }\n    return {\n        url: `${process.env.IDENTITY_ENDPOINT}?${query.toString()}`,\n        method: \"GET\",\n        headers: createHttpHeaders({\n            Accept: \"application/json\",\n            \"X-IDENTITY-HEADER\": process.env.IDENTITY_HEADER,\n        }),\n    };\n}\n/**\n * Defines how to determine whether the Azure App Service MSI is available, and also how to retrieve a token from the Azure App Service MSI.\n */\nexport const appServiceMsi2019 = {\n    name: \"appServiceMsi2019\",\n    async isAvailable({ scopes }) {\n        const resource = mapScopesToResource(scopes);\n        if (!resource) {\n            logger.info(`${msiName}: Unavailable. Multiple scopes are not supported.`);\n            return false;\n        }\n        const env = process.env;\n        const result = Boolean(env.IDENTITY_ENDPOINT && env.IDENTITY_HEADER);\n        if (!result) {\n            logger.info(`${msiName}: Unavailable. The environment variables needed are: IDENTITY_ENDPOINT and IDENTITY_HEADER.`);\n        }\n        return result;\n    },\n    async getToken(configuration, getTokenOptions = {}) {\n        const { identityClient, scopes, clientId, resourceId } = configuration;\n        logger.info(`${msiName}: Using the endpoint and the secret coming form the environment variables: IDENTITY_ENDPOINT=${process.env.IDENTITY_ENDPOINT} and IDENTITY_HEADER=[REDACTED].`);\n        const request = createPipelineRequest(Object.assign(Object.assign({ abortSignal: getTokenOptions.abortSignal }, prepareRequestOptions(scopes, clientId, resourceId)), { \n            // Generally, MSI endpoints use the HTTP protocol, without transport layer security (TLS).\n            allowInsecureConnection: true }));\n        const tokenResponse = await identityClient.sendTokenRequest(request);\n        return (tokenResponse && tokenResponse.accessToken) || null;\n    },\n};\n//# sourceMappingURL=appServiceMsi2019.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createHttpHeaders, createPipelineRequest, } from \"@azure/core-rest-pipeline\";\nimport { readFile } from \"fs\";\nimport { AuthenticationError } from \"../../errors\";\nimport { credentialLogger } from \"../../util/logging\";\nimport { mapScopesToResource } from \"./utils\";\nimport { azureArcAPIVersion } from \"./constants\";\nconst msiName = \"ManagedIdentityCredential - Azure Arc MSI\";\nconst logger = credentialLogger(msiName);\n/**\n * Generates the options used on the request for an access token.\n */\nfunction prepareRequestOptions(scopes, clientId, resourceId) {\n    const resource = mapScopesToResource(scopes);\n    if (!resource) {\n        throw new Error(`${msiName}: Multiple scopes are not supported.`);\n    }\n    const queryParameters = {\n        resource,\n        \"api-version\": azureArcAPIVersion,\n    };\n    if (clientId) {\n        queryParameters.client_id = clientId;\n    }\n    if (resourceId) {\n        queryParameters.msi_res_id = resourceId;\n    }\n    // This error should not bubble up, since we verify that this environment variable is defined in the isAvailable() method defined below.\n    if (!process.env.IDENTITY_ENDPOINT) {\n        throw new Error(`${msiName}: Missing environment variable: IDENTITY_ENDPOINT`);\n    }\n    const query = new URLSearchParams(queryParameters);\n    return createPipelineRequest({\n        // Should be similar to: http://localhost:40342/metadata/identity/oauth2/token\n        url: `${process.env.IDENTITY_ENDPOINT}?${query.toString()}`,\n        method: \"GET\",\n        headers: createHttpHeaders({\n            Accept: \"application/json\",\n            Metadata: \"true\",\n        }),\n    });\n}\n/**\n * Retrieves the file contents at the given path using promises.\n * Useful since `fs`'s readFileSync locks the thread, and to avoid extra dependencies.\n */\nfunction readFileAsync(path, options) {\n    return new Promise((resolve, reject) => readFile(path, options, (err, data) => {\n        if (err) {\n            reject(err);\n        }\n        resolve(data);\n    }));\n}\n/**\n * Does a request to the authentication provider that results in a file path.\n */\nasync function filePathRequest(identityClient, requestPrepareOptions) {\n    const response = await identityClient.sendRequest(createPipelineRequest(requestPrepareOptions));\n    if (response.status !== 401) {\n        let message = \"\";\n        if (response.bodyAsText) {\n            message = ` Response: ${response.bodyAsText}`;\n        }\n        throw new AuthenticationError(response.status, `${msiName}: To authenticate with Azure Arc MSI, status code 401 is expected on the first request. ${message}`);\n    }\n    const authHeader = response.headers.get(\"www-authenticate\") || \"\";\n    try {\n        return authHeader.split(\"=\").slice(1)[0];\n    }\n    catch (e) {\n        throw Error(`Invalid www-authenticate header format: ${authHeader}`);\n    }\n}\n/**\n * Defines how to determine whether the Azure Arc MSI is available, and also how to retrieve a token from the Azure Arc MSI.\n */\nexport const arcMsi = {\n    name: \"arc\",\n    async isAvailable({ scopes }) {\n        const resource = mapScopesToResource(scopes);\n        if (!resource) {\n            logger.info(`${msiName}: Unavailable. Multiple scopes are not supported.`);\n            return false;\n        }\n        const result = Boolean(process.env.IMDS_ENDPOINT && process.env.IDENTITY_ENDPOINT);\n        if (!result) {\n            logger.info(`${msiName}: The environment variables needed are: IMDS_ENDPOINT and IDENTITY_ENDPOINT`);\n        }\n        return result;\n    },\n    async getToken(configuration, getTokenOptions = {}) {\n        var _a;\n        const { identityClient, scopes, clientId, resourceId } = configuration;\n        if (clientId) {\n            logger.warning(`${msiName}: user-assigned identities not supported. The argument clientId might be ignored by the service.`);\n        }\n        if (resourceId) {\n            logger.warning(`${msiName}: user defined managed Identity by resource Id is not supported. Argument resourceId will be ignored.`);\n        }\n        logger.info(`${msiName}: Authenticating.`);\n        const requestOptions = Object.assign(Object.assign({ disableJsonStringifyOnBody: true, deserializationMapper: undefined, abortSignal: getTokenOptions.abortSignal }, prepareRequestOptions(scopes, clientId, resourceId)), { allowInsecureConnection: true });\n        const filePath = await filePathRequest(identityClient, requestOptions);\n        if (!filePath) {\n            throw new Error(`${msiName}: Failed to find the token file.`);\n        }\n        const key = await readFileAsync(filePath, { encoding: \"utf-8\" });\n        (_a = requestOptions.headers) === null || _a === void 0 ? void 0 : _a.set(\"Authorization\", `Basic ${key}`);\n        const request = createPipelineRequest(Object.assign(Object.assign({}, requestOptions), { \n            // Generally, MSI endpoints use the HTTP protocol, without transport layer security (TLS).\n            allowInsecureConnection: true }));\n        const tokenResponse = await identityClient.sendTokenRequest(request);\n        return (tokenResponse && tokenResponse.accessToken) || null;\n    },\n};\n//# sourceMappingURL=arcMsi.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createHttpHeaders, createPipelineRequest, } from \"@azure/core-rest-pipeline\";\nimport { credentialLogger } from \"../../util/logging\";\nimport { mapScopesToResource } from \"./utils\";\nconst msiName = \"ManagedIdentityCredential - CloudShellMSI\";\nexport const logger = credentialLogger(msiName);\n/**\n * Generates the options used on the request for an access token.\n */\nfunction prepareRequestOptions(scopes, clientId, resourceId) {\n    const resource = mapScopesToResource(scopes);\n    if (!resource) {\n        throw new Error(`${msiName}: Multiple scopes are not supported.`);\n    }\n    const body = {\n        resource,\n    };\n    if (clientId) {\n        body.client_id = clientId;\n    }\n    if (resourceId) {\n        body.msi_res_id = resourceId;\n    }\n    // This error should not bubble up, since we verify that this environment variable is defined in the isAvailable() method defined below.\n    if (!process.env.MSI_ENDPOINT) {\n        throw new Error(`${msiName}: Missing environment variable: MSI_ENDPOINT`);\n    }\n    const params = new URLSearchParams(body);\n    return {\n        url: process.env.MSI_ENDPOINT,\n        method: \"POST\",\n        body: params.toString(),\n        headers: createHttpHeaders({\n            Accept: \"application/json\",\n            Metadata: \"true\",\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\n        }),\n    };\n}\n/**\n * Defines how to determine whether the Azure Cloud Shell MSI is available, and also how to retrieve a token from the Azure Cloud Shell MSI.\n * Since Azure Managed Identities aren't available in the Azure Cloud Shell, we log a warning for users that try to access cloud shell using user assigned identity.\n */\nexport const cloudShellMsi = {\n    name: \"cloudShellMsi\",\n    async isAvailable({ scopes }) {\n        const resource = mapScopesToResource(scopes);\n        if (!resource) {\n            logger.info(`${msiName}: Unavailable. Multiple scopes are not supported.`);\n            return false;\n        }\n        const result = Boolean(process.env.MSI_ENDPOINT);\n        if (!result) {\n            logger.info(`${msiName}: Unavailable. The environment variable MSI_ENDPOINT is needed.`);\n        }\n        return result;\n    },\n    async getToken(configuration, getTokenOptions = {}) {\n        const { identityClient, scopes, clientId, resourceId } = configuration;\n        if (clientId) {\n            logger.warning(`${msiName}: user-assigned identities not supported. The argument clientId might be ignored by the service.`);\n        }\n        if (resourceId) {\n            logger.warning(`${msiName}: user defined managed Identity by resource Id not supported. The argument resourceId might be ignored by the service.`);\n        }\n        logger.info(`${msiName}: Using the endpoint coming form the environment variable MSI_ENDPOINT = ${process.env.MSI_ENDPOINT}.`);\n        const request = createPipelineRequest(Object.assign(Object.assign({ abortSignal: getTokenOptions.abortSignal }, prepareRequestOptions(scopes, clientId, resourceId)), { \n            // Generally, MSI endpoints use the HTTP protocol, without transport layer security (TLS).\n            allowInsecureConnection: true }));\n        const tokenResponse = await identityClient.sendTokenRequest(request);\n        return (tokenResponse && tokenResponse.accessToken) || null;\n    },\n};\n//# sourceMappingURL=cloudShellMsi.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport https from \"https\";\nimport { createHttpHeaders, createPipelineRequest, } from \"@azure/core-rest-pipeline\";\nimport { credentialLogger } from \"../../util/logging\";\nimport { mapScopesToResource } from \"./utils\";\nimport { azureFabricVersion } from \"./constants\";\n// This MSI can be easily tested by deploying a container to Azure Service Fabric with the Dockerfile:\n//\n//   FROM node:12\n//   RUN wget https://host.any/path/bash.sh\n//   CMD [\"bash\", \"bash.sh\"]\n//\n// Where the bash script contains:\n//\n//   curl --insecure $IDENTITY_ENDPOINT'?api-version=2019-07-01-preview&resource=https://vault.azure.net/' -H \"Secret: $IDENTITY_HEADER\"\n//\nconst msiName = \"ManagedIdentityCredential - Fabric MSI\";\nconst logger = credentialLogger(msiName);\n/**\n * Generates the options used on the request for an access token.\n */\nfunction prepareRequestOptions(scopes, clientId, resourceId) {\n    const resource = mapScopesToResource(scopes);\n    if (!resource) {\n        throw new Error(`${msiName}: Multiple scopes are not supported.`);\n    }\n    const queryParameters = {\n        resource,\n        \"api-version\": azureFabricVersion,\n    };\n    if (clientId) {\n        queryParameters.client_id = clientId;\n    }\n    if (resourceId) {\n        queryParameters.msi_res_id = resourceId;\n    }\n    const query = new URLSearchParams(queryParameters);\n    // This error should not bubble up, since we verify that this environment variable is defined in the isAvailable() method defined below.\n    if (!process.env.IDENTITY_ENDPOINT) {\n        throw new Error(\"Missing environment variable: IDENTITY_ENDPOINT\");\n    }\n    if (!process.env.IDENTITY_HEADER) {\n        throw new Error(\"Missing environment variable: IDENTITY_HEADER\");\n    }\n    return {\n        url: `${process.env.IDENTITY_ENDPOINT}?${query.toString()}`,\n        method: \"GET\",\n        headers: createHttpHeaders({\n            Accept: \"application/json\",\n            secret: process.env.IDENTITY_HEADER,\n        }),\n    };\n}\n/**\n * Defines how to determine whether the Azure Service Fabric MSI is available, and also how to retrieve a token from the Azure Service Fabric MSI.\n */\nexport const fabricMsi = {\n    name: \"fabricMsi\",\n    async isAvailable({ scopes }) {\n        const resource = mapScopesToResource(scopes);\n        if (!resource) {\n            logger.info(`${msiName}: Unavailable. Multiple scopes are not supported.`);\n            return false;\n        }\n        const env = process.env;\n        const result = Boolean(env.IDENTITY_ENDPOINT && env.IDENTITY_HEADER && env.IDENTITY_SERVER_THUMBPRINT);\n        if (!result) {\n            logger.info(`${msiName}: Unavailable. The environment variables needed are: IDENTITY_ENDPOINT, IDENTITY_HEADER and IDENTITY_SERVER_THUMBPRINT`);\n        }\n        return result;\n    },\n    async getToken(configuration, getTokenOptions = {}) {\n        const { scopes, identityClient, clientId, resourceId } = configuration;\n        if (resourceId) {\n            logger.warning(`${msiName}: user defined managed Identity by resource Id is not supported. Argument resourceId might be ignored by the service.`);\n        }\n        logger.info([\n            `${msiName}:`,\n            \"Using the endpoint and the secret coming from the environment variables:\",\n            `IDENTITY_ENDPOINT=${process.env.IDENTITY_ENDPOINT},`,\n            \"IDENTITY_HEADER=[REDACTED] and\",\n            \"IDENTITY_SERVER_THUMBPRINT=[REDACTED].\",\n        ].join(\" \"));\n        const request = createPipelineRequest(Object.assign({ abortSignal: getTokenOptions.abortSignal }, prepareRequestOptions(scopes, clientId, resourceId)));\n        request.agent = new https.Agent({\n            // This is necessary because Service Fabric provides a self-signed certificate.\n            // The alternative path is to verify the certificate using the IDENTITY_SERVER_THUMBPRINT env variable.\n            rejectUnauthorized: false,\n        });\n        const tokenResponse = await identityClient.sendTokenRequest(request);\n        return (tokenResponse && tokenResponse.accessToken) || null;\n    },\n};\n//# sourceMappingURL=fabricMsi.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { AuthenticationRequiredError, CredentialUnavailableError } from \"../errors\";\nimport { credentialLogger, formatError } from \"../util/logging\";\nimport { DefaultAuthorityHost, DefaultTenantId } from \"../constants\";\nimport { randomUUID as coreRandomUUID, isNode } from \"@azure/core-util\";\nimport { AbortError } from \"@azure/abort-controller\";\nimport { msalCommon } from \"./msal\";\n/**\n * @internal\n */\nconst logger = credentialLogger(\"IdentityUtils\");\n/**\n * Latest AuthenticationRecord version\n * @internal\n */\nconst LatestAuthenticationRecordVersion = \"1.0\";\n/**\n * Ensures the validity of the MSAL token\n * @internal\n */\nexport function ensureValidMsalToken(scopes, msalToken, getTokenOptions) {\n    const error = (message) => {\n        logger.getToken.info(message);\n        return new AuthenticationRequiredError({\n            scopes: Array.isArray(scopes) ? scopes : [scopes],\n            getTokenOptions,\n            message,\n        });\n    };\n    if (!msalToken) {\n        throw error(\"No response\");\n    }\n    if (!msalToken.expiresOn) {\n        throw error(`Response had no \"expiresOn\" property.`);\n    }\n    if (!msalToken.accessToken) {\n        throw error(`Response had no \"accessToken\" property.`);\n    }\n}\n/**\n * Generates a valid authority by combining a host with a tenantId.\n * @internal\n */\nexport function getAuthority(tenantId, host) {\n    if (!host) {\n        host = DefaultAuthorityHost;\n    }\n    if (new RegExp(`${tenantId}/?$`).test(host)) {\n        return host;\n    }\n    if (host.endsWith(\"/\")) {\n        return host + tenantId;\n    }\n    else {\n        return `${host}/${tenantId}`;\n    }\n}\n/**\n * Generates the known authorities.\n * If the Tenant Id is `adfs`, the authority can't be validated since the format won't match the expected one.\n * For that reason, we have to force MSAL to disable validating the authority\n * by sending it within the known authorities in the MSAL configuration.\n * @internal\n */\nexport function getKnownAuthorities(tenantId, authorityHost, disableInstanceDiscovery) {\n    if ((tenantId === \"adfs\" && authorityHost) || disableInstanceDiscovery) {\n        return [authorityHost];\n    }\n    return [];\n}\n/**\n * Generates a logger that can be passed to the MSAL clients.\n * @param credLogger - The logger of the credential.\n * @internal\n */\nexport const defaultLoggerCallback = (credLogger, platform = isNode ? \"Node\" : \"Browser\") => (level, message, containsPii) => {\n    if (containsPii) {\n        return;\n    }\n    switch (level) {\n        case msalCommon.LogLevel.Error:\n            credLogger.info(`MSAL ${platform} V2 error: ${message}`);\n            return;\n        case msalCommon.LogLevel.Info:\n            credLogger.info(`MSAL ${platform} V2 info message: ${message}`);\n            return;\n        case msalCommon.LogLevel.Verbose:\n            credLogger.info(`MSAL ${platform} V2 verbose message: ${message}`);\n            return;\n        case msalCommon.LogLevel.Warning:\n            credLogger.info(`MSAL ${platform} V2 warning: ${message}`);\n            return;\n    }\n};\n/**\n * @internal\n */\nexport function getMSALLogLevel(logLevel) {\n    switch (logLevel) {\n        case \"error\":\n            return msalCommon.LogLevel.Error;\n        case \"info\":\n            return msalCommon.LogLevel.Info;\n        case \"verbose\":\n            return msalCommon.LogLevel.Verbose;\n        case \"warning\":\n            return msalCommon.LogLevel.Warning;\n        default:\n            // default msal logging level should be Info\n            return msalCommon.LogLevel.Info;\n    }\n}\n/**\n * Wraps core-util's randomUUID in order to allow for mocking in tests.\n * This prepares the library for the upcoming core-util update to ESM.\n *\n * @internal\n * @returns A string containing a random UUID\n */\nexport function randomUUID() {\n    return coreRandomUUID();\n}\n/**\n * Handles MSAL errors.\n */\nexport function handleMsalError(scopes, error, getTokenOptions) {\n    if (error.name === \"AuthError\" ||\n        error.name === \"ClientAuthError\" ||\n        error.name === \"BrowserAuthError\") {\n        const msalError = error;\n        switch (msalError.errorCode) {\n            case \"endpoints_resolution_error\":\n                logger.info(formatError(scopes, error.message));\n                return new CredentialUnavailableError(error.message);\n            case \"device_code_polling_cancelled\":\n                return new AbortError(\"The authentication has been aborted by the caller.\");\n            case \"consent_required\":\n            case \"interaction_required\":\n            case \"login_required\":\n                logger.info(formatError(scopes, `Authentication returned errorCode ${msalError.errorCode}`));\n                break;\n            default:\n                logger.info(formatError(scopes, `Failed to acquire token: ${error.message}`));\n                break;\n        }\n    }\n    if (error.name === \"ClientConfigurationError\" ||\n        error.name === \"BrowserConfigurationAuthError\" ||\n        error.name === \"AbortError\") {\n        return error;\n    }\n    if (error.name === \"NativeAuthError\") {\n        logger.info(formatError(scopes, `Error from the native broker: ${error.message} with status code: ${error.statusCode}`));\n        return error;\n    }\n    return new AuthenticationRequiredError({ scopes, getTokenOptions, message: error.message });\n}\n// transformations.ts\nexport function publicToMsal(account) {\n    const [environment] = account.authority.match(/([a-z]*\\.[a-z]*\\.[a-z]*)/) || [\"\"];\n    return Object.assign(Object.assign({}, account), { localAccountId: account.homeAccountId, environment });\n}\nexport function msalToPublic(clientId, account) {\n    const record = {\n        authority: getAuthority(account.tenantId, account.environment),\n        homeAccountId: account.homeAccountId,\n        tenantId: account.tenantId || DefaultTenantId,\n        username: account.username,\n        clientId,\n        version: LatestAuthenticationRecordVersion,\n    };\n    return record;\n}\n/**\n * Serializes an `AuthenticationRecord` into a string.\n *\n * The output of a serialized authentication record will contain the following properties:\n *\n * - \"authority\"\n * - \"homeAccountId\"\n * - \"clientId\"\n * - \"tenantId\"\n * - \"username\"\n * - \"version\"\n *\n * To later convert this string to a serialized `AuthenticationRecord`, please use the exported function `deserializeAuthenticationRecord()`.\n */\nexport function serializeAuthenticationRecord(record) {\n    return JSON.stringify(record);\n}\n/**\n * Deserializes a previously serialized authentication record from a string into an object.\n *\n * The input string must contain the following properties:\n *\n * - \"authority\"\n * - \"homeAccountId\"\n * - \"clientId\"\n * - \"tenantId\"\n * - \"username\"\n * - \"version\"\n *\n * If the version we receive is unsupported, an error will be thrown.\n *\n * At the moment, the only available version is: \"1.0\", which is always set when the authentication record is serialized.\n *\n * @param serializedRecord - Authentication record previously serialized into string.\n * @returns AuthenticationRecord.\n */\nexport function deserializeAuthenticationRecord(serializedRecord) {\n    const parsed = JSON.parse(serializedRecord);\n    if (parsed.version && parsed.version !== LatestAuthenticationRecordVersion) {\n        throw Error(\"Unsupported AuthenticationRecord version\");\n    }\n    return parsed;\n}\n//# sourceMappingURL=utils.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createHttpHeaders, createPipelineRequest, } from \"@azure/core-rest-pipeline\";\nimport { delay, isError } from \"@azure/core-util\";\nimport { imdsApiVersion, imdsEndpointPath, imdsHost } from \"./constants\";\nimport { AuthenticationError } from \"../../errors\";\nimport { credentialLogger } from \"../../util/logging\";\nimport { mapScopesToResource } from \"./utils\";\nimport { tracingClient } from \"../../util/tracing\";\nconst msiName = \"ManagedIdentityCredential - IMDS\";\nconst logger = credentialLogger(msiName);\n/**\n * Generates the options used on the request for an access token.\n */\nfunction prepareRequestOptions(scopes, clientId, resourceId, options) {\n    var _a;\n    const resource = mapScopesToResource(scopes);\n    if (!resource) {\n        throw new Error(`${msiName}: Multiple scopes are not supported.`);\n    }\n    const { skipQuery, skipMetadataHeader } = options || {};\n    let query = \"\";\n    // Pod Identity will try to process this request even if the Metadata header is missing.\n    // We can exclude the request query to ensure no IMDS endpoint tries to process the ping request.\n    if (!skipQuery) {\n        const queryParameters = {\n            resource,\n            \"api-version\": imdsApiVersion,\n        };\n        if (clientId) {\n            queryParameters.client_id = clientId;\n        }\n        if (resourceId) {\n            queryParameters.msi_res_id = resourceId;\n        }\n        const params = new URLSearchParams(queryParameters);\n        query = `?${params.toString()}`;\n    }\n    const url = new URL(imdsEndpointPath, (_a = process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST) !== null && _a !== void 0 ? _a : imdsHost);\n    const rawHeaders = {\n        Accept: \"application/json\",\n        Metadata: \"true\",\n    };\n    // Remove the Metadata header to invoke a request error from some IMDS endpoints.\n    if (skipMetadataHeader) {\n        delete rawHeaders.Metadata;\n    }\n    return {\n        // In this case, the `?` should be added in the \"query\" variable `skipQuery` is not set.\n        url: `${url}${query}`,\n        method: \"GET\",\n        headers: createHttpHeaders(rawHeaders),\n    };\n}\n/**\n * Defines how to determine whether the Azure IMDS MSI is available, and also how to retrieve a token from the Azure IMDS MSI.\n */\nexport const imdsMsi = {\n    name: \"imdsMsi\",\n    async isAvailable({ scopes, identityClient, clientId, resourceId, getTokenOptions = {}, }) {\n        const resource = mapScopesToResource(scopes);\n        if (!resource) {\n            logger.info(`${msiName}: Unavailable. Multiple scopes are not supported.`);\n            return false;\n        }\n        // if the PodIdentityEndpoint environment variable was set no need to probe the endpoint, it can be assumed to exist\n        if (process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST) {\n            return true;\n        }\n        if (!identityClient) {\n            throw new Error(\"Missing IdentityClient\");\n        }\n        const requestOptions = prepareRequestOptions(resource, clientId, resourceId, {\n            skipMetadataHeader: true,\n            skipQuery: true,\n        });\n        return tracingClient.withSpan(\"ManagedIdentityCredential-pingImdsEndpoint\", getTokenOptions, async (options) => {\n            var _a, _b;\n            requestOptions.tracingOptions = options.tracingOptions;\n            // Create a request with a timeout since we expect that\n            // not having a \"Metadata\" header should cause an error to be\n            // returned quickly from the endpoint, proving its availability.\n            const request = createPipelineRequest(requestOptions);\n            // Default to 1000 if the default of 0 is used.\n            // Negative values can still be used to disable the timeout.\n            request.timeout = ((_a = options.requestOptions) === null || _a === void 0 ? void 0 : _a.timeout) || 1000;\n            // This MSI uses the imdsEndpoint to get the token, which only uses http://\n            request.allowInsecureConnection = true;\n            let response;\n            try {\n                logger.info(`${msiName}: Pinging the Azure IMDS endpoint`);\n                response = await identityClient.sendRequest(request);\n            }\n            catch (err) {\n                // If the request failed, or Node.js was unable to establish a connection,\n                // or the host was down, we'll assume the IMDS endpoint isn't available.\n                if (isError(err)) {\n                    logger.verbose(`${msiName}: Caught error ${err.name}: ${err.message}`);\n                }\n                // This is a special case for Docker Desktop which responds with a 403 with a message that contains \"A socket operation was attempted to an unreachable network\" or \"A socket operation was attempted to an unreachable host\"\n                // rather than just timing out, as expected.\n                logger.info(`${msiName}: The Azure IMDS endpoint is unavailable`);\n                return false;\n            }\n            if (response.status === 403) {\n                if ((_b = response.bodyAsText) === null || _b === void 0 ? void 0 : _b.includes(\"unreachable\")) {\n                    logger.info(`${msiName}: The Azure IMDS endpoint is unavailable`);\n                    logger.info(`${msiName}: ${response.bodyAsText}`);\n                    return false;\n                }\n            }\n            // If we received any response, the endpoint is available\n            logger.info(`${msiName}: The Azure IMDS endpoint is available`);\n            return true;\n        });\n    },\n    async getToken(configuration, getTokenOptions = {}) {\n        const { identityClient, scopes, clientId, resourceId } = configuration;\n        if (process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST) {\n            logger.info(`${msiName}: Using the Azure IMDS endpoint coming from the environment variable AZURE_POD_IDENTITY_AUTHORITY_HOST=${process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST}.`);\n        }\n        else {\n            logger.info(`${msiName}: Using the default Azure IMDS endpoint ${imdsHost}.`);\n        }\n        let nextDelayInMs = configuration.retryConfig.startDelayInMs;\n        for (let retries = 0; retries < configuration.retryConfig.maxRetries; retries++) {\n            try {\n                const request = createPipelineRequest(Object.assign(Object.assign({ abortSignal: getTokenOptions.abortSignal }, prepareRequestOptions(scopes, clientId, resourceId)), { allowInsecureConnection: true }));\n                const tokenResponse = await identityClient.sendTokenRequest(request);\n                return (tokenResponse && tokenResponse.accessToken) || null;\n            }\n            catch (error) {\n                if (error.statusCode === 404) {\n                    await delay(nextDelayInMs);\n                    nextDelayInMs *= configuration.retryConfig.intervalIncrement;\n                    continue;\n                }\n                throw error;\n            }\n        }\n        throw new AuthenticationError(404, `${msiName}: Failed to retrieve IMDS token after ${configuration.retryConfig.maxRetries} retries.`);\n    },\n};\n//# sourceMappingURL=imdsMsi.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createAbortablePromise } from \"./createAbortablePromise.js\";\nconst StandardAbortMessage = \"The delay was aborted.\";\n/**\n * A wrapper for setTimeout that resolves a promise after timeInMs milliseconds.\n * @param timeInMs - The number of milliseconds to be delayed.\n * @param options - The options for delay - currently abort options\n * @returns Promise that is resolved after timeInMs\n */\nexport function delay(timeInMs, options) {\n    let token;\n    const { abortSignal, abortErrorMsg } = options !== null && options !== void 0 ? options : {};\n    return createAbortablePromise((resolve) => {\n        token = setTimeout(resolve, timeInMs);\n    }, {\n        cleanupBeforeAbort: () => clearTimeout(token),\n        abortSignal,\n        abortErrorMsg: abortErrorMsg !== null && abortErrorMsg !== void 0 ? abortErrorMsg : StandardAbortMessage,\n    });\n}\n//# sourceMappingURL=delay.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { AbortError } from \"@azure/abort-controller\";\n/**\n * Creates an abortable promise.\n * @param buildPromise - A function that takes the resolve and reject functions as parameters.\n * @param options - The options for the abortable promise.\n * @returns A promise that can be aborted.\n */\nexport function createAbortablePromise(buildPromise, options) {\n    const { cleanupBeforeAbort, abortSignal, abortErrorMsg } = options !== null && options !== void 0 ? options : {};\n    return new Promise((resolve, reject) => {\n        function rejectOnAbort() {\n            reject(new AbortError(abortErrorMsg !== null && abortErrorMsg !== void 0 ? abortErrorMsg : \"The operation was aborted.\"));\n        }\n        function removeListeners() {\n            abortSignal === null || abortSignal === void 0 ? void 0 : abortSignal.removeEventListener(\"abort\", onAbort);\n        }\n        function onAbort() {\n            cleanupBeforeAbort === null || cleanupBeforeAbort === void 0 ? void 0 : cleanupBeforeAbort();\n            removeListeners();\n            rejectOnAbort();\n        }\n        if (abortSignal === null || abortSignal === void 0 ? void 0 : abortSignal.aborted) {\n            return rejectOnAbort();\n        }\n        try {\n            buildPromise((x) => {\n                removeListeners();\n                resolve(x);\n            }, (x) => {\n                removeListeners();\n                reject(x);\n            });\n        }\n        catch (err) {\n            reject(err);\n        }\n        abortSignal === null || abortSignal === void 0 ? void 0 : abortSignal.addEventListener(\"abort\", onAbort);\n    });\n}\n//# sourceMappingURL=createAbortablePromise.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport * as msal from \"@azure/msal-node\";\nimport { msalPlugins } from \"./msalPlugins\";\nimport { credentialLogger, formatSuccess } from \"../../util/logging\";\nimport { defaultLoggerCallback, ensureValidMsalToken, getAuthority, getKnownAuthorities, getMSALLogLevel, handleMsalError, publicToMsal, } from \"../utils\";\nimport { AuthenticationRequiredError } from \"../../errors\";\nimport { IdentityClient } from \"../../client/identityClient\";\nimport { calculateRegionalAuthority } from \"../../regionalAuthority\";\nimport { getLogLevel } from \"@azure/logger\";\nimport { resolveTenantId } from \"../../util/tenantIdUtils\";\n/**\n * The logger for all MsalClient instances.\n */\nconst msalLogger = credentialLogger(\"MsalClient\");\n/**\n * Generates the configuration for MSAL (Microsoft Authentication Library).\n *\n * @param clientId - The client ID of the application.\n * @param  tenantId - The tenant ID of the Azure Active Directory.\n * @param  msalClientOptions - Optional. Additional options for creating the MSAL client.\n * @returns  The MSAL configuration object.\n */\nexport function generateMsalConfiguration(clientId, tenantId, msalClientOptions = {}) {\n    var _a, _b, _c;\n    const resolvedTenant = resolveTenantId(msalLogger, tenantId, clientId);\n    // TODO: move and reuse getIdentityClientAuthorityHost\n    const authority = getAuthority(resolvedTenant, (_a = msalClientOptions.authorityHost) !== null && _a !== void 0 ? _a : process.env.AZURE_AUTHORITY_HOST);\n    const httpClient = new IdentityClient(Object.assign(Object.assign({}, msalClientOptions.tokenCredentialOptions), { authorityHost: authority, loggingOptions: msalClientOptions.loggingOptions }));\n    const msalConfig = {\n        auth: {\n            clientId,\n            authority,\n            knownAuthorities: getKnownAuthorities(resolvedTenant, authority, msalClientOptions.disableInstanceDiscovery),\n        },\n        system: {\n            networkClient: httpClient,\n            loggerOptions: {\n                loggerCallback: defaultLoggerCallback((_b = msalClientOptions.logger) !== null && _b !== void 0 ? _b : msalLogger),\n                logLevel: getMSALLogLevel(getLogLevel()),\n                piiLoggingEnabled: (_c = msalClientOptions.loggingOptions) === null || _c === void 0 ? void 0 : _c.enableUnsafeSupportLogging,\n            },\n        },\n    };\n    return msalConfig;\n}\n/**\n * Creates an instance of the MSAL (Microsoft Authentication Library) client.\n *\n * @param clientId - The client ID of the application.\n * @param tenantId - The tenant ID of the Azure Active Directory.\n * @param createMsalClientOptions - Optional. Additional options for creating the MSAL client.\n * @returns An instance of the MSAL client.\n *\n * @public\n */\nexport function createMsalClient(clientId, tenantId, createMsalClientOptions = {}) {\n    const state = {\n        msalConfig: generateMsalConfiguration(clientId, tenantId, createMsalClientOptions),\n        cachedAccount: createMsalClientOptions.authenticationRecord\n            ? publicToMsal(createMsalClientOptions.authenticationRecord)\n            : null,\n        pluginConfiguration: msalPlugins.generatePluginConfiguration(createMsalClientOptions),\n    };\n    const confidentialApps = new Map();\n    async function getConfidentialApp(options = {}) {\n        const appKey = options.enableCae ? \"CAE\" : \"default\";\n        let confidentialClientApp = confidentialApps.get(appKey);\n        if (confidentialClientApp) {\n            msalLogger.getToken.info(\"Existing ConfidentialClientApplication found in cache, returning it.\");\n            return confidentialClientApp;\n        }\n        // Initialize a new app and cache it\n        msalLogger.getToken.info(`Creating new ConfidentialClientApplication with CAE ${options.enableCae ? \"enabled\" : \"disabled\"}.`);\n        const cachePlugin = options.enableCae\n            ? state.pluginConfiguration.cache.cachePluginCae\n            : state.pluginConfiguration.cache.cachePlugin;\n        state.msalConfig.auth.clientCapabilities = options.enableCae ? [\"cp1\"] : undefined;\n        confidentialClientApp = new msal.ConfidentialClientApplication(Object.assign(Object.assign({}, state.msalConfig), { broker: { nativeBrokerPlugin: state.pluginConfiguration.broker.nativeBrokerPlugin }, cache: { cachePlugin: await cachePlugin } }));\n        confidentialApps.set(appKey, confidentialClientApp);\n        return confidentialClientApp;\n    }\n    async function getTokenSilent(app, scopes, options = {}) {\n        if (state.cachedAccount === null) {\n            msalLogger.getToken.info(\"No cached account found in local state, attempting to load it from MSAL cache.\");\n            const cache = app.getTokenCache();\n            const accounts = await cache.getAllAccounts();\n            if (accounts === undefined || accounts.length === 0) {\n                throw new AuthenticationRequiredError({ scopes });\n            }\n            if (accounts.length > 1) {\n                msalLogger.info(`More than one account was found authenticated for this Client ID and Tenant ID.\nHowever, no \"authenticationRecord\" has been provided for this credential,\ntherefore we're unable to pick between these accounts.\nA new login attempt will be requested, to ensure the correct account is picked.\nTo work with multiple accounts for the same Client ID and Tenant ID, please provide an \"authenticationRecord\" when initializing a credential to prevent this from happening.`);\n                throw new AuthenticationRequiredError({ scopes });\n            }\n            state.cachedAccount = accounts[0];\n        }\n        // Keep track and reuse the claims we received across challenges\n        if (options.claims) {\n            state.cachedClaims = options.claims;\n        }\n        const silentRequest = {\n            account: state.cachedAccount,\n            scopes,\n            claims: state.cachedClaims,\n        };\n        if (state.pluginConfiguration.broker.isEnabled) {\n            silentRequest.tokenQueryParameters || (silentRequest.tokenQueryParameters = {});\n            if (state.pluginConfiguration.broker.enableMsaPassthrough) {\n                silentRequest.tokenQueryParameters[\"msal_request_type\"] = \"consumer_passthrough\";\n            }\n        }\n        msalLogger.getToken.info(\"Attempting to acquire token silently\");\n        return app.acquireTokenSilent(silentRequest);\n    }\n    /**\n     * Performs silent authentication using MSAL to acquire an access token.\n     * If silent authentication fails, falls back to interactive authentication.\n     *\n     * @param msalApp - The MSAL application instance.\n     * @param scopes - The scopes for which to acquire the access token.\n     * @param options - The options for acquiring the access token.\n     * @param onAuthenticationRequired - A callback function to handle interactive authentication when silent authentication fails.\n     * @returns A promise that resolves to an AccessToken object containing the access token and its expiration timestamp.\n     */\n    async function withSilentAuthentication(msalApp, scopes, options, onAuthenticationRequired) {\n        var _a;\n        let response = null;\n        try {\n            response = await getTokenSilent(msalApp, scopes, options);\n        }\n        catch (e) {\n            if (e.name !== \"AuthenticationRequiredError\") {\n                throw e;\n            }\n            if (createMsalClientOptions.disableAutomaticAuthentication) {\n                throw new AuthenticationRequiredError({\n                    scopes,\n                    getTokenOptions: options,\n                    message: \"Automatic authentication has been disabled. You may call the authentication() method.\",\n                });\n            }\n        }\n        // Silent authentication failed\n        if (response === null) {\n            try {\n                response = await onAuthenticationRequired();\n            }\n            catch (err) {\n                throw handleMsalError(scopes, err, options);\n            }\n        }\n        // At this point we should have a token, process it\n        ensureValidMsalToken(scopes, response, options);\n        state.cachedAccount = (_a = response === null || response === void 0 ? void 0 : response.account) !== null && _a !== void 0 ? _a : null;\n        msalLogger.getToken.info(formatSuccess(scopes));\n        return {\n            token: response.accessToken,\n            expiresOnTimestamp: response.expiresOn.getTime(),\n        };\n    }\n    async function getTokenByClientSecret(scopes, clientSecret, options = {}) {\n        msalLogger.getToken.info(`Attempting to acquire token using client secret`);\n        state.msalConfig.auth.clientSecret = clientSecret;\n        const msalApp = await getConfidentialApp(options);\n        return withSilentAuthentication(msalApp, scopes, options, () => msalApp.acquireTokenByClientCredential({\n            scopes,\n            authority: state.msalConfig.auth.authority,\n            azureRegion: calculateRegionalAuthority(),\n            claims: options === null || options === void 0 ? void 0 : options.claims,\n        }));\n    }\n    async function getTokenByClientAssertion(scopes, clientAssertion, options = {}) {\n        msalLogger.getToken.info(`Attempting to acquire token using client assertion`);\n        state.msalConfig.auth.clientAssertion = clientAssertion;\n        const msalApp = await getConfidentialApp(options);\n        return withSilentAuthentication(msalApp, scopes, options, () => msalApp.acquireTokenByClientCredential({\n            scopes,\n            authority: state.msalConfig.auth.authority,\n            azureRegion: calculateRegionalAuthority(),\n            claims: options === null || options === void 0 ? void 0 : options.claims,\n            clientAssertion,\n        }));\n    }\n    async function getTokenByClientCertificate(scopes, certificate, options = {}) {\n        msalLogger.getToken.info(`Attempting to acquire token using client certificate`);\n        state.msalConfig.auth.clientCertificate = certificate;\n        const msalApp = await getConfidentialApp(options);\n        return withSilentAuthentication(msalApp, scopes, options, () => msalApp.acquireTokenByClientCredential({\n            scopes,\n            azureRegion: calculateRegionalAuthority(),\n            authority: state.msalConfig.auth.authority,\n            claims: options === null || options === void 0 ? void 0 : options.claims,\n        }));\n    }\n    return {\n        getTokenByClientSecret,\n        getTokenByClientAssertion,\n        getTokenByClientCertificate,\n    };\n}\n//# sourceMappingURL=msalClient.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createMsalClient } from \"../msal/nodeFlows/msalClient\";\nimport { processMultiTenantRequest, resolveAdditionallyAllowedTenantIds, } from \"../util/tenantIdUtils\";\nimport { credentialLogger } from \"../util/logging\";\nimport { tracingClient } from \"../util/tracing\";\nconst logger = credentialLogger(\"ClientAssertionCredential\");\n/**\n * Authenticates a service principal with a JWT assertion.\n */\nexport class ClientAssertionCredential {\n    /**\n     * Creates an instance of the ClientAssertionCredential with the details\n     * needed to authenticate against Microsoft Entra ID with a client\n     * assertion provided by the developer through the `getAssertion` function parameter.\n     *\n     * @param tenantId - The Microsoft Entra tenant (directory) ID.\n     * @param clientId - The client (application) ID of an App Registration in the tenant.\n     * @param getAssertion - A function that retrieves the assertion for the credential to use.\n     * @param options - Options for configuring the client which makes the authentication request.\n     */\n    constructor(tenantId, clientId, getAssertion, options = {}) {\n        if (!tenantId || !clientId || !getAssertion) {\n            throw new Error(\"ClientAssertionCredential: tenantId, clientId, and clientAssertion are required parameters.\");\n        }\n        this.tenantId = tenantId;\n        this.additionallyAllowedTenantIds = resolveAdditionallyAllowedTenantIds(options === null || options === void 0 ? void 0 : options.additionallyAllowedTenants);\n        this.options = options;\n        this.getAssertion = getAssertion;\n        this.msalClient = createMsalClient(clientId, tenantId, Object.assign(Object.assign({}, options), { logger, tokenCredentialOptions: this.options }));\n    }\n    /**\n     * Authenticates with Microsoft Entra ID and returns an access token if successful.\n     * If authentication fails, a {@link CredentialUnavailableError} will be thrown with the details of the failure.\n     *\n     * @param scopes - The list of scopes for which the token will have access.\n     * @param options - The options used to configure any requests this\n     *                TokenCredential implementation might make.\n     */\n    async getToken(scopes, options = {}) {\n        return tracingClient.withSpan(`${this.constructor.name}.getToken`, options, async (newOptions) => {\n            newOptions.tenantId = processMultiTenantRequest(this.tenantId, newOptions, this.additionallyAllowedTenantIds, logger);\n            const clientAssertion = await this.getAssertion();\n            const arrayScopes = Array.isArray(scopes) ? scopes : [scopes];\n            return this.msalClient.getTokenByClientAssertion(arrayScopes, clientAssertion, newOptions);\n        });\n    }\n}\n//# sourceMappingURL=clientAssertionCredential.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { ClientAssertionCredential } from \"./clientAssertionCredential\";\nimport { readFile } from \"fs/promises\";\nimport { CredentialUnavailableError } from \"../errors\";\nimport { credentialLogger, processEnvVars } from \"../util/logging\";\nimport { checkTenantId } from \"../util/tenantIdUtils\";\nconst credentialName = \"WorkloadIdentityCredential\";\n/**\n * Contains the list of all supported environment variable names so that an\n * appropriate error message can be generated when no credentials can be\n * configured.\n *\n * @internal\n */\nexport const SupportedWorkloadEnvironmentVariables = [\n    \"AZURE_TENANT_ID\",\n    \"AZURE_CLIENT_ID\",\n    \"AZURE_FEDERATED_TOKEN_FILE\",\n];\nconst logger = credentialLogger(credentialName);\n/**\n * Workload Identity authentication is a feature in Azure that allows applications running on virtual machines (VMs)\n * to access other Azure resources without the need for a service principal or managed identity. With Workload Identity\n * authentication, applications authenticate themselves using their own identity, rather than using a shared service\n * principal or managed identity. Under the hood, Workload Identity authentication uses the concept of Service Account\n * Credentials (SACs), which are automatically created by Azure and stored securely in the VM. By using Workload\n * Identity authentication, you can avoid the need to manage and rotate service principals or managed identities for\n * each application on each VM. Additionally, because SACs are created automatically and managed by Azure, you don't\n * need to worry about storing and securing sensitive credentials themselves.\n * The WorkloadIdentityCredential supports Microsoft Entra Workload ID authentication on Azure Kubernetes and acquires\n * a token using the SACs available in the Azure Kubernetes environment.\n * Refer to <a href=\"https://learn.microsoft.com/azure/aks/workload-identity-overview\">Microsoft Entra\n * Workload ID</a> for more information.\n */\nexport class WorkloadIdentityCredential {\n    /**\n     * WorkloadIdentityCredential supports Microsoft Entra Workload ID on Kubernetes.\n     *\n     * @param options - The identity client options to use for authentication.\n     */\n    constructor(options) {\n        this.azureFederatedTokenFileContent = undefined;\n        this.cacheDate = undefined;\n        // Logging environment variables for error details\n        const assignedEnv = processEnvVars(SupportedWorkloadEnvironmentVariables).assigned.join(\", \");\n        logger.info(`Found the following environment variables: ${assignedEnv}`);\n        const workloadIdentityCredentialOptions = options !== null && options !== void 0 ? options : {};\n        const tenantId = workloadIdentityCredentialOptions.tenantId || process.env.AZURE_TENANT_ID;\n        const clientId = workloadIdentityCredentialOptions.clientId || process.env.AZURE_CLIENT_ID;\n        this.federatedTokenFilePath =\n            workloadIdentityCredentialOptions.tokenFilePath || process.env.AZURE_FEDERATED_TOKEN_FILE;\n        if (tenantId) {\n            checkTenantId(logger, tenantId);\n        }\n        if (clientId && tenantId && this.federatedTokenFilePath) {\n            logger.info(`Invoking ClientAssertionCredential with tenant ID: ${tenantId}, clientId: ${workloadIdentityCredentialOptions.clientId} and federated token path: [REDACTED]`);\n            this.client = new ClientAssertionCredential(tenantId, clientId, this.readFileContents.bind(this), options);\n        }\n    }\n    /**\n     * Authenticates with Microsoft Entra ID and returns an access token if successful.\n     * If authentication fails, a {@link CredentialUnavailableError} will be thrown with the details of the failure.\n     *\n     * @param scopes - The list of scopes for which the token will have access.\n     * @param options - The options used to configure any requests this\n     *                TokenCredential implementation might make.\n     */\n    async getToken(scopes, options) {\n        if (!this.client) {\n            const errorMessage = `${credentialName}: is unavailable. tenantId, clientId, and federatedTokenFilePath are required parameters. \n      In DefaultAzureCredential and ManagedIdentityCredential, these can be provided as environment variables - \n      \"AZURE_TENANT_ID\",\n      \"AZURE_CLIENT_ID\",\n      \"AZURE_FEDERATED_TOKEN_FILE\". See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot  `;\n            logger.info(errorMessage);\n            throw new CredentialUnavailableError(errorMessage);\n        }\n        logger.info(\"Invoking getToken() of Client Assertion Credential\");\n        return this.client.getToken(scopes, options);\n    }\n    async readFileContents() {\n        // Cached assertions expire after 5 minutes\n        if (this.cacheDate !== undefined && Date.now() - this.cacheDate >= 1000 * 60 * 5) {\n            this.azureFederatedTokenFileContent = undefined;\n        }\n        if (!this.federatedTokenFilePath) {\n            throw new CredentialUnavailableError(`${credentialName}: is unavailable. Invalid file path provided ${this.federatedTokenFilePath}.`);\n        }\n        if (!this.azureFederatedTokenFileContent) {\n            const file = await readFile(this.federatedTokenFilePath, \"utf8\");\n            const value = file.trim();\n            if (!value) {\n                throw new CredentialUnavailableError(`${credentialName}: is unavailable. No content on the file ${this.federatedTokenFilePath}.`);\n            }\n            else {\n                this.azureFederatedTokenFileContent = value;\n                this.cacheDate = Date.now();\n            }\n        }\n        return this.azureFederatedTokenFileContent;\n    }\n}\n//# sourceMappingURL=workloadIdentityCredential.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { WorkloadIdentityCredential } from \"../workloadIdentityCredential\";\nimport { credentialLogger } from \"../../util/logging\";\nconst msiName = \"ManagedIdentityCredential - Token Exchange\";\nconst logger = credentialLogger(msiName);\n/**\n * Defines how to determine whether the token exchange MSI is available, and also how to retrieve a token from the token exchange MSI.\n */\nexport function tokenExchangeMsi() {\n    return {\n        name: \"tokenExchangeMsi\",\n        async isAvailable({ clientId }) {\n            const env = process.env;\n            const result = Boolean((clientId || env.AZURE_CLIENT_ID) &&\n                env.AZURE_TENANT_ID &&\n                process.env.AZURE_FEDERATED_TOKEN_FILE);\n            if (!result) {\n                logger.info(`${msiName}: Unavailable. The environment variables needed are: AZURE_CLIENT_ID (or the client ID sent through the parameters), AZURE_TENANT_ID and AZURE_FEDERATED_TOKEN_FILE`);\n            }\n            return result;\n        },\n        async getToken(configuration, getTokenOptions = {}) {\n            const { scopes, clientId } = configuration;\n            const identityClientTokenCredentialOptions = {};\n            const workloadIdentityCredential = new WorkloadIdentityCredential(Object.assign(Object.assign({ clientId, tenantId: process.env.AZURE_TENANT_ID, tokenFilePath: process.env.AZURE_FEDERATED_TOKEN_FILE }, identityClientTokenCredentialOptions), { disableInstanceDiscovery: true }));\n            const token = await workloadIdentityCredential.getToken(scopes, getTokenOptions);\n            return token;\n        },\n    };\n}\n//# sourceMappingURL=tokenExchangeMsi.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { ConfidentialClientApplication } from \"@azure/msal-node\";\nimport { AuthenticationError, AuthenticationRequiredError, CredentialUnavailableError, } from \"../../errors\";\nimport { credentialLogger, formatError, formatSuccess } from \"../../util/logging\";\nimport { DeveloperSignOnClientId } from \"../../constants\";\nimport { IdentityClient } from \"../../client/identityClient\";\nimport { appServiceMsi2017 } from \"./appServiceMsi2017\";\nimport { appServiceMsi2019 } from \"./appServiceMsi2019\";\nimport { arcMsi } from \"./arcMsi\";\nimport { cloudShellMsi } from \"./cloudShellMsi\";\nimport { fabricMsi } from \"./fabricMsi\";\nimport { getLogLevel } from \"@azure/logger\";\nimport { getMSALLogLevel } from \"../../msal/utils\";\nimport { imdsMsi } from \"./imdsMsi\";\nimport { tokenExchangeMsi } from \"./tokenExchangeMsi\";\nimport { tracingClient } from \"../../util/tracing\";\nconst logger = credentialLogger(\"ManagedIdentityCredential\");\n/**\n * Attempts authentication using a managed identity available at the deployment environment.\n * This authentication type works in Azure VMs, App Service instances, Azure Functions applications,\n * Azure Kubernetes Services, Azure Service Fabric instances and inside of the Azure Cloud Shell.\n *\n * More information about configuring managed identities can be found here:\n * https://learn.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/overview\n */\nexport class ManagedIdentityCredential {\n    /**\n     * @internal\n     * @hidden\n     */\n    constructor(clientIdOrOptions, options) {\n        var _a, _b;\n        this.isEndpointUnavailable = null;\n        this.isAppTokenProviderInitialized = false;\n        this.msiRetryConfig = {\n            maxRetries: 5,\n            startDelayInMs: 800,\n            intervalIncrement: 2,\n        };\n        let _options;\n        if (typeof clientIdOrOptions === \"string\") {\n            this.clientId = clientIdOrOptions;\n            _options = options;\n        }\n        else {\n            this.clientId = clientIdOrOptions === null || clientIdOrOptions === void 0 ? void 0 : clientIdOrOptions.clientId;\n            _options = clientIdOrOptions;\n        }\n        this.resourceId = _options === null || _options === void 0 ? void 0 : _options.resourceId;\n        // For JavaScript users.\n        if (this.clientId && this.resourceId) {\n            throw new Error(`${ManagedIdentityCredential.name} - Client Id and Resource Id can't be provided at the same time.`);\n        }\n        if (((_a = _options === null || _options === void 0 ? void 0 : _options.retryOptions) === null || _a === void 0 ? void 0 : _a.maxRetries) !== undefined) {\n            this.msiRetryConfig.maxRetries = _options.retryOptions.maxRetries;\n        }\n        this.identityClient = new IdentityClient(_options);\n        this.isAvailableIdentityClient = new IdentityClient(Object.assign(Object.assign({}, _options), { retryOptions: {\n                maxRetries: 0,\n            } }));\n        /**  authority host validation and metadata discovery to be skipped in managed identity\n         * since this wasn't done previously before adding token cache support\n         */\n        this.confidentialApp = new ConfidentialClientApplication({\n            auth: {\n                authority: \"https://login.microsoftonline.com/managed_identity\",\n                clientId: (_b = this.clientId) !== null && _b !== void 0 ? _b : DeveloperSignOnClientId,\n                clientSecret: \"dummy-secret\",\n                cloudDiscoveryMetadata: '{\"tenant_discovery_endpoint\":\"https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration\",\"api-version\":\"1.1\",\"metadata\":[{\"preferred_network\":\"login.microsoftonline.com\",\"preferred_cache\":\"login.windows.net\",\"aliases\":[\"login.microsoftonline.com\",\"login.windows.net\",\"login.microsoft.com\",\"sts.windows.net\"]},{\"preferred_network\":\"login.partner.microsoftonline.cn\",\"preferred_cache\":\"login.partner.microsoftonline.cn\",\"aliases\":[\"login.partner.microsoftonline.cn\",\"login.chinacloudapi.cn\"]},{\"preferred_network\":\"login.microsoftonline.de\",\"preferred_cache\":\"login.microsoftonline.de\",\"aliases\":[\"login.microsoftonline.de\"]},{\"preferred_network\":\"login.microsoftonline.us\",\"preferred_cache\":\"login.microsoftonline.us\",\"aliases\":[\"login.microsoftonline.us\",\"login.usgovcloudapi.net\"]},{\"preferred_network\":\"login-us.microsoftonline.com\",\"preferred_cache\":\"login-us.microsoftonline.com\",\"aliases\":[\"login-us.microsoftonline.com\"]}]}',\n                authorityMetadata: '{\"token_endpoint\":\"https://login.microsoftonline.com/common/oauth2/v2.0/token\",\"token_endpoint_auth_methods_supported\":[\"client_secret_post\",\"private_key_jwt\",\"client_secret_basic\"],\"jwks_uri\":\"https://login.microsoftonline.com/common/discovery/v2.0/keys\",\"response_modes_supported\":[\"query\",\"fragment\",\"form_post\"],\"subject_types_supported\":[\"pairwise\"],\"id_token_signing_alg_values_supported\":[\"RS256\"],\"response_types_supported\":[\"code\",\"id_token\",\"code id_token\",\"id_token token\"],\"scopes_supported\":[\"openid\",\"profile\",\"email\",\"offline_access\"],\"issuer\":\"https://login.microsoftonline.com/{tenantid}/v2.0\",\"request_uri_parameter_supported\":false,\"userinfo_endpoint\":\"https://graph.microsoft.com/oidc/userinfo\",\"authorization_endpoint\":\"https://login.microsoftonline.com/common/oauth2/v2.0/authorize\",\"device_authorization_endpoint\":\"https://login.microsoftonline.com/common/oauth2/v2.0/devicecode\",\"http_logout_supported\":true,\"frontchannel_logout_supported\":true,\"end_session_endpoint\":\"https://login.microsoftonline.com/common/oauth2/v2.0/logout\",\"claims_supported\":[\"sub\",\"iss\",\"cloud_instance_name\",\"cloud_instance_host_name\",\"cloud_graph_host_name\",\"msgraph_host\",\"aud\",\"exp\",\"iat\",\"auth_time\",\"acr\",\"nonce\",\"preferred_username\",\"name\",\"tid\",\"ver\",\"at_hash\",\"c_hash\",\"email\"],\"kerberos_endpoint\":\"https://login.microsoftonline.com/common/kerberos\",\"tenant_region_scope\":null,\"cloud_instance_name\":\"microsoftonline.com\",\"cloud_graph_host_name\":\"graph.windows.net\",\"msgraph_host\":\"graph.microsoft.com\",\"rbac_url\":\"https://pas.windows.net\"}',\n                clientCapabilities: [],\n            },\n            system: {\n                loggerOptions: {\n                    logLevel: getMSALLogLevel(getLogLevel()),\n                },\n            },\n        });\n    }\n    async cachedAvailableMSI(scopes, getTokenOptions) {\n        if (this.cachedMSI) {\n            return this.cachedMSI;\n        }\n        const MSIs = [\n            arcMsi,\n            fabricMsi,\n            appServiceMsi2019,\n            appServiceMsi2017,\n            cloudShellMsi,\n            tokenExchangeMsi(),\n            imdsMsi,\n        ];\n        for (const msi of MSIs) {\n            if (await msi.isAvailable({\n                scopes,\n                identityClient: this.isAvailableIdentityClient,\n                clientId: this.clientId,\n                resourceId: this.resourceId,\n                getTokenOptions,\n            })) {\n                this.cachedMSI = msi;\n                return msi;\n            }\n        }\n        throw new CredentialUnavailableError(`${ManagedIdentityCredential.name} - No MSI credential available`);\n    }\n    async authenticateManagedIdentity(scopes, getTokenOptions) {\n        const { span, updatedOptions } = tracingClient.startSpan(`${ManagedIdentityCredential.name}.authenticateManagedIdentity`, getTokenOptions);\n        try {\n            // Determining the available MSI, and avoiding checking for other MSIs while the program is running.\n            const availableMSI = await this.cachedAvailableMSI(scopes, updatedOptions);\n            return availableMSI.getToken({\n                identityClient: this.identityClient,\n                scopes,\n                clientId: this.clientId,\n                resourceId: this.resourceId,\n                retryConfig: this.msiRetryConfig,\n            }, updatedOptions);\n        }\n        catch (err) {\n            span.setStatus({\n                status: \"error\",\n                error: err,\n            });\n            throw err;\n        }\n        finally {\n            span.end();\n        }\n    }\n    /**\n     * Authenticates with Microsoft Entra ID and returns an access token if successful.\n     * If authentication fails, a {@link CredentialUnavailableError} will be thrown with the details of the failure.\n     * If an unexpected error occurs, an {@link AuthenticationError} will be thrown with the details of the failure.\n     *\n     * @param scopes - The list of scopes for which the token will have access.\n     * @param options - The options used to configure any requests this\n     *                TokenCredential implementation might make.\n     */\n    async getToken(scopes, options) {\n        let result = null;\n        const { span, updatedOptions } = tracingClient.startSpan(`${ManagedIdentityCredential.name}.getToken`, options);\n        try {\n            // isEndpointAvailable can be true, false, or null,\n            // If it's null, it means we don't yet know whether\n            // the endpoint is available and need to check for it.\n            if (this.isEndpointUnavailable !== true) {\n                const availableMSI = await this.cachedAvailableMSI(scopes, updatedOptions);\n                if (availableMSI.name === \"tokenExchangeMsi\") {\n                    result = await this.authenticateManagedIdentity(scopes, updatedOptions);\n                }\n                else {\n                    const appTokenParameters = {\n                        correlationId: this.identityClient.getCorrelationId(),\n                        tenantId: (options === null || options === void 0 ? void 0 : options.tenantId) || \"managed_identity\",\n                        scopes: Array.isArray(scopes) ? scopes : [scopes],\n                        claims: options === null || options === void 0 ? void 0 : options.claims,\n                    };\n                    // Added a check to see if SetAppTokenProvider was already defined.\n                    this.initializeSetAppTokenProvider();\n                    const authenticationResult = await this.confidentialApp.acquireTokenByClientCredential(Object.assign({}, appTokenParameters));\n                    result = this.handleResult(scopes, authenticationResult || undefined);\n                }\n                if (result === null) {\n                    // If authenticateManagedIdentity returns null,\n                    // it means no MSI endpoints are available.\n                    // If so, we avoid trying to reach to them in future requests.\n                    this.isEndpointUnavailable = true;\n                    // It also means that the endpoint answered with either 200 or 201 (see the sendTokenRequest method),\n                    // yet we had no access token. For this reason, we'll throw once with a specific message:\n                    const error = new CredentialUnavailableError(\"The managed identity endpoint was reached, yet no tokens were received.\");\n                    logger.getToken.info(formatError(scopes, error));\n                    throw error;\n                }\n                // Since `authenticateManagedIdentity` didn't throw, and the result was not null,\n                // We will assume that this endpoint is reachable from this point forward,\n                // and avoid pinging again to it.\n                this.isEndpointUnavailable = false;\n            }\n            else {\n                // We've previously determined that the endpoint was unavailable,\n                // either because it was unreachable or permanently unable to authenticate.\n                const error = new CredentialUnavailableError(\"The managed identity endpoint is not currently available\");\n                logger.getToken.info(formatError(scopes, error));\n                throw error;\n            }\n            logger.getToken.info(formatSuccess(scopes));\n            return result;\n        }\n        catch (err) {\n            // CredentialUnavailable errors are expected to reach here.\n            // We intend them to bubble up, so that DefaultAzureCredential can catch them.\n            if (err.name === \"AuthenticationRequiredError\") {\n                throw err;\n            }\n            // Expected errors to reach this point:\n            // - Errors coming from a method unexpectedly breaking.\n            // - When identityClient.sendTokenRequest throws, in which case\n            //   if the status code was 400, it means that the endpoint is working,\n            //   but no identity is available.\n            span.setStatus({\n                status: \"error\",\n                error: err,\n            });\n            // If either the network is unreachable,\n            // we can safely assume the credential is unavailable.\n            if (err.code === \"ENETUNREACH\") {\n                const error = new CredentialUnavailableError(`${ManagedIdentityCredential.name}: Unavailable. Network unreachable. Message: ${err.message}`);\n                logger.getToken.info(formatError(scopes, error));\n                throw error;\n            }\n            // If either the host was unreachable,\n            // we can safely assume the credential is unavailable.\n            if (err.code === \"EHOSTUNREACH\") {\n                const error = new CredentialUnavailableError(`${ManagedIdentityCredential.name}: Unavailable. No managed identity endpoint found. Message: ${err.message}`);\n                logger.getToken.info(formatError(scopes, error));\n                throw error;\n            }\n            // If err.statusCode has a value of 400, it comes from sendTokenRequest,\n            // and it means that the endpoint is working, but that no identity is available.\n            if (err.statusCode === 400) {\n                throw new CredentialUnavailableError(`${ManagedIdentityCredential.name}: The managed identity endpoint is indicating there's no available identity. Message: ${err.message}`);\n            }\n            // This is a special case for Docker Desktop which responds with a 403 with a message that contains \"A socket operation was attempted to an unreachable network\" or \"A socket operation was attempted to an unreachable host\"\n            // rather than just timing out, as expected.\n            if (err.statusCode === 403 || err.code === 403) {\n                if (err.message.includes(\"unreachable\")) {\n                    const error = new CredentialUnavailableError(`${ManagedIdentityCredential.name}: Unavailable. Network unreachable. Message: ${err.message}`);\n                    logger.getToken.info(formatError(scopes, error));\n                    throw error;\n                }\n            }\n            // If the error has no status code, we can assume there was no available identity.\n            // This will throw silently during any ChainedTokenCredential.\n            if (err.statusCode === undefined) {\n                throw new CredentialUnavailableError(`${ManagedIdentityCredential.name}: Authentication failed. Message ${err.message}`);\n            }\n            // Any other error should break the chain.\n            throw new AuthenticationError(err.statusCode, {\n                error: `${ManagedIdentityCredential.name} authentication failed.`,\n                error_description: err.message,\n            });\n        }\n        finally {\n            // Finally is always called, both if we return and if we throw in the above try/catch.\n            span.end();\n        }\n    }\n    /**\n     * Handles the MSAL authentication result.\n     * If the result has an account, we update the local account reference.\n     * If the token received is invalid, an error will be thrown depending on what's missing.\n     */\n    handleResult(scopes, result, getTokenOptions) {\n        this.ensureValidMsalToken(scopes, result, getTokenOptions);\n        logger.getToken.info(formatSuccess(scopes));\n        return {\n            token: result.accessToken,\n            expiresOnTimestamp: result.expiresOn.getTime(),\n        };\n    }\n    /**\n     * Ensures the validity of the MSAL token\n     */\n    ensureValidMsalToken(scopes, msalToken, getTokenOptions) {\n        const error = (message) => {\n            logger.getToken.info(message);\n            return new AuthenticationRequiredError({\n                scopes: Array.isArray(scopes) ? scopes : [scopes],\n                getTokenOptions,\n                message,\n            });\n        };\n        if (!msalToken) {\n            throw error(\"No response\");\n        }\n        if (!msalToken.expiresOn) {\n            throw error(`Response had no \"expiresOn\" property.`);\n        }\n        if (!msalToken.accessToken) {\n            throw error(`Response had no \"accessToken\" property.`);\n        }\n    }\n    initializeSetAppTokenProvider() {\n        if (!this.isAppTokenProviderInitialized) {\n            this.confidentialApp.SetAppTokenProvider(async (appTokenProviderParameters) => {\n                logger.info(`SetAppTokenProvider invoked with parameters- ${JSON.stringify(appTokenProviderParameters)}`);\n                const getTokenOptions = Object.assign({}, appTokenProviderParameters);\n                logger.info(`authenticateManagedIdentity invoked with scopes- ${JSON.stringify(appTokenProviderParameters.scopes)} and getTokenOptions - ${JSON.stringify(getTokenOptions)}`);\n                const resultToken = await this.authenticateManagedIdentity(appTokenProviderParameters.scopes, getTokenOptions);\n                if (resultToken) {\n                    logger.info(`SetAppTokenProvider will save the token in cache`);\n                    const expiresInSeconds = (resultToken === null || resultToken === void 0 ? void 0 : resultToken.expiresOnTimestamp)\n                        ? Math.floor((resultToken.expiresOnTimestamp - Date.now()) / 1000)\n                        : 0;\n                    return {\n                        accessToken: resultToken === null || resultToken === void 0 ? void 0 : resultToken.token,\n                        expiresInSeconds,\n                    };\n                }\n                else {\n                    logger.info(`SetAppTokenProvider token has \"no_access_token_returned\" as the saved token`);\n                    return {\n                        accessToken: \"no_access_token_returned\",\n                        expiresInSeconds: 0,\n                    };\n                }\n            });\n            this.isAppTokenProviderInitialized = true;\n        }\n    }\n}\n//# sourceMappingURL=index.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { formatError } from \"./logging\";\n/**\n * Ensures the scopes value is an array.\n * @internal\n */\nexport function ensureScopes(scopes) {\n    return Array.isArray(scopes) ? scopes : [scopes];\n}\n/**\n * Throws if the received scope is not valid.\n * @internal\n */\nexport function ensureValidScopeForDevTimeCreds(scope, logger) {\n    if (!scope.match(/^[0-9a-zA-Z-_.:/]+$/)) {\n        const error = new Error(\"Invalid scope was specified by the user or calling client\");\n        logger.getToken.info(formatError(scope, error));\n        throw error;\n    }\n}\n/**\n * Returns the resource out of a scope.\n * @internal\n */\nexport function getScopeResource(scope) {\n    return scope.replace(/\\/.default$/, \"\");\n}\n//# sourceMappingURL=scopeUtils.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { checkTenantId, processMultiTenantRequest, resolveAdditionallyAllowedTenantIds, } from \"../util/tenantIdUtils\";\nimport { credentialLogger, formatError, formatSuccess } from \"../util/logging\";\nimport { ensureValidScopeForDevTimeCreds, getScopeResource } from \"../util/scopeUtils\";\nimport { CredentialUnavailableError } from \"../errors\";\nimport child_process from \"child_process\";\nimport { tracingClient } from \"../util/tracing\";\n/**\n * Mockable reference to the CLI credential cliCredentialFunctions\n * @internal\n */\nexport const cliCredentialInternals = {\n    /**\n     * @internal\n     */\n    getSafeWorkingDir() {\n        if (process.platform === \"win32\") {\n            if (!process.env.SystemRoot) {\n                throw new Error(\"Azure CLI credential expects a 'SystemRoot' environment variable\");\n            }\n            return process.env.SystemRoot;\n        }\n        else {\n            return \"/bin\";\n        }\n    },\n    /**\n     * Gets the access token from Azure CLI\n     * @param resource - The resource to use when getting the token\n     * @internal\n     */\n    async getAzureCliAccessToken(resource, tenantId, timeout) {\n        let tenantSection = [];\n        if (tenantId) {\n            tenantSection = [\"--tenant\", tenantId];\n        }\n        return new Promise((resolve, reject) => {\n            try {\n                child_process.execFile(\"az\", [\n                    \"account\",\n                    \"get-access-token\",\n                    \"--output\",\n                    \"json\",\n                    \"--resource\",\n                    resource,\n                    ...tenantSection,\n                ], { cwd: cliCredentialInternals.getSafeWorkingDir(), shell: true, timeout }, (error, stdout, stderr) => {\n                    resolve({ stdout: stdout, stderr: stderr, error });\n                });\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    },\n};\nconst logger = credentialLogger(\"AzureCliCredential\");\n/**\n * This credential will use the currently logged-in user login information\n * via the Azure CLI ('az') commandline tool.\n * To do so, it will read the user access token and expire time\n * with Azure CLI command \"az account get-access-token\".\n */\nexport class AzureCliCredential {\n    /**\n     * Creates an instance of the {@link AzureCliCredential}.\n     *\n     * To use this credential, ensure that you have already logged\n     * in via the 'az' tool using the command \"az login\" from the commandline.\n     *\n     * @param options - Options, to optionally allow multi-tenant requests.\n     */\n    constructor(options) {\n        if (options === null || options === void 0 ? void 0 : options.tenantId) {\n            checkTenantId(logger, options === null || options === void 0 ? void 0 : options.tenantId);\n            this.tenantId = options === null || options === void 0 ? void 0 : options.tenantId;\n        }\n        this.additionallyAllowedTenantIds = resolveAdditionallyAllowedTenantIds(options === null || options === void 0 ? void 0 : options.additionallyAllowedTenants);\n        this.timeout = options === null || options === void 0 ? void 0 : options.processTimeoutInMs;\n    }\n    /**\n     * Authenticates with Microsoft Entra ID and returns an access token if successful.\n     * If authentication fails, a {@link CredentialUnavailableError} will be thrown with the details of the failure.\n     *\n     * @param scopes - The list of scopes for which the token will have access.\n     * @param options - The options used to configure any requests this\n     *                TokenCredential implementation might make.\n     */\n    async getToken(scopes, options = {}) {\n        const tenantId = processMultiTenantRequest(this.tenantId, options, this.additionallyAllowedTenantIds);\n        if (tenantId) {\n            checkTenantId(logger, tenantId);\n        }\n        const scope = typeof scopes === \"string\" ? scopes : scopes[0];\n        logger.getToken.info(`Using the scope ${scope}`);\n        return tracingClient.withSpan(`${this.constructor.name}.getToken`, options, async () => {\n            var _a, _b, _c, _d;\n            try {\n                ensureValidScopeForDevTimeCreds(scope, logger);\n                const resource = getScopeResource(scope);\n                const obj = await cliCredentialInternals.getAzureCliAccessToken(resource, tenantId, this.timeout);\n                const specificScope = (_a = obj.stderr) === null || _a === void 0 ? void 0 : _a.match(\"(.*)az login --scope(.*)\");\n                const isLoginError = ((_b = obj.stderr) === null || _b === void 0 ? void 0 : _b.match(\"(.*)az login(.*)\")) && !specificScope;\n                const isNotInstallError = ((_c = obj.stderr) === null || _c === void 0 ? void 0 : _c.match(\"az:(.*)not found\")) || ((_d = obj.stderr) === null || _d === void 0 ? void 0 : _d.startsWith(\"'az' is not recognized\"));\n                if (isNotInstallError) {\n                    const error = new CredentialUnavailableError(\"Azure CLI could not be found. Please visit https://aka.ms/azure-cli for installation instructions and then, once installed, authenticate to your Azure account using 'az login'.\");\n                    logger.getToken.info(formatError(scopes, error));\n                    throw error;\n                }\n                if (isLoginError) {\n                    const error = new CredentialUnavailableError(\"Please run 'az login' from a command prompt to authenticate before using this credential.\");\n                    logger.getToken.info(formatError(scopes, error));\n                    throw error;\n                }\n                try {\n                    const responseData = obj.stdout;\n                    const response = this.parseRawResponse(responseData);\n                    logger.getToken.info(formatSuccess(scopes));\n                    return response;\n                }\n                catch (e) {\n                    if (obj.stderr) {\n                        throw new CredentialUnavailableError(obj.stderr);\n                    }\n                    throw e;\n                }\n            }\n            catch (err) {\n                const error = err.name === \"CredentialUnavailableError\"\n                    ? err\n                    : new CredentialUnavailableError(err.message || \"Unknown error while trying to retrieve the access token\");\n                logger.getToken.info(formatError(scopes, error));\n                throw error;\n            }\n        });\n    }\n    /**\n     * Parses the raw JSON response from the Azure CLI into a usable AccessToken object\n     *\n     * @param rawResponse - The raw JSON response from the Azure CLI\n     * @returns An access token with the expiry time parsed from the raw response\n     *\n     * The expiryTime of the credential's access token, in milliseconds, is calculated as follows:\n     *\n     * When available, expires_on (introduced in Azure CLI v2.54.0) will be preferred. Otherwise falls back to expiresOn.\n     */\n    parseRawResponse(rawResponse) {\n        const response = JSON.parse(rawResponse);\n        const token = response.accessToken;\n        // if available, expires_on will be a number representing seconds since epoch.\n        // ensure it's a number or NaN\n        let expiresOnTimestamp = Number.parseInt(response.expires_on, 10) * 1000;\n        if (!isNaN(expiresOnTimestamp)) {\n            logger.getToken.info(\"expires_on is available and is valid, using it\");\n            return {\n                token,\n                expiresOnTimestamp,\n            };\n        }\n        // fallback to the older expiresOn - an RFC3339 date string\n        expiresOnTimestamp = new Date(response.expiresOn).getTime();\n        // ensure expiresOn is well-formatted\n        if (isNaN(expiresOnTimestamp)) {\n            throw new CredentialUnavailableError(`Unexpected response from Azure CLI when getting token. Expected \"expiresOn\" to be a RFC3339 date string. Got: \"${response.expiresOn}\"`);\n        }\n        return {\n            token,\n            expiresOnTimestamp,\n        };\n    }\n}\n//# sourceMappingURL=azureCliCredential.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { credentialLogger, formatError, formatSuccess } from \"../util/logging\";\nimport { CredentialUnavailableError } from \"../errors\";\nimport child_process from \"child_process\";\nimport { checkTenantId, processMultiTenantRequest, resolveAdditionallyAllowedTenantIds, } from \"../util/tenantIdUtils\";\nimport { tracingClient } from \"../util/tracing\";\nimport { ensureValidScopeForDevTimeCreds } from \"../util/scopeUtils\";\n/**\n * Mockable reference to the Developer CLI credential cliCredentialFunctions\n * @internal\n */\nexport const developerCliCredentialInternals = {\n    /**\n     * @internal\n     */\n    getSafeWorkingDir() {\n        if (process.platform === \"win32\") {\n            if (!process.env.SystemRoot) {\n                throw new Error(\"Azure Developer CLI credential expects a 'SystemRoot' environment variable\");\n            }\n            return process.env.SystemRoot;\n        }\n        else {\n            return \"/bin\";\n        }\n    },\n    /**\n     * Gets the access token from Azure Developer CLI\n     * @param scopes - The scopes to use when getting the token\n     * @internal\n     */\n    async getAzdAccessToken(scopes, tenantId, timeout) {\n        let tenantSection = [];\n        if (tenantId) {\n            tenantSection = [\"--tenant-id\", tenantId];\n        }\n        return new Promise((resolve, reject) => {\n            try {\n                child_process.execFile(\"azd\", [\n                    \"auth\",\n                    \"token\",\n                    \"--output\",\n                    \"json\",\n                    ...scopes.reduce((previous, current) => previous.concat(\"--scope\", current), []),\n                    ...tenantSection,\n                ], {\n                    cwd: developerCliCredentialInternals.getSafeWorkingDir(),\n                    timeout,\n                }, (error, stdout, stderr) => {\n                    resolve({ stdout, stderr, error });\n                });\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    },\n};\nconst logger = credentialLogger(\"AzureDeveloperCliCredential\");\n/**\n * Azure Developer CLI is a command-line interface tool that allows developers to create, manage, and deploy\n * resources in Azure. It's built on top of the Azure CLI and provides additional functionality specific\n * to Azure developers. It allows users to authenticate as a user and/or a service principal against\n * <a href=\"https://learn.microsoft.com/entra/fundamentals/\">Microsoft Entra ID</a>. The\n * AzureDeveloperCliCredential authenticates in a development environment and acquires a token on behalf of\n * the logged-in user or service principal in the Azure Developer CLI. It acts as the Azure Developer CLI logged in user or\n * service principal and executes an Azure CLI command underneath to authenticate the application against\n * Microsoft Entra ID.\n *\n * <h2> Configure AzureDeveloperCliCredential </h2>\n *\n * To use this credential, the developer needs to authenticate locally in Azure Developer CLI using one of the\n * commands below:\n *\n * <ol>\n *     <li>Run \"azd auth login\" in Azure Developer CLI to authenticate interactively as a user.</li>\n *     <li>Run \"azd auth login --client-id clientID --client-secret clientSecret\n *     --tenant-id tenantID\" to authenticate as a service principal.</li>\n * </ol>\n *\n * You may need to repeat this process after a certain time period, depending on the refresh token validity in your\n * organization. Generally, the refresh token validity period is a few weeks to a few months.\n * AzureDeveloperCliCredential will prompt you to sign in again.\n */\nexport class AzureDeveloperCliCredential {\n    /**\n     * Creates an instance of the {@link AzureDeveloperCliCredential}.\n     *\n     * To use this credential, ensure that you have already logged\n     * in via the 'azd' tool using the command \"azd auth login\" from the commandline.\n     *\n     * @param options - Options, to optionally allow multi-tenant requests.\n     */\n    constructor(options) {\n        if (options === null || options === void 0 ? void 0 : options.tenantId) {\n            checkTenantId(logger, options === null || options === void 0 ? void 0 : options.tenantId);\n            this.tenantId = options === null || options === void 0 ? void 0 : options.tenantId;\n        }\n        this.additionallyAllowedTenantIds = resolveAdditionallyAllowedTenantIds(options === null || options === void 0 ? void 0 : options.additionallyAllowedTenants);\n        this.timeout = options === null || options === void 0 ? void 0 : options.processTimeoutInMs;\n    }\n    /**\n     * Authenticates with Microsoft Entra ID and returns an access token if successful.\n     * If authentication fails, a {@link CredentialUnavailableError} will be thrown with the details of the failure.\n     *\n     * @param scopes - The list of scopes for which the token will have access.\n     * @param options - The options used to configure any requests this\n     *                TokenCredential implementation might make.\n     */\n    async getToken(scopes, options = {}) {\n        const tenantId = processMultiTenantRequest(this.tenantId, options, this.additionallyAllowedTenantIds);\n        if (tenantId) {\n            checkTenantId(logger, tenantId);\n        }\n        let scopeList;\n        if (typeof scopes === \"string\") {\n            scopeList = [scopes];\n        }\n        else {\n            scopeList = scopes;\n        }\n        logger.getToken.info(`Using the scopes ${scopes}`);\n        return tracingClient.withSpan(`${this.constructor.name}.getToken`, options, async () => {\n            var _a, _b, _c, _d;\n            try {\n                scopeList.forEach((scope) => {\n                    ensureValidScopeForDevTimeCreds(scope, logger);\n                });\n                const obj = await developerCliCredentialInternals.getAzdAccessToken(scopeList, tenantId, this.timeout);\n                const isNotLoggedInError = ((_a = obj.stderr) === null || _a === void 0 ? void 0 : _a.match(\"not logged in, run `azd login` to login\")) ||\n                    ((_b = obj.stderr) === null || _b === void 0 ? void 0 : _b.match(\"not logged in, run `azd auth login` to login\"));\n                const isNotInstallError = ((_c = obj.stderr) === null || _c === void 0 ? void 0 : _c.match(\"azd:(.*)not found\")) ||\n                    ((_d = obj.stderr) === null || _d === void 0 ? void 0 : _d.startsWith(\"'azd' is not recognized\"));\n                if (isNotInstallError || (obj.error && obj.error.code === \"ENOENT\")) {\n                    const error = new CredentialUnavailableError(\"Azure Developer CLI couldn't be found. To mitigate this issue, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot.\");\n                    logger.getToken.info(formatError(scopes, error));\n                    throw error;\n                }\n                if (isNotLoggedInError) {\n                    const error = new CredentialUnavailableError(\"Please run 'azd auth login' from a command prompt to authenticate before using this credential. For more information, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot.\");\n                    logger.getToken.info(formatError(scopes, error));\n                    throw error;\n                }\n                try {\n                    const resp = JSON.parse(obj.stdout);\n                    logger.getToken.info(formatSuccess(scopes));\n                    return {\n                        token: resp.token,\n                        expiresOnTimestamp: new Date(resp.expiresOn).getTime(),\n                    };\n                }\n                catch (e) {\n                    if (obj.stderr) {\n                        throw new CredentialUnavailableError(obj.stderr);\n                    }\n                    throw e;\n                }\n            }\n            catch (err) {\n                const error = err.name === \"CredentialUnavailableError\"\n                    ? err\n                    : new CredentialUnavailableError(err.message || \"Unknown error while trying to retrieve the access token\");\n                logger.getToken.info(formatError(scopes, error));\n                throw error;\n            }\n        });\n    }\n}\n//# sourceMappingURL=azureDeveloperCliCredential.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport * as childProcess from \"child_process\";\n/**\n * Easy to mock childProcess utils.\n * @internal\n */\nexport const processUtils = {\n    /**\n     * Promisifying childProcess.execFile\n     * @internal\n     */\n    execFile(file, params, options) {\n        return new Promise((resolve, reject) => {\n            childProcess.execFile(file, params, options, (error, stdout, stderr) => {\n                if (Buffer.isBuffer(stdout)) {\n                    stdout = stdout.toString(\"utf8\");\n                }\n                if (Buffer.isBuffer(stderr)) {\n                    stderr = stderr.toString(\"utf8\");\n                }\n                if (stderr || error) {\n                    reject(stderr ? new Error(stderr) : error);\n                }\n                else {\n                    resolve(stdout);\n                }\n            });\n        });\n    },\n};\n//# sourceMappingURL=processUtils.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { checkTenantId, processMultiTenantRequest, resolveAdditionallyAllowedTenantIds, } from \"../util/tenantIdUtils\";\nimport { credentialLogger, formatError, formatSuccess } from \"../util/logging\";\nimport { ensureValidScopeForDevTimeCreds, getScopeResource } from \"../util/scopeUtils\";\nimport { CredentialUnavailableError } from \"../errors\";\nimport { processUtils } from \"../util/processUtils\";\nimport { tracingClient } from \"../util/tracing\";\nconst logger = credentialLogger(\"AzurePowerShellCredential\");\nconst isWindows = process.platform === \"win32\";\n/**\n * Returns a platform-appropriate command name by appending \".exe\" on Windows.\n *\n * @internal\n */\nexport function formatCommand(commandName) {\n    if (isWindows) {\n        return `${commandName}.exe`;\n    }\n    else {\n        return commandName;\n    }\n}\n/**\n * Receives a list of commands to run, executes them, then returns the outputs.\n * If anything fails, an error is thrown.\n * @internal\n */\nasync function runCommands(commands, timeout) {\n    const results = [];\n    for (const command of commands) {\n        const [file, ...parameters] = command;\n        const result = (await processUtils.execFile(file, parameters, {\n            encoding: \"utf8\",\n            timeout,\n        }));\n        results.push(result);\n    }\n    return results;\n}\n/**\n * Known PowerShell errors\n * @internal\n */\nexport const powerShellErrors = {\n    login: \"Run Connect-AzAccount to login\",\n    installed: \"The specified module 'Az.Accounts' with version '2.2.0' was not loaded because no valid module file was found in any module directory\",\n};\n/**\n * Messages to use when throwing in this credential.\n * @internal\n */\nexport const powerShellPublicErrorMessages = {\n    login: \"Please run 'Connect-AzAccount' from PowerShell to authenticate before using this credential.\",\n    installed: `The 'Az.Account' module >= 2.2.0 is not installed. Install the Azure Az PowerShell module with: \"Install-Module -Name Az -Scope CurrentUser -Repository PSGallery -Force\".`,\n    troubleshoot: `To troubleshoot, visit https://aka.ms/azsdk/js/identity/powershellcredential/troubleshoot.`,\n};\n// PowerShell Azure User not logged in error check.\nconst isLoginError = (err) => err.message.match(`(.*)${powerShellErrors.login}(.*)`);\n// Az Module not Installed in Azure PowerShell check.\nconst isNotInstalledError = (err) => err.message.match(powerShellErrors.installed);\n/**\n * The PowerShell commands to be tried, in order.\n *\n * @internal\n */\nexport const commandStack = [formatCommand(\"pwsh\")];\nif (isWindows) {\n    commandStack.push(formatCommand(\"powershell\"));\n}\n/**\n * This credential will use the currently logged-in user information from the\n * Azure PowerShell module. To do so, it will read the user access token and\n * expire time with Azure PowerShell command `Get-AzAccessToken -ResourceUrl {ResourceScope}`\n */\nexport class AzurePowerShellCredential {\n    /**\n     * Creates an instance of the {@link AzurePowerShellCredential}.\n     *\n     * To use this credential:\n     * - Install the Azure Az PowerShell module with:\n     *   `Install-Module -Name Az -Scope CurrentUser -Repository PSGallery -Force`.\n     * - You have already logged in to Azure PowerShell using the command\n     * `Connect-AzAccount` from the command line.\n     *\n     * @param options - Options, to optionally allow multi-tenant requests.\n     */\n    constructor(options) {\n        if (options === null || options === void 0 ? void 0 : options.tenantId) {\n            checkTenantId(logger, options === null || options === void 0 ? void 0 : options.tenantId);\n            this.tenantId = options === null || options === void 0 ? void 0 : options.tenantId;\n        }\n        this.additionallyAllowedTenantIds = resolveAdditionallyAllowedTenantIds(options === null || options === void 0 ? void 0 : options.additionallyAllowedTenants);\n        this.timeout = options === null || options === void 0 ? void 0 : options.processTimeoutInMs;\n    }\n    /**\n     * Gets the access token from Azure PowerShell\n     * @param resource - The resource to use when getting the token\n     */\n    async getAzurePowerShellAccessToken(resource, tenantId, timeout) {\n        // Clone the stack to avoid mutating it while iterating\n        for (const powerShellCommand of [...commandStack]) {\n            try {\n                await runCommands([[powerShellCommand, \"/?\"]], timeout);\n            }\n            catch (e) {\n                // Remove this credential from the original stack so that we don't try it again.\n                commandStack.shift();\n                continue;\n            }\n            let tenantSection = \"\";\n            if (tenantId) {\n                tenantSection = `-TenantId \"${tenantId}\"`;\n            }\n            const results = await runCommands([\n                [\n                    powerShellCommand,\n                    \"-NoProfile\",\n                    \"-NonInteractive\",\n                    \"-Command\",\n                    \"Import-Module Az.Accounts -MinimumVersion 2.2.0 -PassThru\",\n                ],\n                [\n                    powerShellCommand,\n                    \"-NoProfile\",\n                    \"-NonInteractive\",\n                    \"-Command\",\n                    `Get-AzAccessToken ${tenantSection} -ResourceUrl \"${resource}\" | ConvertTo-Json`,\n                ],\n            ]);\n            const result = results[1];\n            try {\n                return JSON.parse(result);\n            }\n            catch (e) {\n                throw new Error(`Unable to parse the output of PowerShell. Received output: ${result}`);\n            }\n        }\n        throw new Error(`Unable to execute PowerShell. Ensure that it is installed in your system`);\n    }\n    /**\n     * Authenticates with Microsoft Entra ID and returns an access token if successful.\n     * If the authentication cannot be performed through PowerShell, a {@link CredentialUnavailableError} will be thrown.\n     *\n     * @param scopes - The list of scopes for which the token will have access.\n     * @param options - The options used to configure any requests this TokenCredential implementation might make.\n     */\n    async getToken(scopes, options = {}) {\n        return tracingClient.withSpan(`${this.constructor.name}.getToken`, options, async () => {\n            const tenantId = processMultiTenantRequest(this.tenantId, options, this.additionallyAllowedTenantIds);\n            const scope = typeof scopes === \"string\" ? scopes : scopes[0];\n            if (tenantId) {\n                checkTenantId(logger, tenantId);\n            }\n            try {\n                ensureValidScopeForDevTimeCreds(scope, logger);\n                logger.getToken.info(`Using the scope ${scope}`);\n                const resource = getScopeResource(scope);\n                const response = await this.getAzurePowerShellAccessToken(resource, tenantId, this.timeout);\n                logger.getToken.info(formatSuccess(scopes));\n                return {\n                    token: response.Token,\n                    expiresOnTimestamp: new Date(response.ExpiresOn).getTime(),\n                };\n            }\n            catch (err) {\n                if (isNotInstalledError(err)) {\n                    const error = new CredentialUnavailableError(powerShellPublicErrorMessages.installed);\n                    logger.getToken.info(formatError(scope, error));\n                    throw error;\n                }\n                else if (isLoginError(err)) {\n                    const error = new CredentialUnavailableError(powerShellPublicErrorMessages.login);\n                    logger.getToken.info(formatError(scope, error));\n                    throw error;\n                }\n                const error = new CredentialUnavailableError(`${err}. ${powerShellPublicErrorMessages.troubleshoot}`);\n                logger.getToken.info(formatError(scope, error));\n                throw error;\n            }\n        });\n    }\n}\n//# sourceMappingURL=azurePowerShellCredential.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { AggregateAuthenticationError, CredentialUnavailableError } from \"../errors\";\nimport { credentialLogger, formatError, formatSuccess } from \"../util/logging\";\nimport { tracingClient } from \"../util/tracing\";\n/**\n * @internal\n */\nexport const logger = credentialLogger(\"ChainedTokenCredential\");\n/**\n * Enables multiple `TokenCredential` implementations to be tried in order\n * until one of the getToken methods returns an access token.\n */\nexport class ChainedTokenCredential {\n    /**\n     * Creates an instance of ChainedTokenCredential using the given credentials.\n     *\n     * @param sources - `TokenCredential` implementations to be tried in order.\n     *\n     * Example usage:\n     * ```javascript\n     * const firstCredential = new ClientSecretCredential(tenantId, clientId, clientSecret);\n     * const secondCredential = new ClientSecretCredential(tenantId, anotherClientId, anotherSecret);\n     * const credentialChain = new ChainedTokenCredential(firstCredential, secondCredential);\n     * ```\n     */\n    constructor(...sources) {\n        this._sources = [];\n        this._sources = sources;\n    }\n    /**\n     * Returns the first access token returned by one of the chained\n     * `TokenCredential` implementations.  Throws an {@link AggregateAuthenticationError}\n     * when one or more credentials throws an {@link AuthenticationError} and\n     * no credentials have returned an access token.\n     *\n     * This method is called automatically by Azure SDK client libraries. You may call this method\n     * directly, but you must also handle token caching and token refreshing.\n     *\n     * @param scopes - The list of scopes for which the token will have access.\n     * @param options - The options used to configure any requests this\n     *                `TokenCredential` implementation might make.\n     */\n    async getToken(scopes, options = {}) {\n        const { token } = await this.getTokenInternal(scopes, options);\n        return token;\n    }\n    async getTokenInternal(scopes, options = {}) {\n        let token = null;\n        let successfulCredential;\n        const errors = [];\n        return tracingClient.withSpan(\"ChainedTokenCredential.getToken\", options, async (updatedOptions) => {\n            for (let i = 0; i < this._sources.length && token === null; i++) {\n                try {\n                    token = await this._sources[i].getToken(scopes, updatedOptions);\n                    successfulCredential = this._sources[i];\n                }\n                catch (err) {\n                    if (err.name === \"CredentialUnavailableError\" ||\n                        err.name === \"AuthenticationRequiredError\") {\n                        errors.push(err);\n                    }\n                    else {\n                        logger.getToken.info(formatError(scopes, err));\n                        throw err;\n                    }\n                }\n            }\n            if (!token && errors.length > 0) {\n                const err = new AggregateAuthenticationError(errors, \"ChainedTokenCredential authentication failed.\");\n                logger.getToken.info(formatError(scopes, err));\n                throw err;\n            }\n            logger.getToken.info(`Result for ${successfulCredential.constructor.name}: ${formatSuccess(scopes)}`);\n            if (token === null) {\n                throw new CredentialUnavailableError(\"Failed to retrieve a valid token\");\n            }\n            return { token, successfulCredential };\n        });\n    }\n}\n//# sourceMappingURL=chainedTokenCredential.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createMsalClient } from \"../msal/nodeFlows/msalClient\";\nimport { createHash, createPrivateKey } from \"crypto\";\nimport { processMultiTenantRequest, resolveAdditionallyAllowedTenantIds, } from \"../util/tenantIdUtils\";\nimport { credentialLogger } from \"../util/logging\";\nimport { readFile } from \"fs/promises\";\nimport { tracingClient } from \"../util/tracing\";\nconst credentialName = \"ClientCertificateCredential\";\nconst logger = credentialLogger(credentialName);\n/**\n * Enables authentication to Microsoft Entra ID using a PEM-encoded\n * certificate that is assigned to an App Registration. More information\n * on how to configure certificate authentication can be found here:\n *\n * https://learn.microsoft.com/en-us/azure/active-directory/develop/active-directory-certificate-credentials#register-your-certificate-with-azure-ad\n *\n */\nexport class ClientCertificateCredential {\n    constructor(tenantId, clientId, certificatePathOrConfiguration, options = {}) {\n        if (!tenantId || !clientId) {\n            throw new Error(`${credentialName}: tenantId and clientId are required parameters.`);\n        }\n        this.tenantId = tenantId;\n        this.additionallyAllowedTenantIds = resolveAdditionallyAllowedTenantIds(options === null || options === void 0 ? void 0 : options.additionallyAllowedTenants);\n        this.sendCertificateChain = options.sendCertificateChain;\n        this.certificateConfiguration = Object.assign({}, (typeof certificatePathOrConfiguration === \"string\"\n            ? {\n                certificatePath: certificatePathOrConfiguration,\n            }\n            : certificatePathOrConfiguration));\n        const certificate = this.certificateConfiguration.certificate;\n        const certificatePath = this.certificateConfiguration.certificatePath;\n        if (!this.certificateConfiguration || !(certificate || certificatePath)) {\n            throw new Error(`${credentialName}: Provide either a PEM certificate in string form, or the path to that certificate in the filesystem. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);\n        }\n        if (certificate && certificatePath) {\n            throw new Error(`${credentialName}: To avoid unexpected behaviors, providing both the contents of a PEM certificate and the path to a PEM certificate is forbidden. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);\n        }\n        this.msalClient = createMsalClient(clientId, tenantId, Object.assign(Object.assign({}, options), { logger, tokenCredentialOptions: options }));\n    }\n    /**\n     * Authenticates with Microsoft Entra ID and returns an access token if successful.\n     * If authentication fails, a {@link CredentialUnavailableError} will be thrown with the details of the failure.\n     *\n     * @param scopes - The list of scopes for which the token will have access.\n     * @param options - The options used to configure any requests this\n     *                TokenCredential implementation might make.\n     */\n    async getToken(scopes, options = {}) {\n        return tracingClient.withSpan(`${credentialName}.getToken`, options, async (newOptions) => {\n            newOptions.tenantId = processMultiTenantRequest(this.tenantId, newOptions, this.additionallyAllowedTenantIds, logger);\n            const arrayScopes = Array.isArray(scopes) ? scopes : [scopes];\n            const certificate = await this.buildClientCertificate();\n            return this.msalClient.getTokenByClientCertificate(arrayScopes, certificate, newOptions);\n        });\n    }\n    async buildClientCertificate() {\n        const parts = await this.parseCertificate();\n        let privateKey;\n        if (this.certificateConfiguration.certificatePassword !== undefined) {\n            privateKey = createPrivateKey({\n                key: parts.certificateContents,\n                passphrase: this.certificateConfiguration.certificatePassword,\n                format: \"pem\",\n            })\n                .export({\n                format: \"pem\",\n                type: \"pkcs8\",\n            })\n                .toString();\n        }\n        else {\n            privateKey = parts.certificateContents;\n        }\n        return {\n            thumbprint: parts.thumbprint,\n            privateKey,\n            x5c: parts.x5c,\n        };\n    }\n    async parseCertificate() {\n        const certificate = this.certificateConfiguration.certificate;\n        const certificatePath = this.certificateConfiguration.certificatePath;\n        const certificateContents = certificate || (await readFile(certificatePath, \"utf8\"));\n        const x5c = this.sendCertificateChain ? certificateContents : undefined;\n        const certificatePattern = /(-+BEGIN CERTIFICATE-+)(\\n\\r?|\\r\\n?)([A-Za-z0-9+/\\n\\r]+=*)(\\n\\r?|\\r\\n?)(-+END CERTIFICATE-+)/g;\n        const publicKeys = [];\n        // Match all possible certificates, in the order they are in the file. These will form the chain that is used for x5c\n        let match;\n        do {\n            match = certificatePattern.exec(certificateContents);\n            if (match) {\n                publicKeys.push(match[3]);\n            }\n        } while (match);\n        if (publicKeys.length === 0) {\n            throw new Error(\"The file at the specified path does not contain a PEM-encoded certificate.\");\n        }\n        const thumbprint = createHash(\"sha1\")\n            .update(Buffer.from(publicKeys[0], \"base64\"))\n            .digest(\"hex\")\n            .toUpperCase();\n        return {\n            certificateContents,\n            thumbprint,\n            x5c,\n        };\n    }\n}\n//# sourceMappingURL=clientCertificateCredential.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { createMsalClient } from \"../msal/nodeFlows/msalClient\";\nimport { processMultiTenantRequest, resolveAdditionallyAllowedTenantIds, } from \"../util/tenantIdUtils\";\nimport { credentialLogger } from \"../util/logging\";\nimport { ensureScopes } from \"../util/scopeUtils\";\nimport { tracingClient } from \"../util/tracing\";\nconst logger = credentialLogger(\"ClientSecretCredential\");\n/**\n * Enables authentication to Microsoft Entra ID using a client secret\n * that was generated for an App Registration. More information on how\n * to configure a client secret can be found here:\n *\n * https://learn.microsoft.com/entra/identity-platform/quickstart-configure-app-access-web-apis#add-credentials-to-your-web-application\n *\n */\nexport class ClientSecretCredential {\n    /**\n     * Creates an instance of the ClientSecretCredential with the details\n     * needed to authenticate against Microsoft Entra ID with a client\n     * secret.\n     *\n     * @param tenantId - The Microsoft Entra tenant (directory) ID.\n     * @param clientId - The client (application) ID of an App Registration in the tenant.\n     * @param clientSecret - A client secret that was generated for the App Registration.\n     * @param options - Options for configuring the client which makes the authentication request.\n     */\n    constructor(tenantId, clientId, clientSecret, options = {}) {\n        if (!tenantId || !clientId || !clientSecret) {\n            throw new Error(\"ClientSecretCredential: tenantId, clientId, and clientSecret are required parameters. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.\");\n        }\n        this.clientSecret = clientSecret;\n        this.tenantId = tenantId;\n        this.additionallyAllowedTenantIds = resolveAdditionallyAllowedTenantIds(options === null || options === void 0 ? void 0 : options.additionallyAllowedTenants);\n        this.msalClient = createMsalClient(clientId, tenantId, Object.assign(Object.assign({}, options), { logger, tokenCredentialOptions: options }));\n    }\n    /**\n     * Authenticates with Microsoft Entra ID and returns an access token if successful.\n     * If authentication fails, a {@link CredentialUnavailableError} will be thrown with the details of the failure.\n     *\n     * @param scopes - The list of scopes for which the token will have access.\n     * @param options - The options used to configure any requests this\n     *                TokenCredential implementation might make.\n     */\n    async getToken(scopes, options = {}) {\n        return tracingClient.withSpan(`${this.constructor.name}.getToken`, options, async (newOptions) => {\n            newOptions.tenantId = processMultiTenantRequest(this.tenantId, newOptions, this.additionallyAllowedTenantIds, logger);\n            const arrayScopes = ensureScopes(scopes);\n            return this.msalClient.getTokenByClientSecret(arrayScopes, this.clientSecret, newOptions);\n        });\n    }\n}\n//# sourceMappingURL=clientSecretCredential.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport * as msalNode from \"@azure/msal-node\";\nimport { CACHE_CAE_SUFFIX, CACHE_NON_CAE_SUFFIX, DEFAULT_TOKEN_CACHE_NAME, DeveloperSignOnClientId, } from \"../../constants\";\nimport { formatSuccess } from \"../../util/logging\";\nimport { defaultLoggerCallback, ensureValidMsalToken, getAuthority, getKnownAuthorities, getMSALLogLevel, handleMsalError, msalToPublic, publicToMsal, randomUUID, } from \"../utils\";\nimport { hasNativeBroker, nativeBrokerInfo, persistenceProvider } from \"./msalPlugins\";\nimport { processMultiTenantRequest, resolveAdditionallyAllowedTenantIds, resolveTenantId, } from \"../../util/tenantIdUtils\";\nimport { AuthenticationRequiredError } from \"../../errors\";\nimport { IdentityClient } from \"../../client/identityClient\";\nimport { calculateRegionalAuthority } from \"../../regionalAuthority\";\nimport { getLogLevel } from \"@azure/logger\";\n/**\n * MSAL partial base client for Node.js.\n *\n * It completes the input configuration with some default values.\n * It also provides with utility protected methods that can be used from any of the clients,\n * which includes handlers for successful responses and errors.\n *\n * @internal\n */\nexport class MsalNode {\n    constructor(options) {\n        var _a, _b, _c, _d, _e, _f;\n        this.app = {};\n        this.caeApp = {};\n        this.requiresConfidential = false;\n        this.logger = options.logger;\n        this.msalConfig = this.defaultNodeMsalConfig(options);\n        this.tenantId = resolveTenantId(options.logger, options.tenantId, options.clientId);\n        this.additionallyAllowedTenantIds = resolveAdditionallyAllowedTenantIds((_a = options === null || options === void 0 ? void 0 : options.tokenCredentialOptions) === null || _a === void 0 ? void 0 : _a.additionallyAllowedTenants);\n        this.clientId = this.msalConfig.auth.clientId;\n        if (options === null || options === void 0 ? void 0 : options.getAssertion) {\n            this.getAssertion = options.getAssertion;\n        }\n        this.enableBroker = (_b = options === null || options === void 0 ? void 0 : options.brokerOptions) === null || _b === void 0 ? void 0 : _b.enabled;\n        this.enableMsaPassthrough = (_c = options === null || options === void 0 ? void 0 : options.brokerOptions) === null || _c === void 0 ? void 0 : _c.legacyEnableMsaPassthrough;\n        this.parentWindowHandle = (_d = options.brokerOptions) === null || _d === void 0 ? void 0 : _d.parentWindowHandle;\n        // If persistence has been configured\n        if (persistenceProvider !== undefined && ((_e = options.tokenCachePersistenceOptions) === null || _e === void 0 ? void 0 : _e.enabled)) {\n            const cacheBaseName = options.tokenCachePersistenceOptions.name || DEFAULT_TOKEN_CACHE_NAME;\n            const nonCaeOptions = Object.assign({ name: `${cacheBaseName}.${CACHE_NON_CAE_SUFFIX}` }, options.tokenCachePersistenceOptions);\n            const caeOptions = Object.assign({ name: `${cacheBaseName}.${CACHE_CAE_SUFFIX}` }, options.tokenCachePersistenceOptions);\n            this.createCachePlugin = () => persistenceProvider(nonCaeOptions);\n            this.createCachePluginCae = () => persistenceProvider(caeOptions);\n        }\n        else if ((_f = options.tokenCachePersistenceOptions) === null || _f === void 0 ? void 0 : _f.enabled) {\n            throw new Error([\n                \"Persistent token caching was requested, but no persistence provider was configured.\",\n                \"You must install the identity-cache-persistence plugin package (`npm install --save @azure/identity-cache-persistence`)\",\n                \"and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling\",\n                \"`useIdentityPlugin(cachePersistencePlugin)` before using `tokenCachePersistenceOptions`.\",\n            ].join(\" \"));\n        }\n        // If broker has not been configured\n        if (!hasNativeBroker() && this.enableBroker) {\n            throw new Error([\n                \"Broker for WAM was requested to be enabled, but no native broker was configured.\",\n                \"You must install the identity-broker plugin package (`npm install --save @azure/identity-broker`)\",\n                \"and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling\",\n                \"`useIdentityPlugin(createNativeBrokerPlugin())` before using `enableBroker`.\",\n            ].join(\" \"));\n        }\n        this.azureRegion = calculateRegionalAuthority(options.regionalAuthority);\n    }\n    /**\n     * Generates a MSAL configuration that generally works for Node.js\n     */\n    defaultNodeMsalConfig(options) {\n        var _a;\n        const clientId = options.clientId || DeveloperSignOnClientId;\n        const tenantId = resolveTenantId(options.logger, options.tenantId, options.clientId);\n        this.authorityHost = options.authorityHost || process.env.AZURE_AUTHORITY_HOST;\n        const authority = getAuthority(tenantId, this.authorityHost);\n        this.identityClient = new IdentityClient(Object.assign(Object.assign({}, options.tokenCredentialOptions), { authorityHost: authority, loggingOptions: options.loggingOptions }));\n        const clientCapabilities = [];\n        return {\n            auth: {\n                clientId,\n                authority,\n                knownAuthorities: getKnownAuthorities(tenantId, authority, options.disableInstanceDiscovery),\n                clientCapabilities,\n            },\n            // Cache is defined in this.prepare();\n            system: {\n                networkClient: this.identityClient,\n                loggerOptions: {\n                    loggerCallback: defaultLoggerCallback(options.logger),\n                    logLevel: getMSALLogLevel(getLogLevel()),\n                    piiLoggingEnabled: (_a = options.loggingOptions) === null || _a === void 0 ? void 0 : _a.enableUnsafeSupportLogging,\n                },\n            },\n        };\n    }\n    getApp(appType, enableCae) {\n        const app = enableCae ? this.caeApp : this.app;\n        if (appType === \"publicFirst\") {\n            return (app.public || app.confidential);\n        }\n        else if (appType === \"confidentialFirst\") {\n            return (app.confidential || app.public);\n        }\n        else if (appType === \"confidential\") {\n            return app.confidential;\n        }\n        else {\n            return app.public;\n        }\n    }\n    /**\n     * Prepares the MSAL applications.\n     */\n    async init(options) {\n        if (options === null || options === void 0 ? void 0 : options.abortSignal) {\n            options.abortSignal.addEventListener(\"abort\", () => {\n                // This will abort any pending request in the IdentityClient,\n                // based on the received or generated correlationId\n                this.identityClient.abortRequests(options.correlationId);\n            });\n        }\n        const app = (options === null || options === void 0 ? void 0 : options.enableCae) ? this.caeApp : this.app;\n        if (options === null || options === void 0 ? void 0 : options.enableCae) {\n            this.msalConfig.auth.clientCapabilities = [\"cp1\"];\n        }\n        if (app.public || app.confidential) {\n            return;\n        }\n        if ((options === null || options === void 0 ? void 0 : options.enableCae) && this.createCachePluginCae !== undefined) {\n            this.msalConfig.cache = {\n                cachePlugin: await this.createCachePluginCae(),\n            };\n        }\n        if (this.createCachePlugin !== undefined) {\n            this.msalConfig.cache = {\n                cachePlugin: await this.createCachePlugin(),\n            };\n        }\n        if (hasNativeBroker() && this.enableBroker) {\n            this.msalConfig.broker = {\n                nativeBrokerPlugin: nativeBrokerInfo.broker,\n            };\n            if (!this.parentWindowHandle) {\n                // error should have been thrown from within the constructor of InteractiveBrowserCredential\n                this.logger.warning(\"Parent window handle is not specified for the broker. This may cause unexpected behavior. Please provide the parentWindowHandle.\");\n            }\n        }\n        if (options === null || options === void 0 ? void 0 : options.enableCae) {\n            this.caeApp.public = new msalNode.PublicClientApplication(this.msalConfig);\n        }\n        else {\n            this.app.public = new msalNode.PublicClientApplication(this.msalConfig);\n        }\n        if (this.getAssertion) {\n            this.msalConfig.auth.clientAssertion = await this.getAssertion();\n        }\n        // The confidential client requires either a secret, assertion or certificate.\n        if (this.msalConfig.auth.clientSecret ||\n            this.msalConfig.auth.clientAssertion ||\n            this.msalConfig.auth.clientCertificate) {\n            if (options === null || options === void 0 ? void 0 : options.enableCae) {\n                this.caeApp.confidential = new msalNode.ConfidentialClientApplication(this.msalConfig);\n            }\n            else {\n                this.app.confidential = new msalNode.ConfidentialClientApplication(this.msalConfig);\n            }\n        }\n        else {\n            if (this.requiresConfidential) {\n                throw new Error(\"Unable to generate the MSAL confidential client. Missing either the client's secret, certificate or assertion.\");\n            }\n        }\n    }\n    /**\n     * Allows the cancellation of a MSAL request.\n     */\n    withCancellation(promise, abortSignal, onCancel) {\n        return new Promise((resolve, reject) => {\n            promise\n                .then((msalToken) => {\n                return resolve(msalToken);\n            })\n                .catch(reject);\n            if (abortSignal) {\n                abortSignal.addEventListener(\"abort\", () => {\n                    onCancel === null || onCancel === void 0 ? void 0 : onCancel();\n                });\n            }\n        });\n    }\n    /**\n     * Returns the existing account, attempts to load the account from MSAL.\n     */\n    async getActiveAccount(enableCae = false) {\n        if (this.account) {\n            return this.account;\n        }\n        const cache = this.getApp(\"confidentialFirst\", enableCae).getTokenCache();\n        const accountsByTenant = await (cache === null || cache === void 0 ? void 0 : cache.getAllAccounts());\n        if (!accountsByTenant) {\n            return;\n        }\n        if (accountsByTenant.length === 1) {\n            this.account = msalToPublic(this.clientId, accountsByTenant[0]);\n        }\n        else {\n            this.logger\n                .info(`More than one account was found authenticated for this Client ID and Tenant ID.\nHowever, no \"authenticationRecord\" has been provided for this credential,\ntherefore we're unable to pick between these accounts.\nA new login attempt will be requested, to ensure the correct account is picked.\nTo work with multiple accounts for the same Client ID and Tenant ID, please provide an \"authenticationRecord\" when initializing a credential to prevent this from happening.`);\n            return;\n        }\n        return this.account;\n    }\n    /**\n     * Attempts to retrieve a token from cache.\n     */\n    async getTokenSilent(scopes, options) {\n        var _a, _b, _c;\n        await this.getActiveAccount(options === null || options === void 0 ? void 0 : options.enableCae);\n        if (!this.account) {\n            throw new AuthenticationRequiredError({\n                scopes,\n                getTokenOptions: options,\n                message: \"Silent authentication failed. We couldn't retrieve an active account from the cache.\",\n            });\n        }\n        const silentRequest = {\n            // To be able to re-use the account, the Token Cache must also have been provided.\n            account: publicToMsal(this.account),\n            correlationId: options === null || options === void 0 ? void 0 : options.correlationId,\n            scopes,\n            authority: options === null || options === void 0 ? void 0 : options.authority,\n            claims: options === null || options === void 0 ? void 0 : options.claims,\n        };\n        if (hasNativeBroker() && this.enableBroker) {\n            if (!silentRequest.tokenQueryParameters) {\n                silentRequest.tokenQueryParameters = {};\n            }\n            if (!this.parentWindowHandle) {\n                // error should have been thrown from within the constructor of InteractiveBrowserCredential\n                this.logger.warning(\"Parent window handle is not specified for the broker. This may cause unexpected behavior. Please provide the parentWindowHandle.\");\n            }\n            if (this.enableMsaPassthrough) {\n                silentRequest.tokenQueryParameters[\"msal_request_type\"] = \"consumer_passthrough\";\n            }\n        }\n        try {\n            this.logger.info(\"Attempting to acquire token silently\");\n            /**\n             * The following code to retrieve all accounts is done as a workaround in an attempt to force the\n             * refresh of the token cache with the token and the account passed in through the\n             * `authenticationRecord` parameter. See issue - https://github.com/Azure/azure-sdk-for-js/issues/24349#issuecomment-1496715651\n             * This workaround serves as a workaround for silent authentication not happening when authenticationRecord is passed.\n             */\n            await ((_a = this.getApp(\"publicFirst\", options === null || options === void 0 ? void 0 : options.enableCae)) === null || _a === void 0 ? void 0 : _a.getTokenCache().getAllAccounts());\n            const response = (_c = (await ((_b = this.getApp(\"confidential\", options === null || options === void 0 ? void 0 : options.enableCae)) === null || _b === void 0 ? void 0 : _b.acquireTokenSilent(silentRequest)))) !== null && _c !== void 0 ? _c : (await this.getApp(\"public\", options === null || options === void 0 ? void 0 : options.enableCae).acquireTokenSilent(silentRequest));\n            return this.handleResult(scopes, response || undefined);\n        }\n        catch (err) {\n            throw handleMsalError(scopes, err, options);\n        }\n    }\n    /**\n     * Wrapper around each MSAL flow get token operation: doGetToken.\n     * If disableAutomaticAuthentication is sent through the constructor, it will prevent MSAL from requesting the user input.\n     */\n    async getToken(scopes, options = {}) {\n        const tenantId = processMultiTenantRequest(this.tenantId, options, this.additionallyAllowedTenantIds) ||\n            this.tenantId;\n        options.authority = getAuthority(tenantId, this.authorityHost);\n        options.correlationId = (options === null || options === void 0 ? void 0 : options.correlationId) || randomUUID();\n        await this.init(options);\n        try {\n            // MSAL now caches tokens based on their claims,\n            // so now one has to keep track fo claims in order to retrieve the newer tokens from acquireTokenSilent\n            // This update happened on PR: https://github.com/AzureAD/microsoft-authentication-library-for-js/pull/4533\n            const optionsClaims = options.claims;\n            if (optionsClaims) {\n                this.cachedClaims = optionsClaims;\n            }\n            if (this.cachedClaims && !optionsClaims) {\n                options.claims = this.cachedClaims;\n            }\n            // We don't return the promise since we want to catch errors right here.\n            return await this.getTokenSilent(scopes, options);\n        }\n        catch (err) {\n            if (err.name !== \"AuthenticationRequiredError\") {\n                throw err;\n            }\n            if (options === null || options === void 0 ? void 0 : options.disableAutomaticAuthentication) {\n                throw new AuthenticationRequiredError({\n                    scopes,\n                    getTokenOptions: options,\n                    message: \"Automatic authentication has been disabled. You may call the authentication() method.\",\n                });\n            }\n            this.logger.info(`Silent authentication failed, falling back to interactive method.`);\n            return this.doGetToken(scopes, options);\n        }\n    }\n    /**\n     * Handles the MSAL authentication result.\n     * If the result has an account, we update the local account reference.\n     * If the token received is invalid, an error will be thrown depending on what's missing.\n     */\n    handleResult(scopes, result, getTokenOptions) {\n        if (result === null || result === void 0 ? void 0 : result.account) {\n            this.account = msalToPublic(this.clientId, result.account);\n        }\n        ensureValidMsalToken(scopes, result, getTokenOptions);\n        this.logger.getToken.info(formatSuccess(scopes));\n        return {\n            token: result.accessToken,\n            expiresOnTimestamp: result.expiresOn.getTime(),\n        };\n    }\n}\n//# sourceMappingURL=msalNodeCommon.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { MsalNode } from \"./msalNodeCommon\";\nimport { handleMsalError } from \"../utils\";\n/**\n * MSAL username and password client. Calls to the MSAL's public application's `acquireTokenByUsernamePassword` during `doGetToken`.\n * @internal\n */\nexport class MsalUsernamePassword extends MsalNode {\n    constructor(options) {\n        super(options);\n        this.username = options.username;\n        this.password = options.password;\n    }\n    async doGetToken(scopes, options) {\n        try {\n            const requestOptions = {\n                scopes,\n                username: this.username,\n                password: this.password,\n                correlationId: options === null || options === void 0 ? void 0 : options.correlationId,\n                authority: options === null || options === void 0 ? void 0 : options.authority,\n                claims: options === null || options === void 0 ? void 0 : options.claims,\n            };\n            const result = await this.getApp(\"public\", options === null || options === void 0 ? void 0 : options.enableCae).acquireTokenByUsernamePassword(requestOptions);\n            return this.handleResult(scopes, result || undefined);\n        }\n        catch (error) {\n            throw handleMsalError(scopes, error, options);\n        }\n    }\n}\n//# sourceMappingURL=msalUsernamePassword.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { processMultiTenantRequest, resolveAdditionallyAllowedTenantIds, } from \"../util/tenantIdUtils\";\nimport { MsalUsernamePassword } from \"../msal/nodeFlows/msalUsernamePassword\";\nimport { credentialLogger } from \"../util/logging\";\nimport { ensureScopes } from \"../util/scopeUtils\";\nimport { tracingClient } from \"../util/tracing\";\nconst logger = credentialLogger(\"UsernamePasswordCredential\");\n/**\n * Enables authentication to Microsoft Entra ID with a user's\n * username and password. This credential requires a high degree of\n * trust so you should only use it when other, more secure credential\n * types can't be used.\n */\nexport class UsernamePasswordCredential {\n    /**\n     * Creates an instance of the UsernamePasswordCredential with the details\n     * needed to authenticate against Microsoft Entra ID with a username\n     * and password.\n     *\n     * @param tenantId - The Microsoft Entra tenant (directory).\n     * @param clientId - The client (application) ID of an App Registration in the tenant.\n     * @param username - The user account's e-mail address (user name).\n     * @param password - The user account's account password\n     * @param options - Options for configuring the client which makes the authentication request.\n     */\n    constructor(tenantId, clientId, username, password, options = {}) {\n        if (!tenantId || !clientId || !username || !password) {\n            throw new Error(\"UsernamePasswordCredential: tenantId, clientId, username and password are required parameters. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.\");\n        }\n        this.tenantId = tenantId;\n        this.additionallyAllowedTenantIds = resolveAdditionallyAllowedTenantIds(options === null || options === void 0 ? void 0 : options.additionallyAllowedTenants);\n        this.msalFlow = new MsalUsernamePassword(Object.assign(Object.assign({}, options), { logger,\n            clientId,\n            tenantId,\n            username,\n            password, tokenCredentialOptions: options || {} }));\n    }\n    /**\n     * Authenticates with Microsoft Entra ID and returns an access token if successful.\n     * If authentication fails, a {@link CredentialUnavailableError} will be thrown with the details of the failure.\n     *\n     * If the user provided the option `disableAutomaticAuthentication`,\n     * once the token can't be retrieved silently,\n     * this method won't attempt to request user interaction to retrieve the token.\n     *\n     * @param scopes - The list of scopes for which the token will have access.\n     * @param options - The options used to configure any requests this\n     *                TokenCredential implementation might make.\n     */\n    async getToken(scopes, options = {}) {\n        return tracingClient.withSpan(`${this.constructor.name}.getToken`, options, async (newOptions) => {\n            newOptions.tenantId = processMultiTenantRequest(this.tenantId, newOptions, this.additionallyAllowedTenantIds, logger);\n            const arrayScopes = ensureScopes(scopes);\n            return this.msalFlow.getToken(arrayScopes, newOptions);\n        });\n    }\n}\n//# sourceMappingURL=usernamePasswordCredential.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { AuthenticationError, CredentialUnavailableError } from \"../errors\";\nimport { credentialLogger, formatError, formatSuccess, processEnvVars } from \"../util/logging\";\nimport { ClientCertificateCredential } from \"./clientCertificateCredential\";\nimport { ClientSecretCredential } from \"./clientSecretCredential\";\nimport { UsernamePasswordCredential } from \"./usernamePasswordCredential\";\nimport { checkTenantId } from \"../util/tenantIdUtils\";\nimport { tracingClient } from \"../util/tracing\";\n/**\n * Contains the list of all supported environment variable names so that an\n * appropriate error message can be generated when no credentials can be\n * configured.\n *\n * @internal\n */\nexport const AllSupportedEnvironmentVariables = [\n    \"AZURE_TENANT_ID\",\n    \"AZURE_CLIENT_ID\",\n    \"AZURE_CLIENT_SECRET\",\n    \"AZURE_CLIENT_CERTIFICATE_PATH\",\n    \"AZURE_CLIENT_CERTIFICATE_PASSWORD\",\n    \"AZURE_USERNAME\",\n    \"AZURE_PASSWORD\",\n    \"AZURE_ADDITIONALLY_ALLOWED_TENANTS\",\n];\nfunction getAdditionallyAllowedTenants() {\n    var _a;\n    const additionallyAllowedValues = (_a = process.env.AZURE_ADDITIONALLY_ALLOWED_TENANTS) !== null && _a !== void 0 ? _a : \"\";\n    return additionallyAllowedValues.split(\";\");\n}\nconst credentialName = \"EnvironmentCredential\";\nconst logger = credentialLogger(credentialName);\n/**\n * Enables authentication to Microsoft Entra ID using a client secret or certificate, or as a user\n * with a username and password.\n */\nexport class EnvironmentCredential {\n    /**\n     * Creates an instance of the EnvironmentCredential class and decides what credential to use depending on the available environment variables.\n     *\n     * Required environment variables:\n     * - `AZURE_TENANT_ID`: The Microsoft Entra tenant (directory) ID.\n     * - `AZURE_CLIENT_ID`: The client (application) ID of an App Registration in the tenant.\n     *\n     * If setting the AZURE_TENANT_ID, then you can also set the additionally allowed tenants\n     * - `AZURE_ADDITIONALLY_ALLOWED_TENANTS`: For multi-tenant applications, specifies additional tenants for which the credential may acquire tokens with a single semicolon delimited string. Use * to allow all tenants.\n     *\n     * Environment variables used for client credential authentication:\n     * - `AZURE_CLIENT_SECRET`: A client secret that was generated for the App Registration.\n     * - `AZURE_CLIENT_CERTIFICATE_PATH`: The path to a PEM certificate to use during the authentication, instead of the client secret.\n     * - `AZURE_CLIENT_CERTIFICATE_PASSWORD`: (optional) password for the certificate file.\n     *\n     * Alternatively, users can provide environment variables for username and password authentication:\n     * - `AZURE_USERNAME`: Username to authenticate with.\n     * - `AZURE_PASSWORD`: Password to authenticate with.\n     *\n     * If the environment variables required to perform the authentication are missing, a {@link CredentialUnavailableError} will be thrown.\n     * If the authentication fails, or if there's an unknown error, an {@link AuthenticationError} will be thrown.\n     *\n     * @param options - Options for configuring the client which makes the authentication request.\n     */\n    constructor(options) {\n        // Keep track of any missing environment variables for error details\n        this._credential = undefined;\n        const assigned = processEnvVars(AllSupportedEnvironmentVariables).assigned.join(\", \");\n        logger.info(`Found the following environment variables: ${assigned}`);\n        const tenantId = process.env.AZURE_TENANT_ID, clientId = process.env.AZURE_CLIENT_ID, clientSecret = process.env.AZURE_CLIENT_SECRET;\n        const additionallyAllowedTenantIds = getAdditionallyAllowedTenants();\n        const newOptions = Object.assign(Object.assign({}, options), { additionallyAllowedTenantIds });\n        if (tenantId) {\n            checkTenantId(logger, tenantId);\n        }\n        if (tenantId && clientId && clientSecret) {\n            logger.info(`Invoking ClientSecretCredential with tenant ID: ${tenantId}, clientId: ${clientId} and clientSecret: [REDACTED]`);\n            this._credential = new ClientSecretCredential(tenantId, clientId, clientSecret, newOptions);\n            return;\n        }\n        const certificatePath = process.env.AZURE_CLIENT_CERTIFICATE_PATH;\n        const certificatePassword = process.env.AZURE_CLIENT_CERTIFICATE_PASSWORD;\n        if (tenantId && clientId && certificatePath) {\n            logger.info(`Invoking ClientCertificateCredential with tenant ID: ${tenantId}, clientId: ${clientId} and certificatePath: ${certificatePath}`);\n            this._credential = new ClientCertificateCredential(tenantId, clientId, { certificatePath, certificatePassword }, newOptions);\n            return;\n        }\n        const username = process.env.AZURE_USERNAME;\n        const password = process.env.AZURE_PASSWORD;\n        if (tenantId && clientId && username && password) {\n            logger.info(`Invoking UsernamePasswordCredential with tenant ID: ${tenantId}, clientId: ${clientId} and username: ${username}`);\n            this._credential = new UsernamePasswordCredential(tenantId, clientId, username, password, newOptions);\n        }\n    }\n    /**\n     * Authenticates with Microsoft Entra ID and returns an access token if successful.\n     *\n     * @param scopes - The list of scopes for which the token will have access.\n     * @param options - Optional parameters. See {@link GetTokenOptions}.\n     */\n    async getToken(scopes, options = {}) {\n        return tracingClient.withSpan(`${credentialName}.getToken`, options, async (newOptions) => {\n            if (this._credential) {\n                try {\n                    const result = await this._credential.getToken(scopes, newOptions);\n                    logger.getToken.info(formatSuccess(scopes));\n                    return result;\n                }\n                catch (err) {\n                    const authenticationError = new AuthenticationError(400, {\n                        error: `${credentialName} authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`,\n                        error_description: err.message.toString().split(\"More details:\").join(\"\"),\n                    });\n                    logger.getToken.info(formatError(scopes, authenticationError));\n                    throw authenticationError;\n                }\n            }\n            throw new CredentialUnavailableError(`${credentialName} is unavailable. No underlying credential could be used. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`);\n        });\n    }\n}\n//# sourceMappingURL=environmentCredential.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { ManagedIdentityCredential, } from \"./managedIdentityCredential\";\nimport { AzureCliCredential } from \"./azureCliCredential\";\nimport { AzureDeveloperCliCredential } from \"./azureDeveloperCliCredential\";\nimport { AzurePowerShellCredential } from \"./azurePowerShellCredential\";\nimport { ChainedTokenCredential } from \"./chainedTokenCredential\";\nimport { EnvironmentCredential } from \"./environmentCredential\";\nimport { WorkloadIdentityCredential } from \"./workloadIdentityCredential\";\nimport { credentialLogger } from \"../util/logging\";\nconst logger = credentialLogger(\"DefaultAzureCredential\");\n/**\n * Creates a {@link ManagedIdentityCredential} from the provided options.\n * @param options - Options to configure the credential.\n *\n * @internal\n */\nexport function createDefaultManagedIdentityCredential(options = {}) {\n    var _a, _b, _c, _d;\n    (_a = options.retryOptions) !== null && _a !== void 0 ? _a : (options.retryOptions = {\n        maxRetries: 5,\n        retryDelayInMs: 800,\n    });\n    const managedIdentityClientId = (_b = options === null || options === void 0 ? void 0 : options.managedIdentityClientId) !== null && _b !== void 0 ? _b : process.env.AZURE_CLIENT_ID;\n    const workloadIdentityClientId = (_c = options === null || options === void 0 ? void 0 : options.workloadIdentityClientId) !== null && _c !== void 0 ? _c : managedIdentityClientId;\n    const managedResourceId = options === null || options === void 0 ? void 0 : options.managedIdentityResourceId;\n    const workloadFile = process.env.AZURE_FEDERATED_TOKEN_FILE;\n    const tenantId = (_d = options === null || options === void 0 ? void 0 : options.tenantId) !== null && _d !== void 0 ? _d : process.env.AZURE_TENANT_ID;\n    if (managedResourceId) {\n        const managedIdentityResourceIdOptions = Object.assign(Object.assign({}, options), { resourceId: managedResourceId });\n        return new ManagedIdentityCredential(managedIdentityResourceIdOptions);\n    }\n    if (workloadFile && workloadIdentityClientId) {\n        const workloadIdentityCredentialOptions = Object.assign(Object.assign({}, options), { tenantId: tenantId });\n        return new ManagedIdentityCredential(workloadIdentityClientId, workloadIdentityCredentialOptions);\n    }\n    if (managedIdentityClientId) {\n        const managedIdentityClientOptions = Object.assign(Object.assign({}, options), { clientId: managedIdentityClientId });\n        return new ManagedIdentityCredential(managedIdentityClientOptions);\n    }\n    // We may be able to return a UnavailableCredential here, but that may be a breaking change\n    return new ManagedIdentityCredential(options);\n}\n/**\n * Creates a {@link WorkloadIdentityCredential} from the provided options.\n * @param options - Options to configure the credential.\n *\n * @internal\n */\nfunction createDefaultWorkloadIdentityCredential(options) {\n    var _a, _b, _c;\n    const managedIdentityClientId = (_a = options === null || options === void 0 ? void 0 : options.managedIdentityClientId) !== null && _a !== void 0 ? _a : process.env.AZURE_CLIENT_ID;\n    const workloadIdentityClientId = (_b = options === null || options === void 0 ? void 0 : options.workloadIdentityClientId) !== null && _b !== void 0 ? _b : managedIdentityClientId;\n    const workloadFile = process.env.AZURE_FEDERATED_TOKEN_FILE;\n    const tenantId = (_c = options === null || options === void 0 ? void 0 : options.tenantId) !== null && _c !== void 0 ? _c : process.env.AZURE_TENANT_ID;\n    if (workloadFile && workloadIdentityClientId) {\n        const workloadIdentityCredentialOptions = Object.assign(Object.assign({}, options), { tenantId, clientId: workloadIdentityClientId, tokenFilePath: workloadFile });\n        return new WorkloadIdentityCredential(workloadIdentityCredentialOptions);\n    }\n    if (tenantId) {\n        const workloadIdentityClientTenantOptions = Object.assign(Object.assign({}, options), { tenantId });\n        return new WorkloadIdentityCredential(workloadIdentityClientTenantOptions);\n    }\n    // We may be able to return a UnavailableCredential here, but that may be a breaking change\n    return new WorkloadIdentityCredential(options);\n}\n/**\n * Creates a {@link AzureDeveloperCliCredential} from the provided options.\n * @param options - Options to configure the credential.\n *\n * @internal\n */\nfunction createDefaultAzureDeveloperCliCredential(options = {}) {\n    const processTimeoutInMs = options.processTimeoutInMs;\n    return new AzureDeveloperCliCredential(Object.assign({ processTimeoutInMs }, options));\n}\n/**\n * Creates a {@link AzureCliCredential} from the provided options.\n * @param options - Options to configure the credential.\n *\n * @internal\n */\nfunction createDefaultAzureCliCredential(options = {}) {\n    const processTimeoutInMs = options.processTimeoutInMs;\n    return new AzureCliCredential(Object.assign({ processTimeoutInMs }, options));\n}\n/**\n * Creates a {@link AzurePowerShellCredential} from the provided options.\n * @param options - Options to configure the credential.\n *\n * @internal\n */\nfunction createDefaultAzurePowershellCredential(options = {}) {\n    const processTimeoutInMs = options.processTimeoutInMs;\n    return new AzurePowerShellCredential(Object.assign({ processTimeoutInMs }, options));\n}\n/**\n * Creates an {@link EnvironmentCredential} from the provided options.\n * @param options - Options to configure the credential.\n *\n * @internal\n */\nexport function createEnvironmentCredential(options = {}) {\n    return new EnvironmentCredential(options);\n}\n/**\n * A no-op credential that logs the reason it was skipped if getToken is called.\n * @internal\n */\nexport class UnavailableDefaultCredential {\n    constructor(credentialName, message) {\n        this.credentialName = credentialName;\n        this.credentialUnavailableErrorMessage = message;\n    }\n    getToken() {\n        logger.getToken.info(`Skipping ${this.credentialName}, reason: ${this.credentialUnavailableErrorMessage}`);\n        return Promise.resolve(null);\n    }\n}\n/**\n * Provides a default {@link ChainedTokenCredential} configuration that should\n * work for most applications that use the Azure SDK.\n */\nexport class DefaultAzureCredential extends ChainedTokenCredential {\n    constructor(options) {\n        const credentialFunctions = [\n            createEnvironmentCredential,\n            createDefaultWorkloadIdentityCredential,\n            createDefaultManagedIdentityCredential,\n            createDefaultAzureCliCredential,\n            createDefaultAzurePowershellCredential,\n            createDefaultAzureDeveloperCliCredential,\n        ];\n        // DefaultCredential constructors should not throw, instead throwing on getToken() which is handled by ChainedTokenCredential.\n        // When adding new credentials to the default chain, consider:\n        // 1. Making the constructor parameters required and explicit\n        // 2. Validating any required parameters in the factory function\n        // 3. Returning a UnavailableDefaultCredential from the factory function if a credential is unavailable for any reason\n        const credentials = credentialFunctions.map((createCredentialFn) => {\n            try {\n                return createCredentialFn(options);\n            }\n            catch (err) {\n                logger.warning(`Skipped ${createCredentialFn.name} because of an error creating the credential: ${err}`);\n                return new UnavailableDefaultCredential(createCredentialFn.name, err.message);\n            }\n        });\n        super(...credentials);\n    }\n}\n//# sourceMappingURL=defaultAzureCredential.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { MsalNode } from \"./msalNodeCommon\";\nimport { credentialLogger } from \"../../util/logging\";\nimport { handleMsalError } from \"../utils\";\nimport { hasNativeBroker } from \"./msalPlugins\";\nimport open from \"open\";\n/**\n * A call to open(), but mockable\n * @internal\n */\nexport const interactiveBrowserMockable = {\n    open,\n};\n/**\n * This MSAL client sets up a web server to listen for redirect callbacks, then calls to the MSAL's public application's `acquireTokenByDeviceCode` during `doGetToken`\n * to trigger the authentication flow, and then respond based on the values obtained from the redirect callback\n * @internal\n */\nexport class MsalOpenBrowser extends MsalNode {\n    constructor(options) {\n        var _a, _b, _c, _d;\n        super(options);\n        this.loginHint = options.loginHint;\n        this.errorTemplate = (_a = options.browserCustomizationOptions) === null || _a === void 0 ? void 0 : _a.errorMessage;\n        this.successTemplate = (_b = options.browserCustomizationOptions) === null || _b === void 0 ? void 0 : _b.successMessage;\n        this.logger = credentialLogger(\"Node.js MSAL Open Browser\");\n        this.useDefaultBrokerAccount =\n            ((_c = options.brokerOptions) === null || _c === void 0 ? void 0 : _c.enabled) && ((_d = options.brokerOptions) === null || _d === void 0 ? void 0 : _d.useDefaultBrokerAccount);\n    }\n    async doGetToken(scopes, options = {}) {\n        try {\n            const interactiveRequest = {\n                openBrowser: async (url) => {\n                    await interactiveBrowserMockable.open(url, { wait: true, newInstance: true });\n                },\n                scopes,\n                authority: options === null || options === void 0 ? void 0 : options.authority,\n                claims: options === null || options === void 0 ? void 0 : options.claims,\n                correlationId: options === null || options === void 0 ? void 0 : options.correlationId,\n                loginHint: this.loginHint,\n                errorTemplate: this.errorTemplate,\n                successTemplate: this.successTemplate,\n            };\n            if (hasNativeBroker() && this.enableBroker) {\n                return this.doGetBrokeredToken(scopes, interactiveRequest, {\n                    enableCae: options.enableCae,\n                    useDefaultBrokerAccount: this.useDefaultBrokerAccount,\n                });\n            }\n            // If the broker is not enabled, we will fall back to interactive authentication\n            if (hasNativeBroker() && !this.enableBroker) {\n                this.logger.verbose(\"Authentication will resume normally without the broker, since it's not enabled\");\n            }\n            const result = await this.getApp(\"public\", options === null || options === void 0 ? void 0 : options.enableCae).acquireTokenInteractive(interactiveRequest);\n            return this.handleResult(scopes, result || undefined);\n        }\n        catch (err) {\n            throw handleMsalError(scopes, err, options);\n        }\n    }\n    /**\n     * A helper function that supports brokered authentication through the MSAL's public application.\n     *\n     * When options.useDefaultBrokerAccount is true, the method will attempt to authenticate using the default broker account.\n     * If the default broker account is not available, the method will fall back to interactive authentication.\n     */\n    async doGetBrokeredToken(scopes, interactiveRequest, options) {\n        var _a;\n        this.logger.verbose(\"Authentication will resume through the broker\");\n        if (this.parentWindowHandle) {\n            interactiveRequest.windowHandle = Buffer.from(this.parentWindowHandle);\n        }\n        else {\n            // error should have been thrown from within the constructor of InteractiveBrowserCredential\n            this.logger.warning(\"Parent window handle is not specified for the broker. This may cause unexpected behavior. Please provide the parentWindowHandle.\");\n        }\n        if (this.enableMsaPassthrough) {\n            ((_a = interactiveRequest.tokenQueryParameters) !== null && _a !== void 0 ? _a : (interactiveRequest.tokenQueryParameters = {}))[\"msal_request_type\"] =\n                \"consumer_passthrough\";\n        }\n        if (options.useDefaultBrokerAccount) {\n            interactiveRequest.prompt = \"none\";\n            this.logger.verbose(\"Attempting broker authentication using the default broker account\");\n        }\n        else {\n            interactiveRequest.prompt = undefined;\n            this.logger.verbose(\"Attempting broker authentication without the default broker account\");\n        }\n        try {\n            const result = await this.getApp(\"public\", options === null || options === void 0 ? void 0 : options.enableCae).acquireTokenInteractive(interactiveRequest);\n            if (result.fromNativeBroker) {\n                this.logger.verbose(`This result is returned from native broker`);\n            }\n            return this.handleResult(scopes, result || undefined);\n        }\n        catch (e) {\n            this.logger.verbose(`Failed to authenticate through the broker: ${e.message}`);\n            // If we tried to use the default broker account and failed, fall back to interactive authentication\n            if (options.useDefaultBrokerAccount) {\n                return this.doGetBrokeredToken(scopes, interactiveRequest, {\n                    enableCae: options.enableCae,\n                    useDefaultBrokerAccount: false,\n                });\n            }\n            else {\n                // If we're not using the default broker account, throw the error\n                throw handleMsalError(scopes, e);\n            }\n        }\n    }\n}\n//# sourceMappingURL=msalOpenBrowser.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { processMultiTenantRequest, resolveAdditionallyAllowedTenantIds, } from \"../util/tenantIdUtils\";\nimport { MsalOpenBrowser } from \"../msal/nodeFlows/msalOpenBrowser\";\nimport { credentialLogger } from \"../util/logging\";\nimport { ensureScopes } from \"../util/scopeUtils\";\nimport { tracingClient } from \"../util/tracing\";\nconst logger = credentialLogger(\"InteractiveBrowserCredential\");\n/**\n * Enables authentication to Microsoft Entra ID inside of the web browser\n * using the interactive login flow.\n */\nexport class InteractiveBrowserCredential {\n    /**\n     * Creates an instance of InteractiveBrowserCredential with the details needed.\n     *\n     * This credential uses the [Authorization Code Flow](https://learn.microsoft.com/entra/identity-platform/v2-oauth2-auth-code-flow).\n     * On Node.js, it will open a browser window while it listens for a redirect response from the authentication service.\n     * On browsers, it authenticates via popups. The `loginStyle` optional parameter can be set to `redirect` to authenticate by redirecting the user to an Azure secure login page, which then will redirect the user back to the web application where the authentication started.\n     *\n     * For Node.js, if a `clientId` is provided, the Microsoft Entra application will need to be configured to have a \"Mobile and desktop applications\" redirect endpoint.\n     * Follow our guide on [setting up Redirect URIs for Desktop apps that calls to web APIs](https://learn.microsoft.com/entra/identity-platform/scenario-desktop-app-registration#redirect-uris).\n     *\n     * @param options - Options for configuring the client which makes the authentication requests.\n     */\n    constructor(options) {\n        var _a, _b, _c, _d;\n        const redirectUri = typeof options.redirectUri === \"function\"\n            ? options.redirectUri()\n            : options.redirectUri || \"http://localhost\";\n        this.tenantId = options === null || options === void 0 ? void 0 : options.tenantId;\n        this.additionallyAllowedTenantIds = resolveAdditionallyAllowedTenantIds(options === null || options === void 0 ? void 0 : options.additionallyAllowedTenants);\n        const ibcNodeOptions = options;\n        if ((_a = ibcNodeOptions === null || ibcNodeOptions === void 0 ? void 0 : ibcNodeOptions.brokerOptions) === null || _a === void 0 ? void 0 : _a.enabled) {\n            if (!((_b = ibcNodeOptions === null || ibcNodeOptions === void 0 ? void 0 : ibcNodeOptions.brokerOptions) === null || _b === void 0 ? void 0 : _b.parentWindowHandle)) {\n                throw new Error(\"In order to do WAM authentication, `parentWindowHandle` under `brokerOptions` is a required parameter\");\n            }\n            else {\n                this.msalFlow = new MsalOpenBrowser(Object.assign(Object.assign({}, options), { tokenCredentialOptions: options, logger,\n                    redirectUri, browserCustomizationOptions: ibcNodeOptions === null || ibcNodeOptions === void 0 ? void 0 : ibcNodeOptions.browserCustomizationOptions, brokerOptions: {\n                        enabled: true,\n                        parentWindowHandle: ibcNodeOptions.brokerOptions.parentWindowHandle,\n                        legacyEnableMsaPassthrough: (_c = ibcNodeOptions.brokerOptions) === null || _c === void 0 ? void 0 : _c.legacyEnableMsaPassthrough,\n                        useDefaultBrokerAccount: (_d = ibcNodeOptions.brokerOptions) === null || _d === void 0 ? void 0 : _d.useDefaultBrokerAccount,\n                    } }));\n            }\n        }\n        else {\n            this.msalFlow = new MsalOpenBrowser(Object.assign(Object.assign({}, options), { tokenCredentialOptions: options, logger,\n                redirectUri, browserCustomizationOptions: ibcNodeOptions === null || ibcNodeOptions === void 0 ? void 0 : ibcNodeOptions.browserCustomizationOptions }));\n        }\n        this.disableAutomaticAuthentication = options === null || options === void 0 ? void 0 : options.disableAutomaticAuthentication;\n    }\n    /**\n     * Authenticates with Microsoft Entra ID and returns an access token if successful.\n     * If authentication fails, a {@link CredentialUnavailableError} will be thrown with the details of the failure.\n     *\n     * If the user provided the option `disableAutomaticAuthentication`,\n     * once the token can't be retrieved silently,\n     * this method won't attempt to request user interaction to retrieve the token.\n     *\n     * @param scopes - The list of scopes for which the token will have access.\n     * @param options - The options used to configure any requests this\n     *                TokenCredential implementation might make.\n     */\n    async getToken(scopes, options = {}) {\n        return tracingClient.withSpan(`${this.constructor.name}.getToken`, options, async (newOptions) => {\n            newOptions.tenantId = processMultiTenantRequest(this.tenantId, newOptions, this.additionallyAllowedTenantIds, logger);\n            const arrayScopes = ensureScopes(scopes);\n            return this.msalFlow.getToken(arrayScopes, Object.assign(Object.assign({}, newOptions), { disableAutomaticAuthentication: this.disableAutomaticAuthentication }));\n        });\n    }\n    /**\n     * Authenticates with Microsoft Entra ID and returns an access token if successful.\n     * If authentication fails, a {@link CredentialUnavailableError} will be thrown with the details of the failure.\n     *\n     * If the token can't be retrieved silently, this method will require user interaction to retrieve the token.\n     *\n     * On Node.js, this credential has [Proof Key for Code Exchange (PKCE)](https://datatracker.ietf.org/doc/html/rfc7636) enabled by default.\n     * PKCE is a security feature that mitigates authentication code interception attacks.\n     *\n     * @param scopes - The list of scopes for which the token will have access.\n     * @param options - The options used to configure any requests this\n     *                  TokenCredential implementation might make.\n     */\n    async authenticate(scopes, options = {}) {\n        return tracingClient.withSpan(`${this.constructor.name}.authenticate`, options, async (newOptions) => {\n            const arrayScopes = ensureScopes(scopes);\n            await this.msalFlow.getToken(arrayScopes, newOptions);\n            return this.msalFlow.getActiveAccount();\n        });\n    }\n}\n//# sourceMappingURL=interactiveBrowserCredential.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { MsalNode } from \"./msalNodeCommon\";\nimport { handleMsalError } from \"../utils\";\n/**\n * MSAL device code client. Calls to the MSAL's public application's `acquireTokenByDeviceCode` during `doGetToken`.\n * @internal\n */\nexport class MsalDeviceCode extends MsalNode {\n    constructor(options) {\n        super(options);\n        this.userPromptCallback = options.userPromptCallback;\n    }\n    async doGetToken(scopes, options) {\n        try {\n            const requestOptions = {\n                deviceCodeCallback: this.userPromptCallback,\n                scopes,\n                cancel: false,\n                correlationId: options === null || options === void 0 ? void 0 : options.correlationId,\n                authority: options === null || options === void 0 ? void 0 : options.authority,\n                claims: options === null || options === void 0 ? void 0 : options.claims,\n            };\n            const promise = this.getApp(\"public\", options === null || options === void 0 ? void 0 : options.enableCae).acquireTokenByDeviceCode(requestOptions);\n            const deviceResponse = await this.withCancellation(promise, options === null || options === void 0 ? void 0 : options.abortSignal, () => {\n                requestOptions.cancel = true;\n            });\n            return this.handleResult(scopes, deviceResponse || undefined);\n        }\n        catch (error) {\n            throw handleMsalError(scopes, error, options);\n        }\n    }\n}\n//# sourceMappingURL=msalDeviceCode.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { processMultiTenantRequest, resolveAdditionallyAllowedTenantIds, } from \"../util/tenantIdUtils\";\nimport { MsalDeviceCode } from \"../msal/nodeFlows/msalDeviceCode\";\nimport { credentialLogger } from \"../util/logging\";\nimport { ensureScopes } from \"../util/scopeUtils\";\nimport { tracingClient } from \"../util/tracing\";\nconst logger = credentialLogger(\"DeviceCodeCredential\");\n/**\n * Method that logs the user code from the DeviceCodeCredential.\n * @param deviceCodeInfo - The device code.\n */\nexport function defaultDeviceCodePromptCallback(deviceCodeInfo) {\n    console.log(deviceCodeInfo.message);\n}\n/**\n * Enables authentication to Microsoft Entra ID using a device code\n * that the user can enter into https://microsoft.com/devicelogin.\n */\nexport class DeviceCodeCredential {\n    /**\n     * Creates an instance of DeviceCodeCredential with the details needed\n     * to initiate the device code authorization flow with Microsoft Entra ID.\n     *\n     * A message will be logged, giving users a code that they can use to authenticate once they go to https://microsoft.com/devicelogin\n     *\n     * Developers can configure how this message is shown by passing a custom `userPromptCallback`:\n     *\n     * ```js\n     * const credential = new DeviceCodeCredential({\n     *   tenantId: env.AZURE_TENANT_ID,\n     *   clientId: env.AZURE_CLIENT_ID,\n     *   userPromptCallback: (info) => {\n     *     console.log(\"CUSTOMIZED PROMPT CALLBACK\", info.message);\n     *   }\n     * });\n     * ```\n     *\n     * @param options - Options for configuring the client which makes the authentication requests.\n     */\n    constructor(options) {\n        this.tenantId = options === null || options === void 0 ? void 0 : options.tenantId;\n        this.additionallyAllowedTenantIds = resolveAdditionallyAllowedTenantIds(options === null || options === void 0 ? void 0 : options.additionallyAllowedTenants);\n        this.msalFlow = new MsalDeviceCode(Object.assign(Object.assign({}, options), { logger, userPromptCallback: (options === null || options === void 0 ? void 0 : options.userPromptCallback) || defaultDeviceCodePromptCallback, tokenCredentialOptions: options || {} }));\n        this.disableAutomaticAuthentication = options === null || options === void 0 ? void 0 : options.disableAutomaticAuthentication;\n    }\n    /**\n     * Authenticates with Microsoft Entra ID and returns an access token if successful.\n     * If authentication fails, a {@link CredentialUnavailableError} will be thrown with the details of the failure.\n     *\n     * If the user provided the option `disableAutomaticAuthentication`,\n     * once the token can't be retrieved silently,\n     * this method won't attempt to request user interaction to retrieve the token.\n     *\n     * @param scopes - The list of scopes for which the token will have access.\n     * @param options - The options used to configure any requests this\n     *                TokenCredential implementation might make.\n     */\n    async getToken(scopes, options = {}) {\n        return tracingClient.withSpan(`${this.constructor.name}.getToken`, options, async (newOptions) => {\n            newOptions.tenantId = processMultiTenantRequest(this.tenantId, newOptions, this.additionallyAllowedTenantIds, logger);\n            const arrayScopes = ensureScopes(scopes);\n            return this.msalFlow.getToken(arrayScopes, Object.assign(Object.assign({}, newOptions), { disableAutomaticAuthentication: this.disableAutomaticAuthentication }));\n        });\n    }\n    /**\n     * Authenticates with Microsoft Entra ID and returns an access token if successful.\n     * If authentication fails, a {@link CredentialUnavailableError} will be thrown with the details of the failure.\n     *\n     * If the token can't be retrieved silently, this method will require user interaction to retrieve the token.\n     *\n     * @param scopes - The list of scopes for which the token will have access.\n     * @param options - The options used to configure any requests this\n     *                  TokenCredential implementation might make.\n     */\n    async authenticate(scopes, options = {}) {\n        return tracingClient.withSpan(`${this.constructor.name}.authenticate`, options, async (newOptions) => {\n            const arrayScopes = Array.isArray(scopes) ? scopes : [scopes];\n            await this.msalFlow.getToken(arrayScopes, newOptions);\n            return this.msalFlow.getActiveAccount();\n        });\n    }\n}\n//# sourceMappingURL=deviceCodeCredential.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { MsalNode } from \"./msalNodeCommon\";\nimport { credentialLogger } from \"../../util/logging\";\nimport { handleMsalError } from \"../utils\";\n/**\n * This MSAL client sets up a web server to listen for redirect callbacks, then calls to the MSAL's public application's `acquireTokenByDeviceCode` during `doGetToken`\n * to trigger the authentication flow, and then respond based on the values obtained from the redirect callback\n * @internal\n */\nexport class MsalAuthorizationCode extends MsalNode {\n    constructor(options) {\n        super(options);\n        this.logger = credentialLogger(\"Node.js MSAL Authorization Code\");\n        this.redirectUri = options.redirectUri;\n        this.authorizationCode = options.authorizationCode;\n        if (options.clientSecret) {\n            this.msalConfig.auth.clientSecret = options.clientSecret;\n        }\n    }\n    async getAuthCodeUrl(options) {\n        await this.init();\n        return this.getApp(\"confidentialFirst\", options.enableCae).getAuthCodeUrl({\n            scopes: options.scopes,\n            redirectUri: options.redirectUri,\n        });\n    }\n    async doGetToken(scopes, options) {\n        try {\n            const result = await this.getApp(\"confidentialFirst\", options === null || options === void 0 ? void 0 : options.enableCae).acquireTokenByCode({\n                scopes,\n                redirectUri: this.redirectUri,\n                code: this.authorizationCode,\n                correlationId: options === null || options === void 0 ? void 0 : options.correlationId,\n                authority: options === null || options === void 0 ? void 0 : options.authority,\n                claims: options === null || options === void 0 ? void 0 : options.claims,\n            });\n            // The Client Credential flow does not return an account,\n            // so each time getToken gets called, we will have to acquire a new token through the service.\n            return this.handleResult(scopes, result || undefined);\n        }\n        catch (err) {\n            throw handleMsalError(scopes, err, options);\n        }\n    }\n}\n//# sourceMappingURL=msalAuthorizationCode.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { processMultiTenantRequest, resolveAdditionallyAllowedTenantIds, } from \"../util/tenantIdUtils\";\nimport { MsalAuthorizationCode } from \"../msal/nodeFlows/msalAuthorizationCode\";\nimport { checkTenantId } from \"../util/tenantIdUtils\";\nimport { credentialLogger } from \"../util/logging\";\nimport { ensureScopes } from \"../util/scopeUtils\";\nimport { tracingClient } from \"../util/tracing\";\nconst logger = credentialLogger(\"AuthorizationCodeCredential\");\n/**\n * Enables authentication to Microsoft Entra ID using an authorization code\n * that was obtained through the authorization code flow, described in more detail\n * in the Microsoft Entra ID documentation:\n *\n * https://learn.microsoft.com/entra/identity-platform/v2-oauth2-auth-code-flow\n */\nexport class AuthorizationCodeCredential {\n    /**\n     * @hidden\n     * @internal\n     */\n    constructor(tenantId, clientId, clientSecretOrAuthorizationCode, authorizationCodeOrRedirectUri, redirectUriOrOptions, options) {\n        checkTenantId(logger, tenantId);\n        let clientSecret = clientSecretOrAuthorizationCode;\n        if (typeof redirectUriOrOptions === \"string\") {\n            // the clientId+clientSecret constructor\n            this.authorizationCode = authorizationCodeOrRedirectUri;\n            this.redirectUri = redirectUriOrOptions;\n            // in this case, options are good as they come\n        }\n        else {\n            // clientId only\n            this.authorizationCode = clientSecretOrAuthorizationCode;\n            this.redirectUri = authorizationCodeOrRedirectUri;\n            clientSecret = undefined;\n            options = redirectUriOrOptions;\n        }\n        // TODO: Validate tenant if provided\n        this.tenantId = tenantId;\n        this.additionallyAllowedTenantIds = resolveAdditionallyAllowedTenantIds(options === null || options === void 0 ? void 0 : options.additionallyAllowedTenants);\n        this.msalFlow = new MsalAuthorizationCode(Object.assign(Object.assign({}, options), { clientSecret,\n            clientId,\n            tenantId, tokenCredentialOptions: options || {}, logger, redirectUri: this.redirectUri, authorizationCode: this.authorizationCode }));\n    }\n    /**\n     * Authenticates with Microsoft Entra ID and returns an access token if successful.\n     * If authentication fails, a {@link CredentialUnavailableError} will be thrown with the details of the failure.\n     *\n     * @param scopes - The list of scopes for which the token will have access.\n     * @param options - The options used to configure any requests this\n     *                TokenCredential implementation might make.\n     */\n    async getToken(scopes, options = {}) {\n        return tracingClient.withSpan(`${this.constructor.name}.getToken`, options, async (newOptions) => {\n            const tenantId = processMultiTenantRequest(this.tenantId, newOptions, this.additionallyAllowedTenantIds);\n            newOptions.tenantId = tenantId;\n            const arrayScopes = ensureScopes(scopes);\n            return this.msalFlow.getToken(arrayScopes, Object.assign(Object.assign({}, newOptions), { disableAutomaticAuthentication: this.disableAutomaticAuthentication }));\n        });\n    }\n}\n//# sourceMappingURL=authorizationCodeCredential.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { MsalNode } from \"./msalNodeCommon\";\nimport { createHash, createPrivateKey } from \"crypto\";\nimport { formatError } from \"../../util/logging\";\nimport { handleMsalError } from \"../utils\";\nimport { promisify } from \"util\";\nimport { readFile } from \"fs\";\nconst readFileAsync = promisify(readFile);\n/**\n * Tries to asynchronously load a certificate from the given path.\n *\n * @param configuration - Either the PEM value or the path to the certificate.\n * @param sendCertificateChain - Option to include x5c header for SubjectName and Issuer name authorization.\n * @returns - The certificate parts, or `undefined` if the certificate could not be loaded.\n * @internal\n */\nexport async function parseCertificate(configuration, sendCertificateChain) {\n    const certificateParts = {};\n    const certificate = configuration\n        .certificate;\n    const certificatePath = configuration\n        .certificatePath;\n    certificateParts.certificateContents =\n        certificate || (await readFileAsync(certificatePath, \"utf8\"));\n    if (sendCertificateChain) {\n        certificateParts.x5c = certificateParts.certificateContents;\n    }\n    const certificatePattern = /(-+BEGIN CERTIFICATE-+)(\\n\\r?|\\r\\n?)([A-Za-z0-9+/\\n\\r]+=*)(\\n\\r?|\\r\\n?)(-+END CERTIFICATE-+)/g;\n    const publicKeys = [];\n    // Match all possible certificates, in the order they are in the file. These will form the chain that is used for x5c\n    let match;\n    do {\n        match = certificatePattern.exec(certificateParts.certificateContents);\n        if (match) {\n            publicKeys.push(match[3]);\n        }\n    } while (match);\n    if (publicKeys.length === 0) {\n        throw new Error(\"The file at the specified path does not contain a PEM-encoded certificate.\");\n    }\n    certificateParts.thumbprint = createHash(\"sha1\")\n        .update(Buffer.from(publicKeys[0], \"base64\"))\n        .digest(\"hex\")\n        .toUpperCase();\n    return certificateParts;\n}\n/**\n * MSAL client certificate client. Calls to MSAL's confidential application's `acquireTokenByClientCredential` during `doGetToken`.\n * @internal\n */\nexport class MsalClientCertificate extends MsalNode {\n    constructor(options) {\n        super(options);\n        this.requiresConfidential = true;\n        this.configuration = options.configuration;\n        this.sendCertificateChain = options.sendCertificateChain;\n    }\n    // Changing the MSAL configuration asynchronously\n    async init(options) {\n        try {\n            const parts = await parseCertificate(this.configuration, this.sendCertificateChain);\n            let privateKey;\n            if (this.configuration.certificatePassword !== undefined) {\n                const privateKeyObject = createPrivateKey({\n                    key: parts.certificateContents,\n                    passphrase: this.configuration.certificatePassword,\n                    format: \"pem\",\n                });\n                privateKey = privateKeyObject\n                    .export({\n                    format: \"pem\",\n                    type: \"pkcs8\",\n                })\n                    .toString();\n            }\n            else {\n                privateKey = parts.certificateContents;\n            }\n            this.msalConfig.auth.clientCertificate = {\n                thumbprint: parts.thumbprint,\n                privateKey: privateKey,\n                x5c: parts.x5c,\n            };\n        }\n        catch (error) {\n            this.logger.info(formatError(\"\", error));\n            throw error;\n        }\n        return super.init(options);\n    }\n    async doGetToken(scopes, options = {}) {\n        try {\n            const clientCredReq = {\n                scopes,\n                correlationId: options.correlationId,\n                azureRegion: this.azureRegion,\n                authority: options.authority,\n                claims: options.claims,\n            };\n            const result = await this.getApp(\"confidential\", options.enableCae).acquireTokenByClientCredential(clientCredReq);\n            // Even though we're providing the same default in memory persistence cache that we use for DeviceCodeCredential,\n            // The Client Credential flow does not return the account information from the authentication service,\n            // so each time getToken gets called, we will have to acquire a new token through the service.\n            return this.handleResult(scopes, result || undefined);\n        }\n        catch (err) {\n            throw handleMsalError(scopes, err, options);\n        }\n    }\n}\n//# sourceMappingURL=msalClientCertificate.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { MsalNode } from \"./msalNodeCommon\";\nimport { formatError } from \"../../util/logging\";\nimport { handleMsalError } from \"../utils\";\nimport { parseCertificate } from \"./msalClientCertificate\";\n/**\n * MSAL on behalf of flow. Calls to MSAL's confidential application's `acquireTokenOnBehalfOf` during `doGetToken`.\n * @internal\n */\nexport class MsalOnBehalfOf extends MsalNode {\n    constructor(options) {\n        super(options);\n        this.logger.info(\"Initialized MSAL's On-Behalf-Of flow\");\n        this.requiresConfidential = true;\n        this.userAssertionToken = options.userAssertionToken;\n        this.certificatePath = options.certificatePath;\n        this.sendCertificateChain = options.sendCertificateChain;\n        this.clientSecret = options.clientSecret;\n    }\n    // Changing the MSAL configuration asynchronously\n    async init(options) {\n        if (this.certificatePath) {\n            try {\n                const parts = await parseCertificate({ certificatePath: this.certificatePath }, this.sendCertificateChain);\n                this.msalConfig.auth.clientCertificate = {\n                    thumbprint: parts.thumbprint,\n                    privateKey: parts.certificateContents,\n                    x5c: parts.x5c,\n                };\n            }\n            catch (error) {\n                this.logger.info(formatError(\"\", error));\n                throw error;\n            }\n        }\n        else {\n            this.msalConfig.auth.clientSecret = this.clientSecret;\n        }\n        return super.init(options);\n    }\n    async doGetToken(scopes, options = {}) {\n        try {\n            const result = await this.getApp(\"confidential\", options.enableCae).acquireTokenOnBehalfOf({\n                scopes,\n                correlationId: options.correlationId,\n                authority: options.authority,\n                claims: options.claims,\n                oboAssertion: this.userAssertionToken,\n            });\n            return this.handleResult(scopes, result || undefined);\n        }\n        catch (err) {\n            throw handleMsalError(scopes, err, options);\n        }\n    }\n}\n//# sourceMappingURL=msalOnBehalfOf.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { processMultiTenantRequest, resolveAdditionallyAllowedTenantIds, } from \"../util/tenantIdUtils\";\nimport { MsalOnBehalfOf } from \"../msal/nodeFlows/msalOnBehalfOf\";\nimport { credentialLogger } from \"../util/logging\";\nimport { ensureScopes } from \"../util/scopeUtils\";\nimport { tracingClient } from \"../util/tracing\";\nconst credentialName = \"OnBehalfOfCredential\";\nconst logger = credentialLogger(credentialName);\n/**\n * Enables authentication to Microsoft Entra ID using the [On Behalf Of flow](https://learn.microsoft.com/entra/identity-platform/v2-oauth2-on-behalf-of-flow).\n */\nexport class OnBehalfOfCredential {\n    constructor(options) {\n        this.options = options;\n        const { clientSecret } = options;\n        const { certificatePath } = options;\n        const { tenantId, clientId, userAssertionToken, additionallyAllowedTenants: additionallyAllowedTenantIds, } = options;\n        if (!tenantId || !clientId || !(clientSecret || certificatePath) || !userAssertionToken) {\n            throw new Error(`${credentialName}: tenantId, clientId, clientSecret (or certificatePath) and userAssertionToken are required parameters.`);\n        }\n        this.tenantId = tenantId;\n        this.additionallyAllowedTenantIds = resolveAdditionallyAllowedTenantIds(additionallyAllowedTenantIds);\n        this.msalFlow = new MsalOnBehalfOf(Object.assign(Object.assign({}, this.options), { logger, tokenCredentialOptions: this.options }));\n    }\n    /**\n     * Authenticates with Microsoft Entra ID and returns an access token if successful.\n     * If authentication fails, a {@link CredentialUnavailableError} will be thrown with the details of the failure.\n     *\n     * @param scopes - The list of scopes for which the token will have access.\n     * @param options - The options used to configure the underlying network requests.\n     */\n    async getToken(scopes, options = {}) {\n        return tracingClient.withSpan(`${credentialName}.getToken`, options, async (newOptions) => {\n            newOptions.tenantId = processMultiTenantRequest(this.tenantId, newOptions, this.additionallyAllowedTenantIds, logger);\n            const arrayScopes = ensureScopes(scopes);\n            return this.msalFlow.getToken(arrayScopes, newOptions);\n        });\n    }\n}\n//# sourceMappingURL=onBehalfOfCredential.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { bearerTokenAuthenticationPolicy, createEmptyPipeline, createPipelineRequest, } from \"@azure/core-rest-pipeline\";\n/**\n * Returns a callback that provides a bearer token.\n * For example, the bearer token can be used to authenticate a request as follows:\n * ```js\n * import { DefaultAzureCredential } from \"@azure/identity\";\n *\n * const credential = new DefaultAzureCredential();\n * const scope = \"https://cognitiveservices.azure.com/.default\";\n * const getAccessToken = getBearerTokenProvider(credential, scope);\n * const token = await getAccessToken();\n *\n * // usage\n * const request = createPipelineRequest({ url: \"https://example.com\" });\n * request.headers.set(\"Authorization\", `Bearer ${token}`);\n * ```\n *\n * @param credential - The credential used to authenticate the request.\n * @param scopes - The scopes required for the bearer token.\n * @param options - Options to configure the token provider.\n * @returns a callback that provides a bearer token.\n */\nexport function getBearerTokenProvider(credential, scopes, options) {\n    const { abortSignal, tracingOptions } = options || {};\n    const pipeline = createEmptyPipeline();\n    pipeline.addPolicy(bearerTokenAuthenticationPolicy({ credential, scopes }));\n    async function getRefreshedToken() {\n        var _a;\n        // Create a pipeline with just the bearer token policy\n        // and run a dummy request through it to get the token\n        const res = await pipeline.sendRequest({\n            sendRequest: (request) => Promise.resolve({\n                request,\n                status: 200,\n                headers: request.headers,\n            }),\n        }, createPipelineRequest({\n            url: \"https://example.com\",\n            abortSignal,\n            tracingOptions,\n        }));\n        const accessToken = (_a = res.headers.get(\"authorization\")) === null || _a === void 0 ? void 0 : _a.split(\" \")[1];\n        if (!accessToken) {\n            throw new Error(\"Failed to get access token\");\n        }\n        return accessToken;\n    }\n    return getRefreshedToken;\n}\n//# sourceMappingURL=tokenProvider.js.map","// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nexport * from \"./plugins/consumer\";\nimport { DefaultAzureCredential } from \"./credentials/defaultAzureCredential\";\nexport { AuthenticationError, AggregateAuthenticationError, AuthenticationErrorName, AggregateAuthenticationErrorName, CredentialUnavailableError, CredentialUnavailableErrorName, AuthenticationRequiredError, } from \"./errors\";\nexport { serializeAuthenticationRecord, deserializeAuthenticationRecord } from \"./msal/utils\";\nexport { ChainedTokenCredential } from \"./credentials/chainedTokenCredential\";\nexport { ClientSecretCredential } from \"./credentials/clientSecretCredential\";\nexport { DefaultAzureCredential } from \"./credentials/defaultAzureCredential\";\nexport { EnvironmentCredential } from \"./credentials/environmentCredential\";\nexport { ClientCertificateCredential, } from \"./credentials/clientCertificateCredential\";\nexport { ClientAssertionCredential } from \"./credentials/clientAssertionCredential\";\nexport { AzureCliCredential } from \"./credentials/azureCliCredential\";\nexport { AzureDeveloperCliCredential } from \"./credentials/azureDeveloperCliCredential\";\nexport { InteractiveBrowserCredential } from \"./credentials/interactiveBrowserCredential\";\nexport { ManagedIdentityCredential, } from \"./credentials/managedIdentityCredential\";\nexport { DeviceCodeCredential } from \"./credentials/deviceCodeCredential\";\nexport { AuthorizationCodeCredential } from \"./credentials/authorizationCodeCredential\";\nexport { AzurePowerShellCredential } from \"./credentials/azurePowerShellCredential\";\nexport { UsernamePasswordCredential } from \"./credentials/usernamePasswordCredential\";\nexport { VisualStudioCodeCredential } from \"./credentials/visualStudioCodeCredential\";\nexport { OnBehalfOfCredential } from \"./credentials/onBehalfOfCredential\";\nexport { WorkloadIdentityCredential } from \"./credentials/workloadIdentityCredential\";\nexport { logger } from \"./util/logging\";\nexport { AzureAuthorityHosts } from \"./constants\";\n/**\n * Returns a new instance of the {@link DefaultAzureCredential}.\n */\nexport function getDefaultAzureCredential() {\n    return new DefaultAzureCredential();\n}\nexport { getBearerTokenProvider } from \"./tokenProvider\";\n//# sourceMappingURL=index.js.map","'use strict';\n\n// Detect either spaces or tabs but not both to properly handle tabs for indentation and spaces for alignment\nconst INDENT_REGEX = /^(?:( )+|\\t+)/;\n\nconst INDENT_TYPE_SPACE = 'space';\nconst INDENT_TYPE_TAB = 'tab';\n\n/**\nMake a Map that counts how many indents/unindents have occurred for a given size and how many lines follow a given indentation.\n\nThe key is a concatenation of the indentation type (s = space and t = tab) and the size of the indents/unindents.\n\n```\nindents = {\n\tt3: [1, 0],\n\tt4: [1, 5],\n\ts5: [1, 0],\n\ts12: [1, 0],\n}\n```\n*/\nfunction makeIndentsMap(string, ignoreSingleSpaces) {\n\tconst indents = new Map();\n\n\t// Remember the size of previous line's indentation\n\tlet previousSize = 0;\n\tlet previousIndentType;\n\n\t// Indents key (ident type + size of the indents/unindents)\n\tlet key;\n\n\tfor (const line of string.split(/\\n/g)) {\n\t\tif (!line) {\n\t\t\t// Ignore empty lines\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet indent;\n\t\tlet indentType;\n\t\tlet use;\n\t\tlet weight;\n\t\tlet entry;\n\t\tconst matches = line.match(INDENT_REGEX);\n\n\t\tif (matches === null) {\n\t\t\tpreviousSize = 0;\n\t\t\tpreviousIndentType = '';\n\t\t} else {\n\t\t\tindent = matches[0].length;\n\t\t\tindentType = matches[1] ? INDENT_TYPE_SPACE : INDENT_TYPE_TAB;\n\n\t\t\t// Ignore single space unless it's the only indent detected to prevent common false positives\n\t\t\tif (ignoreSingleSpaces && indentType === INDENT_TYPE_SPACE && indent === 1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (indentType !== previousIndentType) {\n\t\t\t\tpreviousSize = 0;\n\t\t\t}\n\n\t\t\tpreviousIndentType = indentType;\n\n\t\t\tuse = 1;\n\t\t\tweight = 0;\n\n\t\t\tconst indentDifference = indent - previousSize;\n\t\t\tpreviousSize = indent;\n\n\t\t\t// Previous line have same indent?\n\t\t\tif (indentDifference === 0) {\n\t\t\t\t// Not a new \"use\" of the current indent:\n\t\t\t\tuse = 0;\n\t\t\t\t// But do add a bit to it for breaking ties:\n\t\t\t\tweight = 1;\n\t\t\t\t// We use the key from previous loop\n\t\t\t} else {\n\t\t\t\tconst absoluteIndentDifference = indentDifference > 0 ? indentDifference : -indentDifference;\n\t\t\t\tkey = encodeIndentsKey(indentType, absoluteIndentDifference);\n\t\t\t}\n\n\t\t\t// Update the stats\n\t\t\tentry = indents.get(key);\n\t\t\tentry = entry === undefined ? [1, 0] : [entry[0] + use, entry[1] + weight];\n\n\t\t\tindents.set(key, entry);\n\t\t}\n\t}\n\n\treturn indents;\n}\n\n// Encode the indent type and amount as a string (e.g. 's4') for use as a compound key in the indents Map.\nfunction encodeIndentsKey(indentType, indentAmount) {\n\tconst typeCharacter = indentType === INDENT_TYPE_SPACE ? 's' : 't';\n\treturn typeCharacter + String(indentAmount);\n}\n\n// Extract the indent type and amount from a key of the indents Map.\nfunction decodeIndentsKey(indentsKey) {\n\tconst keyHasTypeSpace = indentsKey[0] === 's';\n\tconst type = keyHasTypeSpace ? INDENT_TYPE_SPACE : INDENT_TYPE_TAB;\n\n\tconst amount = Number(indentsKey.slice(1));\n\n\treturn {type, amount};\n}\n\n// Return the key (e.g. 's4') from the indents Map that represents the most common indent,\n// or return undefined if there are no indents.\nfunction getMostUsedKey(indents) {\n\tlet result;\n\tlet maxUsed = 0;\n\tlet maxWeight = 0;\n\n\tfor (const [key, [usedCount, weight]] of indents) {\n\t\tif (usedCount > maxUsed || (usedCount === maxUsed && weight > maxWeight)) {\n\t\t\tmaxUsed = usedCount;\n\t\t\tmaxWeight = weight;\n\t\t\tresult = key;\n\t\t}\n\t}\n\n\treturn result;\n}\n\nfunction makeIndentString(type, amount) {\n\tconst indentCharacter = type === INDENT_TYPE_SPACE ? ' ' : '\\t';\n\treturn indentCharacter.repeat(amount);\n}\n\nfunction detectIndent(string) {\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\t// Identify indents while skipping single space indents to avoid common edge cases (e.g. code comments)\n\t// If no indents are identified, run again and include all indents for comprehensive detection\n\tlet indents = makeIndentsMap(string, true);\n\tif (indents.size === 0) {\n\t\tindents = makeIndentsMap(string, false);\n\t}\n\n\tconst keyOfMostUsedIndent = getMostUsedKey(indents);\n\n\tlet type;\n\tlet amount = 0;\n\tlet indent = '';\n\n\tif (keyOfMostUsedIndent !== undefined) {\n\t\t({type, amount} = decodeIndentsKey(keyOfMostUsedIndent));\n\t\tindent = makeIndentString(type, amount);\n\t}\n\n\treturn {\n\t\tamount,\n\t\ttype,\n\t\tindent,\n\t};\n}\n\nmodule.exports = detectIndent;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getCatalogsFromWorkspaceManifest = getCatalogsFromWorkspaceManifest;\nexports.checkDefaultCatalogIsDefinedOnce = checkDefaultCatalogIsDefinedOnce;\nconst error_1 = require(\"@pnpm/error\");\nfunction getCatalogsFromWorkspaceManifest(workspaceManifest) {\n    // If the pnpm-workspace.yaml file doesn't exist, no catalogs are defined.\n    //\n    // In some cases, it makes sense for callers to handle null/undefined checks\n    // of this form. In this case, let's explicitly handle not found\n    // pnpm-workspace.yaml files by returning an empty catalog to make consuming\n    // logic easier.\n    if (workspaceManifest == null) {\n        return {};\n    }\n    checkDefaultCatalogIsDefinedOnce(workspaceManifest);\n    return {\n        // If workspaceManifest.catalog is undefined, intentionally allow the spread\n        // below to overwrite it. The check above ensures only one or the either is\n        // defined.\n        default: workspaceManifest.catalog,\n        ...workspaceManifest.catalogs,\n    };\n}\nfunction checkDefaultCatalogIsDefinedOnce(manifest) {\n    if (manifest.catalog != null && manifest.catalogs?.default != null) {\n        throw new error_1.PnpmError('INVALID_CATALOGS_CONFIGURATION', 'The \\'default\\' catalog was defined multiple times. Use the \\'catalog\\' field or \\'catalogs.default\\', but not both.');\n    }\n}\n//# sourceMappingURL=getCatalogsFromWorkspaceManifest.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getCatalogsFromWorkspaceManifest = void 0;\nvar getCatalogsFromWorkspaceManifest_1 = require(\"./getCatalogsFromWorkspaceManifest\");\nObject.defineProperty(exports, \"getCatalogsFromWorkspaceManifest\", { enumerable: true, get: function () { return getCatalogsFromWorkspaceManifest_1.getCatalogsFromWorkspaceManifest; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseCatalogProtocol = void 0;\nvar parseCatalogProtocol_1 = require(\"./parseCatalogProtocol\");\nObject.defineProperty(exports, \"parseCatalogProtocol\", { enumerable: true, get: function () { return parseCatalogProtocol_1.parseCatalogProtocol; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseCatalogProtocol = void 0;\nconst CATALOG_PROTOCOL = 'catalog:';\n/**\n * Parse a package.json dependency specifier using the catalog: protocol.\n * Returns null if the given specifier does not start with 'catalog:'.\n */\nfunction parseCatalogProtocol(pref) {\n    if (!pref.startsWith(CATALOG_PROTOCOL)) {\n        return null;\n    }\n    const catalogNameRaw = pref.slice(CATALOG_PROTOCOL.length).trim();\n    // Allow a specifier of 'catalog:' to be a short-hand for 'catalog:default'.\n    const catalogNameNormalized = catalogNameRaw === '' ? 'default' : catalogNameRaw;\n    return catalogNameNormalized;\n}\nexports.parseCatalogProtocol = parseCatalogProtocol;\n//# sourceMappingURL=parseCatalogProtocol.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.matchCatalogResolveResult = exports.resolveFromCatalog = void 0;\nvar resolveFromCatalog_1 = require(\"./resolveFromCatalog\");\nObject.defineProperty(exports, \"resolveFromCatalog\", { enumerable: true, get: function () { return resolveFromCatalog_1.resolveFromCatalog; } });\nvar matchCatalogResolveResult_1 = require(\"./matchCatalogResolveResult\");\nObject.defineProperty(exports, \"matchCatalogResolveResult\", { enumerable: true, get: function () { return matchCatalogResolveResult_1.matchCatalogResolveResult; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.matchCatalogResolveResult = matchCatalogResolveResult;\nfunction matchCatalogResolveResult(result, matcher) {\n    switch (result.type) {\n        case 'found': return matcher.found(result);\n        case 'misconfiguration': return matcher.misconfiguration(result);\n        case 'unused': return matcher.unused(result);\n    }\n}\n//# sourceMappingURL=matchCatalogResolveResult.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveFromCatalog = resolveFromCatalog;\nconst error_1 = require(\"@pnpm/error\");\nconst catalogs_protocol_parser_1 = require(\"@pnpm/catalogs.protocol-parser\");\nfunction resolveFromCatalog(catalogs, wantedDependency) {\n    const catalogName = (0, catalogs_protocol_parser_1.parseCatalogProtocol)(wantedDependency.pref);\n    if (catalogName == null) {\n        return { type: 'unused' };\n    }\n    const catalogLookup = catalogs[catalogName]?.[wantedDependency.alias];\n    if (catalogLookup == null) {\n        return {\n            type: 'misconfiguration',\n            catalogName,\n            error: new error_1.PnpmError('CATALOG_ENTRY_NOT_FOUND_FOR_SPEC', `No catalog entry '${wantedDependency.alias}' was found for catalog '${catalogName}'.`),\n        };\n    }\n    if ((0, catalogs_protocol_parser_1.parseCatalogProtocol)(catalogLookup) != null) {\n        return {\n            type: 'misconfiguration',\n            catalogName,\n            error: new error_1.PnpmError('CATALOG_ENTRY_INVALID_RECURSIVE_DEFINITION', `Found invalid catalog entry using the catalog protocol recursively. The entry for '${wantedDependency.alias}' in catalog '${catalogName}' is invalid.`),\n        };\n    }\n    // Ban catalog entries that use the workspace protocol for a few reasons:\n    //\n    //   1. It's kind of silly. It'd be better to encourage users to use the\n    //      workspace protocol directly.\n    //   2. Catalogs cache the resolved version of a dependency specifier in\n    //      pnpm-lock.yaml for more consistent resolution across importers. The\n    //      link: resolutions can't be shared between importers.\n    const protocolOfLookup = catalogLookup.split(':')[0];\n    if (protocolOfLookup === 'workspace') {\n        return {\n            type: 'misconfiguration',\n            catalogName,\n            error: new error_1.PnpmError('CATALOG_ENTRY_INVALID_WORKSPACE_SPEC', `The workspace protocol cannot be used as a catalog value. The entry for '${wantedDependency.alias}' in catalog '${catalogName}' is invalid.`),\n        };\n    }\n    // A future version of pnpm will try to support this. These protocols aren't\n    // supported today since these are often relative file paths that users expect\n    // to be relative to the repo root rather than the location of the pnpm\n    // workspace package.\n    if (['link', 'file'].includes(protocolOfLookup)) {\n        return {\n            type: 'misconfiguration',\n            catalogName,\n            error: new error_1.PnpmError('CATALOG_ENTRY_INVALID_SPEC', `The entry for '${wantedDependency.alias}' in catalog '${catalogName}' declares a dependency using the '${protocolOfLookup}' protocol. This is not yet supported, but may be in a future version of pnpm.`),\n        };\n    }\n    return {\n        type: 'found',\n        resolution: {\n            catalogName,\n            specifier: catalogLookup,\n        },\n    };\n}\n//# sourceMappingURL=resolveFromCatalog.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.packageManager = void 0;\nexports.detectIfCurrentPkgIsExecutable = detectIfCurrentPkgIsExecutable;\nexports.isExecutedByCorepack = isExecutedByCorepack;\nexports.getCurrentPackageName = getCurrentPackageName;\nconst path_1 = __importDefault(require(\"path\"));\nconst load_json_file_1 = __importDefault(require(\"load-json-file\"));\nconst defaultManifest = {\n    name: process.env.npm_package_name != null && process.env.npm_package_name !== ''\n        ? process.env.npm_package_name\n        : 'pnpm',\n    version: process.env.npm_package_version != null && process.env.npm_package_version !== ''\n        ? process.env.npm_package_version\n        : '0.0.0',\n};\nlet pkgJson;\nif (require.main == null) {\n    pkgJson = defaultManifest;\n}\nelse {\n    try {\n        pkgJson = {\n            ...defaultManifest,\n            ...load_json_file_1.default.sync(path_1.default.join(path_1.default.dirname(require.main.filename), '../package.json')),\n        };\n    }\n    catch {\n        pkgJson = defaultManifest;\n    }\n}\nexports.packageManager = {\n    name: pkgJson.name,\n    // Never a prerelease version\n    stableVersion: pkgJson.version.includes('-')\n        ? pkgJson.version.slice(0, pkgJson.version.indexOf('-'))\n        : pkgJson.version,\n    // This may be a 3.0.0-beta.2\n    version: pkgJson.version,\n};\nfunction detectIfCurrentPkgIsExecutable(proc = process) {\n    return 'pkg' in proc && proc.pkg != null;\n}\nfunction isExecutedByCorepack(env = process.env) {\n    return env.COREPACK_ROOT != null;\n}\nfunction getCurrentPackageName(proc = process) {\n    return detectIfCurrentPkgIsExecutable(proc) ? getExePackageName(proc) : 'pnpm';\n}\nfunction getExePackageName(proc) {\n    return `@pnpm/${normalizePlatformName(proc)}-${normalizeArchName(proc)}`;\n}\nfunction normalizePlatformName(proc) {\n    switch (proc.platform) {\n        case 'win32': return 'win';\n        case 'darwin': return 'macos';\n        default: return proc.platform;\n    }\n}\nfunction normalizeArchName(proc) {\n    if (proc.platform === 'win32' && proc.arch === 'ia32') {\n        return 'x86';\n    }\n    return proc.arch;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getConfig = getConfig;\nconst cli_meta_1 = require(\"@pnpm/cli-meta\");\nconst config_1 = require(\"@pnpm/config\");\nconst default_reporter_1 = require(\"@pnpm/default-reporter\");\nasync function getConfig(cliOptions, opts) {\n    const { config, warnings } = await (0, config_1.getConfig)({\n        cliOptions,\n        globalDirShouldAllowWrite: opts.globalDirShouldAllowWrite,\n        packageManager: cli_meta_1.packageManager,\n        rcOptionsTypes: opts.rcOptionsTypes,\n        workspaceDir: opts.workspaceDir,\n        checkUnknownSetting: opts.checkUnknownSetting,\n        ignoreNonAuthSettingsFromLocal: opts.ignoreNonAuthSettingsFromLocal,\n    });\n    config.cliOptions = cliOptions;\n    if (opts.excludeReporter) {\n        delete config.reporter; // This is a silly workaround because @pnpm/core expects a function as opts.reporter\n    }\n    if (warnings.length > 0) {\n        console.warn(warnings.map((warning) => (0, default_reporter_1.formatWarn)(warning)).join('\\n'));\n    }\n    return config;\n}\n//# sourceMappingURL=getConfig.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getConfig = void 0;\nexports.docsUrl = docsUrl;\nconst cli_meta_1 = require(\"@pnpm/cli-meta\");\nvar getConfig_1 = require(\"./getConfig\");\nObject.defineProperty(exports, \"getConfig\", { enumerable: true, get: function () { return getConfig_1.getConfig; } });\n__exportStar(require(\"./packageIsInstallable\"), exports);\n__exportStar(require(\"./readDepNameCompletions\"), exports);\n__exportStar(require(\"./readProjectManifest\"), exports);\n__exportStar(require(\"./recursiveSummary\"), exports);\n__exportStar(require(\"./style\"), exports);\nfunction docsUrl(cmd) {\n    const [pnpmMajorVersion] = cli_meta_1.packageManager.version.split('.');\n    return `https://pnpm.io/${pnpmMajorVersion}.x/cli/${cmd}`;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.packageIsInstallable = packageIsInstallable;\nconst cli_meta_1 = require(\"@pnpm/cli-meta\");\nconst logger_1 = require(\"@pnpm/logger\");\nconst package_is_installable_1 = require(\"@pnpm/package-is-installable\");\nfunction packageIsInstallable(pkgPath, pkg, opts) {\n    const currentPnpmVersion = cli_meta_1.packageManager.name === 'pnpm'\n        ? cli_meta_1.packageManager.version\n        : undefined;\n    const err = (0, package_is_installable_1.checkPackage)(pkgPath, pkg, {\n        nodeVersion: opts.nodeVersion,\n        pnpmVersion: currentPnpmVersion,\n        supportedArchitectures: opts.supportedArchitectures ?? {\n            os: ['current'],\n            cpu: ['current'],\n            libc: ['current'],\n        },\n    });\n    if (err === null)\n        return;\n    if ((err instanceof package_is_installable_1.UnsupportedEngineError && err.wanted.pnpm) ??\n        opts.engineStrict)\n        throw err;\n    logger_1.logger.warn({\n        message: `Unsupported ${err instanceof package_is_installable_1.UnsupportedEngineError ? 'engine' : 'platform'}: wanted: ${JSON.stringify(err.wanted)} (current: ${JSON.stringify(err.current)})`,\n        prefix: pkgPath,\n    });\n}\n//# sourceMappingURL=packageIsInstallable.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.readDepNameCompletions = readDepNameCompletions;\nconst manifest_utils_1 = require(\"@pnpm/manifest-utils\");\nconst read_project_manifest_1 = require(\"@pnpm/read-project-manifest\");\nasync function readDepNameCompletions(dir) {\n    const { manifest } = await (0, read_project_manifest_1.readProjectManifest)(dir ?? process.cwd());\n    return Object.keys((0, manifest_utils_1.getAllDependenciesFromManifest)(manifest)).map((name) => ({ name }));\n}\n//# sourceMappingURL=readDepNameCompletions.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.readProjectManifest = readProjectManifest;\nexports.readProjectManifestOnly = readProjectManifestOnly;\nexports.tryReadProjectManifest = tryReadProjectManifest;\nconst utils = __importStar(require(\"@pnpm/read-project-manifest\"));\nconst packageIsInstallable_1 = require(\"./packageIsInstallable\");\nasync function readProjectManifest(projectDir, opts = {}) {\n    const { fileName, manifest, writeProjectManifest } = await utils.readProjectManifest(projectDir);\n    (0, packageIsInstallable_1.packageIsInstallable)(projectDir, manifest, opts); // eslint-disable-line @typescript-eslint/no-explicit-any\n    return { fileName, manifest, writeProjectManifest };\n}\nasync function readProjectManifestOnly(projectDir, opts = {}) {\n    const manifest = await utils.readProjectManifestOnly(projectDir);\n    (0, packageIsInstallable_1.packageIsInstallable)(projectDir, manifest, opts); // eslint-disable-line @typescript-eslint/no-explicit-any\n    return manifest;\n}\nasync function tryReadProjectManifest(projectDir, opts) {\n    const { fileName, manifest, writeProjectManifest } = await utils.tryReadProjectManifest(projectDir);\n    if (manifest == null)\n        return { fileName, manifest, writeProjectManifest };\n    (0, packageIsInstallable_1.packageIsInstallable)(projectDir, manifest, opts); // eslint-disable-line @typescript-eslint/no-explicit-any\n    return { fileName, manifest, writeProjectManifest };\n}\n//# sourceMappingURL=readProjectManifest.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.throwOnCommandFail = throwOnCommandFail;\nconst error_1 = require(\"@pnpm/error\");\nclass RecursiveFailError extends error_1.PnpmError {\n    constructor(command, recursiveSummary, failures) {\n        super('RECURSIVE_FAIL', `\"${command}\" failed in ${failures.length} packages`);\n        this.failures = failures;\n        this.passes = Object.values(recursiveSummary).filter(({ status }) => status === 'passed').length;\n    }\n}\nfunction throwOnCommandFail(command, recursiveSummary) {\n    const failures = Object.values(recursiveSummary).filter(({ status }) => status === 'failure');\n    if (failures.length > 0) {\n        throw new RecursiveFailError(command, recursiveSummary, failures);\n    }\n}\n//# sourceMappingURL=recursiveSummary.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TABLE_OPTIONS = void 0;\nconst chalk_1 = __importDefault(require(\"chalk\"));\nexports.TABLE_OPTIONS = {\n    border: {\n        topBody: '',\n        topJoin: '',\n        topLeft: '',\n        topRight: '',\n        bottomBody: '',\n        bottomJoin: '',\n        bottomLeft: '',\n        bottomRight: '',\n        bodyJoin: '',\n        bodyLeft: '',\n        bodyRight: '',\n        joinBody: '',\n        joinJoin: '',\n        joinLeft: '',\n        joinRight: '',\n    },\n    columns: {},\n};\nfor (const [key, value] of Object.entries(exports.TABLE_OPTIONS.border)) {\n    exports.TABLE_OPTIONS.border[key] = chalk_1.default.grey(value);\n}\n//# sourceMappingURL=style.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.envReplace = void 0;\nconst ENV_EXPR = /(?<!\\\\)(\\\\*)\\$\\{([^${}]+)\\}/g;\nfunction envReplace(settingValue, env) {\n    return settingValue.replace(ENV_EXPR, replaceEnvMatch.bind(null, env));\n}\nexports.envReplace = envReplace;\nfunction replaceEnvMatch(env, orig, escape, name) {\n    if (escape.length % 2) {\n        return orig.slice((escape.length + 1) / 2);\n    }\n    const envValue = getEnvValue(env, name);\n    if (envValue === undefined) {\n        throw new Error(`Failed to replace env in config: ${orig}`);\n    }\n    return `${(escape.slice(escape.length / 2))}${envValue}`;\n}\nconst ENV_VALUE = /([^:-]+)(:?)-(.+)/;\nfunction getEnvValue(env, name) {\n    const matched = name.match(ENV_VALUE);\n    if (!matched)\n        return env[name];\n    const [, variableName, colon, fallback] = matched;\n    if (Object.prototype.hasOwnProperty.call(env, variableName)) {\n        return !env[variableName] && colon ? fallback : env[variableName];\n    }\n    return fallback;\n}\n//# sourceMappingURL=env-replace.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.envReplace = void 0;\nvar env_replace_1 = require(\"./env-replace\");\nObject.defineProperty(exports, \"envReplace\", { enumerable: true, get: function () { return env_replace_1.envReplace; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.envReplace = void 0;\nconst ENV_EXPR = /(?<!\\\\)(\\\\*)\\$\\{([^${}]+)\\}/g;\nfunction envReplace(settingValue, env) {\n    return settingValue.replace(ENV_EXPR, replaceEnvMatch.bind(null, env));\n}\nexports.envReplace = envReplace;\nfunction replaceEnvMatch(env, orig, escape, name) {\n    if (escape.length % 2) {\n        return orig.slice((escape.length + 1) / 2);\n    }\n    const envValue = getEnvValue(env, name);\n    if (envValue === undefined) {\n        throw new Error(`Failed to replace env in config: ${orig}`);\n    }\n    return `${(escape.slice(escape.length / 2))}${envValue}`;\n}\nconst ENV_VALUE = /([^:-]+)(:?)-(.+)/;\nfunction getEnvValue(env, name) {\n    const matched = name.match(ENV_VALUE);\n    if (!matched)\n        return env[name];\n    const [, variableName, colon, fallback] = matched;\n    if (Object.prototype.hasOwnProperty.call(env, variableName)) {\n        return !env[variableName] && colon ? fallback : env[variableName];\n    }\n    return fallback;\n}\n//# sourceMappingURL=env-replace.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.envReplace = void 0;\nvar env_replace_1 = require(\"./env-replace\");\nObject.defineProperty(exports, \"envReplace\", { enumerable: true, get: function () { return env_replace_1.envReplace; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.inheritAuthConfig = inheritAuthConfig;\nconst inheritPickedConfig_1 = require(\"./inheritPickedConfig\");\nconst RAW_AUTH_CFG_KEYS = [\n    'ca',\n    'cafile',\n    'cert',\n    'key',\n    'local-address',\n    'git-shallow-hosts',\n    'https-proxy',\n    'proxy',\n    'no-proxy',\n    'registry',\n    'strict-ssl',\n];\nconst RAW_AUTH_CFG_KEY_SUFFIXES = [\n    ':cafile',\n    ':certfile',\n    ':keyfile',\n    ':registry',\n    ':tokenHelper',\n    ':_auth',\n    ':_authToken',\n];\nconst AUTH_CFG_KEYS = [\n    'ca',\n    'cert',\n    'key',\n    'localAddress',\n    'gitShallowHosts',\n    'httpsProxy',\n    'httpProxy',\n    'noProxy',\n    'registry',\n    'registries',\n    'strictSsl',\n];\nfunction isRawAuthCfgKey(rawCfgKey) {\n    if (RAW_AUTH_CFG_KEYS.includes(rawCfgKey))\n        return true;\n    if (RAW_AUTH_CFG_KEY_SUFFIXES.some(suffix => rawCfgKey.endsWith(suffix)))\n        return true;\n    return false;\n}\nfunction isAuthCfgKey(cfgKey) {\n    return AUTH_CFG_KEYS.includes(cfgKey);\n}\nfunction pickRawAuthConfig(rawLocalCfg) {\n    const result = {};\n    for (const key in rawLocalCfg) {\n        if (isRawAuthCfgKey(key)) {\n            result[key] = rawLocalCfg[key];\n        }\n    }\n    return result;\n}\nfunction pickAuthConfig(localCfg) {\n    const result = {};\n    for (const key in localCfg) {\n        if (isAuthCfgKey(key)) {\n            result[key] = localCfg[key];\n        }\n    }\n    return result;\n}\nfunction inheritAuthConfig(targetCfg, authSrcCfg) {\n    (0, inheritPickedConfig_1.inheritPickedConfig)(targetCfg, authSrcCfg, pickAuthConfig, pickRawAuthConfig);\n}\n//# sourceMappingURL=auth.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkGlobalBinDir = checkGlobalBinDir;\nconst fs_1 = require(\"fs\");\nconst path_1 = __importDefault(require(\"path\"));\nconst util_1 = __importDefault(require(\"util\"));\nconst error_1 = require(\"@pnpm/error\");\nconst can_write_to_dir_1 = require(\"can-write-to-dir\");\nconst path_name_1 = __importDefault(require(\"path-name\"));\nasync function checkGlobalBinDir(globalBinDir, { env, shouldAllowWrite }) {\n    if (!env[path_name_1.default]) {\n        throw new error_1.PnpmError('NO_PATH_ENV', `Couldn't find a global directory for executables because the \"${path_name_1.default}\" environment variable is not set.`);\n    }\n    if (!await globalBinDirIsInPath(globalBinDir, env)) {\n        throw new error_1.PnpmError('GLOBAL_BIN_DIR_NOT_IN_PATH', `The configured global bin directory \"${globalBinDir}\" is not in PATH`);\n    }\n    if (shouldAllowWrite && !canWriteToDirAndExists(globalBinDir)) {\n        throw new error_1.PnpmError('PNPM_DIR_NOT_WRITABLE', `The CLI has no write access to the pnpm home directory at ${globalBinDir}`);\n    }\n}\nasync function globalBinDirIsInPath(globalBinDir, env) {\n    const dirs = env[path_name_1.default]?.split(path_1.default.delimiter) ?? [];\n    if (dirs.some((dir) => areDirsEqual(globalBinDir, dir)))\n        return true;\n    const realGlobalBinDir = await fs_1.promises.realpath(globalBinDir);\n    return dirs.some((dir) => areDirsEqual(realGlobalBinDir, dir));\n}\nconst areDirsEqual = (dir1, dir2) => path_1.default.relative(dir1, dir2) === '';\nfunction canWriteToDirAndExists(dir) {\n    try {\n        return (0, can_write_to_dir_1.sync)(dir);\n    }\n    catch (err) {\n        if (util_1.default.types.isNativeError(err) && 'code' in err && err.code === 'ENOENT')\n            return false;\n        throw err;\n    }\n}\n//# sourceMappingURL=checkGlobalBinDir.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getWorkspaceConcurrency = getWorkspaceConcurrency;\nconst os_1 = require(\"os\");\nfunction getWorkspaceConcurrency(option) {\n    if (typeof option !== 'number')\n        return 4;\n    if (option <= 0) {\n        // If option is <= 0, it uses the amount of cores minus the absolute of the number given\n        // but always returning at least 1\n        return Math.max(1, (0, os_1.cpus)().length - Math.abs(option));\n    }\n    return option;\n}\n//# sourceMappingURL=concurrency.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getCacheDir = getCacheDir;\nexports.getStateDir = getStateDir;\nexports.getDataDir = getDataDir;\nexports.getConfigDir = getConfigDir;\nconst os_1 = __importDefault(require(\"os\"));\nconst path_1 = __importDefault(require(\"path\"));\nfunction getCacheDir(opts) {\n    if (opts.env.XDG_CACHE_HOME) {\n        return path_1.default.join(opts.env.XDG_CACHE_HOME, 'pnpm');\n    }\n    if (opts.platform === 'darwin') {\n        return path_1.default.join(os_1.default.homedir(), 'Library/Caches/pnpm');\n    }\n    if (opts.platform !== 'win32') {\n        return path_1.default.join(os_1.default.homedir(), '.cache/pnpm');\n    }\n    if (opts.env.LOCALAPPDATA) {\n        return path_1.default.join(opts.env.LOCALAPPDATA, 'pnpm-cache');\n    }\n    return path_1.default.join(os_1.default.homedir(), '.pnpm-cache');\n}\nfunction getStateDir(opts) {\n    if (opts.env.XDG_STATE_HOME) {\n        return path_1.default.join(opts.env.XDG_STATE_HOME, 'pnpm');\n    }\n    if (opts.platform !== 'win32') {\n        return path_1.default.join(os_1.default.homedir(), '.local/state/pnpm');\n    }\n    if (opts.env.LOCALAPPDATA) {\n        return path_1.default.join(opts.env.LOCALAPPDATA, 'pnpm-state');\n    }\n    return path_1.default.join(os_1.default.homedir(), '.pnpm-state');\n}\nfunction getDataDir(opts) {\n    if (opts.env.PNPM_HOME) {\n        return opts.env.PNPM_HOME;\n    }\n    if (opts.env.XDG_DATA_HOME) {\n        return path_1.default.join(opts.env.XDG_DATA_HOME, 'pnpm');\n    }\n    if (opts.platform === 'darwin') {\n        return path_1.default.join(os_1.default.homedir(), 'Library/pnpm');\n    }\n    if (opts.platform !== 'win32') {\n        return path_1.default.join(os_1.default.homedir(), '.local/share/pnpm');\n    }\n    if (opts.env.LOCALAPPDATA) {\n        return path_1.default.join(opts.env.LOCALAPPDATA, 'pnpm');\n    }\n    return path_1.default.join(os_1.default.homedir(), '.pnpm');\n}\nfunction getConfigDir(opts) {\n    if (opts.env.XDG_CONFIG_HOME) {\n        return path_1.default.join(opts.env.XDG_CONFIG_HOME, 'pnpm');\n    }\n    if (opts.platform === 'darwin') {\n        return path_1.default.join(os_1.default.homedir(), 'Library/Preferences/pnpm');\n    }\n    if (opts.platform !== 'win32') {\n        return path_1.default.join(os_1.default.homedir(), '.config/pnpm');\n    }\n    if (opts.env.LOCALAPPDATA) {\n        return path_1.default.join(opts.env.LOCALAPPDATA, 'pnpm/config');\n    }\n    return path_1.default.join(os_1.default.homedir(), '.config/pnpm');\n}\n//# sourceMappingURL=dirs.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getNetworkConfigs = getNetworkConfigs;\nconst normalize_registry_url_1 = __importDefault(require(\"normalize-registry-url\"));\nconst fs_1 = __importDefault(require(\"fs\"));\nfunction getNetworkConfigs(rawConfig) {\n    // Get all the auth options that have :certfile or :keyfile in their name\n    const sslConfigs = {};\n    const registries = {};\n    for (const [configKey, value] of Object.entries(rawConfig)) {\n        if (configKey[0] === '@' && configKey.endsWith(':registry')) {\n            registries[configKey.slice(0, configKey.indexOf(':'))] = (0, normalize_registry_url_1.default)(value);\n        }\n        else if (configKey.includes(':certfile') || configKey.includes(':keyfile') || configKey.includes(':cafile')) {\n            // Split by '/:' because the registry may contain a port\n            const registry = configKey.split('/:')[0] + '/';\n            if (!sslConfigs[registry]) {\n                sslConfigs[registry] = { cert: '', key: '' };\n            }\n            if (configKey.includes(':certfile')) {\n                sslConfigs[registry].cert = fs_1.default.readFileSync(value, 'utf8');\n            }\n            else if (configKey.includes(':keyfile')) {\n                sslConfigs[registry].key = fs_1.default.readFileSync(value, 'utf8');\n            }\n            else if (configKey.includes(':cafile')) {\n                sslConfigs[registry].ca = fs_1.default.readFileSync(value, 'utf8');\n            }\n        }\n    }\n    return {\n        registries,\n        sslConfigs,\n    };\n}\n//# sourceMappingURL=getNetworkConfigs.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getOptionsFromRootManifest = getOptionsFromRootManifest;\nconst path_1 = __importDefault(require(\"path\"));\nconst error_1 = require(\"@pnpm/error\");\nconst map_1 = __importDefault(require(\"ramda/src/map\"));\nfunction getOptionsFromRootManifest(manifestDir, manifest) {\n    // We read Yarn's resolutions field for compatibility\n    // but we really replace the version specs to any other version spec, not only to exact versions,\n    // so we cannot call it resolutions\n    const overrides = (0, map_1.default)(createVersionReferencesReplacer(manifest), {\n        ...manifest.resolutions,\n        ...manifest.pnpm?.overrides,\n    });\n    const neverBuiltDependencies = manifest.pnpm?.neverBuiltDependencies;\n    const onlyBuiltDependencies = manifest.pnpm?.onlyBuiltDependencies;\n    const onlyBuiltDependenciesFile = manifest.pnpm?.onlyBuiltDependenciesFile;\n    const packageExtensions = manifest.pnpm?.packageExtensions;\n    const ignoredOptionalDependencies = manifest.pnpm?.ignoredOptionalDependencies;\n    const peerDependencyRules = manifest.pnpm?.peerDependencyRules;\n    const allowedDeprecatedVersions = manifest.pnpm?.allowedDeprecatedVersions;\n    const allowNonAppliedPatches = manifest.pnpm?.allowNonAppliedPatches;\n    let patchedDependencies = manifest.pnpm?.patchedDependencies;\n    if (patchedDependencies) {\n        patchedDependencies = { ...patchedDependencies };\n        for (const [dep, patchFile] of Object.entries(patchedDependencies)) {\n            if (path_1.default.isAbsolute(patchFile))\n                continue;\n            patchedDependencies[dep] = path_1.default.join(manifestDir, patchFile);\n        }\n    }\n    const supportedArchitectures = {\n        os: manifest.pnpm?.supportedArchitectures?.os ?? ['current'],\n        cpu: manifest.pnpm?.supportedArchitectures?.cpu ?? ['current'],\n        libc: manifest.pnpm?.supportedArchitectures?.libc ?? ['current'],\n    };\n    const settings = {\n        allowedDeprecatedVersions,\n        allowNonAppliedPatches,\n        overrides,\n        neverBuiltDependencies,\n        packageExtensions,\n        ignoredOptionalDependencies,\n        peerDependencyRules,\n        patchedDependencies,\n        supportedArchitectures,\n    };\n    if (onlyBuiltDependencies) {\n        settings.onlyBuiltDependencies = onlyBuiltDependencies;\n    }\n    if (onlyBuiltDependenciesFile) {\n        settings.onlyBuiltDependenciesFile = path_1.default.join(manifestDir, onlyBuiltDependenciesFile);\n    }\n    return settings;\n}\nfunction createVersionReferencesReplacer(manifest) {\n    const allDeps = {\n        ...manifest.devDependencies,\n        ...manifest.dependencies,\n        ...manifest.optionalDependencies,\n    };\n    return replaceVersionReferences.bind(null, allDeps);\n}\nfunction replaceVersionReferences(dep, spec) {\n    if (!(spec[0] === '$'))\n        return spec;\n    const dependencyName = spec.slice(1);\n    const newSpec = dep[dependencyName];\n    if (newSpec)\n        return newSpec;\n    throw new error_1.PnpmError('CANNOT_RESOLVE_OVERRIDE_VERSION', `Cannot resolve version ${spec} in overrides. The direct dependencies don't have dependency \"${dependencyName}\".`);\n}\n//# sourceMappingURL=getOptionsFromRootManifest.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getOptionsFromRootManifest = exports.types = void 0;\nexports.getConfig = getConfig;\nconst path_1 = __importDefault(require(\"path\"));\nconst fs_1 = __importDefault(require(\"fs\"));\nconst os_1 = __importDefault(require(\"os\"));\nconst catalogs_config_1 = require(\"@pnpm/catalogs.config\");\nconst constants_1 = require(\"@pnpm/constants\");\nconst error_1 = require(\"@pnpm/error\");\nconst npm_conf_1 = __importDefault(require(\"@pnpm/npm-conf\"));\nconst pnpmfile_1 = require(\"@pnpm/pnpmfile\");\nconst read_project_manifest_1 = require(\"@pnpm/read-project-manifest\");\nconst git_utils_1 = require(\"@pnpm/git-utils\");\nconst matcher_1 = require(\"@pnpm/matcher\");\nconst better_path_resolve_1 = __importDefault(require(\"better-path-resolve\"));\nconst camelcase_1 = __importDefault(require(\"camelcase\"));\nconst is_windows_1 = __importDefault(require(\"is-windows\"));\nconst normalize_registry_url_1 = __importDefault(require(\"normalize-registry-url\"));\nconst realpath_missing_1 = __importDefault(require(\"realpath-missing\"));\nconst path_absolute_1 = __importDefault(require(\"path-absolute\"));\nconst which_1 = __importDefault(require(\"which\"));\nconst auth_1 = require(\"./auth\");\nconst checkGlobalBinDir_1 = require(\"./checkGlobalBinDir\");\nconst getNetworkConfigs_1 = require(\"./getNetworkConfigs\");\nconst dirs_1 = require(\"./dirs\");\nconst concurrency_1 = require(\"./concurrency\");\nconst workspace_read_manifest_1 = require(\"@pnpm/workspace.read-manifest\");\nconst types_1 = require(\"./types\");\nObject.defineProperty(exports, \"types\", { enumerable: true, get: function () { return types_1.types; } });\nvar getOptionsFromRootManifest_1 = require(\"./getOptionsFromRootManifest\");\nObject.defineProperty(exports, \"getOptionsFromRootManifest\", { enumerable: true, get: function () { return getOptionsFromRootManifest_1.getOptionsFromRootManifest; } });\n__exportStar(require(\"./readLocalConfig\"), exports);\nconst npmDefaults = npm_conf_1.default.defaults;\nasync function getConfig(opts) {\n    if (opts.ignoreNonAuthSettingsFromLocal) {\n        const { ignoreNonAuthSettingsFromLocal: _, ...authOpts } = opts;\n        const globalCfgOpts = {\n            ...authOpts,\n            cliOptions: {\n                ...authOpts.cliOptions,\n                dir: os_1.default.homedir(),\n            },\n        };\n        const [final, authSrc] = await Promise.all([getConfig(globalCfgOpts), getConfig(authOpts)]);\n        (0, auth_1.inheritAuthConfig)(final.config, authSrc.config);\n        final.warnings.push(...authSrc.warnings);\n        return final;\n    }\n    const env = opts.env ?? process.env;\n    const packageManager = opts.packageManager ?? { name: 'pnpm', version: 'undefined' };\n    const cliOptions = opts.cliOptions ?? {};\n    if (cliOptions['hoist'] === false) {\n        if (cliOptions['shamefully-hoist'] === true) {\n            throw new error_1.PnpmError('CONFIG_CONFLICT_HOIST', '--shamefully-hoist cannot be used with --no-hoist');\n        }\n        if (cliOptions['shamefully-flatten'] === true) {\n            throw new error_1.PnpmError('CONFIG_CONFLICT_HOIST', '--shamefully-flatten cannot be used with --no-hoist');\n        }\n        if (cliOptions['hoist-pattern']) {\n            throw new error_1.PnpmError('CONFIG_CONFLICT_HOIST', '--hoist-pattern cannot be used with --no-hoist');\n        }\n    }\n    // This is what npm does as well, overriding process.execPath with the resolved location of Node.\n    // The value of process.execPath is changed only for the duration of config initialization.\n    // Otherwise, npmConfig.globalPrefix would sometimes have the bad location.\n    //\n    // TODO: use this workaround only during global installation\n    const originalExecPath = process.execPath;\n    try {\n        const node = await (0, which_1.default)(process.argv[0]);\n        if (node.toUpperCase() !== process.execPath.toUpperCase()) {\n            process.execPath = node;\n        }\n    }\n    catch { } // eslint-disable-line:no-empty\n    if (cliOptions.dir) {\n        cliOptions.dir = await (0, realpath_missing_1.default)(cliOptions.dir);\n        cliOptions['prefix'] = cliOptions.dir; // the npm config system still expects `prefix`\n    }\n    const rcOptionsTypes = { ...types_1.types, ...opts.rcOptionsTypes };\n    const defaultOptions = {\n        'auto-install-peers': true,\n        bail: true,\n        color: 'auto',\n        'deploy-all-files': false,\n        'dedupe-peer-dependents': true,\n        'dedupe-direct-deps': false,\n        'dedupe-injected-deps': true,\n        'disallow-workspace-cycles': false,\n        'enable-modules-dir': true,\n        'enable-pre-post-scripts': true,\n        'exclude-links-from-lockfile': false,\n        'extend-node-path': true,\n        'fail-if-no-match': false,\n        'fetch-retries': 2,\n        'fetch-retry-factor': 10,\n        'fetch-retry-maxtimeout': 60000,\n        'fetch-retry-mintimeout': 10000,\n        'fetch-timeout': 60000,\n        'git-shallow-hosts': [\n            // Follow https://github.com/npm/git/blob/1e1dbd26bd5b87ca055defecc3679777cb480e2a/lib/clone.js#L13-L19\n            'github.com',\n            'gist.github.com',\n            'gitlab.com',\n            'bitbucket.com',\n            'bitbucket.org',\n        ],\n        globalconfig: npmDefaults.globalconfig,\n        'git-branch-lockfile': false,\n        hoist: true,\n        'hoist-pattern': ['*'],\n        'hoist-workspace-packages': true,\n        'ignore-workspace-cycles': false,\n        'ignore-workspace-root-check': false,\n        'link-workspace-packages': false,\n        'lockfile-include-tarball-url': false,\n        'manage-package-manager-versions': false,\n        'modules-cache-max-age': 7 * 24 * 60, // 7 days\n        'dlx-cache-max-age': 24 * 60, // 1 day\n        'node-linker': 'isolated',\n        'package-lock': npmDefaults['package-lock'],\n        pending: false,\n        'package-manager-strict': process.env.COREPACK_ENABLE_STRICT !== '0',\n        'package-manager-strict-version': false,\n        'prefer-workspace-packages': false,\n        'public-hoist-pattern': [\n            '*eslint*',\n            '*prettier*',\n        ],\n        'recursive-install': true,\n        registry: npmDefaults.registry,\n        'resolution-mode': 'highest',\n        'resolve-peers-from-workspace-root': true,\n        'save-peer': false,\n        'save-workspace-protocol': 'rolling',\n        'scripts-prepend-node-path': false,\n        'side-effects-cache': true,\n        symlink: true,\n        'shared-workspace-lockfile': true,\n        'shell-emulator': false,\n        'strict-store-pkg-content-check': true,\n        reverse: false,\n        sort: true,\n        'strict-peer-dependencies': false,\n        'unsafe-perm': npmDefaults['unsafe-perm'],\n        'use-beta-cli': false,\n        userconfig: npmDefaults.userconfig,\n        'verify-store-integrity': true,\n        'virtual-store-dir': 'node_modules/.pnpm',\n        'workspace-concurrency': 4,\n        'workspace-prefix': opts.workspaceDir,\n        'embed-readme': false,\n        'registry-supports-time-field': false,\n        'virtual-store-dir-max-length': 120,\n        'peers-suffix-max-length': 1000,\n    };\n    const { config: npmConfig, warnings, failedToLoadBuiltInConfig } = (0, npm_conf_1.default)(cliOptions, rcOptionsTypes, defaultOptions);\n    const configDir = (0, dirs_1.getConfigDir)(process);\n    {\n        const warn = npmConfig.addFile(path_1.default.join(configDir, 'rc'), 'pnpm-global');\n        if (warn)\n            warnings.push(warn);\n    }\n    {\n        const warn = npmConfig.addFile(path_1.default.resolve(path_1.default.join(__dirname, 'pnpmrc')), 'pnpm-builtin');\n        if (warn)\n            warnings.push(warn);\n    }\n    delete cliOptions.prefix;\n    process.execPath = originalExecPath;\n    const rcOptions = Object.keys(rcOptionsTypes);\n    const pnpmConfig = Object.fromEntries([\n        ...rcOptions.map((configKey) => [(0, camelcase_1.default)(configKey, { locale: 'en-US' }), npmConfig.get(configKey)]), // eslint-disable-line\n        ...Object.entries(cliOptions).filter(([name, value]) => typeof value !== 'undefined').map(([name, value]) => [(0, camelcase_1.default)(name, { locale: 'en-US' }), value]),\n    ]);\n    // Resolving the current working directory to its actual location is crucial.\n    // This prevents potential inconsistencies in the future, especially when processing or mapping subdirectories.\n    const cwd = fs_1.default.realpathSync((0, better_path_resolve_1.default)(cliOptions.dir ?? npmConfig.localPrefix));\n    pnpmConfig.maxSockets = npmConfig.maxsockets;\n    // @ts-expect-error\n    delete pnpmConfig['maxsockets'];\n    pnpmConfig.configDir = configDir;\n    pnpmConfig.workspaceDir = opts.workspaceDir;\n    pnpmConfig.workspaceRoot = cliOptions['workspace-root']; // This is needed to prevent pnpm reading workspaceRoot from env variables\n    pnpmConfig.rawLocalConfig = Object.assign.apply(Object, [\n        {},\n        ...npmConfig.list.slice(3, pnpmConfig.workspaceDir && pnpmConfig.workspaceDir !== cwd ? 5 : 4).reverse(),\n        cliOptions,\n    ]); // eslint-disable-line @typescript-eslint/no-explicit-any\n    pnpmConfig.userAgent = pnpmConfig.rawLocalConfig['user-agent']\n        ? pnpmConfig.rawLocalConfig['user-agent']\n        : `${packageManager.name}/${packageManager.version} npm/? node/${process.version} ${process.platform} ${process.arch}`;\n    pnpmConfig.rawConfig = Object.assign.apply(Object, [\n        { registry: 'https://registry.npmjs.org/' },\n        ...[...npmConfig.list].reverse(),\n        cliOptions,\n        { 'user-agent': pnpmConfig.userAgent },\n    ]); // eslint-disable-line @typescript-eslint/no-explicit-any\n    const networkConfigs = (0, getNetworkConfigs_1.getNetworkConfigs)(pnpmConfig.rawConfig);\n    pnpmConfig.registries = {\n        default: (0, normalize_registry_url_1.default)(pnpmConfig.rawConfig.registry),\n        ...networkConfigs.registries,\n    };\n    pnpmConfig.sslConfigs = networkConfigs.sslConfigs;\n    pnpmConfig.useLockfile = (() => {\n        if (typeof pnpmConfig.lockfile === 'boolean')\n            return pnpmConfig.lockfile;\n        if (typeof pnpmConfig.packageLock === 'boolean')\n            return pnpmConfig.packageLock;\n        return false;\n    })();\n    pnpmConfig.useGitBranchLockfile = (() => {\n        if (typeof pnpmConfig.gitBranchLockfile === 'boolean')\n            return pnpmConfig.gitBranchLockfile;\n        return false;\n    })();\n    pnpmConfig.mergeGitBranchLockfiles = await (async () => {\n        if (typeof pnpmConfig.mergeGitBranchLockfiles === 'boolean')\n            return pnpmConfig.mergeGitBranchLockfiles;\n        if (pnpmConfig.mergeGitBranchLockfilesBranchPattern != null && pnpmConfig.mergeGitBranchLockfilesBranchPattern.length > 0) {\n            const branch = await (0, git_utils_1.getCurrentBranch)();\n            if (branch) {\n                const branchMatcher = (0, matcher_1.createMatcher)(pnpmConfig.mergeGitBranchLockfilesBranchPattern);\n                return branchMatcher(branch);\n            }\n        }\n        return undefined;\n    })();\n    pnpmConfig.pnpmHomeDir = (0, dirs_1.getDataDir)(process);\n    if (cliOptions['global']) {\n        let globalDirRoot;\n        if (pnpmConfig.globalDir) {\n            globalDirRoot = pnpmConfig.globalDir;\n        }\n        else {\n            globalDirRoot = path_1.default.join(pnpmConfig.pnpmHomeDir, 'global');\n        }\n        pnpmConfig.dir = path_1.default.join(globalDirRoot, constants_1.LAYOUT_VERSION.toString());\n        pnpmConfig.bin = npmConfig.get('global-bin-dir') ?? env.PNPM_HOME;\n        if (pnpmConfig.bin) {\n            fs_1.default.mkdirSync(pnpmConfig.bin, { recursive: true });\n            await (0, checkGlobalBinDir_1.checkGlobalBinDir)(pnpmConfig.bin, { env, shouldAllowWrite: opts.globalDirShouldAllowWrite });\n        }\n        pnpmConfig.save = true;\n        pnpmConfig.allowNew = true;\n        pnpmConfig.ignoreCurrentPrefs = true;\n        pnpmConfig.saveProd = true;\n        pnpmConfig.saveDev = false;\n        pnpmConfig.saveOptional = false;\n        if ((pnpmConfig.hoistPattern != null) && (pnpmConfig.hoistPattern.length > 1 || pnpmConfig.hoistPattern[0] !== '*')) {\n            if (opts.cliOptions['hoist-pattern']) {\n                throw new error_1.PnpmError('CONFIG_CONFLICT_HOIST_PATTERN_WITH_GLOBAL', 'Configuration conflict. \"hoist-pattern\" may not be used with \"global\"');\n            }\n        }\n        if (pnpmConfig.linkWorkspacePackages) {\n            if (opts.cliOptions['link-workspace-packages']) {\n                throw new error_1.PnpmError('CONFIG_CONFLICT_LINK_WORKSPACE_PACKAGES_WITH_GLOBAL', 'Configuration conflict. \"link-workspace-packages\" may not be used with \"global\"');\n            }\n            pnpmConfig.linkWorkspacePackages = false;\n        }\n        if (pnpmConfig.sharedWorkspaceLockfile) {\n            if (opts.cliOptions['shared-workspace-lockfile']) {\n                throw new error_1.PnpmError('CONFIG_CONFLICT_SHARED_WORKSPACE_LOCKFILE_WITH_GLOBAL', 'Configuration conflict. \"shared-workspace-lockfile\" may not be used with \"global\"');\n            }\n            pnpmConfig.sharedWorkspaceLockfile = false;\n        }\n        if (pnpmConfig.lockfileDir) {\n            if (opts.cliOptions['lockfile-dir']) {\n                throw new error_1.PnpmError('CONFIG_CONFLICT_LOCKFILE_DIR_WITH_GLOBAL', 'Configuration conflict. \"lockfile-dir\" may not be used with \"global\"');\n            }\n            delete pnpmConfig.lockfileDir;\n        }\n        if (opts.cliOptions['virtual-store-dir']) {\n            throw new error_1.PnpmError('CONFIG_CONFLICT_VIRTUAL_STORE_DIR_WITH_GLOBAL', 'Configuration conflict. \"virtual-store-dir\" may not be used with \"global\"');\n        }\n        pnpmConfig.virtualStoreDir = '.pnpm';\n    }\n    else {\n        pnpmConfig.dir = cwd;\n        pnpmConfig.bin = path_1.default.join(pnpmConfig.dir, 'node_modules', '.bin');\n    }\n    if (opts.cliOptions['save-peer']) {\n        if (opts.cliOptions['save-prod']) {\n            throw new error_1.PnpmError('CONFIG_CONFLICT_PEER_CANNOT_BE_PROD_DEP', 'A package cannot be a peer dependency and a prod dependency at the same time');\n        }\n        if (opts.cliOptions['save-optional']) {\n            throw new error_1.PnpmError('CONFIG_CONFLICT_PEER_CANNOT_BE_OPTIONAL_DEP', 'A package cannot be a peer dependency and an optional dependency at the same time');\n        }\n    }\n    if (pnpmConfig.sharedWorkspaceLockfile && !pnpmConfig.lockfileDir && pnpmConfig.workspaceDir) {\n        pnpmConfig.lockfileDir = pnpmConfig.workspaceDir;\n    }\n    pnpmConfig.packageManager = packageManager;\n    if (env.NODE_ENV) {\n        if (cliOptions.production) {\n            pnpmConfig.only = 'production';\n        }\n        if (cliOptions.dev) {\n            pnpmConfig.only = 'dev';\n        }\n    }\n    if (pnpmConfig.only === 'prod' || pnpmConfig.only === 'production' || !pnpmConfig.only && pnpmConfig.production) {\n        pnpmConfig.production = true;\n        pnpmConfig.dev = false;\n    }\n    else if (pnpmConfig.only === 'dev' || pnpmConfig.only === 'development' || pnpmConfig.dev) {\n        pnpmConfig.production = false;\n        pnpmConfig.dev = true;\n        pnpmConfig.optional = false;\n    }\n    else {\n        pnpmConfig.production = true;\n        pnpmConfig.dev = true;\n    }\n    if (typeof pnpmConfig.filter === 'string') {\n        pnpmConfig.filter = pnpmConfig.filter.split(' ');\n    }\n    if (typeof pnpmConfig.filterProd === 'string') {\n        pnpmConfig.filterProd = pnpmConfig.filterProd.split(' ');\n    }\n    if (!pnpmConfig.ignoreScripts && pnpmConfig.workspaceDir) {\n        pnpmConfig.extraBinPaths = [path_1.default.join(pnpmConfig.workspaceDir, 'node_modules', '.bin')];\n    }\n    else {\n        pnpmConfig.extraBinPaths = [];\n    }\n    if (pnpmConfig.preferSymlinkedExecutables && !(0, is_windows_1.default)()) {\n        const cwd = pnpmConfig.lockfileDir ?? pnpmConfig.dir;\n        const virtualStoreDir = pnpmConfig.virtualStoreDir\n            ? pnpmConfig.virtualStoreDir\n            : pnpmConfig.modulesDir\n                ? path_1.default.join(pnpmConfig.modulesDir, '.pnpm')\n                : 'node_modules/.pnpm';\n        pnpmConfig.extraEnv = {\n            NODE_PATH: (0, path_absolute_1.default)(path_1.default.join(virtualStoreDir, 'node_modules'), cwd),\n        };\n    }\n    if (pnpmConfig.shamefullyFlatten) {\n        warnings.push('The \"shamefully-flatten\" setting has been renamed to \"shamefully-hoist\". Also, in most cases you won\\'t need \"shamefully-hoist\". Since v4, a semistrict node_modules structure is on by default (via hoist-pattern=[*]).');\n        pnpmConfig.shamefullyHoist = true;\n    }\n    if (!pnpmConfig.cacheDir) {\n        pnpmConfig.cacheDir = (0, dirs_1.getCacheDir)(process);\n    }\n    if (!pnpmConfig.stateDir) {\n        pnpmConfig.stateDir = (0, dirs_1.getStateDir)(process);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-boolean-literal-compare\n    if (pnpmConfig.hoist === false) {\n        delete pnpmConfig.hoistPattern;\n    }\n    switch (pnpmConfig.shamefullyHoist) {\n        case false:\n            delete pnpmConfig.publicHoistPattern;\n            break;\n        case true:\n            pnpmConfig.publicHoistPattern = ['*'];\n            break;\n        default:\n            if ((pnpmConfig.publicHoistPattern == null) ||\n                (pnpmConfig.publicHoistPattern === '') ||\n                (Array.isArray(pnpmConfig.publicHoistPattern) &&\n                    pnpmConfig.publicHoistPattern.length === 1 &&\n                    pnpmConfig.publicHoistPattern[0] === '')) {\n                delete pnpmConfig.publicHoistPattern;\n            }\n            break;\n    }\n    if (!pnpmConfig.symlink) {\n        delete pnpmConfig.hoistPattern;\n        delete pnpmConfig.publicHoistPattern;\n    }\n    if (typeof pnpmConfig['color'] === 'boolean') {\n        switch (pnpmConfig['color']) {\n            case true:\n                pnpmConfig.color = 'always';\n                break;\n            case false:\n                pnpmConfig.color = 'never';\n                break;\n            default:\n                pnpmConfig.color = 'auto';\n                break;\n        }\n    }\n    if (!pnpmConfig.httpsProxy) {\n        pnpmConfig.httpsProxy = pnpmConfig.proxy ?? getProcessEnv('https_proxy');\n    }\n    if (!pnpmConfig.httpProxy) {\n        pnpmConfig.httpProxy = pnpmConfig.httpsProxy ?? getProcessEnv('http_proxy') ?? getProcessEnv('proxy');\n    }\n    if (!pnpmConfig.noProxy) {\n        // @ts-expect-error\n        pnpmConfig.noProxy = pnpmConfig['noproxy'] ?? getProcessEnv('no_proxy');\n    }\n    switch (pnpmConfig.nodeLinker) {\n        case 'pnp':\n            pnpmConfig.enablePnp = pnpmConfig.nodeLinker === 'pnp';\n            break;\n        case 'hoisted':\n            if (pnpmConfig.preferSymlinkedExecutables == null) {\n                pnpmConfig.preferSymlinkedExecutables = true;\n            }\n            break;\n    }\n    if (!pnpmConfig.userConfig) {\n        pnpmConfig.userConfig = npmConfig.sources.user?.data;\n    }\n    pnpmConfig.sideEffectsCacheRead = pnpmConfig.sideEffectsCache ?? pnpmConfig.sideEffectsCacheReadonly;\n    pnpmConfig.sideEffectsCacheWrite = pnpmConfig.sideEffectsCache;\n    if (opts.checkUnknownSetting) {\n        const settingKeys = Object.keys({\n            ...npmConfig?.sources?.workspace?.data,\n            ...npmConfig?.sources?.project?.data,\n        }).filter(key => key.trim() !== '');\n        const unknownKeys = [];\n        for (const key of settingKeys) {\n            if (!rcOptions.includes(key) && !key.startsWith('//') && !(key[0] === '@' && key.endsWith(':registry'))) {\n                unknownKeys.push(key);\n            }\n        }\n        if (unknownKeys.length > 0) {\n            warnings.push(`Your .npmrc file contains unknown setting: ${unknownKeys.join(', ')}`);\n        }\n    }\n    pnpmConfig.workspaceConcurrency = (0, concurrency_1.getWorkspaceConcurrency)(pnpmConfig.workspaceConcurrency);\n    if (!pnpmConfig.ignorePnpmfile) {\n        pnpmConfig.hooks = (0, pnpmfile_1.requireHooks)(pnpmConfig.lockfileDir ?? pnpmConfig.dir, pnpmConfig);\n    }\n    pnpmConfig.rootProjectManifestDir = pnpmConfig.lockfileDir ?? pnpmConfig.workspaceDir ?? pnpmConfig.dir;\n    pnpmConfig.rootProjectManifest = await (0, read_project_manifest_1.safeReadProjectManifestOnly)(pnpmConfig.rootProjectManifestDir) ?? undefined;\n    if (pnpmConfig.rootProjectManifest != null) {\n        if (pnpmConfig.rootProjectManifest.workspaces?.length && !pnpmConfig.workspaceDir) {\n            warnings.push('The \"workspaces\" field in package.json is not supported by pnpm. Create a \"pnpm-workspace.yaml\" file instead.');\n        }\n        if (pnpmConfig.rootProjectManifest.packageManager) {\n            pnpmConfig.wantedPackageManager = parsePackageManager(pnpmConfig.rootProjectManifest.packageManager);\n        }\n    }\n    if (pnpmConfig.workspaceDir != null) {\n        const workspaceManifest = await (0, workspace_read_manifest_1.readWorkspaceManifest)(pnpmConfig.workspaceDir);\n        pnpmConfig.workspacePackagePatterns = cliOptions['workspace-packages'] ?? workspaceManifest?.packages;\n        pnpmConfig.catalogs = (0, catalogs_config_1.getCatalogsFromWorkspaceManifest)(workspaceManifest);\n    }\n    pnpmConfig.failedToLoadBuiltInConfig = failedToLoadBuiltInConfig;\n    return { config: pnpmConfig, warnings };\n}\nfunction getProcessEnv(env) {\n    return process.env[env] ??\n        process.env[env.toUpperCase()] ??\n        process.env[env.toLowerCase()];\n}\nfunction parsePackageManager(packageManager) {\n    const [name, pmReference] = packageManager.split('@');\n    // pmReference is semantic versioning, not URL\n    if (pmReference.includes(':'))\n        return { name, version: undefined };\n    // Remove the integrity hash. Ex: \"pnpm@9.5.0+sha512.140036830124618d624a2187b50d04289d5a087f326c9edfc0ccd733d76c4f52c3a313d4fc148794a2a9d81553016004e6742e8cf850670268a7387fc220c903\"\n    const [version] = pmReference.split('+');\n    return {\n        name,\n        version,\n    };\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.inheritPickedConfig = inheritPickedConfig;\nfunction inheritPickedConfig(targetCfg, srcCfg, pickConfig, pickRawConfig, pickRawLocalConfig = pickRawConfig) {\n    Object.assign(targetCfg, pickConfig(srcCfg));\n    Object.assign(targetCfg.rawConfig, pickRawConfig(srcCfg.rawConfig));\n    Object.assign(targetCfg.rawLocalConfig, pickRawLocalConfig(srcCfg.rawLocalConfig));\n}\n//# sourceMappingURL=inheritPickedConfig.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.readLocalConfig = readLocalConfig;\nconst path_1 = __importDefault(require(\"path\"));\nconst util_1 = __importDefault(require(\"util\"));\nconst camelcase_keys_1 = __importDefault(require(\"camelcase-keys\"));\nconst config_env_replace_1 = require(\"@pnpm/config.env-replace\");\nconst read_ini_file_1 = require(\"read-ini-file\");\nasync function readLocalConfig(prefix) {\n    try {\n        const ini = await (0, read_ini_file_1.readIniFile)(path_1.default.join(prefix, '.npmrc'));\n        const config = (0, camelcase_keys_1.default)(ini);\n        if (config.shamefullyFlatten) {\n            config.hoistPattern = '*';\n            // TODO: print a warning\n        }\n        if (config.hoist === false) {\n            config.hoistPattern = '';\n        }\n        for (const [key, val] of Object.entries(config)) {\n            if (typeof val === 'string') {\n                try {\n                    config[(0, config_env_replace_1.envReplace)(key, process.env)] = (0, config_env_replace_1.envReplace)(val, process.env);\n                }\n                catch { }\n            }\n        }\n        return config;\n    }\n    catch (err) {\n        if (util_1.default.types.isNativeError(err) && 'code' in err && err.code === 'ENOENT')\n            return {};\n        throw err;\n    }\n}\n//# sourceMappingURL=readLocalConfig.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.types = void 0;\nconst types_1 = __importDefault(require(\"@pnpm/npm-conf/lib/types\"));\nexports.types = Object.assign({\n    'auto-install-peers': Boolean,\n    bail: Boolean,\n    'cache-dir': String,\n    'child-concurrency': Number,\n    'merge-git-branch-lockfiles': Boolean,\n    'merge-git-branch-lockfiles-branch-pattern': Array,\n    color: ['always', 'auto', 'never'],\n    'config-dir': String,\n    'deploy-all-files': Boolean,\n    'dedupe-peer-dependents': Boolean,\n    'dedupe-direct-deps': Boolean,\n    'dedupe-injected-deps': Boolean,\n    dev: [null, true],\n    dir: String,\n    'disallow-workspace-cycles': Boolean,\n    'enable-modules-dir': Boolean,\n    'enable-pre-post-scripts': Boolean,\n    'exclude-links-from-lockfile': Boolean,\n    'extend-node-path': Boolean,\n    'fetch-timeout': Number,\n    'fetching-concurrency': Number,\n    filter: [String, Array],\n    'filter-prod': [String, Array],\n    'frozen-lockfile': Boolean,\n    'git-checks': Boolean,\n    'git-shallow-hosts': Array,\n    'global-bin-dir': String,\n    'global-dir': String,\n    'global-path': String,\n    'global-pnpmfile': String,\n    'git-branch-lockfile': Boolean,\n    hoist: Boolean,\n    'hoist-pattern': Array,\n    'hoist-workspace-packages': Boolean,\n    'ignore-compatibility-db': Boolean,\n    'ignore-dep-scripts': Boolean,\n    'ignore-pnpmfile': Boolean,\n    'ignore-workspace': Boolean,\n    'ignore-workspace-cycles': Boolean,\n    'ignore-workspace-root-check': Boolean,\n    'include-workspace-root': Boolean,\n    'legacy-dir-filtering': Boolean,\n    'link-workspace-packages': [Boolean, 'deep'],\n    lockfile: Boolean,\n    'lockfile-dir': String,\n    'lockfile-directory': String, // TODO: deprecate\n    'lockfile-include-tarball-url': Boolean,\n    'lockfile-only': Boolean,\n    loglevel: ['silent', 'error', 'warn', 'info', 'debug'],\n    'manage-package-manager-versions': Boolean,\n    maxsockets: Number,\n    'modules-cache-max-age': Number,\n    'dlx-cache-max-age': Number,\n    'modules-dir': String,\n    'network-concurrency': Number,\n    'node-linker': ['pnp', 'isolated', 'hoisted'],\n    noproxy: String,\n    'npm-path': String,\n    offline: Boolean,\n    'only-built-dependencies': [String],\n    'pack-gzip-level': Number,\n    'package-import-method': ['auto', 'hardlink', 'clone', 'copy'],\n    'patches-dir': String,\n    pnpmfile: String,\n    'package-manager-strict': Boolean,\n    'package-manager-strict-version': Boolean,\n    'prefer-frozen-lockfile': Boolean,\n    'prefer-offline': Boolean,\n    'prefer-symlinked-executables': Boolean,\n    'prefer-workspace-packages': Boolean,\n    production: [null, true],\n    'public-hoist-pattern': Array,\n    'publish-branch': String,\n    'recursive-install': Boolean,\n    reporter: String,\n    'resolution-mode': ['highest', 'time-based', 'lowest-direct'],\n    'resolve-peers-from-workspace-root': Boolean,\n    'aggregate-output': Boolean,\n    'reporter-hide-prefix': Boolean,\n    'save-peer': Boolean,\n    'save-workspace-protocol': Boolean,\n    'script-shell': String,\n    'shamefully-flatten': Boolean,\n    'shamefully-hoist': Boolean,\n    'shared-workspace-lockfile': Boolean,\n    'shell-emulator': Boolean,\n    'side-effects-cache': Boolean,\n    'side-effects-cache-readonly': Boolean,\n    symlink: Boolean,\n    sort: Boolean,\n    'state-dir': String,\n    'store-dir': String,\n    stream: Boolean,\n    'strict-store-pkg-content-check': Boolean,\n    'strict-peer-dependencies': Boolean,\n    'use-beta-cli': Boolean,\n    'use-node-version': String,\n    'use-running-store-server': Boolean,\n    'use-store-server': Boolean,\n    'use-stderr': Boolean,\n    'verify-store-integrity': Boolean,\n    'virtual-store-dir': String,\n    'virtual-store-dir-max-length': Number,\n    'peers-suffix-max-length': Number,\n    'workspace-concurrency': Number,\n    'workspace-packages': [String, Array],\n    'workspace-root': Boolean,\n    'test-pattern': [String, Array],\n    'changed-files-ignore-pattern': [String, Array],\n    'embed-readme': Boolean,\n    'update-notifier': Boolean,\n    'registry-supports-time-field': Boolean,\n    'fail-if-no-match': Boolean,\n}, types_1.default.types);\n//# sourceMappingURL=types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FULL_FILTERED_META_DIR = exports.FULL_META_DIR = exports.META_DIR = exports.WORKSPACE_MANIFEST_FILENAME = exports.LAYOUT_VERSION = exports.ENGINE_NAME = exports.LOCKFILE_VERSION_V6 = exports.LOCKFILE_VERSION = exports.LOCKFILE_MAJOR_VERSION = exports.WANTED_LOCKFILE = void 0;\nexports.WANTED_LOCKFILE = 'pnpm-lock.yaml';\nexports.LOCKFILE_MAJOR_VERSION = '9';\nexports.LOCKFILE_VERSION = `${exports.LOCKFILE_MAJOR_VERSION}.0`;\nexports.LOCKFILE_VERSION_V6 = '6.0';\nexports.ENGINE_NAME = `${process.platform}-${process.arch}-node-${process.version.split('.')[0]}`;\nexports.LAYOUT_VERSION = 5;\nexports.WORKSPACE_MANIFEST_FILENAME = 'pnpm-workspace.yaml';\n// This file contains meta information\n// about all the packages published by the same name, not just the manifest\n// of one package/version\nexports.META_DIR = 'metadata';\nexports.FULL_META_DIR = 'metadata-full';\nexports.FULL_FILTERED_META_DIR = 'metadata-v1.2';\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./contextLogger\"), exports);\n__exportStar(require(\"./deprecationLogger\"), exports);\n__exportStar(require(\"./fetchingProgressLogger\"), exports);\n__exportStar(require(\"./hookLogger\"), exports);\n__exportStar(require(\"./installCheckLogger\"), exports);\n__exportStar(require(\"./lifecycleLogger\"), exports);\n__exportStar(require(\"./linkLogger\"), exports);\n__exportStar(require(\"./packageImportMethodLogger\"), exports);\n__exportStar(require(\"./packageManifestLogger\"), exports);\n__exportStar(require(\"./peerDependencyIssues\"), exports);\n__exportStar(require(\"./progressLogger\"), exports);\n__exportStar(require(\"./registryLogger\"), exports);\n__exportStar(require(\"./removalLogger\"), exports);\n__exportStar(require(\"./requestRetryLogger\"), exports);\n__exportStar(require(\"./rootLogger\"), exports);\n__exportStar(require(\"./scopeLogger\"), exports);\n__exportStar(require(\"./skippedOptionalDependencyLogger\"), exports);\n__exportStar(require(\"./stageLogger\"), exports);\n__exportStar(require(\"./statsLogger\"), exports);\n__exportStar(require(\"./summaryLogger\"), exports);\n__exportStar(require(\"./updateCheckLogger\"), exports);\n__exportStar(require(\"./executionTimeLogger\"), exports);\n//# sourceMappingURL=all.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.contextLogger = void 0;\nconst logger_1 = require(\"@pnpm/logger\");\nexports.contextLogger = (0, logger_1.logger)('context');\n//# sourceMappingURL=contextLogger.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.deprecationLogger = void 0;\nconst logger_1 = require(\"@pnpm/logger\");\nexports.deprecationLogger = (0, logger_1.logger)('deprecation');\n//# sourceMappingURL=deprecationLogger.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.executionTimeLogger = void 0;\nconst logger_1 = require(\"@pnpm/logger\");\nexports.executionTimeLogger = (0, logger_1.logger)('execution-time');\n//# sourceMappingURL=executionTimeLogger.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fetchingProgressLogger = void 0;\nconst logger_1 = require(\"@pnpm/logger\");\nexports.fetchingProgressLogger = (0, logger_1.logger)('fetching-progress');\n//# sourceMappingURL=fetchingProgressLogger.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hookLogger = void 0;\nconst logger_1 = require(\"@pnpm/logger\");\nexports.hookLogger = (0, logger_1.logger)('hook');\n//# sourceMappingURL=hookLogger.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./all\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.installCheckLogger = void 0;\nconst logger_1 = require(\"@pnpm/logger\");\nexports.installCheckLogger = (0, logger_1.logger)('install-check');\n//# sourceMappingURL=installCheckLogger.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.lifecycleLogger = void 0;\nconst logger_1 = require(\"@pnpm/logger\");\nexports.lifecycleLogger = (0, logger_1.logger)('lifecycle');\n//# sourceMappingURL=lifecycleLogger.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.linkLogger = void 0;\nconst logger_1 = require(\"@pnpm/logger\");\nexports.linkLogger = (0, logger_1.logger)('link');\n//# sourceMappingURL=linkLogger.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.packageImportMethodLogger = void 0;\nconst logger_1 = require(\"@pnpm/logger\");\nexports.packageImportMethodLogger = (0, logger_1.logger)('package-import-method');\n//# sourceMappingURL=packageImportMethodLogger.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.packageManifestLogger = void 0;\nconst logger_1 = require(\"@pnpm/logger\");\nexports.packageManifestLogger = (0, logger_1.logger)('package-manifest');\n//# sourceMappingURL=packageManifestLogger.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.peerDependencyIssuesLogger = void 0;\nconst logger_1 = require(\"@pnpm/logger\");\nexports.peerDependencyIssuesLogger = (0, logger_1.logger)('peer-dependency-issues');\n//# sourceMappingURL=peerDependencyIssues.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.progressLogger = void 0;\nconst logger_1 = require(\"@pnpm/logger\");\nexports.progressLogger = (0, logger_1.logger)('progress');\n//# sourceMappingURL=progressLogger.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=registryLogger.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.removalLogger = void 0;\nconst logger_1 = require(\"@pnpm/logger\");\nexports.removalLogger = (0, logger_1.logger)('removal');\n//# sourceMappingURL=removalLogger.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.requestRetryLogger = void 0;\nconst logger_1 = require(\"@pnpm/logger\");\nexports.requestRetryLogger = (0, logger_1.logger)('request-retry');\n//# sourceMappingURL=requestRetryLogger.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.rootLogger = void 0;\nconst logger_1 = require(\"@pnpm/logger\");\nexports.rootLogger = (0, logger_1.logger)('root');\n//# sourceMappingURL=rootLogger.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.scopeLogger = void 0;\nconst logger_1 = require(\"@pnpm/logger\");\nexports.scopeLogger = (0, logger_1.logger)('scope');\n//# sourceMappingURL=scopeLogger.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.skippedOptionalDependencyLogger = void 0;\nconst logger_1 = require(\"@pnpm/logger\");\nexports.skippedOptionalDependencyLogger = (0, logger_1.logger)('skipped-optional-dependency');\n//# sourceMappingURL=skippedOptionalDependencyLogger.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stageLogger = void 0;\nconst logger_1 = require(\"@pnpm/logger\");\nexports.stageLogger = (0, logger_1.logger)('stage');\n//# sourceMappingURL=stageLogger.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.statsLogger = void 0;\nconst logger_1 = require(\"@pnpm/logger\");\nexports.statsLogger = (0, logger_1.logger)('stats');\n//# sourceMappingURL=statsLogger.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.summaryLogger = void 0;\nconst logger_1 = require(\"@pnpm/logger\");\nexports.summaryLogger = (0, logger_1.logger)('summary');\n//# sourceMappingURL=summaryLogger.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.updateCheckLogger = void 0;\nconst logger_1 = require(\"@pnpm/logger\");\nexports.updateCheckLogger = (0, logger_1.logger)('update-check');\n//# sourceMappingURL=updateCheckLogger.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createBase32HashFromFile = exports.createBase32Hash = void 0;\nconst crypto_1 = __importDefault(require(\"crypto\"));\nconst fs_1 = __importDefault(require(\"fs\"));\nconst rfc4648_1 = require(\"rfc4648\");\nfunction createBase32Hash(str) {\n    return rfc4648_1.base32.stringify(crypto_1.default.createHash('md5').update(str).digest()).replace(/(=+)$/, '').toLowerCase();\n}\nexports.createBase32Hash = createBase32Hash;\nasync function createBase32HashFromFile(file) {\n    const content = await fs_1.default.promises.readFile(file, 'utf8');\n    return createBase32Hash(content.split('\\r\\n').join('\\n'));\n}\nexports.createBase32HashFromFile = createBase32HashFromFile;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.renderDedupeCheckIssues = void 0;\nconst archy_1 = __importDefault(require(\"archy\"));\nconst chalk_1 = __importDefault(require(\"chalk\"));\nfunction renderDedupeCheckIssues(dedupeCheckIssues) {\n    const importersReport = report(dedupeCheckIssues.importerIssuesByImporterId);\n    const packagesReport = report(dedupeCheckIssues.packageIssuesByDepPath);\n    const lines = [];\n    if (importersReport !== '') {\n        lines.push(chalk_1.default.blueBright.underline('Importers'));\n        lines.push(importersReport);\n        lines.push('');\n    }\n    if (packagesReport !== '') {\n        lines.push(chalk_1.default.blueBright.underline('Packages'));\n        lines.push(packagesReport);\n        lines.push('');\n    }\n    return lines.join('\\n');\n}\nexports.renderDedupeCheckIssues = renderDedupeCheckIssues;\n/**\n * Render snapshot changes. Expected to return an empty string for no changes.\n */\nfunction report(snapshotChanges) {\n    return [\n        ...Object.entries(snapshotChanges.updated).map(([alias, updates]) => (0, archy_1.default)(toArchy(alias, updates))),\n        ...snapshotChanges.added.map((id) => `${chalk_1.default.green('+')} ${id}`),\n        ...snapshotChanges.removed.map((id) => `${chalk_1.default.red('-')} ${id}`),\n    ].join('\\n');\n}\nfunction toArchy(name, issue) {\n    return {\n        label: name,\n        nodes: Object.entries(issue).map(([alias, change]) => toArchyResolution(alias, change)),\n    };\n}\nfunction toArchyResolution(alias, change) {\n    switch (change.type) {\n        case 'added':\n            return { label: `${chalk_1.default.green('+')} ${alias} ${chalk_1.default.gray(change.next)}` };\n        case 'removed':\n            return { label: `${chalk_1.default.red('-')} ${alias} ${chalk_1.default.gray(change.prev)}` };\n        case 'updated':\n            return { label: `${alias} ${chalk_1.default.red(change.prev)} ${chalk_1.default.gray('')} ${chalk_1.default.green(change.next)}` };\n    }\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EOL = void 0;\n// In terminals, always Unix line endings are used\n// even on Windows\nexports.EOL = '\\n';\n//# sourceMappingURL=constants.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formatWarn = void 0;\nexports.initDefaultReporter = initDefaultReporter;\nexports.toOutput$ = toOutput$;\nconst Rx = __importStar(require(\"rxjs\"));\nconst operators_1 = require(\"rxjs/operators\");\nconst ansi_diff_1 = __importDefault(require(\"ansi-diff\"));\nconst constants_1 = require(\"./constants\");\nconst mergeOutputs_1 = require(\"./mergeOutputs\");\nconst reporterForClient_1 = require(\"./reporterForClient\");\nconst formatWarn_1 = require(\"./reporterForClient/utils/formatWarn\");\nObject.defineProperty(exports, \"formatWarn\", { enumerable: true, get: function () { return formatWarn_1.formatWarn; } });\nconst reporterForServer_1 = require(\"./reporterForServer\");\nfunction initDefaultReporter(opts) {\n    if (opts.context.argv[0] === 'server') {\n        // eslint-disable-next-line\n        const log$ = Rx.fromEvent(opts.streamParser, 'data');\n        const subscription = (0, reporterForServer_1.reporterForServer)(log$, opts.context.config);\n        return () => {\n            subscription.unsubscribe();\n        };\n    }\n    const proc = opts.context.process ?? process;\n    const outputMaxWidth = opts.reportingOptions?.outputMaxWidth ?? (proc.stdout.columns && proc.stdout.columns - 2) ?? 80;\n    const output$ = toOutput$({\n        ...opts,\n        reportingOptions: {\n            ...opts.reportingOptions,\n            outputMaxWidth,\n        },\n    });\n    if (opts.reportingOptions?.appendOnly) {\n        const writeNext = opts.useStderr\n            ? console.error.bind(console)\n            : console.log.bind(console);\n        const subscription = output$\n            .subscribe({\n            complete() { }, // eslint-disable-line:no-empty\n            error: (err) => {\n                console.error(err.message);\n            },\n            next: writeNext,\n        });\n        return () => {\n            subscription.unsubscribe();\n        };\n    }\n    const diff = (0, ansi_diff_1.default)({\n        height: proc.stdout.rows,\n        outputMaxWidth,\n    });\n    const subscription = output$\n        .subscribe({\n        complete() { }, // eslint-disable-line:no-empty\n        error: (err) => {\n            logUpdate(err.message);\n        },\n        next: logUpdate,\n    });\n    const write = opts.useStderr\n        ? proc.stderr.write.bind(proc.stderr)\n        : proc.stdout.write.bind(proc.stdout);\n    function logUpdate(view) {\n        // A new line should always be appended in case a prompt needs to appear.\n        // Without a new line the prompt will be joined with the previous output.\n        // An example of such prompt may be seen by running: pnpm update --interactive\n        if (!view.endsWith(constants_1.EOL))\n            view += constants_1.EOL;\n        write(diff.update(view));\n    }\n    return () => {\n        subscription.unsubscribe();\n    };\n}\nfunction toOutput$(opts) {\n    opts = opts || {};\n    const contextPushStream = new Rx.Subject();\n    const fetchingProgressPushStream = new Rx.Subject();\n    const executionTimePushStream = new Rx.Subject();\n    const progressPushStream = new Rx.Subject();\n    const stagePushStream = new Rx.Subject();\n    const deprecationPushStream = new Rx.Subject();\n    const summaryPushStream = new Rx.Subject();\n    const lifecyclePushStream = new Rx.Subject();\n    const statsPushStream = new Rx.Subject();\n    const packageImportMethodPushStream = new Rx.Subject();\n    const installCheckPushStream = new Rx.Subject();\n    const registryPushStream = new Rx.Subject();\n    const rootPushStream = new Rx.Subject();\n    const packageManifestPushStream = new Rx.Subject();\n    const peerDependencyIssuesPushStream = new Rx.Subject();\n    const linkPushStream = new Rx.Subject();\n    const otherPushStream = new Rx.Subject();\n    const hookPushStream = new Rx.Subject();\n    const skippedOptionalDependencyPushStream = new Rx.Subject();\n    const scopePushStream = new Rx.Subject();\n    const requestRetryPushStream = new Rx.Subject();\n    const updateCheckPushStream = new Rx.Subject();\n    setTimeout(() => {\n        opts.streamParser.on('data', (log) => {\n            switch (log.name) {\n                case 'pnpm:context':\n                    contextPushStream.next(log);\n                    break;\n                case 'pnpm:execution-time':\n                    executionTimePushStream.next(log);\n                    break;\n                case 'pnpm:fetching-progress':\n                    fetchingProgressPushStream.next(log);\n                    break;\n                case 'pnpm:progress':\n                    progressPushStream.next(log);\n                    break;\n                case 'pnpm:stage':\n                    stagePushStream.next(log);\n                    break;\n                case 'pnpm:deprecation':\n                    deprecationPushStream.next(log);\n                    break;\n                case 'pnpm:summary':\n                    summaryPushStream.next(log);\n                    break;\n                case 'pnpm:lifecycle':\n                    lifecyclePushStream.next(log);\n                    break;\n                case 'pnpm:stats':\n                    statsPushStream.next(log);\n                    break;\n                case 'pnpm:package-import-method':\n                    packageImportMethodPushStream.next(log);\n                    break;\n                case 'pnpm:peer-dependency-issues':\n                    peerDependencyIssuesPushStream.next(log);\n                    break;\n                case 'pnpm:install-check':\n                    installCheckPushStream.next(log);\n                    break;\n                case 'pnpm:registry':\n                    registryPushStream.next(log);\n                    break;\n                case 'pnpm:root':\n                    rootPushStream.next(log);\n                    break;\n                case 'pnpm:package-manifest':\n                    packageManifestPushStream.next(log);\n                    break;\n                case 'pnpm:link':\n                    linkPushStream.next(log);\n                    break;\n                case 'pnpm:hook':\n                    hookPushStream.next(log);\n                    break;\n                case 'pnpm:skipped-optional-dependency':\n                    skippedOptionalDependencyPushStream.next(log);\n                    break;\n                case 'pnpm:scope':\n                    scopePushStream.next(log);\n                    break;\n                case 'pnpm:request-retry':\n                    requestRetryPushStream.next(log);\n                    break;\n                case 'pnpm:update-check':\n                    updateCheckPushStream.next(log);\n                    break;\n                case 'pnpm': // eslint-disable-line\n                case 'pnpm:global': // eslint-disable-line\n                case 'pnpm:store': // eslint-disable-line\n                case 'pnpm:lockfile': // eslint-disable-line\n                    otherPushStream.next(log);\n                    break;\n            }\n        });\n    }, 0);\n    let other = Rx.from(otherPushStream);\n    if (opts.context.config?.hooks?.filterLog != null) {\n        const filterLogs = opts.context.config.hooks.filterLog;\n        const filterFn = filterLogs.length === 1\n            ? filterLogs[0]\n            : (log) => filterLogs.every((filterLog) => filterLog(log));\n        other = other.pipe((0, operators_1.filter)(filterFn));\n    }\n    const log$ = {\n        context: Rx.from(contextPushStream),\n        deprecation: Rx.from(deprecationPushStream),\n        fetchingProgress: Rx.from(fetchingProgressPushStream),\n        executionTime: Rx.from(executionTimePushStream),\n        hook: Rx.from(hookPushStream),\n        installCheck: Rx.from(installCheckPushStream),\n        lifecycle: Rx.from(lifecyclePushStream),\n        link: Rx.from(linkPushStream),\n        other,\n        packageImportMethod: Rx.from(packageImportMethodPushStream),\n        packageManifest: Rx.from(packageManifestPushStream),\n        peerDependencyIssues: Rx.from(peerDependencyIssuesPushStream),\n        progress: Rx.from(progressPushStream),\n        registry: Rx.from(registryPushStream),\n        requestRetry: Rx.from(requestRetryPushStream),\n        root: Rx.from(rootPushStream),\n        scope: Rx.from(scopePushStream),\n        skippedOptionalDependency: Rx.from(skippedOptionalDependencyPushStream),\n        stage: Rx.from(stagePushStream),\n        stats: Rx.from(statsPushStream),\n        summary: Rx.from(summaryPushStream),\n        updateCheck: Rx.from(updateCheckPushStream),\n    };\n    const cmd = opts.context.argv[0];\n    const outputs = (0, reporterForClient_1.reporterForClient)(log$, {\n        appendOnly: opts.reportingOptions?.appendOnly,\n        cmd,\n        config: opts.context.config,\n        env: opts.context.env ?? process.env,\n        filterPkgsDiff: opts.filterPkgsDiff,\n        peerDependencyRules: opts.reportingOptions?.peerDependencyRules,\n        process: opts.context.process ?? process,\n        isRecursive: opts.context.config?.['recursive'] === true,\n        logLevel: opts.reportingOptions?.logLevel,\n        pnpmConfig: opts.context.config,\n        streamLifecycleOutput: opts.reportingOptions?.streamLifecycleOutput,\n        aggregateOutput: opts.reportingOptions?.aggregateOutput,\n        throttleProgress: opts.reportingOptions?.throttleProgress,\n        width: opts.reportingOptions?.outputMaxWidth,\n        hideAddedPkgsProgress: opts.reportingOptions?.hideAddedPkgsProgress,\n        hideProgressPrefix: opts.reportingOptions?.hideProgressPrefix ?? (cmd === 'dlx'),\n        hideLifecycleOutput: opts.reportingOptions?.hideLifecycleOutput,\n        hideLifecyclePrefix: opts.reportingOptions?.hideLifecyclePrefix,\n    });\n    if (opts.reportingOptions?.appendOnly) {\n        return Rx.merge(...outputs)\n            .pipe((0, operators_1.map)((log) => log.pipe((0, operators_1.map)((msg) => msg.msg))), (0, operators_1.mergeAll)());\n    }\n    return (0, mergeOutputs_1.mergeOutputs)(outputs);\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.mergeOutputs = mergeOutputs;\nconst Rx = __importStar(require(\"rxjs\"));\nconst operators_1 = require(\"rxjs/operators\");\nconst constants_1 = require(\"./constants\");\nfunction mergeOutputs(outputs) {\n    let blockNo = 0;\n    let fixedBlockNo = 0;\n    let started = false;\n    let previousOutput = null;\n    return Rx.merge(...outputs).pipe((0, operators_1.map)((log) => {\n        let currentBlockNo = -1;\n        let currentFixedBlockNo = -1;\n        return log.pipe((0, operators_1.map)((msg) => {\n            if (msg.fixed) {\n                if (currentFixedBlockNo === -1) {\n                    currentFixedBlockNo = fixedBlockNo++;\n                }\n                return {\n                    blockNo: currentFixedBlockNo,\n                    fixed: true,\n                    msg: msg.msg,\n                };\n            }\n            if (currentBlockNo === -1) {\n                currentBlockNo = blockNo++;\n            }\n            return {\n                blockNo: currentBlockNo,\n                fixed: false,\n                msg: typeof msg === 'string' ? msg : msg.msg, // eslint-disable-line\n                prevFixedBlockNo: currentFixedBlockNo,\n            };\n        }));\n    }), (0, operators_1.mergeAll)(), (0, operators_1.scan)((acc, log) => {\n        if (log.fixed) {\n            acc.fixedBlocks[log.blockNo] = log.msg;\n        }\n        else {\n            delete acc.fixedBlocks[log.prevFixedBlockNo];\n            acc.blocks[log.blockNo] = log.msg;\n        }\n        return acc;\n    }, { fixedBlocks: [], blocks: [] }), (0, operators_1.map)((sections) => {\n        const fixedBlocks = sections.fixedBlocks.filter(Boolean);\n        const nonFixedPart = sections.blocks.filter(Boolean).join(constants_1.EOL);\n        if (fixedBlocks.length === 0) {\n            return nonFixedPart;\n        }\n        const fixedPart = fixedBlocks.join(constants_1.EOL);\n        if (!nonFixedPart) {\n            return fixedPart;\n        }\n        return `${nonFixedPart}${constants_1.EOL}${fixedPart}`;\n    }), (0, operators_1.filter)((msg) => {\n        if (started) {\n            return true;\n        }\n        if (msg === '')\n            return false;\n        started = true;\n        return true;\n    }), (0, operators_1.filter)((msg) => {\n        if (msg !== previousOutput) {\n            previousOutput = msg;\n            return true;\n        }\n        return false;\n    }));\n}\n//# sourceMappingURL=mergeOutputs.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reportError = reportError;\nconst dedupe_issues_renderer_1 = require(\"@pnpm/dedupe.issues-renderer\");\nconst render_peer_issues_1 = require(\"@pnpm/render-peer-issues\");\nconst chalk_1 = __importDefault(require(\"chalk\"));\nconst equals_1 = __importDefault(require(\"ramda/src/equals\"));\nconst stacktracey_1 = __importDefault(require(\"stacktracey\"));\nconst constants_1 = require(\"./constants\");\nstacktracey_1.default.maxColumnWidths = {\n    callee: 25,\n    file: 350,\n    sourceLine: 25,\n};\nconst highlight = chalk_1.default.yellow;\nconst colorPath = chalk_1.default.gray;\nfunction reportError(logObj, config, peerDependencyRules) {\n    const errorInfo = getErrorInfo(logObj, config, peerDependencyRules);\n    if (!errorInfo)\n        return null;\n    let output = formatErrorSummary(errorInfo.title, logObj.err?.code);\n    if (logObj.pkgsStack != null) {\n        if (logObj.pkgsStack.length > 0) {\n            output += `\\n\\n${formatPkgsStack(logObj.pkgsStack)}`;\n        }\n        else if ('prefix' in logObj && logObj.prefix) {\n            output += `\\n\\nThis error happened while installing a direct dependency of ${logObj.prefix}`;\n        }\n    }\n    if (errorInfo.body) {\n        output += `\\n\\n${errorInfo.body}`;\n    }\n    return output;\n}\nfunction getErrorInfo(logObj, config, peerDependencyRules) {\n    if ('err' in logObj && logObj.err) {\n        const err = logObj.err;\n        switch (err.code) {\n            case 'ERR_PNPM_UNEXPECTED_STORE':\n                return reportUnexpectedStore(err, logObj); // eslint-disable-line @typescript-eslint/no-explicit-any\n            case 'ERR_PNPM_UNEXPECTED_VIRTUAL_STORE':\n                return reportUnexpectedVirtualStoreDir(err, logObj); // eslint-disable-line @typescript-eslint/no-explicit-any\n            case 'ERR_PNPM_STORE_BREAKING_CHANGE':\n                return reportStoreBreakingChange(logObj); // eslint-disable-line @typescript-eslint/no-explicit-any\n            case 'ERR_PNPM_MODULES_BREAKING_CHANGE':\n                return reportModulesBreakingChange(logObj); // eslint-disable-line @typescript-eslint/no-explicit-any\n            case 'ERR_PNPM_MODIFIED_DEPENDENCY':\n                return reportModifiedDependency(logObj); // eslint-disable-line @typescript-eslint/no-explicit-any\n            case 'ERR_PNPM_LOCKFILE_BREAKING_CHANGE':\n                return reportLockfileBreakingChange(err, logObj);\n            case 'ERR_PNPM_RECURSIVE_RUN_NO_SCRIPT':\n                return { title: err.message };\n            case 'ERR_PNPM_MISSING_TIME':\n                return { title: err.message, body: 'If you cannot fix this registry issue, then set \"resolution-mode\" to \"highest\".' };\n            case 'ERR_PNPM_NO_MATCHING_VERSION':\n                return formatNoMatchingVersion(err, logObj);\n            case 'ERR_PNPM_RECURSIVE_FAIL':\n                return formatRecursiveCommandSummary(logObj); // eslint-disable-line @typescript-eslint/no-explicit-any\n            case 'ERR_PNPM_BAD_TARBALL_SIZE':\n                return reportBadTarballSize(err, logObj);\n            case 'ELIFECYCLE':\n                return reportLifecycleError(logObj); // eslint-disable-line @typescript-eslint/no-explicit-any\n            case 'ERR_PNPM_UNSUPPORTED_ENGINE':\n                return reportEngineError(logObj); // eslint-disable-line @typescript-eslint/no-explicit-any\n            case 'ERR_PNPM_PEER_DEP_ISSUES':\n                return reportPeerDependencyIssuesError(err, logObj, peerDependencyRules); // eslint-disable-line @typescript-eslint/no-explicit-any\n            case 'ERR_PNPM_DEDUPE_CHECK_ISSUES':\n                return reportDedupeCheckIssuesError(err, logObj); // eslint-disable-line @typescript-eslint/no-explicit-any\n            case 'ERR_PNPM_SPEC_NOT_SUPPORTED_BY_ANY_RESOLVER':\n                return reportSpecNotSupportedByAnyResolverError(err, logObj); // eslint-disable-line @typescript-eslint/no-explicit-any\n            case 'ERR_PNPM_FETCH_401':\n            case 'ERR_PNPM_FETCH_403':\n                return reportAuthError(err, logObj, config); // eslint-disable-line @typescript-eslint/no-explicit-any\n            default: {\n                // Errors with unknown error codes are printed with stack trace\n                if (!err.code?.startsWith?.('ERR_PNPM_')) {\n                    return formatGenericError(err.message ?? logObj.message, err.stack);\n                }\n                return {\n                    title: err.message ?? '',\n                    body: logObj.hint,\n                };\n            }\n        }\n    }\n    return { title: logObj.message };\n}\nfunction formatPkgsStack(pkgsStack) {\n    return `This error happened while installing the dependencies of \\\n${pkgsStack[0].name}@${pkgsStack[0].version}\\\n${pkgsStack.slice(1).map(({ name, version }) => `${constants_1.EOL} at ${name}@${version}`).join('')}`;\n}\nfunction formatNoMatchingVersion(err, msg) {\n    const meta = msg.packageMeta;\n    let output = `The latest release of ${meta.name} is \"${meta['dist-tags'].latest}\".${constants_1.EOL}`;\n    if (!(0, equals_1.default)(Object.keys(meta['dist-tags']), ['latest'])) {\n        output += constants_1.EOL + 'Other releases are:' + constants_1.EOL;\n        for (const tag in meta['dist-tags']) {\n            if (tag !== 'latest') {\n                output += `  * ${tag}: ${meta['dist-tags'][tag]}${constants_1.EOL}`;\n            }\n        }\n    }\n    output += `${constants_1.EOL}If you need the full list of all ${Object.keys(meta.versions).length} published versions run \"$ pnpm view ${meta.name} versions\".`;\n    return {\n        title: err.message,\n        body: output,\n    };\n}\nfunction reportUnexpectedStore(err, msg) {\n    return {\n        title: err.message,\n        body: `The dependencies at \"${msg.modulesDir}\" are currently linked from the store at \"${msg.expectedStorePath}\".\n\npnpm now wants to use the store at \"${msg.actualStorePath}\" to link dependencies.\n\nIf you want to use the new store location, reinstall your dependencies with \"pnpm install\".\n\nYou may change the global store location by running \"pnpm config set store-dir <dir> --global\".\n(This error may happen if the node_modules was installed with a different major version of pnpm)`,\n    };\n}\nfunction reportUnexpectedVirtualStoreDir(err, msg) {\n    return {\n        title: err.message,\n        body: `The dependencies at \"${msg.modulesDir}\" are currently symlinked from the virtual store directory at \"${msg.expected}\".\n\npnpm now wants to use the virtual store at \"${msg.actual}\" to link dependencies from the store.\n\nIf you want to use the new virtual store location, reinstall your dependencies with \"pnpm install\".\n\nYou may change the virtual store location by changing the value of the virtual-store-dir config.`,\n    };\n}\nfunction reportStoreBreakingChange(msg) {\n    let output = `Store path: ${colorPath(msg.storePath)}\n\nRun \"pnpm install\" to recreate node_modules.`;\n    if (msg.additionalInformation) {\n        output = `${output}${constants_1.EOL}${constants_1.EOL}${msg.additionalInformation}`;\n    }\n    output += formatRelatedSources(msg);\n    return {\n        title: 'The store used for the current node_modules is incompatible with the current version of pnpm',\n        body: output,\n    };\n}\nfunction reportModulesBreakingChange(msg) {\n    let output = `node_modules path: ${colorPath(msg.modulesPath)}\n\nRun ${highlight('pnpm install')} to recreate node_modules.`;\n    if (msg.additionalInformation) {\n        output = `${output}${constants_1.EOL}${constants_1.EOL}${msg.additionalInformation}`;\n    }\n    output += formatRelatedSources(msg);\n    return {\n        title: 'The current version of pnpm is not compatible with the available node_modules structure',\n        body: output,\n    };\n}\nfunction formatRelatedSources(msg) {\n    let output = '';\n    if (!msg.relatedIssue && !msg.relatedPR)\n        return output;\n    output += constants_1.EOL;\n    if (msg.relatedIssue) {\n        output += constants_1.EOL + `Related issue: ${colorPath(`https://github.com/pnpm/pnpm/issues/${msg.relatedIssue}`)}`;\n    }\n    if (msg.relatedPR) {\n        output += constants_1.EOL + `Related PR: ${colorPath(`https://github.com/pnpm/pnpm/pull/${msg.relatedPR}`)}`;\n    }\n    return output;\n}\nfunction formatGenericError(errorMessage, stack) {\n    if (stack) {\n        let prettyStack;\n        try {\n            prettyStack = new stacktracey_1.default(stack).asTable();\n        }\n        catch {\n            prettyStack = stack.toString();\n        }\n        if (prettyStack) {\n            return {\n                title: errorMessage,\n                body: prettyStack,\n            };\n        }\n    }\n    return { title: errorMessage };\n}\nfunction formatErrorSummary(message, code) {\n    return `${chalk_1.default.bgRed.black(`\\u2009${code ?? 'ERROR'}\\u2009`)} ${chalk_1.default.red(message)}`;\n}\nfunction reportModifiedDependency(msg) {\n    return {\n        title: 'Packages in the store have been mutated',\n        body: `These packages are modified:\n${msg.modified.map((pkgPath) => colorPath(pkgPath)).join(constants_1.EOL)}\n\nYou can run ${highlight('pnpm install --force')} to refetch the modified packages`,\n    };\n}\nfunction reportLockfileBreakingChange(err, msg) {\n    return {\n        title: err.message,\n        body: `Run with the ${highlight('--force')} parameter to recreate the lockfile.`,\n    };\n}\nfunction formatRecursiveCommandSummary(msg) {\n    const output = constants_1.EOL + `Summary: ${chalk_1.default.red(`${msg.failures.length} fails`)}, ${msg.passes} passes` + constants_1.EOL + constants_1.EOL +\n        msg.failures.map(({ message, prefix }) => {\n            return prefix + ':' + constants_1.EOL + formatErrorSummary(message);\n        }).join(constants_1.EOL + constants_1.EOL);\n    return {\n        title: '',\n        body: output,\n    };\n}\nfunction reportBadTarballSize(err, msg) {\n    return {\n        title: err.message,\n        body: `Seems like you have internet connection issues.\nTry running the same command again.\nIf that doesn't help, try one of the following:\n\n- Set a bigger value for the \\`fetch-retries\\` config.\n    To check the current value of \\`fetch-retries\\`, run \\`pnpm get fetch-retries\\`.\n    To set a new value, run \\`pnpm set fetch-retries <number>\\`.\n\n- Set \\`network-concurrency\\` to 1.\n    This change will slow down installation times, so it is recommended to\n    delete the config once the internet connection is good again: \\`pnpm config delete network-concurrency\\`\n\nNOTE: You may also override configs via flags.\nFor instance, \\`pnpm install --fetch-retries 5 --network-concurrency 1\\``,\n    };\n}\nfunction reportLifecycleError(msg) {\n    if (msg.stage === 'test') {\n        return { title: 'Test failed. See above for more details.' };\n    }\n    if (typeof msg.errno === 'number') {\n        return { title: `Command failed with exit code ${msg.errno}.` };\n    }\n    return { title: 'Command failed.' };\n}\nfunction reportEngineError(msg) {\n    let output = '';\n    if (msg.wanted.pnpm) {\n        output += `\\\nYour pnpm version is incompatible with \"${msg.packageId}\".\n\nExpected version: ${msg.wanted.pnpm}\nGot: ${msg.current.pnpm}\n\nThis is happening because the package's manifest has an engines.pnpm field specified.\nTo fix this issue, install the required pnpm version globally.\n\nTo install the latest version of pnpm, run \"pnpm i -g pnpm\".\nTo check your pnpm version, run \"pnpm -v\".`;\n    }\n    if (msg.wanted.node) {\n        if (output)\n            output += constants_1.EOL + constants_1.EOL;\n        output += `\\\nYour Node version is incompatible with \"${msg.packageId}\".\n\nExpected version: ${msg.wanted.node}\nGot: ${msg.current.node}\n\nThis is happening because the package's manifest has an engines.node field specified.\nTo fix this issue, install the required Node version.`;\n    }\n    return {\n        title: 'Unsupported environment (bad pnpm and/or Node.js version)',\n        body: output,\n    };\n}\nfunction reportAuthError(err, msg, config) {\n    const foundSettings = [];\n    for (const [key, value] of Object.entries(config?.rawConfig ?? {})) {\n        if (key[0] === '@') {\n            foundSettings.push(`${key}=${value}`);\n            continue;\n        }\n        if (key.endsWith('_auth') ||\n            key.endsWith('_authToken') ||\n            key.endsWith('username') ||\n            key.endsWith('_password')) {\n            foundSettings.push(`${key}=${hideSecureInfo(key, value)}`);\n        }\n    }\n    let output = msg.hint ? `${msg.hint}${constants_1.EOL}${constants_1.EOL}` : '';\n    if (foundSettings.length === 0) {\n        output += `No authorization settings were found in the configs.\nTry to log in to the registry by running \"pnpm login\"\nor add the auth tokens manually to the ~/.npmrc file.`;\n    }\n    else {\n        output += `These authorization settings were found:\n${foundSettings.join('\\n')}`;\n    }\n    return {\n        title: err.message,\n        body: output,\n    };\n}\nfunction hideSecureInfo(key, value) {\n    if (key.endsWith('_password'))\n        return '[hidden]';\n    if (key.endsWith('_auth') || key.endsWith('_authToken'))\n        return `${value.substring(0, 4)}[hidden]`;\n    return value;\n}\nfunction reportPeerDependencyIssuesError(err, msg, peerDependencyRules) {\n    const hasMissingPeers = getHasMissingPeers(msg.issuesByProjects);\n    const hints = [];\n    if (hasMissingPeers) {\n        hints.push('If you want peer dependencies to be automatically installed, add \"auto-install-peers=true\" to an .npmrc file at the root of your project.');\n    }\n    hints.push('If you don\\'t want pnpm to fail on peer dependency issues, add \"strict-peer-dependencies=false\" to an .npmrc file at the root of your project.');\n    const rendered = (0, render_peer_issues_1.renderPeerIssues)(msg.issuesByProjects, { rules: peerDependencyRules });\n    if (!rendered)\n        return null;\n    return {\n        title: err.message,\n        body: `${rendered}\n${hints.map((hint) => `hint: ${hint}`).join('\\n')}\n`,\n    };\n}\nfunction getHasMissingPeers(issuesByProjects) {\n    return Object.values(issuesByProjects)\n        .some((issues) => Object.values(issues.missing).flat().some(({ optional }) => !optional));\n}\nfunction reportDedupeCheckIssuesError(err, msg) {\n    return {\n        title: err.message,\n        body: `\\\n${(0, dedupe_issues_renderer_1.renderDedupeCheckIssues)(msg.dedupeCheckIssues)}\nRun ${chalk_1.default.yellow('pnpm dedupe')} to apply the changes above.\n`,\n    };\n}\nfunction reportSpecNotSupportedByAnyResolverError(err, logObj) {\n    // If the catalog protocol specifier was sent to a \"real resolver\", it'll\n    // eventually throw a \"specifier not supported\" error since the catalog\n    // protocol is meant to be replaced before it's passed to any of the real\n    // resolvers.\n    //\n    // If this kind of error is thrown, and the dependency pref is using the\n    // catalog protocol it's most likely because we're trying to install an out of\n    // repo dependency that was published incorrectly. For example, it may be been\n    // mistakenly published with 'npm publish' instead of 'pnpm publish'. Report a\n    // more clear error in this case.\n    if (logObj.package?.pref?.startsWith('catalog:')) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return reportExternalCatalogProtocolError(err, logObj);\n    }\n    return {\n        title: err.message ?? '',\n        body: logObj.hint,\n    };\n}\nfunction reportExternalCatalogProtocolError(err, logObj) {\n    const { pkgsStack } = logObj;\n    const problemDep = pkgsStack?.[0];\n    let body = `\\\nAn external package outside of the pnpm workspace declared a dependency using\nthe catalog protocol. This is likely a bug in that external package. Only\npackages within the pnpm workspace may use catalogs. Usages of the catalog\nprotocol are replaced with real specifiers on 'pnpm publish'.\n`;\n    if (problemDep != null) {\n        body += `\\\n\nThis is likely a bug in the publishing automation of this package. Consider filing\na bug with the authors of:\n\n  ${highlight(`${problemDep.name}@${problemDep.version}`)}\n`;\n    }\n    return {\n        title: err.message,\n        body,\n    };\n}\n//# sourceMappingURL=reportError.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reporterForClient = reporterForClient;\nconst operators_1 = require(\"rxjs/operators\");\nconst reportBigTarballsProgress_1 = require(\"./reportBigTarballsProgress\");\nconst reportContext_1 = require(\"./reportContext\");\nconst reportExecutionTime_1 = require(\"./reportExecutionTime\");\nconst reportDeprecations_1 = require(\"./reportDeprecations\");\nconst reportHooks_1 = require(\"./reportHooks\");\nconst reportInstallChecks_1 = require(\"./reportInstallChecks\");\nconst reportLifecycleScripts_1 = require(\"./reportLifecycleScripts\");\nconst reportMisc_1 = require(\"./reportMisc\");\nconst reportPeerDependencyIssues_1 = require(\"./reportPeerDependencyIssues\");\nconst reportProgress_1 = require(\"./reportProgress\");\nconst reportRequestRetry_1 = require(\"./reportRequestRetry\");\nconst reportScope_1 = require(\"./reportScope\");\nconst reportSkippedOptionalDependencies_1 = require(\"./reportSkippedOptionalDependencies\");\nconst reportStats_1 = require(\"./reportStats\");\nconst reportSummary_1 = require(\"./reportSummary\");\nconst reportUpdateCheck_1 = require(\"./reportUpdateCheck\");\nconst PRINT_EXECUTION_TIME_IN_COMMANDS = {\n    install: true,\n    update: true,\n    add: true,\n    remove: true,\n};\nfunction reporterForClient(log$, opts) {\n    const width = opts.width ?? process.stdout.columns ?? 80;\n    const cwd = opts.pnpmConfig?.dir ?? process.cwd();\n    const throttle = typeof opts.throttleProgress === 'number' && opts.throttleProgress > 0\n        ? (0, operators_1.throttleTime)(opts.throttleProgress, undefined, { leading: true, trailing: true })\n        : undefined;\n    const outputs = [\n        (0, reportLifecycleScripts_1.reportLifecycleScripts)(log$, {\n            appendOnly: (opts.appendOnly === true || opts.streamLifecycleOutput) && !opts.hideLifecycleOutput,\n            aggregateOutput: opts.aggregateOutput,\n            hideLifecyclePrefix: opts.hideLifecyclePrefix,\n            cwd,\n            width,\n        }),\n        (0, reportMisc_1.reportMisc)(log$, {\n            appendOnly: opts.appendOnly === true,\n            config: opts.config,\n            cwd,\n            logLevel: opts.logLevel,\n            zoomOutCurrent: opts.isRecursive,\n            peerDependencyRules: opts.peerDependencyRules,\n        }),\n        (0, reportInstallChecks_1.reportInstallChecks)(log$.installCheck, { cwd }),\n        (0, reportScope_1.reportScope)(log$.scope, { isRecursive: opts.isRecursive, cmd: opts.cmd }),\n        (0, reportSkippedOptionalDependencies_1.reportSkippedOptionalDependencies)(log$.skippedOptionalDependency, { cwd }),\n        (0, reportHooks_1.reportHooks)(log$.hook, { cwd, isRecursive: opts.isRecursive }),\n        (0, reportUpdateCheck_1.reportUpdateCheck)(log$.updateCheck, opts),\n    ];\n    if (opts.cmd !== 'dlx') {\n        outputs.push((0, reportContext_1.reportContext)(log$, { cwd }));\n    }\n    if (opts.cmd in PRINT_EXECUTION_TIME_IN_COMMANDS) {\n        outputs.push((0, reportExecutionTime_1.reportExecutionTime)(log$.executionTime));\n    }\n    // logLevelNumber: 0123 = error warn info debug\n    const logLevelNumber = reportMisc_1.LOG_LEVEL_NUMBER[opts.logLevel ?? 'info'] ?? reportMisc_1.LOG_LEVEL_NUMBER['info'];\n    if (logLevelNumber >= reportMisc_1.LOG_LEVEL_NUMBER.warn) {\n        outputs.push((0, reportPeerDependencyIssues_1.reportPeerDependencyIssues)(log$, opts.peerDependencyRules), (0, reportDeprecations_1.reportDeprecations)({\n            deprecation: log$.deprecation,\n            stage: log$.stage,\n        }, { cwd, isRecursive: opts.isRecursive }), (0, reportRequestRetry_1.reportRequestRetry)(log$.requestRetry));\n    }\n    if (logLevelNumber >= reportMisc_1.LOG_LEVEL_NUMBER.info) {\n        outputs.push((0, reportProgress_1.reportProgress)(log$, {\n            cwd,\n            throttle,\n            hideAddedPkgsProgress: opts.hideAddedPkgsProgress,\n            hideProgressPrefix: opts.hideProgressPrefix,\n        }), ...(0, reportStats_1.reportStats)(log$, {\n            cmd: opts.cmd,\n            cwd,\n            isRecursive: opts.isRecursive,\n            width,\n            hideProgressPrefix: opts.hideProgressPrefix,\n        }));\n    }\n    if (!opts.appendOnly) {\n        outputs.push((0, reportBigTarballsProgress_1.reportBigTarballProgress)(log$));\n    }\n    if (!opts.isRecursive) {\n        outputs.push((0, reportSummary_1.reportSummary)(log$, {\n            cmd: opts.cmd,\n            cwd,\n            env: opts.env,\n            filterPkgsDiff: opts.filterPkgsDiff,\n            pnpmConfig: opts.pnpmConfig,\n        }));\n    }\n    return outputs;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.REMOVED_CHAR = exports.ADDED_CHAR = exports.hlPkgId = exports.hlValue = exports.PREFIX_MAX_LENGTH = void 0;\nconst chalk_1 = __importDefault(require(\"chalk\"));\nexports.PREFIX_MAX_LENGTH = 40;\nexports.hlValue = chalk_1.default.cyanBright;\nexports.hlPkgId = chalk_1.default['whiteBright'];\nexports.ADDED_CHAR = chalk_1.default.green('+');\nexports.REMOVED_CHAR = chalk_1.default.red('-');\n//# sourceMappingURL=outputConstants.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.propertyByDependencyType = void 0;\nexports.getPkgsDiff = getPkgsDiff;\nconst Rx = __importStar(require(\"rxjs\"));\nconst operators_1 = require(\"rxjs/operators\");\nconst mergeRight_1 = __importDefault(require(\"ramda/src/mergeRight\"));\nconst difference_1 = __importDefault(require(\"ramda/src/difference\"));\nexports.propertyByDependencyType = {\n    dev: 'devDependencies',\n    nodeModulesOnly: 'node_modules',\n    optional: 'optionalDependencies',\n    peer: 'peerDependencies',\n    prod: 'dependencies',\n};\nfunction getPkgsDiff(log$, opts) {\n    const deprecationSet$ = log$.deprecation\n        .pipe((0, operators_1.filter)((log) => log.prefix === opts.prefix), (0, operators_1.scan)((acc, log) => {\n        acc.add(log.pkgId);\n        return acc;\n    }, new Set()), (0, operators_1.startWith)(new Set()));\n    const filterPrefix = (0, operators_1.filter)((log) => log.prefix === opts.prefix);\n    const pkgsDiff$ = Rx.combineLatest(log$.root.pipe(filterPrefix), deprecationSet$).pipe((0, operators_1.scan)((pkgsDiff, args) => {\n        const rootLog = args[0];\n        const deprecationSet = args[1];\n        let action;\n        let log; // eslint-disable-line\n        if ('added' in rootLog) {\n            action = '+';\n            log = rootLog['added'];\n        }\n        else if ('removed' in rootLog) {\n            action = '-';\n            log = rootLog['removed'];\n        }\n        else {\n            return pkgsDiff;\n        }\n        const depType = (log.dependencyType || 'nodeModulesOnly');\n        const oppositeKey = `${action === '-' ? '+' : '-'}${log.name}`;\n        const previous = pkgsDiff[depType][oppositeKey];\n        if (previous && previous.version === log.version) {\n            delete pkgsDiff[depType][oppositeKey];\n            return pkgsDiff;\n        }\n        pkgsDiff[depType][`${action}${log.name}`] = {\n            added: action === '+',\n            deprecated: deprecationSet.has(log.id),\n            from: log.linkedFrom,\n            latest: log.latest,\n            name: log.name,\n            realName: log.realName,\n            version: log.version,\n        };\n        return pkgsDiff;\n    }, {\n        dev: {},\n        nodeModulesOnly: {},\n        optional: {},\n        peer: {},\n        prod: {},\n    }), (0, operators_1.startWith)({\n        dev: {},\n        nodeModulesOnly: {},\n        optional: {},\n        peer: {},\n        prod: {},\n    }));\n    const packageManifest$ = Rx.merge(log$.packageManifest.pipe(filterPrefix), log$.summary.pipe(filterPrefix, (0, operators_1.mapTo)({})))\n        .pipe((0, operators_1.take)(2), (0, operators_1.reduce)(mergeRight_1.default, {}) // eslint-disable-line @typescript-eslint/no-explicit-any\n    );\n    return Rx.combineLatest(pkgsDiff$, packageManifest$)\n        .pipe((0, operators_1.map)(([pkgsDiff, packageManifests]) => {\n        if ((packageManifests['initial'] == null) || (packageManifests['updated'] == null))\n            return pkgsDiff;\n        const initialPackageManifest = removeOptionalFromProdDeps(packageManifests['initial']);\n        const updatedPackageManifest = removeOptionalFromProdDeps(packageManifests['updated']);\n        for (const depType of ['peer', 'prod', 'optional', 'dev']) {\n            const prop = exports.propertyByDependencyType[depType];\n            const initialDeps = Object.keys(initialPackageManifest[prop] ?? {});\n            const updatedDeps = Object.keys(updatedPackageManifest[prop] ?? {});\n            const removedDeps = (0, difference_1.default)(initialDeps, updatedDeps);\n            for (const removedDep of removedDeps) {\n                if (!pkgsDiff[depType][`-${removedDep}`]) {\n                    pkgsDiff[depType][`-${removedDep}`] = {\n                        added: false,\n                        name: removedDep,\n                        version: initialPackageManifest[prop]?.[removedDep],\n                    };\n                }\n            }\n            const addedDeps = (0, difference_1.default)(updatedDeps, initialDeps);\n            for (const addedDep of addedDeps) {\n                if (!pkgsDiff[depType][`+${addedDep}`]) {\n                    pkgsDiff[depType][`+${addedDep}`] = {\n                        added: true,\n                        name: addedDep,\n                        version: updatedPackageManifest[prop]?.[addedDep],\n                    };\n                }\n            }\n        }\n        return pkgsDiff;\n    }));\n}\nfunction removeOptionalFromProdDeps(pkg) {\n    if ((pkg.dependencies == null) || (pkg.optionalDependencies == null))\n        return pkg;\n    for (const depName of Object.keys(pkg.dependencies)) {\n        if (pkg.optionalDependencies[depName]) {\n            delete pkg.dependencies[depName];\n        }\n    }\n    return pkg;\n}\n//# sourceMappingURL=pkgsDiff.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reportBigTarballProgress = reportBigTarballProgress;\nconst operators_1 = require(\"rxjs/operators\");\nconst pretty_bytes_1 = __importDefault(require(\"pretty-bytes\"));\nconst outputConstants_1 = require(\"./outputConstants\");\nconst BIG_TARBALL_SIZE = 1024 * 1024 * 5; // 5 MB\nconst PRETTY_OPTS = {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2,\n};\nfunction reportBigTarballProgress(log$) {\n    return log$.fetchingProgress.pipe((0, operators_1.filter)((log) => log.status === 'started' &&\n        typeof log.size === 'number' && log.size >= BIG_TARBALL_SIZE &&\n        // When retrying the download, keep the existing progress line.\n        // Fixing issue: https://github.com/pnpm/pnpm/issues/1013\n        log.attempt === 1), (0, operators_1.map)((startedLog) => {\n        const size = (0, pretty_bytes_1.default)(startedLog.size ?? 0, PRETTY_OPTS);\n        return log$.fetchingProgress.pipe((0, operators_1.filter)((log) => log.status === 'in_progress' && log.packageId === startedLog['packageId']), (0, operators_1.map)((log) => log.downloaded ?? 0), (0, operators_1.startWith)(0), (0, operators_1.map)((downloadedRaw) => {\n            const done = startedLog.size === downloadedRaw;\n            const downloaded = (0, pretty_bytes_1.default)(downloadedRaw, PRETTY_OPTS);\n            return {\n                fixed: !done,\n                msg: `Downloading ${(0, outputConstants_1.hlPkgId)(startedLog['packageId'])}: ${(0, outputConstants_1.hlValue)(downloaded)}/${(0, outputConstants_1.hlValue)(size)}${done ? ', done' : ''}`,\n            };\n        }));\n    }));\n}\n//# sourceMappingURL=reportBigTarballsProgress.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reportContext = reportContext;\nconst path_1 = __importDefault(require(\"path\"));\nconst Rx = __importStar(require(\"rxjs\"));\nconst operators_1 = require(\"rxjs/operators\");\nconst normalize_path_1 = __importDefault(require(\"normalize-path\"));\nfunction reportContext(log$, opts) {\n    return Rx.combineLatest(log$.context.pipe((0, operators_1.take)(1)), log$.packageImportMethod.pipe((0, operators_1.take)(1)))\n        .pipe((0, operators_1.map)(([context, packageImportMethod]) => {\n        if (context.currentLockfileExists) {\n            return Rx.NEVER;\n        }\n        let method;\n        switch (packageImportMethod.method) {\n            case 'copy':\n                method = 'copied';\n                break;\n            case 'clone':\n                method = 'cloned';\n                break;\n            case 'hardlink':\n                method = 'hard linked';\n                break;\n            default:\n                method = packageImportMethod.method;\n                break;\n        }\n        return Rx.of({\n            msg: `\\\nPackages are ${method} from the content-addressable store to the virtual store.\n  Content-addressable store is at: ${context.storeDir}\n  Virtual store is at:             ${(0, normalize_path_1.default)(path_1.default.relative(opts.cwd, context.virtualStoreDir))}`,\n        });\n    }));\n}\n//# sourceMappingURL=reportContext.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reportDeprecations = reportDeprecations;\nconst Rx = __importStar(require(\"rxjs\"));\nconst operators_1 = require(\"rxjs/operators\");\nconst chalk_1 = __importDefault(require(\"chalk\"));\nconst formatWarn_1 = require(\"./utils/formatWarn\");\nconst zooming_1 = require(\"./utils/zooming\");\nfunction reportDeprecations(log$, opts) {\n    const [deprecatedDirectDeps$, deprecatedSubdeps$] = Rx.partition(log$.deprecation, (log) => log.depth === 0);\n    const resolutionDone$ = log$.stage.pipe((0, operators_1.filter)((log) => log.stage === 'resolution_done'));\n    return Rx.merge(deprecatedDirectDeps$.pipe((0, operators_1.map)((log) => {\n        if (!opts.isRecursive && log.prefix === opts.cwd) {\n            return Rx.of({\n                msg: (0, formatWarn_1.formatWarn)(`${chalk_1.default.red('deprecated')} ${log.pkgName}@${log.pkgVersion}: ${log.deprecated}`),\n            });\n        }\n        return Rx.of({\n            msg: (0, zooming_1.zoomOut)(opts.cwd, log.prefix, (0, formatWarn_1.formatWarn)(`${chalk_1.default.red('deprecated')} ${log.pkgName}@${log.pkgVersion}`)),\n        });\n    })), deprecatedSubdeps$.pipe((0, operators_1.buffer)(resolutionDone$), (0, operators_1.switchMap)(deprecatedSubdeps => {\n        if (deprecatedSubdeps.length > 0) {\n            return Rx.of(Rx.of({\n                msg: (0, formatWarn_1.formatWarn)(`${chalk_1.default.red(`${deprecatedSubdeps.length} deprecated subdependencies found:`)} ${deprecatedSubdeps.map(log => `${log.pkgName}@${log.pkgVersion}`).sort().join(', ')}`),\n            }));\n        }\n        return Rx.EMPTY;\n    })));\n}\n//# sourceMappingURL=reportDeprecations.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reportExecutionTime = reportExecutionTime;\nconst pretty_ms_1 = __importDefault(require(\"pretty-ms\"));\nconst Rx = __importStar(require(\"rxjs\"));\nconst operators_1 = require(\"rxjs/operators\");\nfunction reportExecutionTime(executionTime$) {\n    return executionTime$.pipe((0, operators_1.take)(1), (0, operators_1.map)((log) => {\n        return Rx.of({\n            fixed: true, // Without this, for some reason sometimes the progress bar is printed after the execution time\n            msg: `Done in ${(0, pretty_ms_1.default)(log.endedAt - log.startedAt)}`,\n        });\n    }));\n}\n//# sourceMappingURL=reportExecutionTime.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reportHooks = reportHooks;\nconst Rx = __importStar(require(\"rxjs\"));\nconst operators_1 = require(\"rxjs/operators\");\nconst chalk_1 = __importDefault(require(\"chalk\"));\nconst zooming_1 = require(\"./utils/zooming\");\nfunction reportHooks(hook$, opts) {\n    return hook$.pipe((0, operators_1.map)((log) => Rx.of({\n        msg: (0, zooming_1.autozoom)(opts.cwd, log.prefix, `${chalk_1.default.magentaBright(log.hook)}: ${log.message}`, {\n            zoomOutCurrent: opts.isRecursive,\n        }),\n    })));\n}\n//# sourceMappingURL=reportHooks.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reportInstallChecks = reportInstallChecks;\nconst Rx = __importStar(require(\"rxjs\"));\nconst operators_1 = require(\"rxjs/operators\");\nconst formatWarn_1 = require(\"./utils/formatWarn\");\nconst zooming_1 = require(\"./utils/zooming\");\nfunction reportInstallChecks(installCheck$, opts) {\n    return installCheck$.pipe((0, operators_1.map)((log) => formatInstallCheck(opts.cwd, log)), (0, operators_1.filter)(Boolean), (0, operators_1.map)((msg) => Rx.of({ msg })));\n}\nfunction formatInstallCheck(currentPrefix, logObj, opts) {\n    const zoomOutCurrent = opts?.zoomOutCurrent ?? false;\n    switch (logObj.code) {\n        case 'EBADPLATFORM':\n            return (0, zooming_1.autozoom)(currentPrefix, logObj.prefix, (0, formatWarn_1.formatWarn)(`Unsupported system. Skipping dependency ${logObj.pkgId}`), { zoomOutCurrent });\n        case 'ENOTSUP':\n            return (0, zooming_1.autozoom)(currentPrefix, logObj.prefix, logObj.toString(), { zoomOutCurrent });\n        default:\n            return undefined;\n    }\n}\n//# sourceMappingURL=reportInstallChecks.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reportLifecycleScripts = reportLifecycleScripts;\nconst cli_truncate_1 = __importDefault(require(\"cli-truncate\"));\nconst path_1 = __importDefault(require(\"path\"));\nconst Rx = __importStar(require(\"rxjs\"));\nconst operators_1 = require(\"rxjs/operators\");\nconst chalk_1 = __importDefault(require(\"chalk\"));\nconst pretty_ms_1 = __importDefault(require(\"pretty-ms\"));\nconst constants_1 = require(\"../constants\");\nconst formatPrefix_1 = require(\"./utils/formatPrefix\");\nconst outputConstants_1 = require(\"./outputConstants\");\nconst NODE_MODULES = `${path_1.default.sep}node_modules${path_1.default.sep}`;\nconst TMP_DIR_IN_STORE = `tmp${path_1.default.sep}_tmp_`; // git-hosted dependencies are built in these temporary directories\n// When streaming processes are spawned, use this color for prefix\nconst colorWheel = ['cyan', 'magenta', 'blue', 'yellow', 'green', 'red'];\nconst NUM_COLORS = colorWheel.length;\n// Ever-increasing index ensures colors are always sequential\nlet currentColor = 0;\nfunction reportLifecycleScripts(log$, opts) {\n    // When the reporter is not append-only, the length of output is limited\n    // in order to reduce flickering\n    if (opts.appendOnly) {\n        let lifecycle$ = log$.lifecycle;\n        if (opts.aggregateOutput) {\n            lifecycle$ = lifecycle$.pipe(aggregateOutput);\n        }\n        const streamLifecycleOutput = createStreamLifecycleOutput(opts.cwd, !!opts.hideLifecyclePrefix);\n        return lifecycle$.pipe((0, operators_1.map)((log) => Rx.of({\n            msg: streamLifecycleOutput(log),\n        })));\n    }\n    const lifecycleMessages = {};\n    const lifecycleStreamByDepPath = {};\n    const lifecyclePushStream = new Rx.Subject();\n    // TODO: handle promise of .forEach?!\n    log$.lifecycle // eslint-disable-line\n        .forEach((log) => {\n        const key = `${log.stage}:${log.depPath}`;\n        lifecycleMessages[key] = lifecycleMessages[key] || {\n            collapsed: log.wd.includes(NODE_MODULES) || log.wd.includes(TMP_DIR_IN_STORE),\n            output: [],\n            startTime: process.hrtime(),\n            status: formatIndentedStatus(chalk_1.default.magentaBright('Running...')),\n        };\n        const exit = typeof log['exitCode'] === 'number';\n        let msg;\n        if (lifecycleMessages[key].collapsed) {\n            msg = renderCollapsedScriptOutput(log, lifecycleMessages[key], { cwd: opts.cwd, exit, maxWidth: opts.width });\n        }\n        else {\n            msg = renderScriptOutput(log, lifecycleMessages[key], { cwd: opts.cwd, exit, maxWidth: opts.width });\n        }\n        if (exit) {\n            delete lifecycleMessages[key];\n        }\n        if (!lifecycleStreamByDepPath[key]) {\n            lifecycleStreamByDepPath[key] = new Rx.Subject();\n            lifecyclePushStream.next(Rx.from(lifecycleStreamByDepPath[key]));\n        }\n        lifecycleStreamByDepPath[key].next({ msg });\n        if (exit) {\n            lifecycleStreamByDepPath[key].complete();\n        }\n    });\n    return Rx.from(lifecyclePushStream);\n}\nfunction toNano(time) {\n    return (time[0] + (time[1] / 1e9)) * 1e3;\n}\nfunction renderCollapsedScriptOutput(log, messageCache, opts) {\n    if (!messageCache.label) {\n        messageCache.label = highlightLastFolder((0, formatPrefix_1.formatPrefixNoTrim)(opts.cwd, log.wd));\n        if (log.wd.includes(TMP_DIR_IN_STORE)) {\n            messageCache.label += ` [${log.depPath}]`;\n        }\n        messageCache.label += `: Running ${log.stage} script`;\n    }\n    if (!opts.exit) {\n        updateMessageCache(log, messageCache, opts);\n        return `${messageCache.label}...`;\n    }\n    const time = (0, pretty_ms_1.default)(toNano(process.hrtime(messageCache.startTime)));\n    if (log.exitCode === 0) {\n        return `${messageCache.label}, done in ${time}`;\n    }\n    if (log.optional === true) {\n        return `${messageCache.label}, failed in ${time} (skipped as optional)`;\n    }\n    return `${messageCache.label}, failed in ${time}${constants_1.EOL}${renderScriptOutput(log, messageCache, opts)}`;\n}\nfunction renderScriptOutput(log, messageCache, opts) {\n    updateMessageCache(log, messageCache, opts);\n    if (opts.exit && log['exitCode'] !== 0) {\n        return [\n            messageCache.script,\n            ...messageCache.output,\n            messageCache.status,\n        ].join(constants_1.EOL);\n    }\n    if (messageCache.output.length > 10) {\n        return [\n            messageCache.script,\n            `[${messageCache.output.length - 10} lines collapsed]`,\n            ...messageCache.output.slice(messageCache.output.length - 10),\n            messageCache.status,\n        ].join(constants_1.EOL);\n    }\n    return [\n        messageCache.script,\n        ...messageCache.output,\n        messageCache.status,\n    ].join(constants_1.EOL);\n}\nfunction updateMessageCache(log, messageCache, opts) {\n    if (log.script) {\n        const prefix = `${(0, formatPrefix_1.formatPrefix)(opts.cwd, log.wd)} ${(0, outputConstants_1.hlValue)(log.stage)}`;\n        const maxLineWidth = opts.maxWidth - prefix.length - 2 + ANSI_ESCAPES_LENGTH_OF_PREFIX;\n        messageCache.script = `${prefix}$ ${cutLine(log.script, maxLineWidth)}`;\n    }\n    else if (opts.exit) {\n        const time = (0, pretty_ms_1.default)(toNano(process.hrtime(messageCache.startTime)));\n        if (log.exitCode === 0) {\n            messageCache.status = formatIndentedStatus(chalk_1.default.magentaBright(`Done in ${time}`));\n        }\n        else {\n            messageCache.status = formatIndentedStatus(chalk_1.default.red(`Failed in ${time} at ${log.wd}`));\n        }\n    }\n    else {\n        messageCache.output.push(formatIndentedOutput(opts.maxWidth, log));\n    }\n}\nfunction formatIndentedStatus(status) {\n    return `${chalk_1.default.magentaBright('')} ${status}`;\n}\nfunction highlightLastFolder(p) {\n    const lastSlash = p.lastIndexOf('/') + 1;\n    return `${chalk_1.default.gray(p.slice(0, lastSlash))}${p.slice(lastSlash)}`;\n}\nconst ANSI_ESCAPES_LENGTH_OF_PREFIX = (0, outputConstants_1.hlValue)(' ').length - 1;\nfunction createStreamLifecycleOutput(cwd, hideLifecyclePrefix) {\n    currentColor = 0;\n    const colorByPrefix = new Map();\n    return streamLifecycleOutput.bind(null, colorByPrefix, cwd, hideLifecyclePrefix);\n}\nfunction streamLifecycleOutput(colorByPkg, cwd, hideLifecyclePrefix, logObj) {\n    const prefix = formatLifecycleScriptPrefix(colorByPkg, cwd, logObj.wd, logObj.stage);\n    if (typeof logObj.exitCode === 'number') {\n        if (logObj.exitCode === 0) {\n            return `${prefix}: Done`;\n        }\n        else {\n            return `${prefix}: Failed`;\n        }\n    }\n    if (logObj['script']) {\n        return `${prefix}$ ${logObj['script']}`;\n    }\n    const line = formatLine(Infinity, logObj);\n    return hideLifecyclePrefix ? line : `${prefix}: ${line}`;\n}\nfunction formatIndentedOutput(maxWidth, logObj) {\n    return `${chalk_1.default.magentaBright('')} ${formatLine(maxWidth - 2, logObj)}`;\n}\nfunction formatLifecycleScriptPrefix(colorByPkg, cwd, wd, stage) {\n    if (!colorByPkg.has(wd)) {\n        const colorName = colorWheel[currentColor % NUM_COLORS];\n        colorByPkg.set(wd, chalk_1.default[colorName]);\n        currentColor += 1;\n    }\n    const color = colorByPkg.get(wd);\n    return `${color((0, formatPrefix_1.formatPrefix)(cwd, wd))} ${(0, outputConstants_1.hlValue)(stage)}`;\n}\nfunction formatLine(maxWidth, logObj) {\n    const line = cutLine(logObj.line, maxWidth);\n    // TODO: strip only the non-color/style ansi escape codes\n    if (logObj.stdio === 'stderr') {\n        return chalk_1.default.gray(line);\n    }\n    return line;\n}\nfunction cutLine(line, maxLength) {\n    if (!line)\n        return '';\n    return (0, cli_truncate_1.default)(line, maxLength);\n}\nfunction aggregateOutput(source) {\n    return source.pipe(\n    // The '\\0' is a null character which delimits these strings. This works since JS doesn't use\n    // null-terminated strings.\n    (0, operators_1.groupBy)((data) => `${data.depPath}\\0${data.stage}`), (0, operators_1.mergeMap)(group => {\n        return group.pipe((0, operators_1.buffer)(group.pipe((0, operators_1.filter)(msg => 'exitCode' in msg))));\n    }), (0, operators_1.map)(ar => Rx.from(ar)), (0, operators_1.mergeAll)());\n}\n//# sourceMappingURL=reportLifecycleScripts.js.map"],"names":["flagForceColor","emojiRegex","ElementType","CharCodes","BinTrieFlags","EntityDecoderState","DecodingMode","EntityLevel","EncodingMode","DocumentPosition","CharacterCodes","CODE_POINTS","ERR","TokenType","NS","ATTRS","DOCUMENT_MODE","TAG_NAMES","TAG_ID","State","EntryType","InsertionMode","QuoteType","parser","parse","render","ResultType","AttribType","Chars","extendStatics","options","util","errorUtil","ZodFirstPartyTypeKind","_ZodEnum_cache","_ZodNativeEnum_cache","existsOne","test","nodes","checked","getText","node","Array","isCDATA","isText","_versionBump","manifest","_semver_inc","_options_updatePackageJson","manifestVersion","today","currentVersion","_options_version","rcVersion","command","_options_gitTagVersion","_options_cwd","cwd","_ref","stdout","stderr","Date","semver","Error","defaultOpts","baseOptions","opts","Object","Root","Text","Directive","Comment","Script","Style","Tag","CDATA","Doctype","Node","parent","prev","next","recursive","cloneNode","DataNode","data","arguments","ProcessingInstruction","name","NodeWithChildren","children","_a","Document","Element","attribs","type","_b","elem","isComment","isDirective","hasChildren","result","cloneChildren","clone","child","instruction","childs","i","callback","elementCB","undefined","error","element","lastNode","text","previousSibling","Uint16Array","c","decodeMap","Map","fromCodePoint","String","codePoint","output","isNumber","code","EntityDecoder","decodeTree","emitCodePoint","errors","decodeMode","str","offset","start","end","base","digitCount","Math","parseInt","startIdx","char","lastCp","expectedLength","current","valueLength","determineBranch","isEntityInAttributeInvalidEnd","consumed","getDecoder","ret","decoder","lastIndex","len","nodeIdx","branchCount","jumpOffset","value","lo","hi","mid","midVal","htmlDecoder","mode","xmlCodeMap","index","match","lastIdx","Number","getEscaper","regex","map","elementNames","val","attributeNames","unencodedElements","Set","replaceQuotes","singleTag","renderNode","renderDirective","renderComment","renderCdata","renderTag","foreignModeIntegrationPoints","foreignElements","tag","formatAttributes","attributes","encode","key","renderText","getOuterHTML","getInnerHTML","textContent","innerText","getChildren","getParent","getSiblings","siblings","getAttributeValue","hasAttrib","getName","nextElementSibling","prevElementSibling","removeElement","childsIndex","replaceElement","replacement","appendChild","sibling","append","currNext","prependChild","prepend","recurse","limit","Infinity","find","nodeStack","indexStack","findOneChild","findOne","findAll","Checks","getAttribCheck","attrib","combineFuncs","a","b","compileTest","funcs","testElement","getElements","getElementById","id","getElementsByTagName","tagName","getElementsByTagType","removeSubsets","idx","ancestor","compareDocumentPosition","nodeA","nodeB","aParents","bParents","maxIdx","sharedParent","aSibling","bSibling","uniqueSort","arr","relative","doc","feedRoot","getOneElement","isValidFeed","getAtomFeed","feed","item","entry","getMediaElements","addConditionally","href","description","fetch","pubDate","updated","getRssFeed","MEDIA_KEYS_STRING","MEDIA_KEYS_INT","where","media","obj","prop","that","dom","toRender","isOptions","xml","elements","elems","parseHTML","context","keepScripts","parsed","container","contained","extract","merge","arr1","arr2","isArrayLike","newLength","isCheerio","maybeCheerio","domEach","array","fn","isHtml","tagStart","tagChar","hasOwn","rspace","dataAttrPrefix","rboolean","rbrace","getAttr","xmlMode","setAttr","el","removeAttribute","objName","objValue","getProp","setProp","property","keys","URL","TypeError","setData","parseDataValue","num","JSON","dataEl","readAllData","domName","jsName","_","x","readData","querying","option","splitNames","names","removeAttr","attrName","hasClass","className","clazz","addClass","classNames","numElements","setClass","cn","appendClass","removeClass","classes","numClasses","removeAll","elClasses","changed","j","toggleClass","stateVal","state","elementClasses","procedure","isTraversal","token","sortByProcedure","procs","getProcedure","procNew","proc","d","reChars","escapeRegex","caseInsensitiveAttributes","shouldIgnoreCase","selector","attributeRules","adapter","attr","boolbase","RegExp","whitespace","nthCheck","formula","compile","absA","bMod","sign","readSign","number","readNumber","skipWhitespace","getChildFunc","filters","itext","rule","equals","func","pos","currentSibling","_rule","dynamicStatePseudo","pseudos","firstChild","elemName","verifyPseudoArgs","subselect","argIndex","PLACEHOLDER_ELEMENT","ensureIsTag","getNextSiblings","elemIndex","copyOptions","is","compileToken","subselects","_context","s","compiled","hasElement","shouldTestNextSiblings","nextElements","getElementParent","compileUnsafe","includesScopePseudo","t","DESCENDANT_TOKEN","FLEXIBLE_DESCENDANT_TOKEN","SCOPE_TOKEN","isArrayContext","finalContext","absolutize","hasContext","e","query","rules","first","second","compileRules","previous","compileGeneralSelector","compilePseudoSelector","userPseudo","stringPseudo","alias","pseudo","WeakSet","isFalseCache","lastElement","reduceRules","defaultEquals","defaultOptions","convertOptionFormats","_c","_d","wrapCompile","_compileToken","getSelectorFunc","searchFunc","filteredElements","prepareContext","appendNextSiblings","elemsLength","nextSiblings","filterNames","isFilter","groupSelectors","selectors","filteredSelectors","plainSelectors","UNIVERSAL_SELECTOR","SCOPE_PSEUDO","some","plain","filtered","sel","filterBySelector","filterParsed","found","filterElements","filteredSelector","missing","root","getDocumentRoot","findFilterElements","queryForSelector","totalLimit","filterIndex","sub","filter","partLimit","getLimit","NaN","isFinite","elemsNoLimit","findElements","filterByPosition","remainingSelector","remainingHasTraversal","els","reSiblingSelector","selectorOrHaystack","haystack","_findBySelector","results","_getMatcher","matchMap","postFns","matched","filterArray","_matcher","_singleMatcher","_matchUntil","nextElem","matches","innerMatcher","filterSelector","getFilterFn","_removeDuplicates","parents","parentsUntil","closest","set","selectOpts","selectFn","nextAll","nextUntil","prevAll","prevUntil","newElems","each","not","filterFn","has","eq","toArray","selectorOrNeedle","$haystack","needle","other","selection","contents","addBack","update","newChilds","_makeDomArray","_insert","concatenator","domSrc","uniqueSplice","spliceIdx","spliceCount","spliceArgs","oldParent","prevIdx","oldSiblings","appendTo","target","appendTarget","prependTo","prependTarget","_wrap","insert","wrapper","lastParent","wrap","wrapperDom","elInsertLocation","wrapInner","unwrap","wrapAll","after","insertAfter","clones","clonedSelf","before","insertBefore","targetArr","remove","replaceWith","content","cont","empty","css","setCss","styles","getCss","stringify","k","n","trimmed","newStyles","submittableSelector","r20","rCRLF","serialize","retArr","encodeURIComponent","serializeArray","$elem","descr","isArray","getExtractDescr","$","Cheerio","Symbol","UNDEFINED_CODE_POINTS","SEQUENCES","isSurrogate","cp","isControlCodePoint","isUndefinedCodePoint","Preprocessor","handler","line","col","nextCp","cp1","chunk","isLastChunk","pattern","caseSensitive","count","getTokenAttr","TAG_NAME_TO_ID","getTagID","SPECIAL_ELEMENTS","isNumberedHeader","tn","UNESCAPED_TEXT","C1_CONTROLS_REFERENCE_REPLACEMENTS","TokenizerMode","isAsciiDigit","isAsciiUpper","isAsciiLetter","isAsciiLower","isAsciiUpperHexDigit","isAsciiLowerHexDigit","toAsciiLower","isWhitespace","isScriptDataDoubleEscapeSequenceEnd","Tokenizer","writeCallback","initialName","chars","attrNameFirstCh","attrLocations","ct","nextLocation","location","ch","excess","withoutSemicolon","masked","_cp","matchResult","IMPLICIT_END_TAG_REQUIRED","IMPLICIT_END_TAG_REQUIRED_THOROUGHLY","SCOPING_ELEMENT_NS","NAMED_HEADERS","TABLE_ROW_CONTEXT","TABLE_BODY_CONTEXT","TABLE_CONTEXT","TABLE_CELLS","OpenElementStack","document","treeAdapter","tagID","popped","oldElement","newElement","referenceElement","newElementID","insertionIdx","targetIdx","tagNames","targetNS","namespace","elementIdx","ns","exclusionId","MARKER","FormattingElementList","neAttrs","candidates","neAttrsLength","neTagName","neNamespaceURI","elementAttrs","neAttrsMap","neAttr","validCandidates","candidate","cAttr","bookmarkIdx","entryIndex","markerIdx","createTextNode","defaultTreeAdapter","namespaceURI","attrs","parentNode","newNode","referenceNode","templateElement","contentElement","publicId","systemId","doctypeNode","prevNode","recipient","recipientAttrsMap","textNode","commentNode","endLocation","VALID_DOCTYPE_NAME","QUIRKS_MODE_PUBLIC_ID_PREFIXES","QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES","QUIRKS_MODE_PUBLIC_IDS","LIMITED_QUIRKS_PUBLIC_ID_PREFIXES","LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES","hasPrefix","prefixes","prefix","MIME_TYPES","SVG_ATTRS_ADJUSTMENT_MAP","XML_ATTRS_ADJUSTMENT_MAP","SVG_TAG_NAMES_ADJUSTMENT_MAP","EXITS_FOREIGN_CONTENT","adjustTokenMathMLAttrs","adjustTokenSVGAttrs","adjustedAttrName","adjustTokenXMLAttrs","adjustedAttrEntry","BASE_LOC","TABLE_STRUCTURE_TAGS","defaultParserOptions","fragmentContext","scriptHandler","html","documentMock","rootElement","fragment","beforeToken","loc","err","tid","isTop","currentTagId","isHTML","currentToken","nextTokenizerState","docTypeNode","documentChildren","tmpl","beforeElement","textNodeIdx","endLine","endCol","endOffset","donor","closingToken","ctLoc","endLoc","foreignNS","isHtmlIntegrationPoint","listLength","endIndex","unopenIdx","selectIdx","openElement","characterInForeignContent","p","tokenInInitialMode","tokenBeforeHtml","tokenBeforeHead","tokenInHead","tokenInHeadNoScript","tokenAfterHead","characterInBody","characterInTable","characterInTableText","tokenInColumnGroup","tokenAfterBody","tokenAfterAfterBody","nullCharacterInForeignContent","appendComment","tokenInTableText","appendCommentToRootHtmlElement","appendCommentToDocument","doctypeInInitialMode","startTagInForeignContent","startTagToken","isFontWithAttrs","popUntilHtmlOrIntegrationPoint","currentNs","adjustedTagName","startTagBeforeHtml","startTagBeforeHead","startTagInBody","startTagInHead","startTagInHeadNoScript","startTagAfterHead","startTagInTable","startTagInCaption","TABLE_VOID_ELEMENTS","startTagInColumnGroup","startTagInTableBody","startTagInRow","startTagInCell","startTagInSelect","startTagInSelectInTable","startTagInTemplate","startTagAfterBody","startTagInFrameset","startTagAfterFrameset","startTagAfterAfterBody","startTagAfterAfterFrameset","endTagInForeignContent","endTagBeforeHtml","endTagBeforeHead","endTagInHead","templateEndTagInHead","endTagInHeadNoScript","endTagAfterHead","endTagInBody","endTagInText","endTagInTable","endTagInCaption","endTagInColumnGroup","endTagInTableBody","endTagInRow","endTagInCell","endTagInSelect","endTagInSelectInTable","endTagInTemplate","endTagAfterBody","endTagInFrameset","endTagAfterFrameset","eofInBody","eofInText","eofInTemplate","stopParsing","whitespaceCharacterInBody","whitespaceCharacterInTableText","callAdoptionAgency","formattingElementEntry","aaObtainFormattingElementEntry","genericEndTagInBody","furthestBlock","aaObtainFurthestBlock","aaInnerLoop","formattingElement","nextElement","elementEntry","counterOverflow","aaRecreateElementFromEntry","commonAncestor","aaInsertLastNodeInCommonAncestor","aaReplaceFormattingElement","htmlElement","htmlLocation","bodyElement","bodyLocation","errCode","modeInBody","areaStartTagInBody","isHiddenInput","inputType","noembedStartTagInBody","genericStartTagInBody","aStartTagInBody","activeElementEntry","listItemStartTagInBody","elementId","bodyStartTagInBody","formStartTagInBody","inTemplate","framesetStartTagInBody","addressEndTagInBody","ddEndTagInBody","bodyEndTagInBody","formEndTagInBody","formElement","appletEndTagInBody","tokenInTable","savedFosterParentingState","VOID_ELEMENTS","serializeNode","serializeElement","serializeAttributes","isVoidElement","serializeChildNodes","childNodes","currentNode","serializeTextNode","scriptingEnabled","parentTn","serializeCommentNode","serializeDocumentTypeNode","enquoteDoctypeId","quote","attribsNamespace","attribsPrefix","lastChild","renderOpts","isEndOfTagSection","Sequences","Uint8Array","decodeEntities","cbs","isEnd","endOfText","actualIndex","sequence","lower","length","formTags","pTag","tableSectionTags","ddtTags","rtpTags","openImpliesClose","voidElements","foreignContextElements","htmlIntegrationElements","reNameEnd","_e","_f","impliesClose","isImplied","_g","_h","isOpenImplied","_j","_k","slice","isDocument","parseFragment","Buffer","renderWithParse5","load","internalOpts","initialRoot","LoadedCheerio","cheerio","initialize","r","rootInstance","isNode","instance","search","searchContext","SPACE_CHARACTERS","END_OF_UNQUOTED_ATTRIBUTE_VALUE","toUint8Array","STRINGS","isAsciiAlpha","isQuote","Sniffer","userEncoding","transportLayerEncodingLabel","defaultEncoding","label","encoding","section","buffer","__extends","__","_super","DecodeStream","_this","_encoding","stream","_i","decodeCache","string","exclude","cache","getDecodeCache","seq","l","b1","b2","chr","b3","b4","encodeCache","keepEscaped","getEncodeCache","nextCode","format","url","Url","protocolPattern","portPattern","simplePathPattern","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","hostlessProtocol","slashedProtocol","slashesDenoteHost","lowerProto","hec","slashes","rest","simplePath","proto","auth","atSign","hostEnd","host","ipv6Hostname","hostparts","part","newpart","validParts","notHost","bit","hash","qm","port","u","isString","_class","_hasOwnProperty","object","sources","source","arrayReplaceAt","src","newElements","isValidEntityCode","UNESCAPE_MD_RE","UNESCAPE_ALL_RE","ENTITY_RE","DIGITAL_ENTITY_TEST_RE","unescapeMd","unescapeAll","escaped","entity","replaceEntityPattern","decoded","HTML_ESCAPE_TEST_RE","HTML_ESCAPE_REPLACE_RE","HTML_REPLACEMENTS","replaceUnsafeChar","escapeHtml","REGEXP_ESCAPE_RE","escapeRE","isSpace","isWhiteSpace","isPunctChar","isMdAsciiPunct","normalizeReference","parseLinkLabel","disableNested","level","marker","prevPos","max","oldPos","labelEnd","parseLinkDestination","parseLinkTitle","prev_state","default_rules","Renderer","tokens","env","slf","highlighted","info","langName","langAttrs","tmpAttrs","needLf","nextToken","Ruler","self","chains","altName","chain","opt","beforeName","ruleName","afterName","list","ignoreInvalid","chainName","Token","nesting","attrData","StateCore","md","NEWLINES_RE","NULL_RE","RARE_RE","SCOPED_ABBR_TEST_RE","SCOPED_ABBR_RE","SCOPED_ABBR","replaceFn","QUOTE_TEST_RE","QUOTE_RE","replaceAt","_rules","tok","blockTokens","htmlLinkLevel","isLinkOpen","links","lastPos","ln","fullUrl","urlText","token_o","token_t","token_c","blkIdx","replace_scoped","inlineTokens","inside_autolink","replace_rare","process_inlines","stack","thisLevel","OUTER","canOpen","canClose","isSingle","lastChar","nextChar","isLastPunctChar","isNextPunctChar","isLastWhiteSpace","isNextWhiteSpace","openQuote","closeQuote","curr","last","Core","StateBlock","indent","indent_found","from","min","begin","keepLastLF","queue","lineIndent","lineStart","getLine","escapedSplit","isEscaped","skipBulletListMarker","startLine","skipOrderedListMarker","open_tag","close_tag","HTML_TAG_RE","HTML_OPEN_CLOSE_TAG_RE","HTML_SEQUENCES","silent","tbodyLines","nextLine","firstCh","secondCh","lineText","columns","aligns","columnCount","oldParentType","terminatorRules","token_to","tableLines","token_tho","token_htro","token_ho","token_il","autocompletedCells","terminate","token_tbo","token_tro","token_tdo","mem","markup","params","haveEndMarker","oldLineMax","oldBMarks","oldBSCount","oldSCount","oldTShift","lastLineEmpty","isOutdented","spaceAfterMarker","adjustTab","initial","oldIndent","lines","cnt","isOrdered","markerValue","posAfterMarker","tight","isTerminatingParagraph","markerCharCode","listTokIdx","listLines","prevEmptyEnd","indentAfterMarker","contentStart","itemLines","oldTight","oldListIndent","markTightParagraphs","_endLine","title","getNextLine","isContinuation","lineContent","destRes","destEndPos","destEndLineNo","titleRes","tmp","token_i","ParserBlock","maxNesting","hasEmptyLines","prevLine","ok","outTokens","StateInline","token_meta","canSplitWord","left_flanking","right_flanking","can_open","can_close","SCHEME_RE","ESCAPED","postProcess","delimiters","loneMarkers","startDelim","endDelim","scanned","tokens_meta","isStrong","EMAIL_RE","AUTOLINK_RE","DIGITAL_RE","NAMED_RE","processDelimiters","openersBottom","headerIdx","lastTokenIdx","jumps","closerIdx","closer","minOpenerIdx","openerIdx","newMinOpenerIdx","opener","isOddMatch","lastJump","isTerminatorChar","link","pmax","ws","ch1","escapedStr","ch2","origStr","matchStart","openerLength","matchEnd","closerLength","res","ref","parseReference","labelStart","isLetter","lc","_rules2","ParserInline","isFunction","defaultSchemas","tail","tlds_default","createNormalizer","re","text_separators","tlds","untpl","tpl","aliases","schemaError","slist","Match","shift","createMatch","LinkifyIt","schemas","acc","schema","definition","m","ml","me","tld_pos","keepOld","config","BAD_PROTO_RE","GOOD_DATA_RE","validateLink","RECODE_HOSTNAME_FOR","normalizeLink","er","normalizeLinkText","MarkdownIt","presetName","presets","missed","plugin","args","_DRIVE_LETTER_START_RE","normalizeWindowsPath","input","_UNC_REGEX","_IS_ABSOLUTE_RE","_DRIVE_LETTER_RE","path","isUNCPath","isPathAbsolute","isAbsolute","trailingSeparator","normalizeString","allowAboveRoot","lastSegmentLength","lastSlash","dots","lastSlashIndex","join","arguments_","joined","argument","_EXTNAME_RE","extname","wrapAnsi16","wrapAnsi256","wrapAnsi16m","red","green","blue","foregroundColorNames","ansiStyles","assembleStyles","codes","groupName","group","styleName","style","hex","colorString","character","integer","remainder","hasFlag","flag","argv","globalThis","position","terminatorPosition","createSupportsColor","_supportsColor","haveStream","streamIsTTY","sniffFlags","noFlagForceColor","envForceColor","forceColor","osRelease","version","supportsColor","stdoutColor","stderrColor","GENERATOR","STYLER","IS_EMPTY","levelMapping","applyOptions","colorLevel","chalkFactory","chalk","strings","createChalk","Function","builder","createBuilder","createStyler","getModelAnsi","model","open","close","openAll","closeAll","_styler","_isEmpty","applyStyle","styler","stringReplaceAll","substring","replacer","substringLength","returnValue","lfIndex","stringEncaseCRLFWithFirstIndex","postfix","gotCR","__read","promisify","_read","read","prompt","process","Promise","isInMemoryFile","file","_createVsix","dir","files","outfile","getManifest","packlist","fileNames","f","_arg","_x","items","validKeys","checker","separator","objectUtil","ZodParsedType","getParsedType","isNaN","ZodIssueCode","ZodError","issues","subs","actualProto","_mapper","mapper","issue","fieldErrors","processError","formErrors","_ctx","message","overrideErrorMap","getErrorMap","makeIssue","errorMaps","issueData","fullPath","fullIssue","errorMessage","addIssueToContext","ctx","overrideMap","ParseStatus","status","arrayValue","INVALID","pairs","syncPairs","pair","finalObject","DIRTY","OK","isAborted","isDirty","isValid","isAsync","__classPrivateFieldGet","receiver","kind","__classPrivateFieldSet","SuppressedError","ParseInputLazyPath","handleResult","processCreateParams","errorMap","invalid_type_error","required_error","iss","ZodType","def","maybeAsyncResult","check","getIssueProperties","setError","refinementData","refinement","ZodEffects","ZodOptional","ZodNullable","ZodArray","ZodPromise","ZodUnion","incoming","ZodIntersection","transform","ZodDefault","ZodBranded","ZodCatch","ZodPipeline","ZodReadonly","cuidRegex","cuid2Regex","ulidRegex","uuidRegex","nanoidRegex","durationRegex","emailRegex","ipv4Regex","ipv6Regex","base64Regex","dateRegexSource","dateRegex","timeRegexSource","datetimeRegex","ZodString","ip","parsedType","tooBig","tooSmall","validation","minLength","maxLength","ZodNumber","floatSafeRemainder","step","valDecCount","stepDecCount","decCount","valInt","inclusive","ZodBigInt","BigInt","ZodBoolean","Boolean","ZodDate","minDate","maxDate","ZodSymbol","ZodUndefined","ZodNull","ZodAny","ZodUnknown","ZodNever","ZodVoid","ZodObject","shape","shapeKeys","extraKeys","keyValidator","unknownKeys","catchall","defaultError","augmentation","merging","mask","deepPartialify","newShape","fieldSchema","ZodTuple","newField","createZodEnum","childCtx","unionErrors","dirty","types","getDiscriminator","ZodLazy","ZodLiteral","ZodEnum","ZodNativeEnum","ZodDiscriminatedUnion","discriminator","discriminatorValue","optionsMap","discriminatorValues","handleParsed","parsedLeft","parsedRight","merged","mergeValues","aType","bType","bKeys","sharedKeys","newObj","sharedValue","newArray","itemA","left","right","itemIndex","ZodRecord","keyType","valueType","third","ZodMap","finalMap","ZodSet","finalizeSet","parsedSet","minSize","maxSize","size","ZodFunction","makeArgsIssue","makeReturnsIssue","returns","parsedArgs","Reflect","parsedReturns","returnType","lazySchema","getter","values","expectedValues","enumValues","newDef","WeakMap","nativeEnumValues","promisified","effect","checkCtx","arg","processed","executeRefinement","inner","preprocess","newCtx","ZodNaN","BRAND","handleAsync","inResult","freeze","custom","fatal","_fatal","p2","late","stringType","numberType","nanType","bigIntType","booleanType","dateType","symbolType","undefinedType","nullType","anyType","unknownType","neverType","voidType","arrayType","objectType","strictObjectType","unionType","discriminatedUnionType","intersectionType","tupleType","recordType","mapType","setType","functionType","lazyType","literalType","enumType","nativeEnumType","promiseType","effectsType","optionalType","nullableType","preprocessType","pipelineType","z","cls","json","_run","registryResult","registry","debug","dryRun","baseContentUrl","baseImagesUrl","failSilently","extensionPath","isFile","isDirectory","targets","preRelease","extensionFile","result1","_iteratorError","result2","core","ACTION_INPUTS","getValidatedInput","inputName","raw","__createBinding","o","k2","desc","__setModuleDefault","v","__importStar","mod","exports","os","utils_1","issueCommand","properties","cmd","Command","cmdStr","CMD_STRING","escapeProperty","escapeData","ExitCode","__awaiter","thisArg","_arguments","P","generator","resolve","reject","fulfilled","rejected","adopt","command_1","file_command_1","oidc_utils_1","convertedVal","secret","getInput","inputPath","inputs","trueValue","falseValue","enabled","startGroup","endGroup","aud","summary_1","summary_2","path_utils_1","crypto","fs","filePath","delimiter","convertedValue","http_client_1","auth_1","core_1","OidcClient","allowRetry","maxRetry","runtimeUrl","id_token_url","httpclient","id_token","audience","encodedAudience","pth","__importDefault","os_1","exec","getWindowsInfo","getMacOsInfo","getLinuxInfo","fs_1","access","appendFile","writeFile","_summary","Summary","pathFromEnv","htmlAttrs","overwrite","writeFunc","addEOL","lang","ordered","listItems","rows","tableBody","row","cells","cell","header","colspan","rowspan","alt","width","height","allowedTag","cite","annotationProperties","string_decoder_1","tr","commandLine","commandArgs","toolPath","runner","stdoutDecoder","stderrDecoder","originalStdoutListener","originalStdErrListener","listeners","exitCode","events","io","ioUtil","timers_1","IS_WINDOWS","ToolRunner","noPrefix","strBuffer","onLine","argline","upperToolPath","cmdSpecialChars","needsQuotes","reverse","quoteHit","optionsNonNull","ExecState","fileName","stdbuffer","errbuffer","argString","inQuotes","clearTimeout","BasicCredentialHandler","username","password","BearerCredentialHandler","PersonalAccessTokenCredentialHandler","HttpCodes","Headers","MediaTypes","http","https","pm","tunnel","serverUrl","proxyUrl","HttpRedirectCodes","HttpResponseRetryCodes","RetryableHttpVerbs","HttpClientError","statusCode","HttpClientResponse","requestUrl","parsedUrl","HttpClient","userAgent","handlers","requestOptions","additionalHeaders","verb","headers","response","maxTries","numTries","authenticationHandler","redirectsRemaining","redirectUrl","parsedRedirectUrl","onResult","socket","callbackCalled","req","msg","sock","method","usingSsl","lowercaseKeys","_default","clientHeader","agent","useProxy","maxSockets","tunnelAgent","agentOptions","overHttps","retryNumber","ms","ExponentialBackoffTimeSlice","setTimeout","checkBypass","reqUrl","reqPort","isLoopbackAddress","hostLower","noProxy","upperReqHosts","upperNoProxyItem","proxyVar","fsPath","useStat","stats","normalizeSeparators","extensions","console","upperExt","validExt","isUnixExecutable","originalFilePath","extension","directory","upperName","actualName","assert_1","dest","force","copySourceDirectory","readCopyOptions","destStat","newDest","sourceStat","cpDirRecursive","sourceDir","destDir","currentDepth","mkdirP","srcFile","destFile","srcFileStat","copyFile","rmRF","destExists","findInPath","tool","directories","which","symlinkFull","enabledString","azureLogLevel","cachedHttpClient","persistenceProvider","nativeBrokerInfo","findCredentials","SDK_VERSION","DeveloperSignOnClientId","AzureAuthorityHosts","DefaultAuthorityHost","ALL_TENANTS","CACHE_NON_CAE_SUFFIX","DEFAULT_TOKEN_CACHE_NAME","hasNativeBroker","cacheBaseName","LogLevel","RegionalAuthority","debugEnvVariable","skippedNamespaces","debuggers","enable","debugObj","createDebugger","disable","namespaces","wildcard","skipped","enabledNamespace","newDebugger","destroy","extend","registeredLoggers","logLevelFromEnv","AzureLogger","AZURE_LOG_LEVELS","isAzureLogLevel","setLogLevel","enabledNamespaces","logger","shouldEnable","getLogLevel","levelMap","createClientLogger","clientRootLogger","patchLogMethod","createLogger","logLevel","processEnvVars","supportedEnvVars","envVariable","formatSuccess","scope","formatError","credentialLoggerInstance","log","fullTitle","warning","verbose","credentialLogger","credLogger","checkTenantId","tenantId","resolveTenantId","clientId","resolveAdditionallyAllowedTenantIds","additionallyAllowedTenants","CredentialUnavailableErrorName","CredentialUnavailableError","AuthenticationErrorName","AuthenticationError","errorBody","errorResponse","convertOAuthErrorResponseToErrorResponse","oauthErrorResponse","AggregateAuthenticationErrorName","AggregateAuthenticationError","AuthenticationRequiredError","processMultiTenantRequest","getTokenOptions","additionallyAllowedTenantIds","resolvedTenantId","ValidPhaseNames","HttpPipeline","policies","policy","removedPolicies","policyDescriptor","httpClient","request","pipeline","policyMap","createPhase","serializePhase","noPhase","deserializePhase","retryPhase","signPhase","orderedPhases","getPhase","phase","descriptor","policyName","afterPolicyName","afterNode","beforePolicyName","beforeNode","walkPhase","dependant","iteration","initialResultLength","walkPhases","createEmptyPipeline","AbortError","isObject","isError","hasName","hasMessage","getErrorMessage","stringified","uuidFunction","randomUUID","window","Deno","Bun","stringToUint8Array","navigator","RedactedString","defaultAllowedHeaderNames","defaultAllowedQueryParameters","Sanitizer","allowedHeaderNames","allowedQueryParameters","seen","sanitized","allowedRedirect","handleRedirect","maxRetries","currentRetries","locationHeader","getUserAgentValue","runtimeInfo","setPlatformSpecificData","versions","defaultAgent","getUserAgentString","telemetryInfo","parts","UserAgentHeaderName","__values","__await","__asyncGenerator","g","q","resume","fulfill","settle","isBlob","rawContent","streamAsyncIterator","reader","done","concat","streams","toStream","getRawContent","blob","ensureNodeStream","webStream","ReadableStream","e_1","stream_1_1","stream_1","__asyncValues","e_1_1","buildRequestBody","boundary","encodeHeaders","contentLength","getTotalLength","total","partLength","multipartPolicyName","validBoundaryCharacters","delayInMs","timer","onAborted","rejectOnAbort","removeListeners","RetryAfterHeader","AllRetryAfterHeaders","getRetryAfterInMs","retryAfterValue","parseHeaderValueAsNumber","headerName","valueAsNum","multiplyingFactor","retryAfterHeader","diff","date","retryPolicyLogger","normalizeName","HttpHeadersImpl","rawHeaders","normalizedName","headerIterator","createHttpHeaders","prepareFormData","formData","contentType","fieldName","globalNoProxyList","noProxyListLoaded","globalBypassedMap","getEnvironmentValue","getUrlFromProxySettings","settings","parsedProxyUrl","_error","setProxyAgentOnRequest","cachedAgents","isInsecure","knownContextKeys","TracingContextImpl","initialContext","newContext","getInstrumenter","_name","spanOptions","createTracingContext","callbackArgs","createTracingClient","packageName","packageVersion","startSpan","operationOptions","startSpanResult","tracingContext","span","updatedOptions","withSpan","withContext","parseTraceparentHeader","traceparentHeader","createRequestHeaders","errorSanitizer","RestError","DEFAULT_TLS_SETTINGS","body","isStreamComplete","isArrayBuffer","ReportTransform","progressCallback","NodeHttpClient","abortListener","responseStream","abortController","AbortController","event","acceptEncoding","shouldDecompress","bodyLength","getBodyLength","onUploadProgress","uploadReportStream","getResponseHeaders","getDecodedResponseStream","contentEncoding","unzip","inflate","onDownloadProgress","downloadReportStream","streamToText","uploadStreamDone","downloadStreamDone","abortError","ArrayBuffer","disableKeepAlive","tlsSettings","PipelineRequestImpl","createPipelineRequest","DEFAULT_CYCLER_OPTIONS","beginRefresh","getAccessToken","retryIntervalInMs","refreshTimeout","tryGetAccessToken","finalToken","defaultAuthorizeRequest","scopes","accessToken","bearerTokenAuthenticationPolicy","credential","challengeCallbacks","callbacks","tokenCyclerOptions","refreshWorker","cycler","refresh","_token","reason","tokenOptions","getChallenge","challenge","MapperTypeNames","getOperationArgumentValueFromParameter","operationArguments","parameter","fallbackObject","parameterPath","parameterMapper","propertySearchResult","getPropertyFromParameterPath","useDefaultValue","propertyName","propertyMapper","propertyValue","parameterPathPart","originalRequestSymbol","getOperationRequestInfo","defaultJsonContentTypes","defaultXmlContentTypes","deserializeResponseBody","jsonContentTypes","xmlContentTypes","parseXML","parsedResponse","shouldDeserializeResponse","operationInfo","shouldDeserialize","operationSpec","responseSpec","getOperationResponseMap","shouldReturnResponse","handleErrorResponse","isSuccessByStatus","isOperationSpecEmpty","expectedStatusCodes","errorResponseSpec","defaultBodyMapper","defaultHeadersMapper","deserializedError","parsedBody","valueToDeserialize","elementName","internalError","deserializeError","operationResponse","contentComponents","component","getPathStringFromParameter","flattenResponse","fullResponse","mapperTypeName","parsedHeaders","bodyMapper","isNullable","expectedBodyTypeName","modelProperties","isPageableResponse","arrayResponse","handleNullableResponseAndWrappableBody","responseObject","combinedHeadersAndBody","CollectionFormatToDelimiterMap","replaceAll","replacements","searchValue","replaceValue","ServiceClient","createDefaultPipeline","credentialScopes","getCredentialScopes","credentialOptions","createClientPipeline","createPipelineFromOptions","proxyPolicy","proxySettings","loadNoProxy","defaultProxy","getDefaultProxySettingsInternal","envProxy","loadEnvironmentProxyValue","httpsProxy","allProxy","httpProxy","isBypassed","uri","noProxyList","bypassedMap","isBypassedFlag","FormData","formDataToFormDataMap","formDataMap","wwwFormUrlEncode","urlSearchParams","URLSearchParams","subValue","userAgentPolicy","userAgentValue","setClientRequestIdPolicy","requestIdHeaderName","contentTypeHeader","parsedHeader","parsedBoundary","assertValidBoundary","defaultRetryPolicy","strategies","responseError","retryCount","retryRequest","strategy","strategyLogger","modifiers","errorToThrow","retryAfterInMs","redirectTo","retryInterval","maxRetryInterval","matchedSystemError","isSystemError","ignoreSystemErrors","isExponential","isExponentialRetryResponse","ignoreExponentialResponse","unknownResponse","isThrottlingRetryResponse","clampedExponentialDelay","tracingPolicy","tracingClient","tryCreateTracingClient","tryCreateSpan","tryProcessResponse","serviceRequestId","tryProcessError","isRestError","redirectPolicy","logPolicy","sanitizer","serializationPolicy","stringifyXML","serializeHeaders","headerParameter","headerValue","headerCollectionPrefix","customHeaders","customHeaderName","serializeRequestBody","serializerOptions","xmlCharKey","required","serializedName","xmlName","xmlElementName","xmlNamespace","xmlNamespacePrefix","nullable","typeName","requestBodyParameterPathString","isStream","xmlnsKey","getXmlValueWithNamespace","serializedValue","prepareXMLRootList","xmlNamespaceKey","formDataParameter","formDataParameterValue","formDataParameterPropertyName","deserializationPolicy","afterPhase","endpoint","getRequestUrl","baseUri","urlReplacements","calculateUrlReplacements","urlParameter","urlParameterValue","parameterPathString","isAbsolutePath","isAbsoluteUrl","appendPath","pathToAppend","newPath","searchStart","queryParams","sequenceParams","calculateQueryParameters","queryParameter","queryParameterValue","appendQueryParams","noOverwrite","combinedParams","simpleParseQueryParams","queryString","existingValue","valueSet","searchPieces","getStreamingResponseStatusCodes","rawResponse","flatResponse","listenersMap","abortedMap","AbortSignal","_type","listener","_event","signal","parentSignals","parentSignal","DefaultScopeSuffix","imdsHost","mapScopesToResource","noCorrelationId","IdentityClient","authorityHost","packageDetails","userAgentPrefix","parseExpirationTimestamp","asNumber","asDate","refreshToken","clientSecret","refreshParams","urlSuffix","correlationId","controller","controllers","existingOnAbort","base64Metadata","appid","upn","oid","unsupportedTenantIds","checkUnsupportedTenant","unsupportedTenantError","mapVSCodeAuthorityHosts","getPropertyFromVSCode","settingsPath","homedir","loadProperty","pathSegments","appData","VisualStudioCodeCredential","settingsTenant","scopeString","credentials","account","tokenResponse","pluginContext","pluginProvider","broker","finder","useIdentityPlugin","Constants","HttpStatus","OIDC_DEFAULT_SCOPES","OIDC_SCOPES","HeaderNames","AADAuthorityConstants","ClaimsRequestKeys","PromptValue","CodeChallengeMethodValues","ResponseMode","CacheAccountType","Separators","CredentialType","APP_METADATA","AuthorityMetadataSource","SERVER_TELEM_CONSTANTS","AuthenticationScheme","ThrottlingConstants","Errors","ResponseCodes","RegionDiscoverySources","RegionDiscoveryOutcomes","ManagedIdentityIdType","HttpMethod","ProxyStatus","CharSet","unexpectedError","postRequestFailed","AuthErrorMessages","AuthError","errorCode","suberror","ServerError","subError","errorNo","Logger","loggerOptions","setLoggerOptions","logMessage","timestamp","logHeader","containsPii","AuthorityType","redirectUriEmpty","claimsRequestParsingError","authorityUriInsecure","urlParseError","urlEmptyError","emptyInputScopesError","invalidPromptValue","invalidClaims","tokenRequestEmpty","logoutRequestEmpty","invalidCodeChallengeMethod","pkceParamsMissing","invalidCloudDiscoveryMetadata","invalidAuthorityMetadata","untrustedAuthority","missingSshJwk","missingSshKid","missingNonceAuthenticationHeader","invalidAuthenticationHeader","cannotSetOIDCOptions","cannotAllowNativeBroker","authorityMismatch","ClientConfigurationErrorMessages","ClientConfigurationError","StringUtils","strObj","decode","decodeURIComponent","clientInfoDecodingError","clientInfoEmptyError","tokenParsingError","nullOrEmptyToken","endpointResolutionError","networkError","openIdConfigError","hashNotDeserialized","invalidState","stateMismatch","stateNotFound","nonceMismatch","authTimeNotFound","maxAgeTranspired","multipleMatchingTokens","multipleMatchingAccounts","multipleMatchingAppMetadata","requestCannotBeMade","cannotRemoveEmptyScope","cannotAppendScopeSet","emptyInputScopeSet","deviceCodePollingCancelled","deviceCodeExpired","deviceCodeUnknownError","noAccountInSilentRequest","invalidCacheRecord","invalidCacheEnvironment","noAccountFound","noCryptoObject","unexpectedCredentialType","invalidAssertion","invalidClientCredential","tokenRefreshRequired","userTimeoutReached","tokenClaimsCnfRequiredForSignedJwt","authorizationCodeMissingFromServerResponse","bindingKeyNotRemoved","endSessionEndpointNotSupported","keyIdMissing","noNetworkConnectivity","userCanceled","missingTenantIdError","methodNotImplemented","nestedAppAuthBridgeDisabled","ClientAuthErrorMessages","ClientAuthError","additionalMessage","createClientAuthError","getDeserializedResponse","responseString","normalizedResponse","deserializedHash","UrlString","lowerCaseUrl","components","urlObject","pathArray","regEx","urlComponents","relativeUrl","baseUrl","baseComponents","EndpointMetadata","InstanceDiscoveryMetadata","InstanceDiscoveryMetadataAliases","metadataEntry","getAliasesFromMetadata","cloudDiscoveryMetadata","metadata","getCloudDiscoveryMetadataFromNetworkResponse","ProtocolMode","AzureCloudInstance","PerformanceEvents","invoke","eventName","telemetryClient","inProgressEvent","invokeAsync","RegionDiscovery","networkInterface","performanceClient","environmentRegion","regionDiscoveryMetadata","autodetectedRegionName","localIMDSVersionResponse","currentIMDSVersion","currentIMDSVersionResponse","extractTokenClaims","encodedToken","base64Decode","jswPayload","getJWSPayload","authToken","tokenPartsRegex","base64Decoded","checkMaxAge","authTime","maxAge","nowSeconds","isTokenExpired","expiresOn","expirationSec","offsetCurrentTimeSec","generateCredentialKey","credentialEntity","credentialKey","generateAccountId","accountId","generateCredentialId","clientOrFamilyId","credentialId","generateTarget","generateClaimsHash","generateScheme","isCredentialEntity","isAccessTokenEntity","isIdTokenEntity","isRefreshTokenEntity","isAppMetadataEntity","generateAuthorityMetadataExpiresAt","updateAuthorityEndpointMetadata","authorityMetadata","updatedValues","fromNetwork","updateCloudDiscoveryMetadata","isAuthorityMetadataExpired","Authority","authority","cacheManager","authorityOptions","managedIdentity","authorityUri","urlString","cachedAuthorityUrlComponents","cachedAuthorityUrl","cachedAuthorityParts","currentAuthorityParts","currentPart","cachedPart","canonicalAuthorityHost","metadataEntity","cloudDiscoverySource","endpointSource","endpointMetadataResult","cacheKey","localMetadata","configMetadata","hardcodedMetadata","metadataEntityExpired","cachedParts","openIdConfigurationEndpoint","userConfiguredAzureRegion","localMetadataSource","instanceDiscoveryEndpoint","typedResponseBody","typedError","authorityString","azureCloudOptions","authorityAzureCloudInstance","tenant","region","authorityUrlInstance","authorityUrlParts","hostNameAndPort","azureRegion","regionalMetadata","ciamAuthority","authorityUrlComponents","authorityUrl","tenantIdOrDomain","formatAuthorityUri","DEFAULT_CRYPTO_IMPLEMENTATION","ScopeSet","inputScopes","scopeArr","filteredInput","inputScopeString","scopeSet","lowerCaseScopesSet","defaultScopeCount","defaultScope","newScope","newScopes","otherScopes","unionScopes","sizeOtherScopes","sizeThisScopes","sizeUnionScopes","buildClientInfo","rawClientInfo","decodedClientInfo","buildClientInfoFromHomeAccountId","homeAccountId","clientInfoParts","tenantIdMatchesHomeTenant","buildTenantProfileFromIdTokenClaims","idTokenClaims","tfp","acr","updateAccountTenantProfileData","baseAccountInfo","tenantProfile","idTokenSecret","updatedAccountInfo","isHomeTenant","tenantProfileOverride","claimsSourcedTenantProfile","getTenantIdFromIdTokenClaims","AccountEntity","accountInterface","homeTenantId","accountKey","accountDetails","clientInfo","preferredUsername","email","tenantProfiles","accountInfo","cloudGraphHostName","msGraphHost","serverClientInfo","authType","cryptoObj","accountA","accountB","compareClaims","claimsMatch","accountAClaims","accountBClaims","cacheQuotaExceededErrorCode","cacheUnknownErrorCode","CacheErrorMessages","CacheError","CacheManager","cryptoImpl","staticAuthorityOptions","accountFilter","allAccounts","sortedAccounts","accountEntities","cachedAccounts","accountEntity","tokenKeys","tenantProfileFilter","tenantedAccountInfo","idToken","targetTenantId","searchTenantProfiles","matchingTenantProfiles","cacheRecord","storeInCache","accessTokenFilter","currentScopes","removedAccessTokens","tokenEntity","tokenScopeSet","allAccountKeys","matchingAccounts","lowerCaseKey","clientIdValidation","familyIdValidation","allCacheKeys","matchingAppMetadata","matchedEntity","removedAccounts","allTokenKeys","removedCredentials","matchingAccountKeys","accountsToMerge","baseAccount","updatedAccount","newAccountKey","kid","accessTokenWithAuthSchemeEntity","targetRealm","idTokenFilter","idTokenMap","numIdTokens","tokensToBeRemoved","homeIdTokenMap","numHomeIdTokens","idTokenKeys","idTokens","inputKey","authScheme","credentialType","accessTokenKeys","accessTokens","numAccessTokens","keyMustContainAllScopes","familyRT","refreshTokenFilter","refreshTokenKeys","refreshTokens","numRefreshTokens","environment","appMetadataFilter","appMetadata","appMetadataEntries","numAppMetadata","tokenClaims","localAccountId","claims","cachedUsername","filterUsername","userAssertionHash","staticAliases","getAliasesFromStaticSources","canonicalAuthority","cloudMetadata","familyId","realm","nativeAccountId","loginHint","sid","authorityType","entityScopeSet","tokenType","keyId","DefaultStorageClass","DEFAULT_SYSTEM_OPTIONS","DEFAULT_LOGGER_IMPLEMENTATION","DEFAULT_CACHE_OPTIONS","DEFAULT_NETWORK_IMPLEMENTATION","DEFAULT_LIBRARY_INFO","DEFAULT_CLIENT_CREDENTIALS","DEFAULT_AZURE_CLOUD_OPTIONS","DEFAULT_TELEMETRY_OPTIONS","isOidcProtocolMode","ThrottlingUtils","thumbprint","thumbprintValue","throttleTime","currentSeconds","time","homeAccountIdentifier","NetworkManager","networkClient","tokenEndpoint","CcsCredentialType","CLIENT_ID","RESPONSE_TYPE","TOKEN_TYPE","REQ_CNF","RETURN_SPA_CODE","RequestValidator","redirectUri","promptValues","codeChallenge","codeChallengeMethod","eQParams","_value","kv","RequestParameterBuilder","responseMode","addOidcScopes","defaultScopes","idTokenHint","domainHint","clientCapabilities","mergedClaims","libraryInfo","appTelemetry","nonce","codeVerifier","clientAssertion","clientAssertionType","oboAssertion","tokenUse","grantType","cnfString","sshJwkString","serverTelemetryManager","logoutHint","queryParameterArray","createDiscoveredInstance","authorityUriFinal","acquireTokenAuthority","BaseClient","configuration","buildClientConfiguration","userAuthOptions","userSystemOptions","userLoggerOption","userCacheOptions","storageImplementation","networkImplementation","cryptoImplementation","clientCredentials","telemetry","persistencePlugin","serializableCache","buildAuthOptions","authOptions","ccsCred","queuedEvent","cloudInstanceHostname","cloudInstanceAuthorityUri","cloudInstanceAuthority","parameterBuilder","noTokensFound","nativeAccountUnavailable","refreshTokenExpired","badToken","InteractionRequiredServerErrorMessage","InteractionRequiredAuthSubErrorMessage","InteractionRequiredAuthErrorMessages","InteractionRequiredAuthError","traceId","isInteractionRequiredError","errorString","isInteractionRequiredErrorCode","isInteractionRequiredSubError","isInteractionRequiredErrorDesc","irErrorCode","createInteractionRequiredAuthError","CacheRecord","idTokenEntity","accessTokenEntity","refreshTokenEntity","appMetadataEntity","ProtocolUtils","userState","meta","libraryState","stateObj","stateString","splitState","libraryStateString","libraryStateObj","PopTokenGenerator","cryptoUtils","reqCnf","reqCnfString","payload","resourceRequestMethod","resourceRequestUri","shrClaims","shrNonce","shrOptions","resourceUrlString","resourceUrlComponents","TokenCacheContext","tokenCache","hasChanged","ResponseHandler","cacheStorage","serverResponse","requestState","decodedServerResponseState","decodedRequestState","serverErrorNo","parseServerErrorNo","errorCodePrefix","errorCodePrefixIndex","refreshAccessToken","errString","serverError","serverTokenResponse","reqTimestamp","authCodePayload","handlingRefreshTokenResponse","forceCacheRefreshTokenResponse","serverRequestId","requestStateObj","cacheContext","cachedIdToken","cachedAccount","claimsTenantId","buildAccountToCache","baseAccountKey","accountKeys","newTenantProfile","cachedAccessToken","responseScopes","expiresIn","extExpiresIn","refreshIn","tokenExpirationSeconds","createAccessTokenEntity","extExpiresOn","refreshOn","requestedClaims","requestedClaimsHash","atEntity","cachedRefreshToken","rtExpiresOn","createRefreshTokenEntity","rtEntity","cachedAppMetadata","fromTokenCache","requestId","popTokenGenerator","uid","getClientAssertion","AuthorizationCodeClient","responseHandler","serverParams","cachedState","logoutRequest","ccsCredential","queryParametersString","requestBody","reqCnfData","requestScopes","accountSid","accountLoginHintClaim","RefreshTokenClient","noFamilyRTInCache","clientMismatchErrorWithFamilyRT","foci","refreshTokenRequest","badRefreshTokenKey","SilentFlowClient","authResponse","cacheOutcome","refreshTokenClient","lastCacheOutcome","requestTenantId","getTenantFromAuthorityString","wasClockTurnedBack","ServerTelemetryManager","telemetryRequest","platformFields","requestWithRegionDiscoveryFields","lastRequests","maxErrors","failedRequests","errorCount","overflow","numErrorsFlushed","serverTelemEntity","serverTelemetryEntity","dataSize","apiId","regionDiscoveryFields","NetworkUtils","customAgentOptions","timeout","networkRequestViaProxy","networkRequestViaHttps","destinationUrlString","proxyUrlString","httpMethod","destinationUrl","tunnelRequestOptions","postRequestStringContent","outgoingRequestString","proxyStatusCode","dataStringArray","dataString","httpStatusCode","statusMessage","headersArray","entries","headerKeyValue","headerKey","networkResponse","parseBody","isPostRequest","customOptions","errorType","errorDescriptionHelper","invalidManagedIdentityIdType","MsiEnvironmentVariableUrlMalformedErrorCodes","ManagedIdentityErrorMessages","ManagedIdentityError","createManagedIdentityError","DEFAULT_AUTH_OPTIONS","DEFAULT_LOGGER_OPTIONS","rnds8Pool","poolPtr","byteToHex","uuid","buf","rnds","GuidGenerator","v4","guid","regexGuid","EncodingUtils","base64Str","HashUtils","PkceGenerator","verifier","charArr","maxNumber","byte","CryptoProvider","plainText","Deserializer","jsonFile","accounts","accountObjects","serializedAcc","mappedAcc","serializedTenantProfile","idObjects","serializedIdT","atObjects","serializedAT","rtObjects","serializedRT","appMetadataObjects","serializedAmdt","jsonCache","Serializer","accCache","idTCache","idTEntity","atCache","rtCache","amdtCache","amdtEntity","inMemCache","NodeStorage","inMemoryCache","idTokenKey","accessTokenKey","refreshTokenKey","appMetadataKey","appMetaDataKeyArray","serverTelemetrykey","validateKey","validateEntity","serverTelemetryKey","serverTelemetry","authorityMetadataEntity","throttlingCacheKey","throttlingCache","cacheKeys","currentCacheKey","updatedCacheKey","cacheItem","TokenCache","storage","cachePlugin","finalState","deserializedCache","accountObj","oldState","currentState","stateAfterRemoval","newState","newKey","newValue","newValueNotNull","newValueIsObject","newValueIsNotArray","oldStateNotUndefinedOrNull","oldKey","passedInCache","ClientAssertion","assertion","privateKey","publicCertificate","cryptoProvider","issuer","jwtAudience","issuedAt","regexToFindCerts","certs","NodeAuthErrorMessage","NodeAuthError","UsernamePasswordClient","ClientApplication","buildAppConfiguration","system","systemOptions","buildStaticAuthorityOptions","rawCloudDiscoveryMetadata","validRequest","authorizationCodeClient","authCodePayLoad","authClientConfig","refreshTokenClientConfig","silentFlowClientConfig","silentFlowClient","usernamePasswordClientConfig","usernamePasswordClient","requestCorrelationId","azureRegionConfiguration","userAzureCloudOptions","discoveredAuthority","authRequest","forceRefresh","LoopbackClient","successTemplate","errorTemplate","authCodeResponse","address","DeviceCodeClient","deviceCodeResponse","deviceCodeEndpoint","userCode","deviceCode","verificationUri","interval","deviceCodeExpirationTime","userSpecifiedTimeout","userSpecifiedCancelFlag","pollingIntervalMilli","requestParameters","PublicClientApplication","deviceCodeConfig","deviceCodeClient","openBrowser","windowHandle","customLoopbackClient","remainingProperties","brokerRequest","loopbackClient","authCodeListenerError","authCodeListener","authCodeUrl","tokenRequest","signoutRequest","ticks","setInterval","LOOPBACK_SERVER_CONSTANTS","clearInterval","ClientCredentialClient","appTokenProvider","cachedAuthenticationResult","clientConfiguration","managedIdentityConfiguration","appTokenPropviderParameters","appTokenProviderResult","OnBehalfOfClient","atHomeAccountId","ConfidentialClientApplication","provider","baseRequest","validBaseRequest","clientCredentialConfig","clientCredentialClient","onBehalfOfConfig","oboClient","clientSecretNotEmpty","clientAssertionNotEmpty","certificate","certificateNotEmpty","ManagedIdentityUserAssignedIdQueryParameterNames","msiName","appServiceMsi2017","identityClient","resourceId","prepareRequestOptions","resource","queryParameters","appServiceMsi2019","filePathRequest","requestPrepareOptions","authHeader","arcMsi","cloudShellMsi","fabricMsi","ensureValidMsalToken","msalToken","getAuthority","getKnownAuthorities","disableInstanceDiscovery","platform","getMSALLogLevel","handleMsalError","msalError","publicToMsal","msalToPublic","serializeAuthenticationRecord","record","deserializeAuthenticationRecord","serializedRecord","skipQuery","skipMetadataHeader","imdsMsi","nextDelayInMs","retries","delay","timeInMs","abortSignal","abortErrorMsg","createAbortablePromise","buildPromise","cleanupBeforeAbort","onAbort","calculateRegionalAuthority","regionalAuthority","msalLogger","createMsalClient","createMsalClientOptions","generateMsalConfiguration","msalClientOptions","resolvedTenant","msalPlugins","confidentialApps","getConfidentialApp","appKey","confidentialClientApp","getTokenSilent","app","silentRequest","withSilentAuthentication","msalApp","onAuthenticationRequired","getTokenByClientSecret","getTokenByClientAssertion","getTokenByClientCertificate","ClientAssertionCredential","getAssertion","newOptions","arrayScopes","SupportedWorkloadEnvironmentVariables","WorkloadIdentityCredential","assignedEnv","workloadIdentityCredentialOptions","ManagedIdentityCredential","clientIdOrOptions","_options","msi","workloadIdentityCredential","availableMSI","appTokenParameters","authenticationResult","appTokenProviderParameters","resultToken","expiresInSeconds","ensureScopes","ensureValidScopeForDevTimeCreds","getScopeResource","cliCredentialInternals","tenantSection","AzureCliCredential","specificScope","isLoginError","responseData","expiresOnTimestamp","developerCliCredentialInternals","AzureDeveloperCliCredential","scopeList","isNotLoggedInError","isNotInstallError","resp","processUtils","isWindows","formatCommand","commandName","runCommands","commands","parameters","powerShellPublicErrorMessages","isNotInstalledError","commandStack","AzurePowerShellCredential","powerShellCommand","ChainedTokenCredential","successfulCredential","ClientCertificateCredential","certificatePathOrConfiguration","certificatePath","certificateContents","x5c","certificatePattern","publicKeys","ClientSecretCredential","MsalNode","nonCaeOptions","caeOptions","appType","enableCae","promise","onCancel","accountsByTenant","optionsClaims","MsalUsernamePassword","UsernamePasswordCredential","AllSupportedEnvironmentVariables","EnvironmentCredential","assigned","additionallyAllowedValues","certificatePassword","authenticationError","createDefaultManagedIdentityCredential","managedIdentityClientId","workloadIdentityClientId","managedResourceId","workloadFile","createDefaultWorkloadIdentityCredential","createDefaultAzureDeveloperCliCredential","processTimeoutInMs","createDefaultAzureCliCredential","createDefaultAzurePowershellCredential","createEnvironmentCredential","UnavailableDefaultCredential","credentialName","DefaultAzureCredential","credentialFunctions","createCredentialFn","interactiveBrowserMockable","MsalOpenBrowser","interactiveRequest","InteractiveBrowserCredential","ibcNodeOptions","MsalDeviceCode","deviceResponse","defaultDeviceCodePromptCallback","deviceCodeInfo","DeviceCodeCredential","MsalAuthorizationCode","AuthorizationCodeCredential","clientSecretOrAuthorizationCode","authorizationCodeOrRedirectUri","redirectUriOrOptions","parseCertificate","sendCertificateChain","certificateParts","MsalOnBehalfOf","OnBehalfOfCredential","userAssertionToken","getBearerTokenProvider","tracingOptions","getRefreshedToken","getDefaultAzureCredential","INDENT_REGEX","INDENT_TYPE_SPACE","makeIndentsMap","ignoreSingleSpaces","previousIndentType","indents","previousSize","indentType","use","weight","indentDifference","encodeIndentsKey","indentAmount","typeCharacter","module","keyOfMostUsedIndent","getMostUsedKey","maxUsed","maxWeight","usedCount","amount","decodeIndentsKey","indentsKey","keyHasTypeSpace","indentCharacter","workspaceManifest","checkDefaultCatalogIsDefinedOnce","error_1","getCatalogsFromWorkspaceManifest_1","parseCatalogProtocol_1","CATALOG_PROTOCOL","pref","catalogNameRaw","resolveFromCatalog_1","matchCatalogResolveResult_1","matcher","catalogs","wantedDependency","catalogName","catalogs_protocol_parser_1","catalogLookup","protocolOfLookup","pkgJson","detectIfCurrentPkgIsExecutable","getExePackageName","normalizePlatformName","normalizeArchName","path_1","load_json_file_1","defaultManifest","getConfig","cli_meta_1","config_1","default_reporter_1","cliOptions","warnings","__exportStar","pnpmMajorVersion","getConfig_1","pkgPath","pkg","currentPnpmVersion","package_is_installable_1","logger_1","readDepNameCompletions","manifest_utils_1","read_project_manifest_1","readProjectManifest","readProjectManifestOnly","tryReadProjectManifest","utils","packageIsInstallable_1","projectDir","writeProjectManifest","recursiveSummary","failures","RecursiveFailError","chalk_1","ENV_EXPR","replaceEnvMatch","orig","escape","envValue","getEnvValue","ENV_VALUE","variableName","colon","fallback","settingValue","env_replace_1","targetCfg","authSrcCfg","inheritPickedConfig_1","pickAuthConfig","pickRawAuthConfig","RAW_AUTH_CFG_KEYS","RAW_AUTH_CFG_KEY_SUFFIXES","AUTH_CFG_KEYS","rawLocalCfg","isRawAuthCfgKey","rawCfgKey","suffix","localCfg","cfgKey","checkGlobalBinDir","util_1","can_write_to_dir_1","path_name_1","globalBinDir","shouldAllowWrite","globalBinDirIsInPath","canWriteToDirAndExists","dirs","areDirsEqual","realGlobalBinDir","dir1","dir2","rawConfig","sslConfigs","registries","configKey","normalize_registry_url_1","manifestDir","overrides","map_1","createVersionReferencesReplacer","replaceVersionReferences","neverBuiltDependencies","onlyBuiltDependencies","onlyBuiltDependenciesFile","packageExtensions","ignoredOptionalDependencies","peerDependencyRules","allowedDeprecatedVersions","allowNonAppliedPatches","patchedDependencies","dep","patchFile","supportedArchitectures","spec","dependencyName","newSpec","catalogs_config_1","constants_1","npm_conf_1","pnpmfile_1","git_utils_1","matcher_1","better_path_resolve_1","camelcase_1","is_windows_1","realpath_missing_1","path_absolute_1","which_1","checkGlobalBinDir_1","getNetworkConfigs_1","dirs_1","concurrency_1","workspace_read_manifest_1","types_1","getOptionsFromRootManifest_1","npmDefaults","authOpts","globalCfgOpts","final","authSrc","packageManager","originalExecPath","rcOptionsTypes","npmConfig","failedToLoadBuiltInConfig","configDir","warn","__dirname","rcOptions","pnpmConfig","networkConfigs","branch","branchMatcher","globalDirRoot","virtualStoreDir","getProcessEnv","settingKeys","parsePackageManager","pmReference","srcCfg","pickConfig","pickRawConfig","pickRawLocalConfig","readLocalConfig","camelcase_keys_1","config_env_replace_1","read_ini_file_1","ini","crypto_1","rfc4648_1","createBase32Hash","createBase32HashFromFile","archy_1","report","snapshotChanges","updates","toArchy","change","toArchyResolution","dedupeCheckIssues","importersReport","packagesReport","log$","Rx","subscription","reporterForServer_1","outputMaxWidth","output$","toOutput$","writeNext","ansi_diff_1","logUpdate","write","view","operators_1","mergeOutputs_1","reporterForClient_1","formatWarn_1","contextPushStream","fetchingProgressPushStream","executionTimePushStream","progressPushStream","stagePushStream","deprecationPushStream","summaryPushStream","lifecyclePushStream","statsPushStream","packageImportMethodPushStream","installCheckPushStream","registryPushStream","rootPushStream","packageManifestPushStream","peerDependencyIssuesPushStream","linkPushStream","otherPushStream","hookPushStream","skippedOptionalDependencyPushStream","scopePushStream","requestRetryPushStream","updateCheckPushStream","filterLogs","filterLog","outputs","blockNo","fixedBlockNo","started","previousOutput","currentBlockNo","currentFixedBlockNo","sections","fixedBlocks","nonFixedPart","fixedPart","logObj","errorInfo","getErrorInfo","reportUnexpectedStore","reportUnexpectedVirtualStoreDir","reportStoreBreakingChange","colorPath","formatRelatedSources","reportModulesBreakingChange","highlight","reportModifiedDependency","reportLockfileBreakingChange","formatNoMatchingVersion","equals_1","formatRecursiveCommandSummary","formatErrorSummary","reportBadTarballSize","reportLifecycleError","reportEngineError","reportPeerDependencyIssuesError","hasMissingPeers","getHasMissingPeers","issuesByProjects","optional","hints","rendered","render_peer_issues_1","hint","reportDedupeCheckIssuesError","dedupe_issues_renderer_1","reportSpecNotSupportedByAnyResolverError","reportExternalCatalogProtocolError","pkgsStack","problemDep","reportAuthError","foundSettings","hideSecureInfo","formatGenericError","prettyStack","stacktracey_1","formatPkgsStack","throttle","reportLifecycleScripts_1","reportMisc_1","reportInstallChecks_1","reportScope_1","reportSkippedOptionalDependencies_1","reportHooks_1","reportUpdateCheck_1","reportContext_1","PRINT_EXECUTION_TIME_IN_COMMANDS","reportExecutionTime_1","logLevelNumber","reportPeerDependencyIssues_1","reportDeprecations_1","reportRequestRetry_1","reportProgress_1","reportStats_1","reportBigTarballsProgress_1","reportSummary_1","deprecationSet$","filterPrefix","pkgsDiff$","pkgsDiff","action","rootLog","deprecationSet","depType","oppositeKey","packageManifest$","mergeRight_1","packageManifests","initialPackageManifest","removeOptionalFromProdDeps","updatedPackageManifest","initialDeps","updatedDeps","removedDep","difference_1","addedDep","depName","startedLog","pretty_bytes_1","PRETTY_OPTS","downloadedRaw","downloaded","outputConstants_1","packageImportMethod","normalize_path_1","deprecatedDirectDeps$","deprecatedSubdeps$","resolutionDone$","zooming_1","deprecatedSubdeps","executionTime$","pretty_ms_1","hook$","installCheck$","formatInstallCheck","currentPrefix","zoomOutCurrent","lifecycle$","aggregateOutput","streamLifecycleOutput","createStreamLifecycleOutput","lifecycleMessages","lifecycleStreamByDepPath","NODE_MODULES","TMP_DIR_IN_STORE","formatIndentedStatus","exit","renderCollapsedScriptOutput","messageCache","highlightLastFolder","formatPrefix_1","updateMessageCache","toNano","renderScriptOutput","cli_truncate_1","colorWheel","NUM_COLORS","currentColor","maxLineWidth","ANSI_ESCAPES_LENGTH_OF_PREFIX","cutLine","formatIndentedOutput"],"mappings":"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BA,CAAI,CAAE0lB,CAAQ,EACpC1lB,EAAK,kBAAkB,CAAG0lB,CAC9B,EACA,0BAA0B1lB,GACfA,EAAK,kBAAkB,CAElC,6BAA6BA,CAAI,CAAE2pB,CAAW,EAC1C3pB,EAAK,kBAAkB,CAAG,CAAE,GAAGA,EAAK,kBAAkB,CAAE,GAAG2pB,CAAW,AAAC,CAC3E,CACJ,EC1KMC,GAAqB,OAGrBC,GAAiC,CACnC,6CACA,6CACA,uDACA,kCACA,kCACA,yCACA,yCACA,iCACA,0BACA,2BACA,0BACA,gCACA,0BACA,wBACA,8BACA,8BACA,8BACA,8BACA,qCACA,qCACA,qCACA,qCACA,6BACA,sBACA,2CACA,wDACA,iDACA,mDACA,wDACA,iDACA,mDACA,sCACA,6CACA,6CACA,sDACA,8DACA,8CACA,iFACA,wEACA,uCACA,gDACA,uDACA,kCACA,+BACA,+BACA,yBACA,gCACA,kCACA,sCACA,2CACA,yCACA,wBACA,4BACA,sCACA,kCACH,CACKC,GAA8C,IAC7CD,GACH,mCACA,uCACH,CACKE,GAAyB,IAAI1hB,IAAI,CACnC,uCACA,qCACA,OACH,EACK2hB,GAAoC,CAAC,mCAAoC,uCAAuC,CAChHC,GAAmD,IAClDD,GACH,mCACA,uCACH,CAED,SAASE,GAAUf,CAAQ,CAAEgB,CAAQ,EACjC,OAAOA,EAAS,IAAI,CAAC,AAACC,GAAWjB,EAAS,UAAU,CAACiB,GACzD,CC/EA,IAAMC,GAAa,CACf,UAAW,YACX,gBAAiB,uBACrB,EAIMC,GAA2B,IAAIzlB,IAAI,CACrC,gBACA,gBACA,gBACA,cACA,WACA,gBACA,kBACA,WACA,cACA,WACA,oBACA,gBACA,eACA,mBACA,YACA,aACA,WACA,eACA,oBACA,eACA,cACA,cACA,mBACA,YACA,aACA,aACA,sBACA,mBACA,eACA,YACA,YACA,YACA,gBACA,sBACA,iBACA,OACA,OACA,cACA,YACA,qBACA,mBACA,mBACA,mBACA,eACA,cACA,eACA,cACA,eACA,iBACA,cACA,UACA,UACA,aACA,UACA,aACA,mBACA,mBACA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pC,8BAA+B,gCAC/B,yBAA0B,2BAC1B,mBAAoB,qBAIpB,6BAA8B,+BAC9B,4BAA6B,8BAI7B,kBAAmB,oBACnB,qBAAsB,uBACtB,kCAAmC,oCACnC,aAAc,eACd,gBAAiB,iBACrB,CACsC,AAClC,CAACA,GAAkB,kBAA+B,CAClD,AAACA,GAAkB,0BAAqC,CACxD,AAACA,GAAkB,kBAA0B,CAC7C,AAACA,GAAkB,uBAAoC,CACvD,AAACA,GAAkB,iBAA6B,CAChD,AAACA,GAAkB,oBAAmC,CACtD,AACIA,GAAkB,gCAErB,CACD,AAACA,GAAkB,iBAAmC,CACtD,AAACA,GAAkB,6BAAkD,CACrE,AAACA,GAAkB,8BAAoD,CACvE,AAACA,GAAkB,+BAAgD,CACnE,AAACA,GAAkB,SAAoB,CACvC,AACIA,GAAkB,+CAErB,CACD,AACIA,GAAkB,8BAErB,CACD,AACIA,GAAkB,mCAErB,CACD,AACIA,GAAkB,mCAErB,CACD,AACIA,GAAkB,4CAErB,CACD,AACIA,GAAkB,iDAErB,CACD,AAACA,GAAkB,gBAAoC,CACvD,AACIA,GAAkB,kCAErB,CACD,AAACA,GAAkB,oBAAmC,CACtD,AACIA,GAAkB,qCAErB,CACD,AAACA,GAAkB,8BAA6C,CAChE,AACIA,GAAkB,oDAErB,CACD,AACIA,GAAkB,4CAErB,CACD,AACIA,GAAkB,wCAErB,CACD,AAACA,GAAkB,qBAAqC,CACxD,AACIA,GAAkB,kCAErB,CACD,AACIA,GAAkB,6CAErB,CACD,AAACA,GAAkB,0BAA4C,CAC/D,AAACA,GAAkB,qBAAqC,CACxD,AAACA,GAAkB,uBAAsC,CACzD,AACIA,GAAkB,2BAErB,CACD,AAACA,GAAkB,6BAAiD,CACpE,AACIA,GAAkB,gCAErB,CACD,AACIA,GAAkB,iCAErB,CACD,AAACA,GAAkB,sBAA4C,CAC/D,AAACA,GAAkB,0BAAoD,CACvE,AACIA,GAAkB,6CAErB,CACD,AACIA,GAAkB,+CAErB,CACD,AACIA,GAAkB,uDAErB,CACD,AACIA,GAAkB,2DAErB,CACD,AAACA,GAAkB,cAAiC,CAC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"}